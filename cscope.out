cscope 15 $HOME/work/sstack               0001470900
	@arch/x86_64/crc_pcl.S

2 ; 
C›yright
 (
c
Ë2012, 
I¡ñ
 
	gC‹p‹©i⁄


4 ; 
AŒ
 
rights
 
	gª£rved
.

6 ; 
Redi°ributi⁄
 
™d
 
u£
 
ö
 
sour˚
ánd 
bö¨y
 
	gf‹ms
, 
wôh
 
‹
 
	gwôhout


7 ; 
	gmodifiˇti⁄
, 
¨e
 
≥rmôãd
 
¥ovided
 
th©
 
the
 
fﬁlowög
 
c⁄dôi⁄s
 
	g¨e


8 ; 
	gmë
:

10 ; * 
Redi°ributi⁄s
 
of
 
sour˚
 
code
 
mu°
 
ªèö
 
the
 
above
 
	gc›yright


11 ; 
	gnŸi˚
, 
this
 
li°
 
of
 
c⁄dôi⁄s
 
™d
 
the
 
fﬁlowög
 
	gdis˛aimî
.

13 ; * 
Redi°ributi⁄s
 
ö
 
bö¨y
 
f‹m
 
mu°
 
ª¥odu˚
 
the
 
above
 
	gc›yright


14 ; 
	gnŸi˚
, 
this
 
li°
 
of
 
c⁄dôi⁄s
 
™d
 
the
 
fﬁlowög
 
dis˛aimî
 
ö
 
	gthe


15 ; 
documíèti⁄
 
	g™d
/
‹
 
Ÿhî
 
m©îüls
 
¥ovided
 
wôh
 
	gthe


16 ; 
	gdi°ributi⁄
.

18 ; * 
Neôhî
 
the
 
«me
 
of
Åhê
I¡ñ
 
C‹p‹©i⁄
 
n‹
Åhê
«mes
 o‡
	gôs


19 ; 
c⁄åibut‹s
 
may
 
be
 
u£d
 
to
 
íd‹£
 
‹
 
¥omŸe
 
¥odu˘s
 
dîived
 
	g‰om


20 ; 
this
 
so·w¨e
 
wôhout
 
•ecific
 
¥i‹
 
wrôãn
 
	g≥rmissi⁄
.

23 ; 
THIS
 
SOFTWARE
 
IS
 
PROVIDED
 
BY
 
INTEL
 
	gCORPORATION
 "AS IS" 
AND
 
	gANY


24 ; 
EXPRESS
 
OR
 
IMPLIED
 
	gWARRANTIES
, 
	gINCLUDING
, 
BUT
 
NOT
 
LIMITED
 
	gTO
, 
	gTHE


25 ; 
IMPLIED
 
WARRANTIES
 
OF
 
MERCHANTABILITY
 
AND
 
FITNESS
 
FOR
 
A
 
	gPARTICULAR


26 ; 
PURPOSE
 
ARE
 
	gDISCLAIMED
. 
IN
 
NO
 
EVENT
 
SHALL
 
INTEL
 
CORPORATION
 
	gOR


27 ; 
CONTRIBUTORS
 
BE
 
LIABLE
 
FOR
 
ANY
 
	gDIRECT
, 
	gINDIRECT
, 
	gINCIDENTAL
, 
	gSPECIAL
,

28 ; 
	gEXEMPLARY
, 
OR
 
CONSEQUENTIAL
 
DAMAGES
 (
INCLUDING
, 
BUT
 
NOT
 
LIMITED
 
TO
,

29 ; 
PROCUREMENT
 
OF
 
SUBSTITUTE
 
GOODS
 
OR
 
SERVICES
; 
LOSS
 OF 
USE
, 
DATA
, OR

30 ; 
PROFITS
; 
OR
 
BUSINESS
 
INTERRUPTION
Ë
HOWEVER
 
CAUSED
 
AND
 
ON
 
ANY
 
THEORY
 
	gOF


31 ; 
	gLIABILITY
, 
WHETHER
 
IN
 
	gCONTRACT
, 
STRICT
 LIABILITY, 
OR
 
TORT
 (
INCLUDING


32 ; 
NEGLIGENCE
 
OR
 
OTHERWISE
Ë
ARISING
 
IN
 
ANY
 
WAY
 
OUT
 
OF
 
THE
 
USE
 OF 
	gTHIS


33 ; 
	gSOFTWARE
, 
EVEN
 
IF
 
ADVISED
 
OF
 
THE
 
POSSIBILITY
 OF 
SUCH
 
	gDAMAGE
.

36 ; 
Exam∂e
 
YASM
 
comm™d
 
	glöes
:

37 ; 
	gWödows
: 
yasm
 -
Xvc
 -
f
 
x64
 -
∫asm
 -
≤asm
 -
o
 
¸c_iscsi_v_p˛
.
obj
 -
g
 
cv8
 crc_iscsi_v_p˛.
asm


38 ; 
	gLöux
: 
yasm
 -
f
 
x64
 -‡
ñf64
 -
X
 
gnu
 -
g
 
dw¨f2
 -
D
 
LINUX
 -
o
 
¸c_iscsi_v_p˛
.ÿ¸c_iscsi_v_p˛.
asm


42 ; 
ISCSI
 
	gCRC
 32 
Im∂emíèti⁄
 
wôh
 
¸c32
 
™d
 
p˛mulqdq
 
	gIn°ru˘i⁄s


44 %
ifdef
 
	gLINUX


45 %
deföe
 
buÂ
 
	grdi


46 %
deföe
 
buÂ_dw
 
	gedi


47 %
deföe
 
buÂ_w
 
	gdi


48 %
deföe
 
buÂ_b
 
	gdû


49 %
deföe
 
buÂtmp
 
	grcx


50 %
deföe
 
block_0
 
	grcx


51 %
deföe
 
block_1
 
	grdx


52 %
deföe
 
block_2
 
	gr11


53 %
deföe
 
Àn
 
	grsi


54 %
deföe
 
Àn_dw
 
	gesi


55 %
deföe
 
Àn_w
 
	gsi


56 %
deföe
 
Àn_b
 
	gsû


57 %
deföe
 
¸c_öô_¨g
 
	grdx


59 %
deföe
 
buÂ
 
	grcx


60 %
deföe
 
buÂ_dw
 
	gecx


61 %
deföe
 
buÂ_w
 
	gcx


62 %
deföe
 
buÂ_b
 
	g˛


63 %
deföe
 
buÂtmp
 
	grdi


64 %
deföe
 
block_0
 
	grdi


65 %
deföe
 
block_1
 
	grsi


66 %
deföe
 
block_2
 
	gr11


67 %
deföe
 
Àn
 
	grdx


68 %
deföe
 
Àn_dw
 
	gedx


69 %
deföe
 
Àn_w
 
	gdx


70 %
deföe
 
Àn_b
 
	gdl


71 %
	gídif


73 %
deföe
 
tmp
 
	grbx


74 %
deföe
 
¸c_öô
 
	gr8


75 %
deföe
 
¸c_öô_dw
 
	gr8d


76 %
deföe
 
¸c1
 
	gr9


77 %
deföe
 
¸c2
 
	gr10


79 %
deföe
 
	$CONCAT
(
a
,
b
,
c
)á %+ b %+ c

81 ; 
Deföe
 
thªshﬁd
 
whîe
 
buf„rs
 
¨e
 
c⁄sidîed
 "smÆl" 
™d
 
rouãd
 
to
 
m‹e


82 ; 
efficõ¡
 "by-1" 
code
. 
This
 "by-1" codê
⁄ly
 
h™dÀs
 
up
 
to
 255 
byãs
, 
so


83 ; 
SMALL_SIZE
 
ˇn
 
be
 
no
 
œrgî
 
th™
 255.

84 %
deföe
 
SMALL_SIZE
 200

86 %i‡(
SMALL_SIZE
 > 255)

87 %
îr‹
 
SMALL_
 
SIZE
 
mu°
 
be
 < 256

88 % 
îr‹
 ; 
√eded
 
beˇu£
 '%îr‹' 
a˘uÆly
 
gíî©es
 
⁄ly
 
a
 
w¨nög


89 %
ídif


91 ; 
	`¸c_p˛
(* 
buf„r
, 
Àn
, 
¸c_öô
);

93 
globÆ
 
¸c_p˛
:
fun˘i⁄


94 
¸c_p˛
:

96 
push
 
rbx


97 %
i‚def
 
LINUX


98 
push
 
rdi


99 
push
 
rsi


100 %
ídif


101 %
ifdef
 
LINUX


102 ; 
Move
 
¸c_öô
 
Löux
 
to
 
r8


103 ; 3
rd
 
¨gumít
 
is
 
Æªady
 
r8
 
Wödows


104 ; 
We
 
ˇn
't justÜeave it in RDX becauseÅhat gets clobbered by MUL

105 
mov
 
¸c_öô
, 
¸c_öô_¨g


106 %
ídif


110 ; 1Ë
ALIGN
:

113 
mov
 
buÂtmp
, 
buÂ
 ; buÂtm∞*
buf


114 
√g
 
buÂ


115 
™d
 
buÂ
, 7 ; 
ˇlcuœã
 
the
 
u«lignmít
 
amou¡
 
of


116 ; 
the
 
addªss


117 
je
 
¥oc_block
 ; 
Skù
 
Æig√d


119 ; 
If
 
Àn
 
is
 
Àss
 
th™
 8 
™d
 
we
're unaligned, weÇeedÅo jump

120 ; 
to
 
•ecül
 
code
Åÿ
avoid
 
ªadög
 
bey⁄d
 
the
 
íd
 
of
Åhê
buf„r


121 
cmp
 
Àn
, 8

122 
j´
 
do_Æign


123 ; 
Àss_th™_8
 
ex≥˘s
 
Àngth
 
ö
 
uµî
 3 
bôs
 
of
 
Àn_dw


124 ; 
Àss_th™_8_po°_shl1
 
ex≥˘s
 
Àngth
 = 
ˇºyÊag
 * 8 + 
Àn_dw
[31:30]

125 
shl
 
Àn_dw
, (32 - 3 + 1)

126 
jmp
 
Àss_th™_8_po°_shl1


128 
do_Æign
:

129 ;;;; 
CÆcuœã
 
CRC
 
of
 
u«lig√d
 
byãs
 o‡
the
 
	`buf„r
 (
™y
) ;;;

130 
mov
 
tmp
, [
buÂtmp
] ; 
lﬂd
 
a
 
quadw‹d
 
‰om
 
the
 
buf„r


131 
add
 
buÂtmp
, 
buÂ
 ; 
Æign
 
buf„r
 
poöãr
 
quadw‹d


132 ; 
¥o˚ssög


133 
sub
 
Àn
, 
buÂ
 ; 
upd©e
 
buf„r
 
Àngth


134 
Æign_lo›
:

135 
¸c32
 
¸c_öô_dw
, 
bl
 ; 
compuã
 crc32 
of
 1-
byã


136 
shr
 
tmp
, 8 ; 
gë
 
√xt
 
byã


137 
dec
 
buÂ


138 
j√
 
Æign_lo›


140 
¥oc_block
:

143 ; 2Ë
PROCESS
 
BLOCKS
:

146 ;; 
compuã
 
num
 
of
 
byãs
 
to
 
be
 
¥o˚s£d


147 
mov
 
tmp
, 
Àn
 ; 
ßve
 
num
 
byãs
 
ö
Åmp

149 
cmp
 
Àn
, 128*24

150 
j´
 
fuŒ_block


152 
c⁄töue_block
:

153 
cmp
 
Àn
, 
SMALL_SIZE


154 
jb
 
smÆl


156 ;; 
Àn
 < 128*24

157 
mov
 
øx
, 2731 ; 2731 = 
	`˚û
(2^16 / 24)

158 
mul
 
Àn_dw


159 
shr
 
øx
, 16

161 ; 
óx
 
c⁄èös
 
	`Êo‹
(
byãs
 / 24Ë
num
 24-
byã
 
chunks
 
to
 do

163 ; 
¥o˚ss
 
øx
 24-
byã
 
	`chunks
 (128 >=Ñax >= 0)

165 ; 
compuã
 
íd
 
addªss
 
of
 
óch
 
block


166 ; 
block
 0 (
ba£
 
addr
 + 
RAX
 * 8)

167 ; 
block
 1 (
ba£
 
addr
 + 
RAX
 * 16)

168 ; 
block
 2 (
ba£
 
addr
 + 
RAX
 * 24)

169 
Àa
 
block_0
, [
buÂtmp
 + 
øx
 * 8]

170 
Àa
 
block_1
, [
block_0
 + 
øx
 * 8]

171 
Àa
 
block_2
, [
block_1
 + 
øx
 * 8]

173 
x‹
 
¸c1
,crc1

174 
x‹
 
¸c2
,crc2

176 ; 
bønch
 
öto
 
¨øy


177 
Àa
 
buÂ
, [
jump_èbÀ
 
wπ
 
rù
]

178 
movzx
 
Àn
, 
w‹d
 [
buÂ
 + 
øx
 * 2] ;Üí 
is
 
off£t
 
‰om
 
¸c_¨øy


179 
Àa
 
buÂ
, [buÂ + 
Àn
 + 
¸c_¨øy
 - 
jump_èbÀ
]

180 
jmp
 
buÂ


184 ; 2aË
PROCESS
 
FULL
 
BLOCKS
:

186 
fuŒ_block
:

187 
mov
 
øx
, 128

188 
Àa
 
block_1
, [
block_0
 + 128*8*2]

189 
Àa
 
block_2
, [
block_0
 + 128*8*3]

190 
add
 
block_0
, 128*8*1

192 
x‹
 
¸c1
,crc1

193 
x‹
 
¸c2
,crc2

195 ; 
FÆl
 
through
 
öto
 
t›
 
of
 
¸c
 
	`¨øy
 (
¸c_128
)

199 ; 3Ë
CRC
 
Aºay
:

202 
¸c_¨øy
:

203 %
assign
 
i
 128

204 %
ªp
 128-1

205 
	`CONCAT
(
¸c_
,
i
,:)

206 
¸c32
 
¸c_öô
, [
block_0
 - 
i
*8]

207 
¸c32
 
¸c1
, [
block_1
 - 
i
*8]

208 
¸c32
 
¸c2
, [
block_2
 - 
i
*8]

209 %
assign
 
	`i
 (
i
-1)

210 %
ídªp


212 
	`CONCAT
(
¸c_
,
i
,:)

213 
¸c32
 
¸c_öô
, [
block_0
 - 
i
*8]

214 
¸c32
 
¸c1
, [
block_1
 - 
i
*8]

215 ; 
SKIP
 ;
¸c32
 
¸c2
, [
block_2
 - 
i
*8] ; 
D⁄
't doÅhis one yet

217 
mov
 
block_0
, 
block_2


221 ; 4Ë
Comböe
 
thªe
 
ªsu…s
:

224 
Àa
 
buÂ
, [
K_èbÀ
 - 16 
wπ
 
rù
] ; 
fú°
 
íåy
 
is
 
idx
 1

225 
shl
 
øx
, 3 ;Ñax *= 8

226 
sub
 
tmp
, 
øx
 ;Åmp -=Ñax*8

227 
shl
 
øx
, 1

228 
sub
 
tmp
, 
øx
 ;Åm∞-øx*16 (
tŸÆ
Åmp -=Ñax*24)

229 
add
 
buÂ
, 
øx


231 
movdqa
 
xmm0
, [
buÂ
] ; 2 
c⁄°s
: 
K1
:
K2


233 
movq
 
xmm1
, 
¸c_öô
 ; 
CRC
 
block
 1

234 
p˛mulqdq
 
xmm1
, 
xmm0
, 0x00 ; 
Mu…ùly
 
by
 
K2


236 
movq
 
xmm2
, 
¸c1
 ; 
CRC
 
block
 2

237 
p˛mulqdq
 
xmm2
, 
xmm0
, 0x10 ; 
Mu…ùly
 
by
 
K1


239 
px‹
 
xmm1
, 
xmm2


240 
movq
 
øx
, 
xmm1


241 
x‹
 
øx
, [
block_2
 - 
i
*8]

242 
mov
 
¸c_öô
, 
¸c2


243 
¸c32
 
¸c_öô
, 
øx


247 ; 5Ë
Check
 
íd
:

250 
	`CONCAT
(
¸c_
,0,:)

251 
mov
 
Àn
, 
tmp


252 
cmp
 
tmp
, 128*24

253 
j´
 
fuŒ_block


254 
cmp
 
tmp
, 24

255 
j´
 
c⁄töue_block


258 
Àss_th™_24
:

259 
shl
 
Àn_dw
, (32-4Ë;; 
Àss_th™_16
 
ex≥˘s
 
Àngth
 
ö
 
uµî
 4 
bôs
 
of
Üen_dw

260 
jnc
 
Àss_th™_16


261 
¸c32
 
¸c_öô
, [
buÂtmp
]

262 
¸c32
 
¸c_öô
, [
buÂtmp
+8]

263 
jz
 
do_ªtu∫


264 
add
 
buÂtmp
, 16

266 ; 
Àn
 
is
 
Àss
 
th™
 8 
we
 
gŸ
 
hîe


267 ; 
Àss_th™_8
 
ex≥˘s
 
Àngth
 
ö
 
uµî
 3 
bôs
 
of
 
Àn_dw


268 ; 
Àss_th™_8_po°_shl1
 
ex≥˘s
 
Àngth
 = 
ˇºyÊag
 * 8 + 
Àn_dw
[31:30]

269 
shl
 
Àn_dw
, 2

270 
jmp
 
Àss_th™_8_po°_shl1


274 ; 6Ë
LESS
 
THAN
 256-
byãs
 
REMAIN
 
AT
 
THIS
 
	`POINT
 (8-
bôs
 
of
 
Àn
 
¨e
 
fuŒ
):

277 
smÆl
:

278 
shl
 
Àn_dw
, (32-8Ë; 
Pª∑ª
Üí_dw 
Àss_th™_256


280 %
assign
 
j
 256

281 %
ªp
 5 ; 
j
 = {256, 128, 64, 32, 16
	}
}

282 
CONCAT
(
Àss_th™_
,
j
,:Ë; 
	gÀss_th™_j
: 
Lígth
 
should
 
be
 
ö
 
uµî
 
	$log2
(
j
Ë
bôs
 
of
 
Àn_dw


283 %
assign
 
	`j
 (
j
/2)

284 
shl
 
Àn_dw
, 1 ; 
Gë
 
√xt
 
MSB


285 
	`CONCAT
(
jnc
 
Àss_th™_
,
j
,)

286 %
assign
 
i
 0

287 %
	`ªp
 (
j
 / 8)

288 
¸c32
 
¸c_öô
, [
buÂtmp
+
i
] ; 
Compuã
 crc32 
of
 8-
byã
 
d©a


289 %
assign
 
	`i
 (
i
+8)

290 %
ídªp


291 
jz
 
do_ªtu∫
 ; 
Rëu∫
 
ªmaöög
 
Àngth
 
is
 
zîo


292 
add
 
buÂtmp
, 
j
 ; 
Adv™˚
 
buf


293 %
ídªp


295 
Àss_th™_8
: ; 
Lígth
 
should
 
be
 
°‹ed
 
ö
 
uµî
 3 
bôs
 
of
 
Àn_dw


296 
shl
 
Àn_dw
, 1

297 
Àss_th™_8_po°_shl1
:

298 
jnc
 
Àss_th™_4


299 
¸c32
 
¸c_öô_dw
, 
dw‹d
[
buÂtmp
] ; 
CRC
 
of
 4 
byãs


300 
jz
 
do_ªtu∫
 ;  
ªmaöög
 
d©a
 
is
 
zîo


301 
add
 
buÂtmp
,4

302 
Àss_th™_4
: ; 
Lígth
 
should
 
be
 
°‹ed
 
ö
 
uµî
 2 
bôs
 
of
 
Àn_dw


303 
shl
 
Àn_dw
, 1

304 
jnc
 
Àss_th™_2


305 
¸c32
 
¸c_öô_dw
, 
w‹d
[
buÂtmp
] ; 
CRC
 
of
 2 
byãs


306 
jz
 
do_ªtu∫
 ;  
ªmaöög
 
d©a
 
is
 
zîo


307 
add
 
buÂtmp
,2

308 
Àss_th™_2
: ; 
Lígth
 
should
 
be
 
°‹ed
 
ö
 
the
 
MSB
 
of
 
Àn_dw


309 
shl
 
Àn_dw
, 1

310 
jnc
 
Àss_th™_1


311 
¸c32
 
¸c_öô_dw
, 
byã
[
buÂtmp
] ; 
CRC
 
of
 1 byte

312 
Àss_th™_1
: ; 
Lígth
 
should
 
be
 
zîo


313 
do_ªtu∫
:

314 
mov
 
øx
, 
¸c_öô


315 %
i‚def
 
LINUX


316 
p›
 
rsi


317 
p›
 
rdi


318 %
ídif


319 
p›
 
rbx


320 
ªt


323 ; 
jump
 
èbÀ


324 ; 
TabÀ
 
is
 129 
íåõs
 
x
 2 
byãs
 
óch


327 
Æign
 4

328 
jump_èbÀ
:

329 %
assign
 
i
 0

330 %
ªp
 129

331 
dw
 
	`CONCAT
(
¸c_
,
i
,Ë- 
¸c_¨øy


332 %
assign
 
	`i
 (
i
+1)

333 %
ídªp


337 ; 
PCLMULQDQ
 
èbÀs


338 ; 
TabÀ
 
is
 128 
íåõs
 
x
 2 
quad
 
w‹ds
 
óch


340 
£˘i⁄
 .
d©a


341 
Æign
 64

342 
K_èbÀ
:

343 
dq
 0x14cd00bd6, 0x105ec76f0

344 
dq
 0x0ba4fc28e, 0x14cd00bd6

345 
dq
 0x1d82c63da, 0x0f20c0dfe

346 
dq
 0x09e4addf8, 0x0ba4fc28e

347 
dq
 0x039d3b296, 0x1384aa63a

348 
dq
 0x102f9b8a2, 0x1d82c63da

349 
dq
 0x14237f5e6, 0x01c291d04

350 
dq
 0x00d3b6092, 0x09e4addf8

351 
dq
 0x0c96cfdc0, 0x0740eef02

352 
dq
 0x18266e456, 0x039d3b296

353 
dq
 0x0daece73e, 0x0083a6eec

354 
dq
 0x0ab7aff2a, 0x102f9b8a2

355 
dq
 0x1248ea574, 0x1c1733996

356 
dq
 0x083348832, 0x14237f5e6

357 
dq
 0x12c743124, 0x02ad91c30

358 
dq
 0x0b9e02b86, 0x00d3b6092

359 
dq
 0x018b33a4e, 0x06992cea2

360 
dq
 0x1b331e26a, 0x0c96cfdc0

361 
dq
 0x17d35ba46, 0x07e908048

362 
dq
 0x1bf2e8b8a, 0x18266e456

363 
dq
 0x1a3e0968a, 0x11ed1f9d8

364 
dq
 0x0ce7f39f4, 0x0daece73e

365 
dq
 0x061d82e56, 0x0f1d0f55e

366 
dq
 0x0d270f1a2, 0x0ab7aff2a

367 
dq
 0x1c3f5f66c, 0x0a87ab8a8

368 
dq
 0x12ed0daac, 0x1248ea574

369 
dq
 0x065863b64, 0x08462d800

370 
dq
 0x11eef4f8e, 0x083348832

371 
dq
 0x1ee54f54c, 0x071d111a8

372 
dq
 0x0b3e32c28, 0x12c743124

373 
dq
 0x0064f7f26, 0x0ffd852c6

374 
dq
 0x0dd7e3b0c, 0x0b9e02b86

375 
dq
 0x0f285651c, 0x0dcb17aa4

376 
dq
 0x010746f3c, 0x018b33a4e

377 
dq
 0x1c24afea4, 0x0f37c5aee

378 
dq
 0x0271d9844, 0x1b331e26a

379 
dq
 0x08e766a0c, 0x06051d5a2

380 
dq
 0x093a5f730, 0x17d35ba46

381 
dq
 0x06cb08e5c, 0x11d5ca20e

382 
dq
 0x06b749fb2, 0x1bf2e8b8a

383 
dq
 0x1167f94f2, 0x021f3d99c

384 
dq
 0x0cec3662e, 0x1a3e0968a

385 
dq
 0x19329634a, 0x08f158014

386 
dq
 0x0e6fc4e6a, 0x0ce7f39f4

387 
dq
 0x08227bb8a, 0x1a5e82106

388 
dq
 0x0b0cd4768, 0x061d82e56

389 
dq
 0x13c2b89c4, 0x188815ab2

390 
dq
 0x0d7a4825c, 0x0d270f1a2

391 
dq
 0x10f5ff2ba, 0x105405f3e

392 
dq
 0x00167d312, 0x1c3f5f66c

393 
dq
 0x0f6076544, 0x0e9adf796

394 
dq
 0x026f6a60a, 0x12ed0daac

395 
dq
 0x1a2adb74e, 0x096638b34

396 
dq
 0x19d34af3a, 0x065863b64

397 
dq
 0x049c3cc9c, 0x1e50585a0

398 
dq
 0x068bce87a, 0x11eef4f8e

399 
dq
 0x1524fa6c6, 0x19f1c69dc

400 
dq
 0x16cba8aca, 0x1ee54f54c

401 
dq
 0x042d98888, 0x12913343e

402 
dq
 0x1329d9f7e, 0x0b3e32c28

403 
dq
 0x1b1c69528, 0x088f25a3a

404 
dq
 0x02178513a, 0x0064f7f26

405 
dq
 0x0e0ac139e, 0x04e36f0b0

406 
dq
 0x0170076fa, 0x0dd7e3b0c

407 
dq
 0x141a1a2e2, 0x0bd6f81f8

408 
dq
 0x16ad828b4, 0x0f285651c

409 
dq
 0x041d17b64, 0x19425cbba

410 
dq
 0x1fae1cc66, 0x010746f3c

411 
dq
 0x1a75b4b00, 0x18db37e8a

412 
dq
 0x0f872e54c, 0x1c24afea4

413 
dq
 0x01e41e9fc, 0x04c144932

414 
dq
 0x086d8e4d2, 0x0271d9844

415 
dq
 0x160f7af7a, 0x052148f02

416 
dq
 0x05bb8f1bc, 0x08e766a0c

417 
dq
 0x0a90fd27a, 0x0a3c6f37a

418 
dq
 0x0b3af077a, 0x093a5f730

419 
dq
 0x04984d782, 0x1d22c238e

420 
dq
 0x0ca6ef3ac, 0x06cb08e5c

421 
dq
 0x0234e0b26, 0x063ded06a

422 
dq
 0x1d88abd4a, 0x06b749fb2

423 
dq
 0x04597456a, 0x04d56973c

424 
dq
 0x0e9e28eb4, 0x1167f94f2

425 
dq
 0x07b3ff57a, 0x19385bf2e

426 
dq
 0x0c9c8b782, 0x0cec3662e

427 
dq
 0x13a9cba9e, 0x0e417f38a

428 
dq
 0x093e106a4, 0x19329634a

429 
dq
 0x167001a9c, 0x14e727980

430 
dq
 0x1ddffc5d4, 0x0e6fc4e6a

431 
dq
 0x00df04680, 0x0d104b8fc

432 
dq
 0x02342001e, 0x08227bb8a

433 
dq
 0x00a2a8d7e, 0x05b397730

434 
dq
 0x168763fa6, 0x0b0cd4768

435 
dq
 0x1ed5a407a, 0x0e78eb416

436 
dq
 0x0d2c3ed1a, 0x13c2b89c4

437 
dq
 0x0995a5724, 0x1641378f0

438 
dq
 0x19b1afbc4, 0x0d7a4825c

439 
dq
 0x109ffedc0, 0x08d96551c

440 
dq
 0x0f2271e60, 0x10f5ff2ba

441 
dq
 0x00b0bf8ca, 0x00bf80dd2

442 
dq
 0x123888b7a, 0x00167d312

443 
dq
 0x1e888f7dc, 0x18dcddd1c

444 
dq
 0x002ee03b2, 0x0f6076544

445 
dq
 0x183e8d8fe, 0x06a45d2b2

446 
dq
 0x133d7a042, 0x026f6a60a

447 
dq
 0x116b0f50c, 0x1dd3e10e8

448 
dq
 0x05fabe670, 0x1a2adb74e

449 
dq
 0x130004488, 0x0de87806c

450 
dq
 0x000bcf5f6, 0x19d34af3a

451 
dq
 0x18f0c7078, 0x014338754

452 
dq
 0x017f27698, 0x049c3cc9c

453 
dq
 0x058ca5f00, 0x15e3e77ee

454 
dq
 0x1af900c24, 0x068bce87a

455 
dq
 0x0b5cfca28, 0x0dd07448e

456 
dq
 0x0ded288f8, 0x1524fa6c6

457 
dq
 0x059f229bc, 0x1d8048348

458 
dq
 0x06d390dec, 0x16cba8aca

459 
dq
 0x037170390, 0x0a3e3e02c

460 
dq
 0x06353c1cc, 0x042d98888

461 
dq
 0x0c4584f5c, 0x0d73c7bea

462 
dq
 0x1f16a3418, 0x1329d9f7e

463 
dq
 0x0531377e2, 0x185137662

464 
dq
 0x1d8d9ca7c, 0x1b1c69528

465 
dq
 0x0b25b29f2, 0x18a08b5bc

466 
dq
 0x19fb2a8b0, 0x02178513a

467 
dq
 0x1a08fe6ac, 0x1da758ae0

468 
dq
 0x045cddf4e, 0x0e0ac139e

469 
dq
 0x1a91647f2, 0x169cf9eb0

470 
dq
 0x1a0f717c4, 0x0170076fa

	@cli/src/sstack_log_decode.c

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°d¨g.h
>

24 
	~<f˙é.h
>

25 
	~<°dlib.h
>

26 
	~<s°ack_log.h
>

29 
	$ußge
(*
¥og«me
)

31 
	`Ârötf
(
°dîr
, "Ußge: %†fûe_«me\n", 
¥og«me
);

32 
	`exô
(-1);

33 
	}
}

37 
	$maö
(
¨gc
, *
¨gv
[])

39 
fd
 = -1;

40 
log_íåy_t
 
log_íåy
 = { '\0' };

41 
nbyãs
 = -1;

44 i‡(
¨gc
 != 2)

45 
	`ußge
(
¨gv
[0]);

47 
fd
 = 
	`›í
(
¨gv
[1], 
O_RDONLY
);

48 
	`ASSERT
((
fd
 != -1), "Open failed. Exiting...", 0, 1, -1);

49 
nbyãs
 = 
	`ªad
(
fd
, &
log_íåy
, (
log_íåy_t
));

50 i‡(
nbyãs
 < (
log_íåy_t
)) {

51 
	`Ârötf
(
°dîr
, "%s: NotÉnough bytesÅoÑeadánd interpret.\n",

52 
¨gv
[0]);

53 
	`˛o£
(
fd
);

54 
	`exô
(-1);

57 
nbyãs
 =(
log_íåy_t
)) {

59 
	`Ârötf
(
°dout
,"%d:%s:%s:%s\n", 
log_íåy
.
vîsi⁄
,

60 
log_íåy
.
time
,Üog_íåy.
Àvñ
,Üog_íåy.
log
);

61 
nbyãs
 = 
	`ªad
(
fd
, &
log_íåy
, (
log_íåy_t
));

64 i‡((
nbyãs
 < (
log_íåy_t
)) &&

65 (
nbyãs
 != 0)) {

66 
	`Ârötf
(
°dîr
, "%s: NotÉnough bytesÅoÑeadánd interpret.\n",

67 
¨gv
[0]);

68 
	`˛o£
(
fd
);

69 
	`exô
(-1);

70 } i‡(
nbyãs
 == 0) {

72 
	`˛o£
(
fd
);

76 
	}
}

	@common/include/bds_slab/bds_list.h

22 #i‚de‡
_BDS_LIST_H_


23 
	#_BDS_LIST_H_


	)

25 
ölöe
 
	$INIT_LIST_HEAD
 (
bds_li°_hód_t
 
hód
)

27 
hód
->
√xt
 = hód->
¥ev
 = head;

28 
	}
}

35 
ölöe
 
	$__bds_li°_add
 (
bds_li°_hód_t
 
√w
,

36 
bds_li°_hód_t
 
¥ev
,

37 
bds_li°_hód_t
 
√xt
)

39 
¥ev
->
√xt
 = 
√w
;

40 
√w
->
√xt
 =Çext;

41 
√w
->
¥ev
 =Örev;

42 
√xt
->
¥ev
 = 
√w
;

43 
	}
}

53 
ölöe
 
	$bds_li°_add
 (
bds_li°_hód_t
 
√w
, bds_li°_hód_à
hód
)

55 
	`__bds_li°_add
 (
√w
, 
hód
, hód->
√xt
);

56 
	}
}

67 
ölöe
 
	$bds_li°_add_èû
 (
bds_li°_hód_t
 
√w
, bds_li°_hód_à
hód
)

69 
	`__bds_li°_add
 (
√w
, 
hód
->
¥ev
,head);

70 
	}
}

79 
ölöe
 
	$__bds_li°_dñ
(
bds_li°_hód_t
 
¥ev
, bds_li°_hód_à
√xt
)

81 
√xt
->
¥ev
 =Örev;

82 
¥ev
->
√xt
 =Çext;

83 
	}
}

90 
ölöe
 
	$__bds_li°_dñ_íåy
(
bds_li°_hód_t
 
íåy
)

92 
	`__bds_li°_dñ
(
íåy
->
¥ev
,É¡ry->
√xt
);

93 
	}
}

95 
ölöe
 
	$bds_li°_dñ
(
bds_li°_hód_t
 
íåy
)

97 
	`__bds_li°_dñ
(
íåy
->
¥ev
,É¡ry->
√xt
);

98 
	}
}

107 
	#li°_íåy
(
±r
, 
ty≥
, 
membî
) \

108 
	`c⁄èöî_of
(
±r
,
ty≥
,
membî
)

	)

115 
	#li°_f‹_óch
(
pos
, 
hód
) \

116 
pos
=(
hód
)->
√xt
;Öo†!hód;Öo†pos->√xt)

	)

126 
	#li°_fú°_íåy
(
±r
, 
ty≥
, 
membî
) \

127 (
±r
->
√xt
 !±r->
¥ev
Ë? 
	`li°_íåy
’å, 
ty≥
, 
membî
): 
NULL


	)

134 
	#li°_f‹_óch_íåy
(
pos
, 
hód
, 
membî
) \

135 
pos
 = 
	`li°_íåy
((
hód
)->
√xt
, 
	`ty≥of
(*pos), 
membî
); \

136 &
pos
->
membî
 !(
hód
); \

137 
pos
 = 
	`li°_íåy
’os->
membî
.
√xt
, 
	`ty≥of
(*pos), membî))

	)

143 
ölöe
 
	$li°_em±y
(c⁄° 
bds_li°_hód_t
 
hód
)

145  
hód
->
√xt
 == head;

146 
	}
}

	@common/include/bds_slab/bds_slab.h

22 #i‚de‡
_BDS_SLAB_H_


23 
	#_BDS_SLAB_H_


	)

25 
	~<°döt.h
>

26 
	~<±hªad.h
>

27 
	~"bds_ty≥s.h
"

28 
	~"bds_sys.h
"

30 
	#BDS_CACHE_NAME_MAX
 32

	)

31 
	#CFS_CONFIG_OFF_SLAB
 0x00000001;

	)

32 
	#ARRAY_CACHE_ENTRIES
 10

	)

33 
	#BDS_ERR_NOT_FOUND
 0xedÁ

	)

34 
	#BDS_OBJECT_FOUND
 ~(
BDS_ERR_NOT_FOUND
)

	)

35 
	#BDS_FOUND
 
BDS_OBJECT_FOUND


	)

36 
	#BDS_NOT_FOUND
 
BDS_ERR_NOT_FOUND


	)

37 
	#BDS_BUFCTL
(
¨g
Ë(((
öçå_t
ÔrgË+ (
_¶ab_desc
))

	)

38 
	#BDS_MAX_NR_CPUS
 256

	)

40 
uöt16_t
 
	tbds_buf˘l_t
;

41 
±hªad_muãx_t
 
	tbds_muãx_t
;

42 
	#bds_muãx_lock
(
lock
Ë
	`±hªad_muãx_lock
÷ock)

	)

43 
	#bds_muãx_u∆ock
(
lock
Ë
	`±hªad_muãx_u∆ock
 (lock)

	)

44 
	#bds_muãx_öô
(
lock
Ë
	`±hªad_muãx_öô
÷ock, 
NULL
)

	)

45 
±hªad_•ölock_t
 
	tbds_•ölock_t
;

46 
	#bds_•ö_öô
(
lock
Ë
	`±hªad_•ö_öô
÷ock,0)

	)

47 
	#bds_•ö_lock
(
lock
Ë
	`±hªad_•ö_lock
÷ock)

	)

48 
	#bds_•ö_u∆ock
(
lock
Ë
	`±hªad_•ö_u∆ock
÷ock)

	)

49 
	s_¨øy_ˇche_desc
 {

50 
bds_öt
 
	mavaûabÀ
;

51 
bds_öt
 
	mlimô
;

52 
bds_öt
 
	mb©chcou¡
;

53 
öt_Á°16_t
 
	mtouched
;

54 
bds_•ölock_t
 
	mlock
;

55 *
	míåy
[];

58 
_¨øy_ˇche_desc
 
	t¨øy_ˇche_desc
;

60 
	s_¶ab_li°
 {

62 
bds_öt_li°_t
 
	m¶abs_∑πül
, 
	m¶abs_fuŒ
, 
	m¶abs_‰ì
;

64 
bds_öt
 
	m‰ì_obje˘s
, 
	m‰ì_limô
;

65 
bds_öt
 
	mcﬁour_√xt
;

66 
bds_muãx_t
 
	mli°_lock
;

70 
_¶ab_li°
 
	tbds_¶ab_li°
;

72 
	s_ˇche_desc
 {

74 
bds_öt
 
	mb©chcou¡
,
	mlimô
,
	msh¨ed
;

76 
bds_öt
 
	mÊags
;

77 
bds_uöt
 
	mnum
;

78 
bds_söt
 
	mcﬁour
;

79 
bds_söt
 
	mcﬁour_off£t
;

80 
bds_söt
 
	mcﬁour_√xt
;

81 
bds_öt
 
	m∑ge_‹dî
;

82 
bds_öt_li°_t
 
	m√xt
;

83 
bds_öt
 
	m¶ab_size
;

84 
bds_öt
 
	mmgmt_size
;

85 
size_t
 
	mbuf„r_size
;

86 
bds_uöt
 
	m¶ab_magic
;

87 
bds_•ölock_t
 
	mˇche_lock
;

90 (*
	m˘‹
)(*
	mobj
);

91 (*
	mdt‹
)(*
	mobj
);

92 
	m«me
[
BDS_CACHE_NAME_MAX
];

95 
bds_öt
 
	mobj_off£t
, 
	mobj_size
;

96 
bds_¶ab_li°
 
	m¶ab_li°
;

99 #ifde‡
BDS_CONFIG_SMP


100 
¨øy_ˇche_desc
 *
	m¨øy_ˇche
[0];

105 
_ˇche_desc
* 
	tbds_ˇche_desc_t
;

107 
	s_¶ab_desc
 {

108 
bds_uöt
 
	m¶ab_magic
;

109 
bds_öt_li°_t
 
	m√xt
;

110 
bds_öt
 
	mcﬁour_off£t
;

111 * 
	ms_mem
;

112 
bds_öt
 
	m‰ì
;

113 
bds_ˇche_desc_t
 
	m∑ª¡_ˇche
;

114 
bds_öt
 
	mö_u£
;

115 
bds_•ölock_t
 
	m¶ab_lock
;

118 
_¶ab_desc
* 
	tbds_¶ab_desc_t
;

121 
bds_°©us_t
 
bds_ˇche_¸óã
 (c⁄° *
«me
, 
size_t
 
size
,

122 
bds_öt
 
Êags
, (*
˘‹
)(*),

123 (*
dt‹
)(*), 
bds_ˇche_desc_t
 *
ˇche_µ
);

124 
	`bds_ˇche_de°roy
 (
bds_ˇche_desc_t
 
ˇche_p
);

125 
	`bds_ˇche_shrök
 (
bds_ˇche_desc_t
 
ˇche_p
);

126 * 
	`bds_Æloc
 (
size_t
 
size
);

127 
	`bds_‰ì
 (*
±r
);

128 
	`bds_ˇche_°©s
 (
bds_ˇche_desc_t
 
ˇche_p
);

129 * 
	`bds_ˇche_Æloc
 (
bds_ˇche_desc_t
 
ˇche_p
);

130 * 
	`bds_Æloc_chunk
 (
bds_ˇche_desc_t
 
ˇche_p
, 
bds_öt
 *
ƒ_objs
);

131 
	`bds_ˇche_‰ì
 (
bds_ˇche_desc_t
 
ˇche_p
, *
obj
);

	@common/include/bds_slab/bds_sys.h

20 #i‚de‡
_BDS_SYS_H


21 
	#_BDS_SYS_H


	)

24 *
	mvíd‹
;

25 
bds_uöt
 
	m∑ge_size
;

26 
bds_uöt
 
	m∑ge_shi·
;

27 
bds_uöt
 
	mƒ_¥o˚ss‹s
;

28 
bds_uöt
 
	mˇche_löe_size
;

29 } 
	tbds_sy°em_öfo_t
;

31 
ölöe
 
bds_öt
 
__gë∑geshi·
();

32 
bds_uöt
 
__gëˇchñöesize
();

33 
	#NR_CPUS
 
g_sys_öfo
.
ƒ_¥o˚ss‹s


	)

34 
	#PAGE_SIZE
 
g_sys_öfo
.
∑ge_size


	)

35 
	#PAGE_SHIFT
 
g_sys_öfo
.
∑ge_shi·


	)

36 
	#CACHE_LINE_SIZE
 
g_sys_öfo
.
ˇche_löe_size


	)

	@common/include/bds_slab/bds_types.h

21 #i‚de‡
_BDS_TYPES_H_


22 
	#_BDS_TYPES_H_


	)

24 
	#off£tof
(
TYPE
,
MEMBER
) \

25 ((
öçå_t
)&(((
TYPE
*Ë0)->
MEMBER
))

	)

27 
	#c⁄èöî_of
(
±r
,
TYPE
,
MEMBER
) \

28 ((
TYPE
*)((
öçå_t
)(
±r
Ë- 
	`off£tof
(TYPE,
MEMBER
)))

	)

30 
	#likñy
(
x
Ë
	`__buûtö_ex≥˘
((x),1)

	)

31 
	#u∆ikñy
(
x
Ë
	`__buûtö_ex≥˘
((x),0)

	)

33 
	#UNUSED_PARAMETER
(
∑rm
Ë((Ì¨m)

	)

35 
	s_li°_hód
 {

36 
_li°_hód
 *
	m√xt
;

37 
_li°_hód
 *
	m¥ev
;

40 
_li°_hód
* 
	tbds_li°_hód_t
;

41 
_li°_hód
 
	tbds_öt_li°_t
;

43 
öt32_t
 
	tbds_öt
;

44 
uöt32_t
 
	tbds_uöt
;

45 
öt_Á°64_t
 
	tbds_l⁄g
;

46 
uöt_Á°64_t
 
	tbds_ul⁄g
;

47 
öt16_t
 
	tbds_°©us_t
;

48 
öt16_t
 
	tbds_söt
;

49 
uöt16_t
 
	tbds_usöt
;

50 
	#BDS_LIST_POISON1
 0xdódbóf

	)

51 
	#BDS_LIST_POISON2
 0xbófdód

	)

52 
	#BDS_DEF_PAGE_SIZE
 4096

	)

53 
	#exch
(
a
,
b
,
t
Ë—˜,a=b,bÒ)

	)

	@common/include/sstack_bitops.h

20 #ifde‡
__SSTACK_BITOPS_H__


21 
	#__SSTACK_BITOPS_H__


	)

26 
ölöe
 
	$£t_bô
(
uöt8_t
 
numbî
 , 
posôi⁄
)

28 
numbî
 =Çumbî |(1<<
posôi⁄
);

29 
	}
}

	@common/include/sstack_chunk.h

20 #i‚de‡
__SSTACK_CHUNK_H_


21 
	#__SSTACK_CHUNK_H_


	)

23 
	~<limôs.h
>

24 
	~<s°ack_jobs.h
>

25 
	~<s°ack_°‹age.h
>

26 
	~<s°ack_log.h
>

29 
	mINITIALIZING
 = 1,

30 
	mRUNNING
 = 2,

31 
	mREACHABLE
 = 3,

32 
	mUNREACHABLE
 = 4,

33 
	mDECOMMISSIONED
 = 5,

34 } 
	tsfsd_°©e_t
;

37 
	ssfs_chunk_domaö
 {

38 
sfsd_t
 *
	msfsd
;

39 
sfsd_°©e_t
 
	m°©e
;

40 
uöt32_t
 
	mnum_chunks
;

41 
uöt64_t
 
	msize_ö_blks
;

42 
log_˘x_t
 *
	m˘x
;

43 
sfsd_°‹age_t
 *
	m°‹age
;

44 } 
	tsfs_chunk_domaö_t
;

47 
sfs_chunk_domaö_t
 * 
sfsd_chunk_domaö_öô
(
sfsd_t
 *, 
log_˘x_t
 *);

48 
sfsd_chunk_domaö_de°roy
(
sfs_chunk_domaö_t
 *);

49 * 
sfsd_add_chunk
(
sfs_chunk_domaö_t
 *, 
sfsd_°‹age_t
 *);

50 
sfsd_ªmove_chunk
(
sfs_chunk_domaö_t
 *, 
sfsd_°‹age_t
 *);

51 
sfsd_upd©e_chunk
(
sfs_chunk_domaö_t
 *, 
sfsd_°‹age_t
 *);

52 
sfsd_di•œy_chunk_domaö
(
sfs_chunk_domaö_t
 *);

	@common/include/sstack_db.h

20 #i‚de‡
__SSTACK_DB_H__


21 
	#__SSTACK_DB_H__


	)

23 
	~<°dio.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<°dlib.h
>

26 
	~<°döt.h
>

30 
	mPOLICY_TYPE
 = 1,

31 
	mINODE_TYPE
 = 2,

32 
	mJOURNAL_TYPE
 = 3,

33 
	mCONFIG_TYPE
 = 4,

34 
	mMAX_TYPE
 = 5

35 } 
	tdb_ty≥_t
;

41 (*
	tdb_öô_t
)();

42 (*
	tdb_›í_t
)();

43 (*
	tdb_˛o£_t
)();

44 (*
	tdb_ö£π_t
)(
	tuöt64_t
 , * , 
	tsize_t
, 
	tdb_ty≥_t
);

45 (*
	tdb_gë_t
)(
	tuöt64_t
 , * , 
	tsize_t
 , 
	tdb_ty≥_t
);

46 (*
	tdb_£ekªad_t
)(
	tuöt64_t
 , * , 
	tsize_t
 , 
	toff_t
 ,

47 , 
	tdb_ty≥_t
);

48 (*
	tdb_upd©e_t
)(
	tuöt64_t
 , * , 
	tsize_t
 , 
	tdb_ty≥_t
);

49 (*
	tdb_dñëe_t
)(
	tuöt64_t
);

50 (*
	tdb_˛ónup_t
)();

54 
	sdb_›î©i⁄s
 {

55 
db_öô_t
 
db_öô
;

56 
db_›í_t
 
db_›í
;

57 
db_˛o£_t
 
db_˛o£
;

58 
db_ö£π_t
 
db_ö£π
;

59 
db_gë_t
 
db_gë
;

60 
db_£ekªad_t
 
db_£ekªad
;

61 
db_upd©e_t
 
db_upd©e
;

62 
db_dñëe_t
 
db_dñëe
;

63 
db_˛ónup_t
 
db_˛ónup
;

64 } 
	tdb_›s_t
;

67 
	sdb
 {

68 
db_›s_t
 
db_›s
;

69 } 
	tdb_t
;

71 
db_t
 *
db
;

74 
ölöe
 
db_t
 *

75 
	$¸óã_db
()

77 
db_t
 *
db
;

79 
db
 = 
	`mÆloc
((
db_t
));

81  
db
;

82 
	}
}

84 
ölöe
 

85 
	$de°roy_db
(
db_t
 * 
db
)

87 
	`‰ì
(
db
);

88 
	}
}

91 
ölöe
 

92 
	$db_ªgi°î
(
db_t
 *
db
, 
db_öô_t
 
db_öô
, 
db_›í_t
 
db_›í
, 
db_˛o£_t
 
db_˛o£
,

93 
db_ö£π_t
 
db_ö£π
, 
db_gë_t
 
db_gë
, 
db_£ekªad_t
 
db_£ekªad
,

94 
db_upd©e_t
 
db_upd©e
, 
db_dñëe_t
 
db_dñëe
, 
db_˛ónup_t
 
db_˛ónup
)

96 
db
->
db_›s
.
db_öô
 = db_init;

97 
db
->
db_›s
.
db_›í
 = db_open;

98 
db
->
db_›s
.
db_˛o£
 = db_close;

99 
db
->
db_›s
.
db_ö£π
 = db_insert;

100 
db
->
db_›s
.
db_gë
 = db_get;

101 
db
->
db_›s
.
db_£ekªad
 = db_seekread;

102 
db
->
db_›s
.
db_upd©e
 = db_update;

103 
db
->
db_›s
.
db_dñëe
 = db_delete;

104 
db
->
db_›s
.
db_˛ónup
 = db_cleanup;

105 
	}
}

	@common/include/sstack_helper.h

20 #i‚de‡
__SSTACK_HELPER_H_


21 
	#__SSTACK_HELPER_H_


	)

23 
	~<°d¨g.h
>

24 
	~<°rög.h
>

25 
	~<s°ack_log.h
>

27 
ölöe
 *

28 
	$gë_›t_°r
(c⁄° *
¨g
, *
›t_«me
)

30 *
°r
 = 
	`ödex
(
¨g
, '=');

32 
	`ASSERT
((
°r
), "InvalidÖarameter specified. Exiting...", 0, 0, 0);

33 i‡(!
°r
)

34 
	`exô
(-1);

36 
°r
 ++;

37 
°r
 = 
	`°rdup
(str);

38 
	`ASSERT
((
°r
), "strdup failed. Exiting...", 0, 0, 0);

39 i‡(!
°r
)

40 
	`exô
(-1);

42  
°r
;

43 
	}
}

	@common/include/sstack_jobs.h

20 #i‚de‡
__SSTACK_JOBS_H_


21 
	#__SSTACK_JOBS_H_


	)

23 
	~<s°ack_ty≥s.h
>

24 
	~<s°ack_å™•‹t.h
>

25 
	~<s°ack_nfs.h
>

26 
	~<s°ack_°‹age.h
>

28 
	#SFSD_MAGIC
 0x11101974

	)

29 
	#MAX_SFSD_CLIENTS
 8

	)

30 
	#IPV4_ADDR_MAX
 16

	)

31 
	#IPV6_ADDR_MAX
 40

	)

32 
	#MAX_QUEUE_SIZE
 1024

	)

33 
	#MAX_EXTENT_SIZE
 65536

	)

36 
	mSFSD_HANDSHAKE
 = 1,

37 
	mSFSD_NFS
 = 2,

38 } 
	tsfsd_job_ty≥_t
;

41 
	mJOB_STARTED
 = 1,

42 
	mJOB_COMPLETE
 = 2,

43 
	mJOB_ABORTED
 = 3,

44 
	mJOB_FAILED
 = 4,

45 } 
	tsfsd_job_°©us_t
;

48 
	mHIGH_PRIORITY
 = 1,

49 
	mMEDIUM_PRIORITY
 = 2,

50 
	mLOW_PRIORITY
 = 3,

51 
	mNUM_PRIORITY_MAX
,

52 } 
	tsfs_¥io_t
;

54 
	ss°ack_∑ylﬂd_hdr
 {

55 
uöt32_t
 
	m£quí˚
;

56 
uöt32_t
 
	m∑ylﬂd_Àn
;

57 } 
	ts°ack_∑ylﬂd_hdr_t
;

59 
	ss°ack_∑ylﬂd
 {

60 
s°ack_∑ylﬂd_hdr_t
 
	mhdr
;

61 
s°ack_comm™d_t
 
	mcomm™d
;

63 
sfsd_°‹age_t
 
	m°‹age
;

64 
s°ack_nfs_comm™d_°ru˘
 
	mcomm™d_°ru˘
;

65 
s°ack_nfs_ª•⁄£_°ru˘
 
	mª•⁄£_°ru˘
;

67 } 
	ts°ack_∑ylﬂd_t
;

69 
	ssfsd
 {

70 
s°ack_å™•‹t_t
 
	msfsd_å™•‹t
;

71 
s°ack_˛õ¡_h™dÀ_t
 
	msfsd_h™dÀ
;

72 } 
	tsfsd_t
;

74 
	sjob
 {

75 
	mvîsi⁄
;

76 
sfsd_job_ty≥_t
 
	mjob_ty≥
;

77 
	mnum_˛õ¡s
;

78 
sfsd_t
 
	msfsd_t
[
MAX_SFSD_CLIENTS
];

79 
sfsd_job_°©us_t
 
	mjob_°©us
[
MAX_SFSD_CLIENTS
];

80 
	m∑ylﬂd_Àn
;

81 
	m¥i‹ôy
;

82 
s°ack_∑ylﬂd_t
 
	m∑ylﬂd
[0];

83 } 
	tjob_t
;

90 
	sjob_queue
 {

91 
	m¥i‹ôy
;

92 
s°ack_∑ylﬂd_t
 *
	m∑ylﬂd
[
MAX_QUEUE_SIZE
];

93 } 
	tjob_queue_t
;

	@common/include/sstack_log.h

20 #i‚de‡
__SSTACK_LOG_H_


21 
	#__SSTACK_LOG_H_


	)

22 
	~<f˙é.h
>

23 
	~<as£π.h
>

24 
	~<limôs.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<uni°d.h
>

28 
	~<î∫o.h
>

29 
	~<°dio.h
>

30 
	~<°d¨g.h
>

31 
	~<time.h
>

32 
	~<±hªad.h
>

35 
	#SFS_LOG_DIRECTORY
 "/home/shubhro/sfsd_dú"

	)

36 
	#SFS_LOGFILE_LEN
 32

	)

37 
	#SFS_TIME_FORMAT_LEN
 64

	)

38 
	#SFS_LOGLEVEL_LEN
 16

	)

39 
	#SFS_LOG_ENTRY_LEN
 128

	)

40 
	#LOG_ENTRY_VERSION
 1

	)

42 
s°ack_log_dúe˘‹y
[];

53 
	#ASSERT
(
p
, 
q
, 
r
, 
s
, 
t
) do { \

54 i‡(!(
p
)) \

55 
	`Ârötf
(
°dîr
, "%s: %s\n", 
__FUNCTION__
, (
q
));\

56 i‡((
r
) == 1) \

57 
	`as£π
((
p
)); \

59 i‡((
s
Ë!0 && !
p
) \

60  (
t
); \

62 } 0);

	)

72 
	#SFS_LOG_EXIT
(
p
, 
q
, 
r
, 
s
, 
t
) do { \

73 i‡(!(
p
)) \

74 
	`sfs_log
(
s
, 
t
, 
q
); \

75 i‡((
s
Ë!0 && !
p
) \

76  (
r
); \

77 } 0);

	)

80 
	mSFS_EMERG
 = 1,

81 
	mSFS_CRIT
 = 2,

82 
	mSFS_ERR
 = 3,

83 
	mSFS_WARNING
 = 4,

84 
	mSFS_INFO
 = 5,

85 
	mSFS_DEBUG
 = 6,

86 
	mMAX_SFS_LOG_LEVELS
 = 7,

87 } 
	tsfs_log_Àvñ_t
;

89 
	slog_c⁄ãxt


91 
±hªad_muãx_t
 
	mlog_muãx
;

92 
	mlog_fd
;

93 
FILE
 *
	mlog_Â
;

94 *
	mlog_fûe_«me
;

98 
	mlog_öôülized
;

99 
sfs_log_Àvñ_t
 
	mlog_Àvñ
;

100 } 
	tlog_˘x_t
;

103 
	slog_íåy


105 
	mvîsi⁄
;

106 
	mtime
[
SFS_TIME_FORMAT_LEN
];

107 
	mÀvñ
[
SFS_LOGLEVEL_LEN
];

108 
	mlog
[
SFS_LOG_ENTRY_LEN
];

109 } 
	tlog_íåy_t
;

117 
ölöe
 
log_˘x_t
 *

118 
	$sfs_¸óã_log_˘x
()

120 
log_˘x_t
 *
˘x
 = 
NULL
;

121 
˘x
 = 
	`mÆloc
((
log_˘x_t
));

122 
	`ASSERT
((
˘x
 !
NULL
), "UnableÅoállocate memory for ctx", 0, 1, NULL);

123 
	`±hªad_muãx_öô
(&
˘x
->
log_muãx
, 
NULL
);

124 
˘x
->
log_fd
 = -1;

125 
˘x
->
log_fûe_«me
 = (*Ë
	`mÆloc
(
PATH_MAX
);

126 
	`ASSERT
((
˘x
->
log_fûe_«me
 !
NULL
),

127 "U«bÀÅÿÆloˇã mem‹y f‹ ctx->log_fûe_«me", 0, 0, 
NULL
);

128 i‡(
NULL
 =
˘x
->
log_fûe_«me
) {

129 
	`‰ì
(
˘x
);

130  
NULL
;

132 
˘x
->
log_öôülized
 = -1;

133 
˘x
->
log_Àvñ
 = 
SFS_DEBUG
;

135  
˘x
;

136 
	}
}

143 
ölöe
 

144 
	$sfs_de°roy_log_˘x
(
log_˘x_t
 *
˘x
)

146 
ªt
 = -1;

148 
	`ASSERT
((
˘x
 !
NULL
), "ctxÖarameter is NULL", 0, 1, -1);

151 
ªt
 = 
	`±hªad_muãx_de°roy
(&
˘x
->
log_muãx
);

152 
	`ASSERT
((
ªt
 !
EBUSY
), "Mutex isÜocked !!", 0, 1, -1);

153 
˘x
->
log_fd
 = -1;

154 
	`ASSERT
((
˘x
->
log_fûe_«me
 !
NULL
),

156 i‡(
˘x
->
log_fûe_«me
)

157 
	`‰ì
(
˘x
->
log_fûe_«me
);

159 
	`‰ì
(
˘x
);

160 
	}
}

172 
ölöe
 

173 
	$sfs_log_˛o£
(
log_˘x_t
 *
˘x
)

175 
	`ASSERT
((
˘x
 !
NULL
), "Ctx is NULL", 0, 1, -1);

177 
	`˛o£
(
˘x
->
log_fd
);

180 
	}
}

192 
ölöe
 

193 
	$sfs_ch™ge_logÀvñ
(
log_˘x_t
 *
˘x
, 
sfs_log_Àvñ_t
 
Àvñ
)

195 
	`ASSERT
((
˘x
 !
NULL
), "Log context is NULL.", 0, 1, -1);

196 
	`ASSERT
((
Àvñ
 > 0 &&Üevñ < 
MAX_SFS_LOG_LEVELS
),

198 
	`±hªad_muãx_lock
(&
˘x
->
log_muãx
);

199 
˘x
->
log_Àvñ
 = 
Àvñ
;

200 
	`±hªad_muãx_u∆ock
(&
˘x
->
log_muãx
);

203 
	}
}

218 
ölöe
 

219 
	$sfs_log_öô
(
log_˘x_t
 *
˘x
, 
sfs_log_Àvñ_t
 
Àvñ
, *
com≤ame
)

222 
log_fûe_ab•©h
[
PATH_MAX
] = { '\0' };

223 
fûe_«me
[
SFS_LOGFILE_LEN
] = { '\0' };

224 
fd
 = -1;

226 
	`ASSERT
((
˘x
 !
NULL
), "ContextÇotállocated.", 0, 1, -1);

227 
	`ASSERT
((
Àvñ
 > 0 &&Üevñ < 
MAX_SFS_LOG_LEVELS
),

229 
	`ASSERT
((
com≤ame
[0] != '\0'), "Progname is NULL.", 0, 1, -1);

232 
	`±hªad_muãx_lock
(&
˘x
->
log_muãx
);

233 
	`°∫˝y
(
fûe_«me
, 
com≤ame
, 27);

236 i‡(
	`ac˚ss
(
s°ack_log_dúe˘‹y
, 
W_OK
) == 0) {

237 
	`•rötf
(
log_fûe_ab•©h
, "%s/%s_%ld%s", 
s°ack_log_dúe˘‹y
,

238 
fûe_«me
, 
	`time
(
NULL
), ".log");

242 i‡(
	`ac˚ss
(
SFS_LOG_DIRECTORY
, 
W_OK
) != 0) {

243 
	`ASSERT
((1 == 0), "Log directoryÇot created. Logging disabled",

246 
	`•rötf
(
log_fûe_ab•©h
, "%s/%s_%ld%s", 
SFS_LOG_DIRECTORY
,

247 
fûe_«me
, 
	`time
(
NULL
), ".log");

253 
fd
 = 
	`›í
(
log_fûe_ab•©h
, 
O_CREAT
|
O_RDWR
|
O_LARGEFILE
,

254 
S_IRUSR
|
S_IWUSR
);

255 i‡(
fd
 == -1) {

257 
	`Ârötf
(
°dîr
, "%s: FailedÅo openÜog file %s."

258 " Loggög i†dißbÀd\n", 
__FUNCTION__
, 
log_fûe_ab•©h
);

259 
˘x
->
log_fd
 = -1;

260 
˘x
->
log_öôülized
 = 0;

261 
	`±hªad_muãx_u∆ock
(&
˘x
->
log_muãx
);

265 
˘x
->
log_fd
 = 
fd
;

266 
˘x
->
log_öôülized
 = 1;

267 
˘x
->
log_Àvñ
 = 
Àvñ
;

268 
	`°r˝y
(
˘x
->
log_fûe_«me
, 
log_fûe_ab•©h
);

270 
˘x
->
log_Â
 = 
	`fd›í
(
fd
,"a");

271 
	`±hªad_muãx_u∆ock
(&
˘x
->
log_muãx
);

276 
	}
}

290 
ölöe
 

291 
	$sfs_log
(
log_˘x_t
 *
˘x
, 
sfs_log_Àvñ_t
 
Àvñ
, *
f‹m©
, ...)

293 
va_li°
 
li°
;

294 
ªs
 = -1;

295 
time_t
 
t
 = 
	`time
(0);

296 
tm
 *
…
 = 
NULL
;

297 
log_íåy_t
 
log_íåy
;

299 
	`ASSERT
((
˘x
 !
NULL
), "ctx is NULL. CanÇotÜog", 0, 1, -1);

300 
	`ASSERT
((
Àvñ
 > 0 &&Üevñ < 
MAX_SFS_LOG_LEVELS
),

302 
	`ASSERT
((
f‹m©
 !
NULL
), "Format string is NULL.", 0, 1, -1);

303 
	`ASSERT
((
˘x
->
log_öôülized
 != 0), "LoggingÇot initoalized", 0, 1, -1);

304 i‡(
Àvñ
 > 
˘x
->
log_Àvñ
) {

310 
	`mem£t
(&
log_íåy
, '\0', (
log_íåy_t
));

311 
log_íåy
.
vîsi⁄
 = 
LOG_ENTRY_VERSION
;

312 
…
 = 
	`loˇ…ime
(&
t
);

313 
	`°r·ime
((* 
__ª°ri˘__
Ë&(
log_íåy
.
time
), 
SFS_TIME_FORMAT_LEN
,

314 "%Y-%m-%d %H:%M:%S", 
…
);

317 
Àvñ
) {

318 
SFS_EMERG
:

319 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

320 
SFS_LOGLEVEL_LEN
, "%s: ", "EMERGENCY");

322 
SFS_CRIT
:

323 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

324 
SFS_LOGLEVEL_LEN
, "%s: ", "CRITICAL");

326 
SFS_ERR
:

327 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

328 
SFS_LOGLEVEL_LEN
, "%s: ", "ERROR");

330 
SFS_WARNING
:

331 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

332 
SFS_LOGLEVEL_LEN
, "%s: ", "warning");

334 
SFS_INFO
:

335 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

336 
SFS_LOGLEVEL_LEN
, "%s: ", "info");

338 
SFS_DEBUG
:

339 
	`¢¥ötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
Àvñ
,

340 
SFS_LOGLEVEL_LEN
, "%s: ", "debug");

346 
	`va_°¨t
(
li°
, 
f‹m©
);

347 
ªs
 = 
	`v•rötf
((* 
__ª°ri˘__
Ë&
log_íåy
.
log
,

348 (* 
__ª°ri˘__
Ë
f‹m©
, 
li°
);

349 
	`va_íd
(
li°
);

350 
	`±hªad_muãx_lock
(&
˘x
->
log_muãx
);

353 
ªs
 = 
	`wrôe
(
˘x
->
log_fd
, &
log_íåy
, (
log_íåy_t
));

357 
ªs
 = 
	`Ârötf
(
˘x
->
log_Â
, "%†=%†=%†\n", 
log_íåy
.
time
,

358 
log_íåy
.
Àvñ
,Üog_íåy.
log
);

360 
	`±hªad_muãx_u∆ock
(&
˘x
->
log_muãx
);

363 
	`ASSERT
((
ªs
 != 0),

367 
	}
}

	@common/include/sstack_md.h

20 #i‚de‡
__SSTACK_MD_H_


21 
	#__SSTACK_MD_H_


	)

23 #ifde‡
USE_FUTEX


24 
	~<löux/fuãx.h
>

25 
	~<sys/time.h
>

27 
	~<±hªad.h
>

29 
	~<löux/limôs.h
>

30 
	~<time.h
>

31 
	~<sy¶og.h
>

33 
	~<s°ack_pﬁicy.h
>

34 
	~<s°ack_bô›s.h
>

35 
	~<s°ack_db.h
>

38 
	#MAX_REPLICAS
 3

39 
	#INODE_NUM_START
 2

	)

41 
	ety≥
 {

42 
	mREGFILE
 = 1,

43 
	mDIRECTORY
,

44 
	mSYMLINK
,

45 
	mHARDLINK
,

46 
	mBLOCKDEV
,

47 
	mCHARDEV
,

48 
	mSOCKET_TYPE
,

49 
	mFIFO
,

50 
	mUNKNOWN


51 } 
	tty≥_t
;

56 
	e©å_ty≥
 {

57 
	mOFFSET
 = 1

58 } 
	t©å_ty≥_t
;

62 
	sexã¡
 {

63 
©å_ty≥_t
 
	me_ty≥
;

64 
uöt64_t
 
	me_vÆue
;

65 
uöt64_t
 
	me_size
;

66 
	me_cksum
;

67 
uöt8_t
 
	me_ª∂iˇ_vÆid
;

68 
	me_∑th
[
MAX_REPLICAS
][
PATH_MAX
];

69 } 
	texã¡_t
;

75 
	söode
 {

76 #i‚de‡
USE_FUTEX


77 
±hªad_muãx_t
 
	mi_lock
;

79 
uöt64_t
 
	mi_num
;

80 
	mi_«me
[
PATH_MAX
];

81 
uid_t
 
	mi_uid
;

82 
gid_t
 
	mi_gid
;

83 
mode_t
 
	mi_mode
;

84 
ty≥_t
 
	mi_ty≥
;

85 
	mi_löks
;

86 
pﬁicy_t
 
	mi_pﬁicy
;

87 
time•ec
 
	mi_©ime
;

88 
time•ec
 
	mi_˘ime
;

89 
time•ec
 
	mi_mtime
;

90 
uöt64_t
 
	mi_size
;

91 
	mi_numª∂iˇs
;

92 
	mi_numexã¡s
;

93 
	mi_îasuª_code_∑th
[
PATH_MAX
];

94 
exã¡_t
 
	mi_exã¡
[0];

95 } 
	töode_t
;

98 
gë_öode
(
uöt64_t
 
öode_num
, 
öode_t
 * 
öode
, 
db_t
 *
db
);

99 
gë_exã¡s
(
uöt64_t
 
öode_num
, 
exã¡_t
 *
exã¡
, 
num_exã¡s
,

100 
db_t
 *
db
);

101 
uöt64_t
 
gë_öode_numbî
(c⁄° *
∑th
);

102 
checksum
(c⁄° *
fûíame
);

103 
dump_exã¡s
(
exã¡_t
 *
exã¡
, 
num_exã¡s
);

106 
ölöe
 

107 
	$gë_öode_size
(
uöt64_t
 
öode_num
, 
db_t
 *
db
)

109 
öode_t
 
öode
;

110 
ªt
 = -1;

113 
ªt
 = 
	`gë_öode
(
öode_num
, &
öode
, 
db
);

114 i‡(
ªt
 != -1)

115  ((
öode_t
Ë+ (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

118 
	}
}

120 
uöt64_t
 
öode_numbî
;

121 
hashèbÀ
 *
ªvî£_lookup
;

122 
±hªad_muãx_t
 
öode_muãx
;

127 
ölöe
 

128 
	$ªÀa£_öode
(
uöt64_t
 
öode_num
)

131 
	}
}

135 
ölöe
 
uöt64_t


136 
	$gë_‰ì_öode
()

145 
	`±hªad_muãx_lock
(&
öode_muãx
);

146 
öode_numbî
 ++;

147 
	`±hªad_muãx_u∆ock
(&
öode_muãx
);

151  
öode_numbî
;

152 
	}
}

	@common/include/sstack_nfs.h

19 #i‚de‡
__SSTACK_NFS_H_


20 
	#__SSTACK_NFS_H_


	)

30 
	es°ack_comm™d
 {

31 
	mSSTACK_ADD_STORAGE
,

32 
	mSSTACK_REMOVE_STORAGE
,

33 
	mSSTACK_MAX_STORAGE_COMMAND
,

34 
	mNFS_GETATTR
,

35 
	mNFS_SETATTR
,

36 
	mNFS_LOOKUP
,

37 
	mNFS_ACCESS
,

38 
	mNFS_READLINK
,

39 
	mNFS_READ
,

40 
	mNFS_WRITE
,

41 
	mNFS_CREATE
,

42 
	mNFS_MKDIR
,

43 
	mNFS_SYMLINK
,

44 
	mNFS_MKNOD
,

45 
	mNFS_REMOVE
,

46 
	mNFS_RMDIR
,

47 
	mNFS_RENAME
,

48 
	mNFS_LINK
,

49 
	mNFS_READDIR
,

50 
	mNFS_READDIRPLUS
,

51 
	mNFS_FSSTAT
,

52 
	mNFS_FSINFO
,

53 
	mNFS_PATHCONF
,

54 
	mNFS_COMMIT
,

55 
	mNFS_VALID_MAX
,

56 } 
	ts°ack_comm™d_t
;

60 
	es°ack_fûe_ty≥
 {

61 
	mNFS_REG
 = 1,

62 
	mNFS_DIR
 = 2,

63 
	mNFS_BLK
 = 3,

64 
	mNFS_CHR
 = 4,

65 
	mNFS_LNL
 = 5,

66 
	mNFS_SOCK
 = 6,

67 
	mNFS_FIFO
 = 7,

68 } 
	ts°ack_fûe_ty≥_t
;

70 
	ss°ack_fûe_©åibuã
 {

71 
s°ack_fûe_ty≥_t
 
	mty≥
;

72 
uöt32_t
 
	mmode
;

73 
uöt32_t
 
	mnum_lök
;

74 
uöt32_t
 
	muid
;

75 
uöt32_t
 
	mgid
;

76 
size_t
 
	msize
;

77 
size_t
 
	mu£d
;

78 
uöt64_t
 
	mfsid
;

79 
uöt32_t
 
	mfûeid
;

80 
time•ec
 
	m©ime
;

81 
time•ec
 
	mmtime
;

82 
time•ec
 
	m˘ime
;

83 } 
	ts°ack_fûe_©åibuã_t
;

85 
	ss°ack_fûe_«me
 {

86 
size_t
 
	m«me_Àn
;

87 *
	m«me
;

88 } 
	ts°ack_fûe_«me_t
;

92 
	ss°ack_nfs_£èâr_cmd
 {

93 
s°ack_fûe_©åibuã_t
 
	m©åibuã
;

96 
	ss°ack_nfs_lookup_cmd
 {

97 
s°ack_fûe_«me_t
 
	mwhîe
;

98 
s°ack_fûe_«me_t
 
	mwh©
;

101 
	ss°ack_nfs_ªad_cmd
 {

102 
off_t
 
	moff£t
;

103 
size_t
 
	mcou¡
;

107 
	ss°ack_nfs_wrôe_cmd
 {

108 
off_t
 
	moff£t
;

109 
size_t
 
	mcou¡
;

111 
size_t
 
	md©a_Àn
;

112 *
	md©a_vÆ
;

113 } 
	md©a
;

116 
	ss°ack_nfs_¸óã_cmd
 {

117 
uöt32_t
 
	mmode
;

119 
size_t
 
	md©a_Àn
;

120 *
	md©a_vÆ
;

121 } 
	md©a
;

124 
	ss°ack_nfs_ac˚ss_cmd
 {

125 
uöt32_t
 
	mmode
;

127 
	ss°ack_nfs_ª«me_cmd
 {

128 
size_t
 
	m√w_∑th_Àn
;

129 *
	m√w_∑th
;

132 
	ss°ack_nfs_ªmove_cmd
 {

133 
size_t
 
	m∑th_Àn
;

134 *
	m∑th
;

137 
	ss°ack_nfs_commô_cmd
 {

138 
off_t
 
	moff£t
;

139 
size_t
 
	mcou¡
;

141 
	ss°ack_comm™d_°ru˘
 {

142 
s°ack_fûe_«me_t
 
	mfûe_h™dÀ
;

149 
s°ack_nfs_£èâr_cmd
 
	m£èâr_cmd
;

152 
s°ack_nfs_lookup_cmd
 
	mlookup_cmd
;

155 
s°ack_nfs_ac˚ss_cmd
 
	mac˚ss_cmd
;

158 
s°ack_nfs_ªad_cmd
 
	mªad_cmd
;

161 
s°ack_nfs_wrôe_cmd
 
	mwrôe_cmd
;

164 
s°ack_nfs_¸óã_cmd
 
	m¸óã_cmd
;

167 
s°ack_nfs_ª«me_cmd
 
	mª«me_cmd
;

170 
s°ack_nfs_ªmove_cmd
 
	mªmove_cmd
;

173 
s°ack_nfs_commô_cmd
 
	mcommô_cmd
;

176 } 
	ts°ack_nfs_comm™d_°ru˘
;

180 
	ss°ack_nfs_gë©å_ª•
 {

181 
°©
 
	m°buf
;

184 
	ss°ack_nfs_lookup_ª•
 {

185 
size_t
 
	mlookup_∑th_Àn
;

186 *
	mlookup_∑th
;

189 
	ss°ack_nfs_ac˚ss_ª•
 {

190 
uöt32_t
 
	mac˚ss
;

193 
	ss°ack_nfs_ªad_ª•
 {

194 
size_t
 
	mcou¡
;

195 
öt32_t
 
	meof
;

197 
size_t
 
	md©a_Àn
;

198 *
	md©a_vÆ
;

199 } 
	md©a
;

202 
	ss°ack_nfs_wrôe_ª•
 {

203 
uöt32_t
 
	mfûe_¸óã_ok
;

204 
uöt32_t
 
	mfûe_wc
;

207 
	ss°ack_nfs_ª•⁄£_°ru˘
 {

208 
öt32_t
 
	mcomm™d_ok
;

211 
s°ack_nfs_gë©å_ª•
 
	mgë©å_ª•
;

217 
s°ack_nfs_lookup_ª•
 
	mlookup_ª•
;

220 
s°ack_nfs_ac˚ss_ª•
 
	mac˚ss_ª•
;

223 
s°ack_nfs_ªad_ª•
 
	mªad_ª•
;

226 
s°ack_nfs_wrôe_ª•
 
	mwrôe_ª•
;

229 
s°ack_nfs_wrôe_ª•
 
	m¸óã_ª•
;

241 } 
	ts°ack_nfs_ª•⁄£_°ru˘
;

	@common/include/sstack_policy.h

20 #i‚de‡
__SSTACK_POLICY_H_


21 
	#__SSTACK_POLICY_H_


	)

23 
	~<°döt.h
>

30 
	spﬁicy
 {

31 
uöt8_t
 
	mp_qo¶evñ
;

32 
uöt8_t
 
	mp_ishiddí
:1;

33 
uöt8_t
 
	mp_is°rùed
:1;

34 
uöt64_t
 
	mp_exã¡size
;

35 
pﬁicy
 *
	m√xt
;

37 } 
	tpﬁicy_t
;

42 
pﬁicy_t
 
	gdeÁu…_pﬁicy
 = { 1, 0, 0, 0, 
NULL
};

44 
ölöe
 
pﬁicy_t
 *

45 
	$gë_pﬁicy
(c⁄° * 
∑th
)

47  
NULL
;

48 
	}
}

	@common/include/sstack_storage.h

20 #i‚de‡
__SSTACK_STORAGE_H_


21 
	#__SSTACK_STORAGE_H_


	)

25 
	mNFS
 = 1,

26 
	mCIFS
 = 2,

27 
	mISCSI
 = 3,

28 
	mNATIVE
 = 4,

29 } 
	tsfs_¥Ÿocﬁ_t
;

31 
	ssfsd_°‹age
 {

32 
	m∑th
[
PATH_MAX
];

33 
uöt32_t
 
	mweight
;

34 
uöt64_t
 
	mnblocks
;

35 
sfs_¥Ÿocﬁ_t
 
	m¥Ÿocﬁ
;

38 
	mùv4_addr
[
IPV4_ADDR_MAX
];

39 
	mùv6_addr
[
IPV6_ADDR_MAX
];

42 } 
	tsfsd_°‹age_t
;

	@common/include/sstack_thread_pool.h

5 
	~<±hªad.h
>

12 
s°ack_thªad_poﬁ
 
	ts°ack_thªad_poﬁ_t
;

25 
s°ack_thªad_poﬁ_t
 *
s°ack_thªad_poﬁ_¸óã
(
uöt32_t
 
mö_thªads
,

26 
uöt32_t
 
max_thªads
, uöt32_à
lögî
, 
±hªad_©å_t
 *
©å
);

42 
s°ack_thªad_poﬁ_queue
(
s°ack_thªad_poﬁ_t
 *
poﬁ
,

43 *(*
func
)(*), *
¨g
);

48 
s°ack_thªad_poﬁ_waô
(
s°ack_thªad_poﬁ_t
 *
poﬁ
);

53 
s°ack_thªad_poﬁ_de°roy
(
s°ack_thªad_poﬁ_t
 *
poﬁ
);

	@common/include/sstack_transport.h

20 #i‚de‡
__SSTACK_TRANSPORT_H_


21 
	#__SSTACK_TRANSPORT_H_


	)

23 
	~<s°ack_log.h
>

24 
	~<s°ack_ty≥s.h
>

26 
	#IPV4_ADDR_MAX
 16

	)

27 
	#IPV6_ADDR_MAX
 40

	)

29 
	#SSTACK_BACKLOG
 5

	)

31 
	#READ_BLOCK_MASK
 1

	)

32 
	#WRITE_BLOCK_MASK
 2

	)

34 
	#IGNORE_NO_BLOCK
 0

	)

35 
	#READ_NO_BLOCK
 1

	)

36 
	#WRITE_NO_BLOCK
 2

	)

38 
uöt32_t
 
	ts°ack_h™dÀ_t
;

41 
	mTCPIP
 = 1,

42 
	mIB
 = 2,

43 
	mUDP
 = 3,

44 
	mUNIX
 = 4,

45 } 
	ts°ack_å™•‹t_ty≥_t
;

47 
s°ack_å™•‹t
 
	ts°ack_å™•‹t_t
;

48 
s°ack_å™•‹t_t
* 
gë_t˝_å™•‹t
(*
addr
);

53 
	ss°ack_å™•‹t_›s
 {

55 
s°ack_˛õ¡_h™dÀ_t
 (*
˛õ¡_öô
Ë(
	ms°ack_å™•‹t_t
 *);

56 (*
	mtx
Ë(
	ms°ack_˛õ¡_h™dÀ_t
 , 
	msize_t
 , *);

57 (*
	mrx
Ë(
	ms°ack_˛õ¡_h™dÀ_t
 , 
	msize_t
 , *);

58 (*
	m£À˘
)(
	ms°ack_˛õ¡_h™dÀ_t
, 
uöt32_t
 
	mblock_Êags
);

61 
s°ack_˛õ¡_h™dÀ_t
 (*
£rvî_£tup
Ë(
	ms°ack_å™•‹t_t
 *);

62 } 
	ts°ack_å™•‹t_›s_t
;

64 
	ss°ack_å™•‹t_hdr
 {

66 
	st˝
 {

67 
	mùv4
;

69 
	mùv4_addr
[
IPV4_ADDR_MAX
];

70 
	mùv6_addr
[
IPV6_ADDR_MAX
];

72 
	mp‹t
;

73 } 
	mt˝
;

75 } 
	ts°ack_å™•‹t_hdr_t
;

78 
	ss°ack_å™•‹t
 {

79 
s°ack_å™•‹t_ty≥_t
 
	må™•‹t_ty≥
;

80 
s°ack_å™•‹t_hdr_t
 
	må™•‹t_hdr
;

81 
s°ack_å™•‹t_›s_t
 
	må™•‹t_›s
;

82 
log_˘x_t
 *
	m˘x
;

85 
ölöe
 
s°ack_å™•‹t_t
 *

86 
	$Æloc_å™•‹t
()

88 
s°ack_å™•‹t_t
 *
å™•‹t
;

90 
å™•‹t
 = 
	`mÆloc
((
s°ack_å™•‹t_t
));

92  
å™•‹t
;

93 
	}
}

95 
ölöe
 

96 
	$‰ì_å™•‹t
(
s°ack_å™•‹t_t
 *
å™•‹t
)

98 i‡(
å™•‹t
)

99 
	`‰ì
(
å™•‹t
);

100 
	}
}

	@common/include/sstack_types.h

20 #i‚de‡
__SSTACK_TYPES_H_


21 
	#__SSTACK_TYPES_H_


	)

25 
uöt64_t
 
	ts°ack_˛õ¡_h™dÀ_t
;

	@common/include/sstack_version.h

20 #i‚de‡
__SSTACK_VERSION_H_


21 
	#__SSTACK_VERSION_H_


	)

22 
	#SSTACK_VERSION
 "0.04"

	)

	@common/src/bds_slab/bds_slab.c

20 
	~<°dio.h
>

21 
	~<°döt.h
>

22 
	~<°rög.h
>

23 
	~<°dlib.h
>

24 
	~<uni°d.h
>

25 
	~<as£π.h
>

26 
	~<limôs.h
>

27 
	~<î∫o.h
>

28 
	~<bds_¶ab/bds_ty≥s.h
>

29 
	~<bds_¶ab/bds_sys.h
>

30 
	~<bds_¶ab/bds_li°.h
>

31 
	~<bds_¶ab/bds_¶ab.h
>

32 #ifde‡
_LINUX_


33 
	~<sys/mm™.h
>

34 
	~<±hªad.h
>

36 
	#bds_îr‹
 
¥ötf


	)

37 
	#bds_öfo
 
¥ötf


	)

38 
	#_GNU_SOURCE_


	)

39 
	#SLAB_CTOR_DESTRUCTOR
 0x00000002UL

	)

40 
	#CFLGS_OFF_SLAB
 0x80000000UL

	)

41 
	#OFF_SLAB
(
x
Ë(x->
Êags
 & 
CFLGS_OFF_SLAB
)

	)

42 
	#SLAB_LIMIT
 (~(0UË- 3)

	)

46 
	#BDS_ALLOC_SHIFT_HIGH
 25

	)

47 
	#BDS_ALLOC_MAX_ORDER
 (
BDS_ALLOC_SHIFT_HIGH
 - 
	`__gë∑geshi·
())

	)

48 
	#BDS_SLAB_BREAK_ORDER_HIGH
 2;

	)

49 
	#BOOT_CPU_CACHE_ENTRIES
 1

	)

51 
	s¨øyˇche_öô
 {

52 
_¨øy_ˇche_desc
 
	mˇche
;

53 *
	míåõs
[
BOOT_CPU_CACHE_ENTRIES
];

57 
bds_öt_li°_t
 
	gˇche_chaö
;

58 
bds_muãx_t
 
	gˇche_chaö_lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

60 
	#ˇche_ˇche
 
ˇche_ˇche_w
.
ˇche


	)

61 
	sˇche_ˇche_desc
 {

62 
_ˇche_desc
 
	mˇche
;

63 
¨øy_ˇche_desc
 
	m¨øy_desc
[
BDS_MAX_NR_CPUS
];

65 
ˇche_ˇche_desc
 
	gˇche_ˇche_w
 = {

67 .
b©chcou¡
 = 1,

68 .
	gsh¨ed
 = 1,

69 .
	g«me
 = "bds_cache_cache",

72 #i‚de‡
BDS_ALLOC_MAX_SIZE


73 
	#BDS_ALLOC_MAX_SIZE
 8192

	)

75 
	sÆloc_size
 {

76 
size_t
 
	msize
;

77 
bds_ˇche_desc_t
 
	mˇche_p
;

79 
Æloc_size
 
	gÆloc_sizes
[] = {

80 {32,
NULL
},

81 {64,
NULL
},

82 {96,
NULL
},

83 {128,
NULL
},

84 {192,
NULL
},

85 {256,
NULL
},

86 {512,
NULL
},

87 {1024,
NULL
},

88 {2048,
NULL
},

89 {4096,
NULL
},

90 {8192,
NULL
},

91 #i‡
BDS_ALLOC_MAX_SIZE
 > 8192

92 {16384,
NULL
},

93 {32768,
NULL
},

94 {65536,
NULL
},

95 {131072,
NULL
},

97 #i‡
BDS_ALLOC_MAX_SIZE
 >= 262144

98 {262144,
NULL
},

100 #i‡
BDS_ALLOC_MAX_SIZE
 >= 524288

101 {524288,
NULL
},

103 #i‡
BDS_ALLOC_MAX_SIZE
 >= 524288

104 {524288,
NULL
},

106 #i‡
BDS_ALLOC_MAX_SIZE
 >= 1048576

107 {104856,
NULL
},

109 #i‡
BDS_ALLOC_MAX_SIZE
 >= 2097152

110 {2097152,
NULL
},

112 #i‡
BDS_ALLOC_MAX_SIZE
 >= 4194304

113 {4194304,
NULL
},

115 #i‡
BDS_ALLOC_MAX_SIZE
 >= 8388608

116 {8388608,
NULL
},

118 #i‡
BDS_ALLOC_MAX_SIZE
 >= 16777216

119 {16777216,
NULL
},

121 #i‡
BDS_ALLOC_MAX_SIZE
 >= 33554432

122 {33554432,
NULL
},

124 {
ULONG_MAX
,
NULL
},

131 * 
	$__gë_‰ì_∑ges
(
size_t
 
num_∑ges
)

133 *
±r
;

134 #ifde‡
BDS_SLAB_DEBUG


135 *
îr‹
;

138 #ifde‡
_LINUX_


139 
size_t
 
∑ge_size
 = 
	`gë∑gesize
();

140 #ifde‡
BDS_SLAB_DEBUG


141 
îr‹
 = 
MAP_FAILED
;

143 
±r
 = 
	`mm≠
 (
NULL
, 
num_∑ges
 * 
∑ge_size
,

144 
PROT_READ
|
PROT_WRITE
, 
MAP_PRIVATE
|
MAP_ANONYMOUS
, -1, 0);

145 i‡(
±r
 =
MAP_FAILED
) {

146 
	`bds_îr‹
 ("NoÖagesávailable\n");

147  
NULL
;

150 #ifde‡
BDS_SLAB_DEBUG


151 
îr‹
 = 
NULL
;

153 
±r
 = 
	`mÆloc
 (
num_∑ges
 * 
BDS_DEF_PAGE_SIZE
);

154 i‡(
±r
 =
NULL
) {

155 
	`bds_îr‹
 ("UnableÅoállocated memory\n");

158 #ifde‡
BDS_SLAB_DEBUG


159 
	`as£π
 (
±r
 !
îr‹
);

161  
±r
;

162 
	}
}

169 
ölöe


170 
	$__ª˛aim_‰ì_∑ges
(*
∑ges
, 
bds_öt
 
ƒ_∑ges
)

172 
size_t
 
Àngth
 = 
ƒ_∑ges
 * 
	`gë∑gesize
();

173 i‡(
	`munm≠
(
∑ges
, 
Àngth
) < 0)

174 
	`bds_îr‹
("ErrorÑeclaiming memory\n");

176 
	}
}

179 
ölöe


180 
bds_ˇche_desc_t
 
	$__Æloˇã_bds_ˇche_desc
()

182 
bds_ˇche_desc_t
 
ˇche_p
;

183 
ˇche_p
 = 
	`bds_ˇche_Æloc
(&
ˇche_ˇche
);

184  
ˇche_p
;

185 
	}
}

188 
bds_öt
 
	$__föd_ˇche
(c⁄° *
«me
)

191 
bds_li°_hód_t
 
hód
 = 
ˇche_chaö
.
√xt
;

192 
bds_ˇche_desc_t
 
ˇche_p
;

195 
	`bds_muãx_lock
(&
ˇche_chaö_lock
);

196 
hód
 = 
ˇche_chaö
.
√xt
; head != &cache_chain; head = head->next) {

197 
ˇche_p
 = 
	`c⁄èöî_of
 (
hód
, 
_ˇche_desc
, 
√xt
);

198 i‡(!
	`°∫cmp
(
ˇche_p
->
«me
,«me, 
BDS_CACHE_NAME_MAX
)) {

199 
	`bds_muãx_u∆ock
(&
ˇche_chaö_lock
);

200  
BDS_FOUND
;

203 
	`bds_muãx_u∆ock
(&
ˇche_chaö_lock
);

204  
BDS_NOT_FOUND
;

205 
	}
}

208 
bds_öt
 
	$__föd_obje˘_ö_¶ab_li°
 (
bds_li°_hód_t
 
li°
,

209 *
obj
, 
bds_¶ab_desc_t
 *
¶ab
)

211 
bds_li°_hód_t
 
hód
;

212 
bds_¶ab_desc_t
 
¶ab_p
;

213 
bds_ˇche_desc_t
 
ˇche_p
;

214 i‡(
	`li°_em±y
(
li°
))

215  
BDS_ERR_NOT_FOUND
;

217 
hód
 = 
li°
->
√xt
; head !=Üist; head = head->next) {

218 
¶ab_p
 = 
	`c⁄èöî_of
 (
hód
, 
_¶ab_desc
, 
√xt
);

219 
ˇche_p
 = 
¶ab_p
->
∑ª¡_ˇche
;

222 i‡(
obj
 >
¶ab_p
->
s_mem
 && obj <= slab_p->s_mem +

223 (
ˇche_p
->
num
 * cache_p->
buf„r_size
)) {

224 *
¶ab
 = 
¶ab_p
;

225  
BDS_FOUND
;

228  
BDS_NOT_FOUND
;

229 
	}
}

232 
bds_ˇche_desc_t
 
	$__föd_gíîÆ_ˇche
(
size_t
 
size
)

234 
Æloc_size
 *
csize
 = 
Æloc_sizes
;

236 i‡(!
size
)

237  
NULL
;

238 
size
 > 
csize
->size)

239 
csize
++;

240  
csize
->
ˇche_p
;

242 
	}
}

250 
	$ˇche_e°im©e
 (
bds_öt
 
∑ge_‹dî
, 
size_t
 
buf„r_size
,

251 
bds_öt
 
Êags
, 
size_t
 *
À·_ovî
, 
bds_uöt
 *
num
)

253 
bds_uöt
 
ƒ_objs
;

254 
size_t
 
mgmt_size
;

255 
size_t
 
¶ab_size
 = 
	`gë∑gesize
(Ë<< 
∑ge_‹dî
;

263 i‡(
Êags
 & 
CFLGS_OFF_SLAB
) {

264 
mgmt_size
 = 0;

265 
ƒ_objs
 = 
¶ab_size
 / 
buf„r_size
;

267 i‡(
ƒ_objs
 > 
SLAB_LIMIT
)

268 
ƒ_objs
 = 
SLAB_LIMIT
;

270 
ƒ_objs
 = (
¶ab_size
 - (
_¶ab_desc
)) /

271 (
buf„r_size
 + (
bds_buf˘l_t
));

272 i‡(
ƒ_objs
 > 
SLAB_LIMIT
)

273 
ƒ_objs
 = 
SLAB_LIMIT
;

274 
mgmt_size
 =  (
_¶ab_desc
) +

275 
ƒ_objs
 * (
bds_buf˘l_t
);

277 *
num
 = 
ƒ_objs
;

278 *
À·_ovî
 = 
¶ab_size
 - (
ƒ_objs
 * 
buf„r_size
 + 
mgmt_size
);

279 
	}
}

287 
size_t
 
	$ˇlcuœã_¶ab_‹dî
 (
bds_ˇche_desc_t
 
ˇche_p
,

288 
size_t
 
buf„r_size
, 
bds_uöt
 
Êags
)

290 
bds_uöt
 
off¶ab_limô
 = 0;

291 
size_t
 
À·_ovî
 = 0;

292 
bds_uöt
 
∑ge_‹dî
;

293 
bds_uöt
 
∑ge_size
 = 
	`gë∑gesize
();

294 
bds_uöt
 
bds_Æloc_max_‹dî
 = 
BDS_ALLOC_SHIFT_HIGH
 - 
	`__gë∑geshi·
();

295 
∑ge_‹dî
 = 0;Öage_‹dî <
bds_Æloc_max_‹dî
;Öage_order++) {

296 
bds_uöt
 
num
;

297 
size_t
 
ªmaödî
;

298 
	`ˇche_e°im©e
(
∑ge_‹dî
, 
buf„r_size
,

299 
Êags
, &
ªmaödî
, &
num
);

300 i‡(!
num
)

303 
ˇche_p
->
num
 =Çum;

304 
ˇche_p
->
∑ge_‹dî
 =Öage_order;

305 
ˇche_p
->
¶ab_size
 = (
∑ge_size
 << 
∑ge_‹dî
);

306 
À·_ovî
 = 
ªmaödî
;

308 i‡(
À·_ovî
 * 16 <(
∑ge_size
 << 
∑ge_‹dî
))

311 i‡(
Êags
 & 
CFLGS_OFF_SLAB
) {

314 
off¶ab_limô
 = 
buf„r_size
 -  (
bds_¶ab_desc_t
);

315 
off¶ab_limô
 / (
bds_buf˘l_t
);

317 i‡(
num
 > 
off¶ab_limô
)

321  
À·_ovî
;

322 
	}
}

331 
bds_°©us_t


332 
	$__£tup_ˇche_desc
 (
bds_ˇche_desc_t
 
ˇche_p
, 
bds_öt
 
Êags
, 
size_t
 
size
)

334 
size_t
 
mgmt_size
;

335 
size_t
 
∑ge_size
 = 
	`gë∑gesize
();

336 
bds_uöt
 
À·_ovî
;

338 i‡(
size
 >
∑ge_size
 >> 3) {

339 
Êags
 |
CFLGS_OFF_SLAB
;

342 
À·_ovî
 = 
	`ˇlcuœã_¶ab_‹dî
 (
ˇche_p
, 
size
, 
Êags
);

344 i‡(!
ˇche_p
->
num
)

345  -
ENOMEM
;

346 
mgmt_size
 = (
bds_buf˘l_t
)*
ˇche_p
->
num


347 + (
_¶ab_desc
);

348 
ˇche_p
->
mgmt_size
 = mgmt_size;

351 i‡(
Êags
 & 
CFLGS_OFF_SLAB
 && 
À·_ovî
 >
mgmt_size
) {

352 
Êags
 &~(
CFLGS_OFF_SLAB
);

353 
À·_ovî
 -
mgmt_size
;

355 
ˇche_p
->
Êags
 = flags;

356 
ˇche_p
->
buf„r_size
 = 
size
;

357 
ˇche_p
->
cﬁour_off£t
 = 
	`__gëˇchñöesize
();

358 
ˇche_p
->
cﬁour
 = 
À·_ovî
 / cache_p->
cﬁour_off£t
;

359 i‡(!
ˇche_p
->
cﬁour
)

360 
ˇche_p
->
cﬁour_off£t
 = 0;

362 
ˇche_p
->
¶ab_magic
 = 0xdeadbeef;

363 
	`bds_•ö_öô
(&
ˇche_p
->
ˇche_lock
);

365 
	`INIT_LIST_HEAD
 (&
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
);

366 
	`INIT_LIST_HEAD
 (&
ˇche_p
->
¶ab_li°
.
¶abs_fuŒ
);

367 
	`INIT_LIST_HEAD
 (&
ˇche_p
->
¶ab_li°
.
¶abs_‰ì
);

368 
	`bds_muãx_öô
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

370 
	}
}

378 
bds_°©us_t
 
bds_ˇche_¸óã
 (c⁄° *
«me
, 
size_t
 
size
,

379 
bds_öt
 
Êags
, (*
˘‹
)(*), (*
dt‹
)(*),

380 
bds_ˇche_desc_t
 *
ˇche_µ
)

382 
bds_ˇche_desc_t
 
ˇche_p
;

384 i‡(
	`__föd_ˇche
(
«me
Ë=
BDS_FOUND
)

385  -
EEXIST
;

387 
ˇche_p
 = 
	`__Æloˇã_bds_ˇche_desc
();

388 i‡(!
ˇche_p
)

389  -
ENOMEM
;

392 i‡(
	`__£tup_ˇche_desc
(
ˇche_p
, 
Êags
, 
size
) < 0)

393  -
ENOMEM
;

396 
ˇche_p
->
˘‹
 = ctor;

397 
ˇche_p
->
dt‹
 = dtor;

398 
	`°∫˝y
 (
ˇche_p
->
«me
,Çame, 
BDS_CACHE_NAME_MAX
);

402 
	`bds_li°_add
 (&
ˇche_p
->
√xt
, &
ˇche_chaö
);

403 
	`bds_muãx_u∆ock
(&
ˇche_chaö_lock
);

404 *
ˇche_µ
 = 
ˇche_p
;

406 
	}
}

412 
__©åibuã__
((
c⁄°ru˘‹
))

413 
	$bds_ˇche_öô
 ()

415 
bds_öt
 
‹dî
, 
mgmt_size
;

417 
size_t
 
À·_ovî
 = 0;

420 
bds_öt
 
bds_Æloc_max_‹dî
 = 
BDS_ALLOC_SHIFT_HIGH
 - 
	`__gë∑geshi·
();

430 
	`INIT_LIST_HEAD
 (&
ˇche_chaö
);

431 
	`bds_•ö_öô
(&
ˇche_ˇche
.
ˇche_lock
);

432 
ˇche_ˇche
.
cﬁour_off£t
 = 
	`__gëˇchñöesize
();

433 #ifde‡
BDS_CONFIG_SMP


434 
ˇche_ˇche
.
buf„r_size
 =  (
_ˇche_desc
) +

435 (
NR_CPUS
 *  (
_¨øy_ˇche_desc
));

437 
ˇche_ˇche
.
buf„r_size
 =  (
_ˇche_desc
);

439 
‹dî
 = 0; ordî < 
bds_Æloc_max_‹dî
; order++) {

440 
	`ˇche_e°im©e
 (
‹dî
, 
ˇche_ˇche
.
buf„r_size
, 0,

441 &
À·_ovî
, &
ˇche_ˇche
.
num
);

442 i‡(
ˇche_ˇche
.
num
)

445 
	`as£π
(
ˇche_ˇche
.
num
 != 0);

446 
mgmt_size
 = (
bds_buf˘l_t
)*
ˇche_ˇche
.
num


447 + (
_¶ab_desc
);

448 
ˇche_ˇche
.
mgmt_size
 = mgmt_size;

450 
ˇche_ˇche
.
¶ab_magic
 = 0xdeadbeef;

452 #ifde‡
BDS_CONFIG_SMP


453 
i
=0; i<
NR_CPUS
; ++i)

454 
ˇche_ˇche
.
¨øy_ˇche
[
i
] = &
öô¨øy_ˇche
;

458 
	`INIT_LIST_HEAD
 (&
ˇche_ˇche
.
¶ab_li°
.
¶abs_∑πül
);

459 
	`INIT_LIST_HEAD
 (&
ˇche_ˇche
.
¶ab_li°
.
¶abs_fuŒ
);

460 
	`INIT_LIST_HEAD
 (&
ˇche_ˇche
.
¶ab_li°
.
¶abs_‰ì
);

461 
	`bds_muãx_öô
(&
ˇche_ˇche
.
¶ab_li°
.
li°_lock
);

462 
	`bds_li°_add
 (&
ˇche_ˇche
.
√xt
, &
ˇche_chaö
);

464 #ifde‡
BDS_CONFIG_SMP


469 
size_t
 
csize
 =  (
Æloc_sizes
)/(
Æloc_size
) - 1;

470 
i
=0; i < 
csize
; ++i) {

471 
	`•rötf
 (
«me
,"bds-Æloc-%u", ()
Æloc_sizes
[
i
].
size
);

472 
	`¥ötf
 ("AŒoˇtög f‹: %d\n", 
Æloc_sizes
[
i
].
size
);

473 
	`bds_ˇche_¸óã
 (
«me
, 
Æloc_sizes
[
i
].
size
,

474 0,
NULL
,NULL, &
ˇche_p
);

475 
Æloc_sizes
[
i
].
ˇche_p
 = cache_p;

479 
	`¥ötf
 ("Cache init done..");

480 
	}
}

490 
	$__£tup_¶ab_desc
(
bds_ˇche_desc_t
 
ˇche_p
, * 
mgmt_mem
, *
s_mem
)

492 
bds_¶ab_desc_t
 
¶ab_p
;

493 
bds_buf˘l_t
 *
buf˘l
;

494 
bds_uöt
 
i
;

495 
bds_öt
 
cﬁour_off£t
 = 
ˇche_p
->colour_offset;

496 
bds_öt
 
cﬁour
 = 
ˇche_p
->colour;

497 
¶ab_p
 = (
bds_¶ab_desc_t
)
mgmt_mem
;

498 
buf˘l
 = (
bds_buf˘l_t
*Ë
	`BDS_BUFCTL
(
¶ab_p
);

499 
i
=0; i<
ˇche_p
->
num
; ++i)

500 
buf˘l
[
i
] = i+1;

501 
	`bds_•ö_lock
(&
ˇche_p
->
ˇche_lock
);

502 
¶ab_p
->
cﬁour_off£t
 = 
ˇche_p
->
cﬁour_√xt
;

503 i‡(
ˇche_p
->
cﬁour
)

504 
ˇche_p
->
cﬁour_√xt
 =

505 (
ˇche_p
->
cﬁour_√xt
 + 
cﬁour_off£t
) %

506 (
cﬁour
 * 
cﬁour_off£t
);

507 
	`bds_•ö_u∆ock
(&
ˇche_p
->
ˇche_lock
);

508 
¶ab_p
->
¶ab_magic
 = 
ˇche_p
->slab_magic;

509 
¶ab_p
->
‰ì
 = 0;

510 
¶ab_p
->
∑ª¡_ˇche
 = 
ˇche_p
;

511 
¶ab_p
->
ö_u£
 = 0;

512 
	`bds_•ö_öô
(&
¶ab_p
->
¶ab_lock
);

513 i‡(
	`OFF_SLAB
(
ˇche_p
))

514 
¶ab_p
->
s_mem
 = (*)((
öçå_t
)s_mem +

515 
¶ab_p
->
cﬁour_off£t
);

517 
¶ab_p
->
s_mem
 = (*)((
öçå_t
)s_mem +

518 
¶ab_p
->
cﬁour_off£t
 + 
ˇche_p
->
mgmt_size
);

524 
	`bds_muãx_lock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

525 
	`bds_li°_add
 (&
¶ab_p
->
√xt
, &(
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
));

526 
	`bds_muãx_u∆ock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

528 i‡(
ˇche_p
->
˘‹
) {

529 
i
=0; i<
ˇche_p
->
num
; ++i)

530 
ˇche_p
->
	`˘‹
(
¶ab_p
->
s_mem
 + 
i
*ˇche_p->
buf„r_size
);

534 
	}
}

540 
bds_öt
 
	$bds_ˇche_grow
 (
bds_ˇche_desc_t
 
ˇche_p
)

542 *
s_mem
 = 
NULL
, *
mgmt_mem
 = NULL;

544 
s_mem
 = 
	`__gë_‰ì_∑ges
(1 << 
ˇche_p
->
∑ge_‹dî
);

545 i‡(!
s_mem
) {

546  -
ENOMEM
;

548 i‡(
ˇche_p
->
Êags
 & 
CFLGS_OFF_SLAB
) {

549 
mgmt_mem
 = 
	`bds_Æloc
(
ˇche_p
->
mgmt_size
);

550 i‡(!
mgmt_mem
) {

551 
	`__ª˛aim_‰ì_∑ges
(
s_mem
, 1 << 
ˇche_p
->
∑ge_‹dî
);

552  -
ENOMEM
;

555 
mgmt_mem
 = 
s_mem
;

557 
	`__£tup_¶ab_desc
(
ˇche_p
, 
mgmt_mem
, 
s_mem
);

559 
	}
}

560 * 
	$bds_ˇche_Æloc
 (
bds_ˇche_desc_t
 
ˇche_p
)

562 
bds_¶ab_desc_t
 
¶ab_p
 = 
NULL
;

563 *
obj
 = 
NULL
;

564 #ifde‡
BDS_CONFIG_SMP


565 
	`¥ötf
 ("SMPálloc\n");

567 i‡(
	`likñy
(!
	`li°_em±y
(&
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
))) {

568 
¶ab_p
 = 
	`c⁄èöî_of
 (
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
.
√xt
,

569 
_¶ab_desc
, 
√xt
);

571 i‡(
	`u∆ikñy
(!
	`li°_em±y
(&
ˇche_p
->
¶ab_li°
.
¶abs_‰ì
))) {

572 
¶ab_p
 = 
	`c⁄èöî_of
 (
ˇche_p
->
¶ab_li°
.
¶abs_‰ì
.
√xt
,

573 
_¶ab_desc
, 
√xt
);

575 
	`bds_muãx_lock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

576 
	`bds_li°_dñ
(&
¶ab_p
->
√xt
);

577 
	`bds_li°_add
 (&
¶ab_p
->
√xt
,

578 &(
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
));

579 
	`bds_muãx_u∆ock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

582 i‡(
	`bds_ˇche_grow
(
ˇche_p
) < 0)

583  
NULL
;

585 
¶ab_p
 = 
	`c⁄èöî_of
(

586 
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
.
√xt
,

587 
_¶ab_desc
, 
√xt
);

593 
	`bds_•ö_lock
(&
¶ab_p
->
¶ab_lock
);

594 
obj
 = 
¶ab_p
->
s_mem
 + (¶ab_p->
‰ì
 * 
ˇche_p
->
buf„r_size
);

595 
bds_buf˘l_t
 *
buf˘l
 = (bds_buf˘l_à*)
	`BDS_BUFCTL
(
¶ab_p
);

596 
¶ab_p
->
‰ì
 = 
buf˘l
[slab_p->free];

597 
	`bds_•ö_u∆ock
(&
¶ab_p
->
¶ab_lock
);

601 i‡(
¶ab_p
->
‰ì
 =
ˇche_p
->
num
) {

602 
	`bds_muãx_lock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

603 
	`bds_li°_dñ
(&
¶ab_p
->
√xt
);

604 
	`bds_li°_add
 (&
¶ab_p
->
√xt
, &(
ˇche_p
->
¶ab_li°
.
¶abs_fuŒ
));

605 
	`bds_muãx_u∆ock
(&
ˇche_p
->
¶ab_li°
.
li°_lock
);

607  
obj
;

608 
	}
}

611 
	$bds_ˇche_‰ì
 (
bds_ˇche_desc_t
 
ˇche_p
, *
obj
)

613 
bds_buf˘l_t
 *
buf˘l
;

614 
bds_¶ab_desc_t
 
¶ab_p
;

615 
size_t
 
off£t
;

616 i‡(
	`OFF_SLAB
(
ˇche_p
)) {

620 i‡(
	`__föd_obje˘_ö_¶ab_li°
(

621 &
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
,

622 
obj
, &
¶ab_p
Ë=
BDS_FOUND
)

623 
found
;

624 i‡(
	`__föd_obje˘_ö_¶ab_li°
(&
ˇche_p
->
¶ab_li°
.
¶abs_fuŒ
,

625 
obj
, &
¶ab_p
Ë=
BDS_FOUND
)

626 
found
;

627 
îr‹
;

630 
size_t
 
∑ge_size
 = 
	`gë∑gesize
();

631 
öçå_t
 
mask
 = (~0 << 
	`__gë∑geshi·
());

632 
öçå_t
 
ôî
;

636 
ôî
 = ((
öçå_t
)
obj
 & 
mask
);

637 *((
bds_uöt
*)(
ôî
)Ë!
ˇche_p
->
¶ab_magic
 &&

638 
ôî
 > ((
öçå_t
)
obj
 - 
∑ge_size
);

639 
ôî
 -
∑ge_size
);

640 
¶ab_p
 = (
bds_¶ab_desc_t
)
ôî
;

642 
found
:

644 
off£t
 = ((
öçå_t
)
obj
 - (öçå_t)
¶ab_p
->
s_mem
)/
ˇche_p
->
buf„r_size
;

645 
buf˘l
 = (
bds_buf˘l_t
*Ë
	`BDS_BUFCTL
(
¶ab_p
);

646 
buf˘l
[
off£t
] = 
¶ab_p
->
‰ì
;

647 
¶ab_p
->
‰ì
 = 
off£t
;

649 
îr‹
:

650 
	`bds_îr‹
 ("ObjectÇotállocated by bdsálloc functions. Cannot free\n");

652 
	}
}

655 * 
	$bds_Æloc
(
size_t
 
size
)

657 
bds_ˇche_desc_t
 
ˇche_p
;

658 
ˇche_p
 = 
	`__föd_gíîÆ_ˇche
(
size
);

659 i‡(
	`u∆ikñy
(!
ˇche_p
))

660  
	`mÆloc
(
size
);

661  
	`bds_ˇche_Æloc
(
ˇche_p
);

662 
	}
}

664 * 
	$bds_Æloc_chunk
(
bds_ˇche_desc_t
 
ˇche_p
, 
bds_öt
 *
ƒ_objs
)

666 
bds_¶ab_desc_t
 
¶ab_p
;

671 i‡(
	`li°_em±y
(
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
.
√xt
))

674 i‡(
	`bds_ˇche_grow
(
ˇche_p
) < 0)

675  
NULL
;

677 
¶ab_p
 = 
	`c⁄èöî_of
(

678 
ˇche_p
->
¶ab_li°
.
¶abs_∑πül
.
√xt
,

679 
_¶ab_desc
, 
√xt
);

681 
¶ab_p
 = 
	`c⁄èöî_of
(
ˇche_p
->
¶ab_li°
.
¶abs_‰ì
.
√xt
,

682 
_¶ab_desc
, 
√xt
);

684 
	`bds_li°_dñ
(&
¶ab_p
->
√xt
);

685 
	`bds_li°_add
 (&
¶ab_p
->
√xt
, &(
ˇche_p
->
¶ab_li°
.
¶abs_fuŒ
));

686 *
ƒ_objs
 = 
ˇche_p
->
num
;

687  
¶ab_p
->
s_mem
;

688 
	}
}

690 
	$bds_‰ì_chunk
(
bds_ˇche_desc_t
 
ˇche_p
, *
fú°_obje˘
)

692 
	`bds_ˇche_‰ì
(
ˇche_p
,
fú°_obje˘
);

694 
	}
}

697 
	$bds_ˇche_desc_dump
(
bds_ˇche_desc_t
 
ˇche_p
)

699 i‡(!
ˇche_p
)

701 
	`bds_öfo
 ("*********************************\n");

702 
	`bds_öfo
 ("Pagêsize: %d\n",
	`gë∑gesize
());

703 
	`bds_öfo
 ("Name: %s\n",
ˇche_p
->
«me
);

704 
	`bds_öfo
 ("Fœgs: %#x\n",
ˇche_p
->
Êags
);

705 
	`bds_öfo
 ("Cﬁour: %d\n",
ˇche_p
->
cﬁour
);

706 
	`bds_öfo
 ("Cﬁou∏Off£t: %d\n",
ˇche_p
->
cﬁour_off£t
);

707 
	`bds_öfo
 ("Buf„∏size: %u\n",
ˇche_p
->
buf„r_size
);

708 
	`bds_öfo
 ("Cachê∑gê‹dî: %d\n",
ˇche_p
->
∑ge_‹dî
);

709 
	`bds_öfo
 ("Cachê¶ab size: %d\n",
ˇche_p
->
¶ab_size
);

710 
	`bds_öfo
 ("Obje˘†≥∏¶ab: %d\n",
ˇche_p
->
num
);

711 
	`bds_öfo
 ("CachêDes¸ùt‹ i¿ˇche_ˇche: %d\n", 
ˇche_ˇche
.
num
);

712 
	`bds_öfo
 ("¶ab des¯size: %lu\n",  (
_¶ab_desc
));

713 
	`bds_öfo
 ("mgmàsize: %d\n", 
ˇche_p
->
mgmt_size
);

714 
	`bds_öfo
 ("Cachêdes¯size: %d\n", (*
ˇche_p
));

715 
	`bds_öfo
 ("*********************************\n");

716 
	}
}

718 
	$bds_ˇche_chaö_dump
 ()

720 
bds_li°_hód_t
 
hód
 = 
ˇche_chaö
.
√xt
;

721 
bds_ˇche_desc_t
 
ˇche_p
;

723 
hód
 = 
ˇche_chaö
.
√xt
; head != &cache_chain; head = head->next) {

724 
ˇche_p
 = 
	`c⁄èöî_of
 (
hód
, 
_ˇche_desc
, 
√xt
);

725 i‡(
ˇche_p
) {

726 
	`bds_öfo
 ("Cache_p->«mê: %s\n", 
ˇche_p
->
«me
);

729 
	}
}

	@common/src/bds_slab/bds_sys.c

20 
	~<°dio.h
>

21 
	~<°döt.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

24 
	~<uni°d.h
>

25 
	~"bds_ty≥s.h
"

26 
	~"bds_sys.h
"

28 
bds_sy°em_öfo_t
 
	gg_sys_öfo
;

31 #ifde‡
_i386_


32 
ölöe


33 
	$˝uid
(*
óx
, *
ebx
,

34 *
ecx
, *
edx
)

37 
asm
 volatile("pushl %%ebx \n\t"

41 : "˜" (*
óx
),

42 "Ù" (*
ebx
),

43 "=c" (*
ecx
),

44 "=d" (*
edx
)

45 : "0" (*
óx
), "2" (*
ecx
));

46 
	}
}

47 #ñi‡
deföed
 
_x86_64_


48 
ölöe


49 
	$˝uid
(*
óx
, *
ebx
,

50 *
ecx
, *
edx
)

53 
asm
 volatile("cpuid"

54 : "˜" (*
óx
),

55 "=b" (*
ebx
),

56 "=c" (*
ecx
),

57 "=d" (*
edx
)

58 : "0" (*
óx
), "2" (*
ecx
));

59 
	}
}

63 
	$gëvíd‹id
()

65 #i‡
	`deföed
 (
USE_OS_INFO
Ë&& deföed (
_LINUX_
)

66 
FILE
 *
Â
 = 
	`f›í
("/proc/cpuinfo", "r");

67 i‡(
Â
) {

68 
buf
 [512];

69 !
	`„of
(
Â
)) {

70 
	`fgës
(
buf
, 512, 
Â
);

71 i‡(!
	`°∫cmp
(
buf
,"vendor_id", 9)) {

72 
	`°πok
(
buf
, ":\n\t");

73 i‡(
	`°r°r
(
buf
, "Intel"))

74 
g_sys_öfo
.
víd‹
 = "Intel";

75 i‡(
	`°r°r
(
buf
, "AMD"))

76 
g_sys_öfo
.
víd‹
 = "AMD";

80 
	`f˛o£
(
Â
);

83 
bds_uöt
 
óx
 = 0,
ebx
 = 0,
ecx
 = 0,
edx
 = 0;

84 *
p
[3];

85 
	`˝uid
(&
óx
,&
ebx
,&
ecx
,&
edx
);

86 i‡(
ebx
 =0x68747541 && 
ecx
 =0x444D4163 && 
edx
 == 0x69746E65)

87 
g_sys_öfo
.
víd‹
 = "AMD";

88 i‡(
ebx
 =0x756e6547 && 
ecx
 =0x6c65746ê&& 
edx
 == 0x49656e69)

89 
g_sys_öfo
.
víd‹
 = "Intel";

91 
	}
}

93 
ölöe


94 
bds_öt
 
	$__gë∑geshi·
()

96  (
	`ffs
(
	`gë∑gesize
()) - 1);

97 
	}
}

101 
bds_öt
 
	$__gë_ƒ_¥o˚ss‹s
()

103 
ƒ_¥o˚ss‹s
 = 0;

104 #i‡
	`deföed
 (
_x86_64_
Ë|| deföed (
_i386_
)

105 
bds_uöt
 
óx
 = 0x80000008,
ebx
 = 0,
ecx
 = 0,
edx
 = 0;

106 i‡(!
	`°rcmp
(
g_sys_öfo
.
víd‹
, "AMD")) {

107 
	`˝uid
(&
óx
,&
ebx
,&
ecx
,&
edx
);

108 
ƒ_¥o˚ss‹s
 = (
ecx
 & 0xff) + 1;

109 } i‡(!
	`°rcmp
(
g_sys_öfo
.
víd‹
, "Intel")) {

111 
óx
 = 1, 
ebx
 =0, 
ecx
 = 0, 
edx
 = 0;

112 
	`˝uid
 (&
óx
, &
ebx
, &
ecx
, &
edx
);

113 i‡(
óx
 < 4)

114 
ƒ_¥o˚ss‹s
 = 1;

116 
bds_öt
 
Àvñ
 = 0;

117 
bds_öt
 
max_thªads
 = 0;

118 
bds_öt
 
thªads_≥r_c‹e
 = 0;

120 
óx
 = 0xb, 
ebx
 = 0,
ecx
 = 
Àvñ
, 
edx
 = 0;

121 
	`˝uid
(&
óx
,&
ebx
,&
ecx
,&
edx
);

122 i‡(
ebx
) {

123 i‡(
Àvñ
 == 0)

124 
thªads_≥r_c‹e
 = 
ebx
 & 0xFFFF;

125 i‡(
Àvñ
 == 1) {

126 
max_thªads
 = 
ebx
&0xffff;

127 
ƒ_¥o˚ss‹s
 = 
max_thªads
 / 
thªads_≥r_c‹e
;

130 ++
Àvñ
;

131 } 
óx
 !0 || 
ebx
 != 0);

137 #i‡
	`deföed
 (
USE_OS_INFO
Ë&& deföed (
_LINUX_
)

138 
FILE
 *
Â
 = 
	`f›í
("/proc/cpuinfo", "r");

139 i‡(
Â
) {

140 
buf
 [512];

141 !
	`„of
(
Â
)) {

142 
	`fgës
(
buf
, 512, 
Â
);

143 i‡(!
	`°∫cmp
(
buf
,"cpu cores", 9)) {

144 
	`°πok
(
buf
, ":\n");

145 
ƒ_¥o˚ss‹s
 = 
	`©oi
(
	`°πok
(
NULL
, ":\n"));

149 
	`f˛o£
(
Â
);

152  
ƒ_¥o˚ss‹s
;

153 
	}
}

155 
bds_uöt
 
	$__gëˇchñöesize
()

157 
bds_uöt
 
ˇche_löe_size
 = 0;

158 #i‡
	`deföed
 (
USE_OS_INFO
Ë&& deföed (
_LINUX_
)

159 
FILE
 *
Â
 = 
	`f›í
("/sys/devices/system/cpu/cpu0/cache/index0/coherency_line_size",

161 i‡(
Â
) {

162 
	`fsˇnf
(
Â
,"%d",&
ˇche_löe_size
);

163 
	`f˛o£
(
Â
);

166 #i‡(
	`deföed
 (
_x86_64_
Ë|| deföed (
_i386_
)Ë&& !deföed (
USE_OS_INFO
)

167 
bds_uöt
 
óx
 = 0x80000005,
ebx
 = 0,
ecx
 = 0,
edx
 = 0;

168 
	`gëvíd‹id
();

169 i‡(!
	`°∫cmp
(
g_sys_öfo
.
víd‹
, "AMD",3)) {

170 
	`˝uid
(&
óx
,&
ebx
,&
ecx
,&
edx
);

171 
ˇche_löe_size
 = (
ecx
 & 0xff);

172 } i‡(!
	`°∫cmp
(
g_sys_öfo
.
víd‹
, "Intel",5)) {

173 
óx
 = 4, 
ecx
 = 0;

174 
	`˝uid
(&
óx
, &
ebx
, &
ecx
, &
edx
);

175 
ˇche_löe_size
 = (
ebx
 & 0xfff) + 1;

178  
ˇche_löe_size
;

179 
	}
}

182 
	$bds_gíî©e_sysöfo
()

184 
	`gëvíd‹id
();

185 
g_sys_öfo
.
∑ge_size
 = 
	`gë∑gesize
();

186 
g_sys_öfo
.
∑ge_shi·
 = 
	`__gë∑geshi·
();

187 
g_sys_öfo
.
ˇche_löe_size
 = 
	`__gëˇchñöesize
();

188 
g_sys_öfo
.
ƒ_¥o˚ss‹s
 = 
	`__gë_ƒ_¥o˚ss‹s
();

189 
	}
}

	@common/src/sstack_thread_pool.c

6 #i‡!
deföed
(
_REENTRANT
)

7 
	#_REENTRANT


	)

10 
	~<°döt.h
>

11 
	~"s°ack_thªad_poﬁ.h
"

12 
	~<°dlib.h
>

13 
	~<sig«l.h
>

14 
	~<î∫o.h
>

19 
	sjob
 {

20 
job
 *
	mjob_√xt
;

21 *(*
	mjob_func
)(*);

22 *
	mjob_¨g
;

23 } 
	tjob_t
;

28 
	sa˘ive
 {

29 
a˘ive
 *
	ma˘ive_√xt
;

30 
±hªad_t
 
	ma˘ive_tid
;

31 } 
	ta˘ive_t
;

36 
	ss°ack_thªad_poﬁ
 {

37 
s°ack_thªad_poﬁ_t
 *
	mpoﬁ_f‹w
;

38 
s°ack_thªad_poﬁ_t
 *
	mpoﬁ_back
;

39 
±hªad_muãx_t
 
	mpoﬁ_muãx
;

40 
±hªad_c⁄d_t
 
	mpoﬁ_busycv
;

41 
±hªad_c⁄d_t
 
	mpoﬁ_w‹kcv
;

42 
±hªad_c⁄d_t
 
	mpoﬁ_waôcv
;

43 
a˘ive_t
 *
	mpoﬁ_a˘ive
;

44 
job_t
 *
	mpoﬁ_hód
;

45 
job_t
 *
	mpoﬁ_èû
;

46 
±hªad_©å_t
 
	mpoﬁ_©å
;

47 
	mpoﬁ_Êags
;

48 
	mpoﬁ_lögî
;

49 
	mpoﬁ_möimum
;

50 
	mpoﬁ_maximum
;

51 
	mpoﬁ_¡hªads
;

52 
	mpoﬁ_idÀ
;

56 
	#POOL_WAIT
 0x01

	)

57 
	#POOL_DESTROY
 0x02

	)

60 
s°ack_thªad_poﬁ_t
 *
	gthr_poﬁs
 = 
NULL
;

63 
±hªad_muãx_t
 
	gthr_poﬁ_lock
 = 
PTHREAD_MUTEX_INITIALIZER
;

66 
sig£t_t
 
	gfûl£t
;

68 *
w‹kî_thªad
(*);

71 
	$¸óã_w‹kî
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

73 
sig£t_t
 
o£t
;

74 
îr‹
;

75 
±hªad_t
 
thªad
;

77 (Ë
	`±hªad_sigmask
(
SIG_SETMASK
, &
fûl£t
, &
o£t
);

78 
îr‹
 = 
	`±hªad_¸óã
(&
thªad
, &
poﬁ
->
poﬁ_©å
, 
w‹kî_thªad
,Öool);

79 (Ë
	`±hªad_sigmask
(
SIG_SETMASK
, &
o£t
, 
NULL
);

80  (
îr‹
);

81 
	}
}

92 
	$w‹kî_˛ónup
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

94 --
poﬁ
->
poﬁ_¡hªads
;

95 i‡(
poﬁ
->
poﬁ_Êags
 & 
POOL_DESTROY
) {

96 i‡(
poﬁ
->
poﬁ_¡hªads
 == 0)

97 (Ë
	`±hªad_c⁄d_brﬂdˇ°
(&
poﬁ
->
poﬁ_busycv
);

98 } i‡(
poﬁ
->
poﬁ_hód
 !
NULL
 &&

99 
poﬁ
->
poﬁ_¡hªads
 <Öoﬁ->
poﬁ_maximum
 &&

100 
	`¸óã_w‹kî
(
poﬁ
) == 0) {

101 
poﬁ
->
poﬁ_¡hªads
++;

103 (Ë
	`±hªad_muãx_u∆ock
(&
poﬁ
->
poﬁ_muãx
);

104 
	}
}

107 
	$nŸify_waôîs
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

109 i‡(
poﬁ
->
poﬁ_hód
 =
NULL
 &&Öoﬁ->
poﬁ_a˘ive
 == NULL) {

110 
poﬁ
->
poﬁ_Êags
 &~
POOL_WAIT
;

111 (Ë
	`±hªad_c⁄d_brﬂdˇ°
(&
poﬁ
->
poﬁ_waôcv
);

113 
	}
}

119 
	$job_˛ónup
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

121 
±hªad_t
 
my_tid
 = 
	`±hªad_£lf
();

122 
a˘ive_t
 *
a˘ivï
;

123 
a˘ive_t
 **
a˘ivïp
;

125 (Ë
	`±hªad_muãx_lock
(&
poﬁ
->
poﬁ_muãx
);

126 
a˘ivïp
 = &
poﬁ
->
poﬁ_a˘ive
;

127 (
a˘ivï
 = *
a˘ivïp
Ë!
NULL
;

128 
a˘ivïp
 = &
a˘ivï
->
a˘ive_√xt
) {

129 i‡(
a˘ivï
->
a˘ive_tid
 =
my_tid
) {

130 *
a˘ivïp
 = 
a˘ivï
->
a˘ive_√xt
;

134 i‡(
poﬁ
->
poﬁ_Êags
 & 
POOL_WAIT
)

135 
	`nŸify_waôîs
(
poﬁ
);

136 
	}
}

139 
	$w‹kî_thªad
(*
¨g
)

141 
s°ack_thªad_poﬁ_t
 *
poﬁ
 = (s°ack_thªad_poﬁ_à*)
¨g
;

142 
timedout
;

143 
job_t
 *
job
;

144 *(*
func
)(*);

145 
a˘ive_t
 
a˘ive
;

146 
time•ec
 
ts
;

152 (Ë
	`±hªad_muãx_lock
(&
poﬁ
->
poﬁ_muãx
);

153 
	`±hªad_˛ónup_push
(
w‹kî_˛ónup
, 
poﬁ
);

154 
a˘ive
.
a˘ive_tid
 = 
	`±hªad_£lf
();

161 (Ë
	`±hªad_sigmask
(
SIG_SETMASK
, &
fûl£t
, 
NULL
);

162 (Ë
	`±hªad_£tˇn˚…y≥
(
PTHREAD_CANCEL_DEFERRED
, 
NULL
);

163 (Ë
	`±hªad_£tˇn˚l°©e
(
PTHREAD_CANCEL_ENABLE
, 
NULL
);

165 
timedout
 = 0;

166 
poﬁ
->
poﬁ_idÀ
++;

167 i‡(
poﬁ
->
poﬁ_Êags
 & 
POOL_WAIT
)

168 
	`nŸify_waôîs
(
poﬁ
);

169 
poﬁ
->
poﬁ_hód
 =
NULL
 &&

170 !(
poﬁ
->
poﬁ_Êags
 & 
POOL_DESTROY
)) {

171 i‡(
poﬁ
->
poﬁ_¡hªads
 <poﬁ->
poﬁ_möimum
) {

172 (Ë
	`±hªad_c⁄d_waô
(&
poﬁ
->
poﬁ_w‹kcv
,

173 &
poﬁ
->
poﬁ_muãx
);

175 (Ë
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
ts
);

176 
ts
.
tv_£c
 +
poﬁ
->
poﬁ_lögî
;

177 i‡(
poﬁ
->
poﬁ_lögî
 == 0 ||

178 
	`±hªad_c⁄d_timedwaô
(&
poﬁ
->
poﬁ_w‹kcv
,

179 &
poﬁ
->
poﬁ_muãx
, &
ts
Ë=
ETIMEDOUT
) {

180 
timedout
 = 1;

185 
poﬁ
->
poﬁ_idÀ
--;

186 i‡(
poﬁ
->
poﬁ_Êags
 & 
POOL_DESTROY
)

188 i‡((
job
 = 
poﬁ
->
poﬁ_hód
Ë!
NULL
) {

189 
timedout
 = 0;

190 
func
 = 
job
->
job_func
;

191 
¨g
 = 
job
->
job_¨g
;

192 
poﬁ
->
poﬁ_hód
 = 
job
->
job_√xt
;

193 i‡(
job
 =
poﬁ
->
poﬁ_èû
)

194 
poﬁ
->
poﬁ_èû
 = 
NULL
;

195 
a˘ive
.
a˘ive_√xt
 = 
poﬁ
->
poﬁ_a˘ive
;

196 
poﬁ
->
poﬁ_a˘ive
 = &
a˘ive
;

197 (Ë
	`±hªad_muãx_u∆ock
(&
poﬁ
->
poﬁ_muãx
);

198 
	`±hªad_˛ónup_push
(
job_˛ónup
, 
poﬁ
);

199 
	`‰ì
(
job
);

203 (Ë
	`func
(
¨g
);

209 
	`±hªad_˛ónup_p›
(1);

211 i‡(
timedout
 && 
poﬁ
->
poﬁ_¡hªads
 >Öoﬁ->
poﬁ_möimum
) {

220 
	`±hªad_˛ónup_p›
(1);

221  (
NULL
);

222 
	}
}

225 
	$˛⁄e_©åibuãs
(
±hªad_©å_t
 *
√w_©å
,Öthªad_©å_à*
ﬁd_©å
)

227 
sched_∑øm
 
∑øm
;

228 *
addr
;

229 
size_t
 
size
;

230 
vÆue
;

232 (Ë
	`±hªad_©å_öô
(
√w_©å
);

234 i‡(
ﬁd_©å
 !
NULL
) {

235 (Ë
	`±hªad_©å_gë°ack
(
ﬁd_©å
, &
addr
, &
size
);

237 (Ë
	`±hªad_©å_£t°ack
(
√w_©å
, 
NULL
, 
size
);

239 (Ë
	`±hªad_©å_gësc›e
(
ﬁd_©å
, &
vÆue
);

240 (Ë
	`±hªad_©å_£tsc›e
(
√w_©å
, 
vÆue
);

242 (Ë
	`±hªad_©å_gëöhîôsched
(
ﬁd_©å
, &
vÆue
);

243 (Ë
	`±hªad_©å_£töhîôsched
(
√w_©å
, 
vÆue
);

245 (Ë
	`±hªad_©å_gëschedpﬁicy
(
ﬁd_©å
, &
vÆue
);

246 (Ë
	`±hªad_©å_£tschedpﬁicy
(
√w_©å
, 
vÆue
);

248 (Ë
	`±hªad_©å_gësched∑øm
(
ﬁd_©å
, &
∑øm
);

249 (Ë
	`±hªad_©å_£tsched∑øm
(
√w_©å
, &
∑øm
);

251 (Ë
	`±hªad_©å_gëgu¨dsize
(
ﬁd_©å
, &
size
);

252 (Ë
	`±hªad_©å_£tgu¨dsize
(
√w_©å
, 
size
);

256 (Ë
	`±hªad_©å_£tsc›e
(
√w_©å
, 
PTHREAD_SCOPE_SYSTEM
);

258 (Ë
	`±hªad_©å_£tdëach°©e
(
√w_©å
, 
PTHREAD_CREATE_DETACHED
);

259 
	}
}

261 
s°ack_thªad_poﬁ_t
 *

262 
	$s°ack_thªad_poﬁ_¸óã
(
uöt32_t
 
mö_thªads
, uöt32_à
max_thªads
,

263 
uöt32_t
 
lögî
, 
±hªad_©å_t
 *
©å
)

265 
s°ack_thªad_poﬁ_t
 *
poﬁ
;

267 (Ë
	`sigfûl£t
(&
fûl£t
);

269 i‡(
mö_thªads
 > 
max_thªads
 || max_threads < 1) {

270 
î∫o
 = 
EINVAL
;

271  (
NULL
);

274 i‡((
poﬁ
 = 
	`mÆloc
( (*poﬁ))Ë=
NULL
) {

275 
î∫o
 = 
ENOMEM
;

276  (
NULL
);

278 (Ë
	`±hªad_muãx_öô
(&
poﬁ
->
poﬁ_muãx
, 
NULL
);

279 (Ë
	`±hªad_c⁄d_öô
(&
poﬁ
->
poﬁ_busycv
, 
NULL
);

280 (Ë
	`±hªad_c⁄d_öô
(&
poﬁ
->
poﬁ_w‹kcv
, 
NULL
);

281 (Ë
	`±hªad_c⁄d_öô
(&
poﬁ
->
poﬁ_waôcv
, 
NULL
);

282 
poﬁ
->
poﬁ_a˘ive
 = 
NULL
;

283 
poﬁ
->
poﬁ_hód
 = 
NULL
;

284 
poﬁ
->
poﬁ_èû
 = 
NULL
;

285 
poﬁ
->
poﬁ_Êags
 = 0;

286 
poﬁ
->
poﬁ_lögî
 = 
lögî
;

287 
poﬁ
->
poﬁ_möimum
 = 
mö_thªads
;

288 
poﬁ
->
poﬁ_maximum
 = 
max_thªads
;

289 
poﬁ
->
poﬁ_¡hªads
 = 0;

290 
poﬁ
->
poﬁ_idÀ
 = 0;

299 
	`˛⁄e_©åibuãs
(&
poﬁ
->
poﬁ_©å
, 
©å
);

302 (Ë
	`±hªad_muãx_lock
(&
thr_poﬁ_lock
);

303 i‡(
thr_poﬁs
 =
NULL
) {

304 
poﬁ
->
poﬁ_f‹w
 =Öool;

305 
poﬁ
->
poﬁ_back
 =Öool;

306 
thr_poﬁs
 = 
poﬁ
;

308 
thr_poﬁs
->
poﬁ_back
->
poﬁ_f‹w
 = 
poﬁ
;

309 
poﬁ
->
poﬁ_f‹w
 = 
thr_poﬁs
;

310 
poﬁ
->
poﬁ_back
 = 
thr_poﬁs
->pool_back;

311 
thr_poﬁs
->
poﬁ_back
 = 
poﬁ
;

313 (Ë
	`±hªad_muãx_u∆ock
(&
thr_poﬁ_lock
);

315  (
poﬁ
);

316 
	}
}

319 
s°ack_thªad_poﬁ_queue
(
s°ack_thªad_poﬁ_t
 *
poﬁ
,

320 *(*
func
)(*), *
¨g
)

322 
job_t
 *
	gjob
;

324 i‡((
	gjob
 = 
mÆloc
( (*
job
))Ë=
NULL
) {

325 
î∫o
 = 
ENOMEM
;

328 
	gjob
->
	gjob_√xt
 = 
NULL
;

329 
	gjob
->
	gjob_func
 = 
func
;

330 
	gjob
->
	gjob_¨g
 = 
¨g
;

332 (Ë
±hªad_muãx_lock
(&
poﬁ
->
poﬁ_muãx
);

334 i‡(
	gpoﬁ
->
	gpoﬁ_hód
 =
NULL
)

335 
poﬁ
->
poﬁ_hód
 = 
job
;

337 
	gpoﬁ
->
	gpoﬁ_èû
->
	gjob_√xt
 = 
job
;

338 
	gpoﬁ
->
	gpoﬁ_èû
 = 
job
;

340 i‡(
	gpoﬁ
->
	gpoﬁ_idÀ
 > 0)

341 (Ë
±hªad_c⁄d_sig«l
(&
poﬁ
->
poﬁ_w‹kcv
);

342 i‡(
	gpoﬁ
->
	gpoﬁ_¡hªads
 <Öoﬁ->
	gpoﬁ_maximum
 &&

343 
¸óã_w‹kî
(
poﬁ
) == 0)

344 
poﬁ
->
poﬁ_¡hªads
++;

346 (Ë
±hªad_muãx_u∆ock
(&
poﬁ
->
poﬁ_muãx
);

351 
	$s°ack_thªad_poﬁ_waô
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

353 (Ë
	`±hªad_muãx_lock
(&
poﬁ
->
poﬁ_muãx
);

354 
	`±hªad_˛ónup_push
(
±hªad_muãx_u∆ock
, &
poﬁ
->
poﬁ_muãx
);

355 
poﬁ
->
poﬁ_hód
 !
NULL
 ||Öoﬁ->
poﬁ_a˘ive
 != NULL) {

356 
poﬁ
->
poﬁ_Êags
 |
POOL_WAIT
;

357 (Ë
	`±hªad_c⁄d_waô
(&
poﬁ
->
poﬁ_waôcv
, &poﬁ->
poﬁ_muãx
);

359 
	`±hªad_˛ónup_p›
(1);

360 
	}
}

363 
	$s°ack_thªad_poﬁ_de°roy
(
s°ack_thªad_poﬁ_t
 *
poﬁ
)

365 
a˘ive_t
 *
a˘ivï
;

366 
job_t
 *
job
;

368 (Ë
	`±hªad_muãx_lock
(&
poﬁ
->
poﬁ_muãx
);

369 
	`±hªad_˛ónup_push
(
±hªad_muãx_u∆ock
, &
poﬁ
->
poﬁ_muãx
);

372 
poﬁ
->
poﬁ_Êags
 |
POOL_DESTROY
;

373 (Ë
	`±hªad_c⁄d_brﬂdˇ°
(&
poﬁ
->
poﬁ_w‹kcv
);

376 
a˘ivï
 = 
poﬁ
->
poﬁ_a˘ive
;

377 
a˘ivï
 !
NULL
;

378 
a˘ivï
 =á˘ivï->
a˘ive_√xt
)

379 (Ë
	`±hªad_ˇn˚l
(
a˘ivï
->
a˘ive_tid
);

382 
poﬁ
->
poﬁ_a˘ive
 !
NULL
) {

383 
poﬁ
->
poﬁ_Êags
 |
POOL_WAIT
;

384 (Ë
	`±hªad_c⁄d_waô
(&
poﬁ
->
poﬁ_waôcv
, &poﬁ->
poﬁ_muãx
);

388 
poﬁ
->
poﬁ_¡hªads
 != 0)

389 (Ë
	`±hªad_c⁄d_waô
(&
poﬁ
->
poﬁ_busycv
, &poﬁ->
poﬁ_muãx
);

391 
	`±hªad_˛ónup_p›
(1);

396 (Ë
	`±hªad_muãx_lock
(&
thr_poﬁ_lock
);

397 i‡(
thr_poﬁs
 =
poﬁ
)

398 
thr_poﬁs
 = 
poﬁ
->
poﬁ_f‹w
;

399 i‡(
thr_poﬁs
 =
poﬁ
)

400 
thr_poﬁs
 = 
NULL
;

402 
poﬁ
->
poﬁ_back
->
poﬁ_f‹w
 =Öool->pool_forw;

403 
poﬁ
->
poﬁ_f‹w
->
poﬁ_back
 =Öool->pool_back;

405 (Ë
	`±hªad_muãx_u∆ock
(&
thr_poﬁ_lock
);

410 
job
 = 
poﬁ
->
poﬁ_hód
; job !
NULL
; job =Öool->pool_head) {

411 
poﬁ
->
poﬁ_hód
 = 
job
->
job_√xt
;

412 
	`‰ì
(
job
);

414 (Ë
	`±hªad_©å_de°roy
(&
poﬁ
->
poﬁ_©å
);

415 
	`‰ì
(
poﬁ
);

416 
	}
}

	@common/src/sstack_transport.c

20 
	~<°döt.h
>

21 
	~<s°ack_log.h
>

22 
	~<s°ack_å™•‹t.h
>

31 
ölöe
 

32 
	$s°ack_å™•‹t_ªgi°î
(
s°ack_å™•‹t_ty≥_t
 
ty≥
,

33 
s°ack_å™•‹t_t
 *
å™•‹t
,

34 
s°ack_å™•‹t_›s_t
 
›s
)

36 
å™•‹t
->
å™•‹t_›s
.
˛õ¡_öô
 = 
›s
.client_init;

37 
å™•‹t
->
å™•‹t_›s
.
rx
 = 
›s
.rx;

38 
å™•‹t
->
å™•‹t_›s
.
tx
 = 
›s
.tx;

39 
å™•‹t
->
å™•‹t_›s
.
£rvî_£tup
 = 
›s
.server_setup;

42 
	}
}

	@common/src/sstack_transport_tcp.c

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<uni°d.h
>

24 
	~<sys/î∫o.h
>

25 
	~<°rög.h
>

26 
	~<√tdb.h
>

27 
	~<sys/ty≥s.h
>

28 
	~<sys/sockë.h
>

29 
	~<sys/£À˘.h
>

30 
	~<√töë/ö.h
>

31 
	~<¨∑/öë.h
>

32 
	~<sys/ty≥s.h
>

33 
	~<sig«l.h
>

34 
	~<sys/waô.h
>

35 
	~<s°ack_å™•‹t.h
>

36 
	~<s°ack_log.h
>

38 
	#PORT
 "24496"

	)

39 
	#CONNECT_PORT
 24496

	)

41 
s°ack_˛õ¡_h™dÀ_t


42 
	$t˝_˛õ¡_öô
(
s°ack_å™•‹t_t
 *
å™•‹t
)

44 
sockaddr_ö
 
addr
 = { 0 };

45 
sockfd
 = -1;

49 
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

50 i‡(
sockfd
 == -1) {

51 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: Socket creation failed with"

52 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

56 
addr
.
sö_Ámûy
 = 
AF_INET
;

57 
addr
.
sö_addr
.
s_addr
 =

58 
	`öë_addr
(
å™•‹t
->
å™•‹t_hdr
.
t˝
.
ùv4_addr
);

59 
addr
.
sö_p‹t
 = 
å™•‹t
->
å™•‹t_hdr
.
t˝
.
p‹t
;

61 i‡(
	`c⁄√˘
(
sockfd
, (
sockaddr
 *Ë&
addr
, (addr)) < 0) {

62 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: Connect failed with"

63 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

67  
sockfd
;

68 
	}
}

72 
	$t˝_tx
(
s°ack_˛õ¡_h™dÀ_t
 
h™dÀ
, 
size_t
 
∑ylﬂd_Àn
, *
∑ylﬂd
)

74  
	`£nd
((Ë
h™dÀ
, 
∑ylﬂd
, 
∑ylﬂd_Àn
, 0);

75 
	}
}

78 
	$t˝_rx
(
s°ack_˛õ¡_h™dÀ_t
 
h™dÀ
, 
size_t
 
∑ylﬂd_Àn
, *
∑ylﬂd
)

80  
	`ªcv
((Ë
h™dÀ
, 
∑ylﬂd
, 
∑ylﬂd_Àn
, 0);

81 
	}
}

84 
	$t˝_£À˘
(
s°ack_˛õ¡_h™dÀ_t
 
h™dÀ
, 
uöt32_t
 
block_Êags
)

86 
fd_£t
 
ªadfds
, 
wrôefds
;

87 
timevÆ
 
timeout
;

88 
ªt
;

90 
	`FD_ZERO
(&
ªadfds
);

91 
	`FD_ZERO
(&
wrôefds
);

92 
	`FD_SET
(
h™dÀ
, &
ªadfds
);

93 
	`FD_SET
(
h™dÀ
, &
wrôefds
);

95 
timeout
.
tv_£c
 = 10;

96 
timeout
.
tv_u£c
 = 0;

99 
ªt
 = 
	`£À˘
(
h™dÀ
 + 1, &
ªadfds
, &
wrôefds
, 
NULL
, &
timeout
);

101 
	`ASSERT
((
ªt
 >= 0), "Select failed",1, 0, 0);

102 i‡(
ªt
 != 0) {

103 i‡(
	`FD_ISSET
(
h™dÀ
, &
ªadfds
) &&

104 (
block_Êags
 & 
READ_BLOCK_MASK
)) {

105  
READ_NO_BLOCK
;

106 } i‡(
	`FD_ISSET
(
h™dÀ
, &
wrôefds
) &&

107 (
block_Êags
 & 
WRITE_BLOCK_MASK
)) {

108  
WRITE_NO_BLOCK
;

112  
IGNORE_NO_BLOCK
;

113 
	}
}

116 
	$sigchld_h™dÀr
(
sig«l
)

118 
	`waôpid
(-1, 
NULL
, 
WNOHANG
) > 0);

119 
	}
}

122 
s°ack_˛õ¡_h™dÀ_t


123 
	$t˝_£rvî_£tup
(
s°ack_å™•‹t_t
 *
å™•‹t
)

125 
siga˘i⁄
 
ß
;

126 
sockaddr_ö
 
addr
;

127 
sockfd
 = -1;

128 
yes
 = 1;

130 
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0);

131 i‡(
sockfd
 == -1) {

132 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: Socket creation failed with"

133 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

137 i‡(
	`£tsock›t
(
sockfd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
yes
,

139 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: setsockopt failed with"

140 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

144 
addr
.
sö_Ámûy
 = 
AF_INET
;

145 
addr
.
sö_addr
.
s_addr
 =

146 
	`öë_addr
(
å™•‹t
->
å™•‹t_hdr
.
t˝
.
ùv4_addr
);

147 
addr
.
sö_p‹t
 = 
å™•‹t
->
å™•‹t_hdr
.
t˝
.
p‹t
;

149 i‡(
	`böd
(
sockfd
, (c⁄° 
sockaddr
 *Ë&
addr
, (addr)) == -1) {

150 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: bind failed with"

151 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

152 
	`˛o£
(
sockfd
);

156 i‡(
	`li°í
(
sockfd
, 
SSTACK_BACKLOG
) == -1) {

157 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s:Üisten failed with"

158 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

159 
	`˛o£
(
sockfd
);

164 
ß
.
ß_h™dÀr
 = 
sigchld_h™dÀr
;

165 
	`sigem±y£t
(&
ß
.
ß_mask
);

166 
ß
.
ß_Êags
 = 
SA_RESTART
;

167 i‡(
	`siga˘i⁄
(
SIGCHLD
, &
ß
, 
NULL
) == -1) {

168 
	`sfs_log
(
å™•‹t
->
˘x
, 
SFS_ERR
, "%s: sigaction failed with"

169 "îr‹ %d\n", 
__FUNCTION__
, 
î∫o
);

170 
	`˛o£
(
sockfd
);

175  (
s°ack_h™dÀ_t
Ë
sockfd
;

176 
	}
}

179 
s°ack_å™•‹t_t
 *
	$gë_t˝_å™•‹t
(*
addr
)

181 
s°ack_å™•‹t_t
 *
å™•‹t
 = 
NULL
;

183 
å™•‹t
 = 
	`Æloc_å™•‹t
();

185 
	`ASSERT
((
å™•‹t
 !
NULL
), "FailedÅoállocateÅcpÅransport", 1, 1, 0);

187 
å™•‹t
->
å™•‹t_ty≥
 = 
TCPIP
;

188 
å™•‹t
->
å™•‹t_hdr
.
t˝
.
ùv4
 = 1;

189 
	`°r˝y
(
å™•‹t
->
å™•‹t_hdr
.
t˝
.
ùv4_addr
, 
addr
);

190 
å™•‹t
->
å™•‹t_hdr
.
t˝
.
p‹t
 = 
	`ht⁄s
(
CONNECT_PORT
);

191 
å™•‹t
->
˘x
 = 
NULL
;

193 
å™•‹t
->
å™•‹t_›s
.
˛õ¡_öô
 = 
t˝_˛õ¡_öô
;

194 
å™•‹t
->
å™•‹t_›s
.
tx
 = 
t˝_tx
;

195 
å™•‹t
->
å™•‹t_›s
.
rx
 = 
t˝_rx
;

196 
å™•‹t
->
å™•‹t_›s
.
£À˘
 = 
t˝_£À˘
;

197 
å™•‹t
->
å™•‹t_›s
.
£rvî_£tup
 = 
t˝_£rvî_£tup
;

199  
å™•‹t
;

201 
	}
}

	@db/couchbase/include/couchdb.h

20 #i‚de‡
__COUCHDB_H__


21 
	#__COUCHDB_H__


	)

23 
	~<s°ack_db.h
>

25 
couchdb_¸óã
();

26 
couchdb_gë
(
uöt64_t
, *, 
size_t
);

27 
couchdb_£ekªad
(
uöt64_t
, *, 
size_t
, 
off_t
, );

28 
couchdb_upd©e
(
uöt64_t
, *, 
size_t
);

29 
couchdb_ö£π
(
uöt64_t
, *, 
size_t
);

30 
couchdb_Êush
();

31 
couchdb_dñëe
(
uöt64_t
);

32 
couchdb_de°roy
();

	@db/couchbase/src/couchdb.c

20 
	~<libcouchba£/couchba£.h
>

21 
	~<¢≠py-c.h
>

22 
	~<°rög.h
>

23 
	~<±hªad.h
>

24 
	~<sy¶og.h
>

25 
	~<î∫o.h
>

26 
	~<°dlib.h
>

27 
	~<öây≥s.h
>

28 
	~<couchdb.h
>

30 
	#DATA_SIZE
 1024

	)

31 
	#MAX_KEY_SIZE
 20

	)

32 
	#COUCHDB_LOG
(
f‹m©
, ...Ë
	`¥ötf
(f‹m©, ##
__VA_ARGS__
)

	)

34 
lcb_t
 
	gcouchdb_h™dÀ
 = 
NULL
;

35 *
	gvÆue
;

36 
	gnum_byãs
 = 0;

37 
±hªad_rwlock_t
 
	gdb_rwlock
;

46 
	$îr‹_cb
(
lcb_t
 
ö°™˚
, 
lcb_îr‹_t
 
îr‹
,

47 c⁄° *
îr_öfo
)

49 
	`COUCHDB_LOG
("Couchba£ o≥øti⁄Éº‹ %d duêtÿ%s\n", 
îr‹
, 
îr_öfo
);

50 
	}
}

52 
	$gë_cb
(
lcb_t
 
ö°™˚
, c⁄° *
cookõ
,

53 
lcb_îr‹_t
 
îr‹
, c⁄° 
lcb_gë_ª•_t
 *
ª•
)

55 i‡(
îr‹
 !
LCB_SUCCESS
) {

56 
	`COUCHDB_LOG
("Eº‹ gëtögÅhêíåy f‹ Key %"
PRId64
"",

57 *(
uöt64_t
 *)(
ª•
->
v
.
v0
.
key
));

60 
	`USYSLOG
(
LOG_INFO
, "%s: gë cb %†%d\n",
__FUNCTION__
,

61 (*)(
ª•
->
v
.
v0
.
byãs
), (Ëª•->v.v0.
nbyãs
);

62 
	`mem˝y
((*)
vÆue
, (*)(
ª•
->
v
.
v0
.
byãs
),Ñe•->v.v0.
nbyãs
);

63 
num_byãs
 = 
ª•
->
v
.
v0
.
nbyãs
;

64 
	}
}

67 
	$£t_cb
(
lcb_t
 
ö°™˚
, c⁄° *
cookõ
, 
lcb_°‹age_t
 
›î©i⁄
,

68 
lcb_îr‹_t
 
îr‹
, c⁄° 
lcb_°‹e_ª•_t
 *
ª•
)

71 i‡(
îr‹
 =
LCB_SUCCESS
) {

72 
	`COUCHDB_LOG
("Suc˚ssfuŒy in£πed vÆuêf‹ key %"
PRId64
"\n",

73 *(
uöt64_t
 *)(
ª•
->
v
.
v0
.
key
));

75 
	}
}

78 
	$ªmove_cb
(
lcb_t
 
ö°™˚
, c⁄° *
cookõ
, 
lcb_îr‹_t
 
îr‹
,

79 c⁄° 
lcb_ªmove_ª•_t
 *
ª•
)

82 i‡(
îr‹
 =
LCB_SUCCESS
) {

83 
	`COUCHDB_LOG
("Suc˚ssfuŒyÑemovedÅhêkey %"
PRId64
"\n",

84 *(
uöt64_t
 *)(
ª•
->
v
.
v0
.
key
));

86 
	}
}

89 
	$Êush_cb
(
lcb_t
 
ö°™˚
, c⁄° *
cookõ
,

90 c⁄° *
£rvî_íd±
, 
lcb_îr‹_t
 
îr‹
)

92 i‡(
îr‹
 =
LCB_SUCCESS
) {

93 
	`COUCHDB_LOG
("Successfully clearedÅhe database\n");

95 
	}
}

108 
	$couchdb_¸óã
()

110 
lcb_¸óã_°
 
¸óã_›t
;

111 
lcb_¸óã_io_›s_°
 
io_›ts
;

112 
lcb_îr‹_t
 
ªt
;

114 
io_›ts
.
vîsi⁄
 = 0;

115 
io_›ts
.
v
.
v0
.
ty≥
 = 
LCB_IO_OPS_DEFAULT
;

116 
io_›ts
.
v
.
v0
.
cookõ
 = 
NULL
;

118 
ªt
 = 
	`lcb_¸óã_io_›s
(&
¸óã_›t
.
v
.
v0
.
io
, &
io_›ts
);

119 i‡(
ªt
 !
LCB_SUCCESS
) {

120 
	`sy¶og
(
LOG_ERR
, "%s:FailedÅo create IO instance: %s\n",

121 
__FUNCTION__
, 
	`lcb_°ªº‹
(
NULL
, 
ªt
));

125 
	`mem£t
(&
¸óã_›t
, 0, (
lcb_¸óã_°
));

126 
¸óã_›t
.
v
.
v0
.
ho°
 = "127.0.0.1:8091";

127 
¸óã_›t
.
v
.
v0
.
u£r
 = "Administrator";

128 
¸óã_›t
.
v
.
v0
.
∑sswd
 = "123456";

129 
¸óã_›t
.
v
.
v0
.
buckë
 = "default";

131 
ªt
 = 
	`lcb_¸óã
(&
couchdb_h™dÀ
, &
¸óã_›t
);

133 i‡(
ªt
 !
LCB_SUCCESS
) {

134 
	`COUCHDB_LOG
("Error creating couchbase DB instance\n");

139 
vÆue
 = (*Ë
	`mÆloc
(
DATA_SIZE
 * ());

140 i‡(
NULL
 =
vÆue
) {

141 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅoállocate memory for value\n",

142 
__FUNCTION__
);

143  -
ENOMEM
;

145 
	`±hªad_rwlock_öô
(&
db_rwlock
, 
NULL
);

148 
	`lcb_£t_îr‹_ˇŒback
(
couchdb_h™dÀ
, 
îr‹_cb
);

149 
	`lcb_£t_gë_ˇŒback
(
couchdb_h™dÀ
, 
gë_cb
);

150 
	`lcb_£t_°‹e_ˇŒback
(
couchdb_h™dÀ
, 
£t_cb
);

151 
	`lcb_£t_Êush_ˇŒback
(
couchdb_h™dÀ
, 
Êush_cb
);

152 
	`lcb_£t_ªmove_ˇŒback
(
couchdb_h™dÀ
, 
ªmove_cb
);

155 
ªt
 = 
	`lcb_c⁄√˘
(
couchdb_h™dÀ
);

156 i‡(
ªt
 !
LCB_SUCCESS
) {

157 
	`COUCHDB_LOG
("Error connectingÅoÅhe cluster\n");

163 
	`lcb_waô
(
couchdb_h™dÀ
);

166 
	}
}

181 
	$couchdb_gë
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
)

183 *
db_key
;

184 
lcb_size_t
 
nkey
;

185 
lcb_îr‹_t
 
ªt
;

186 
lock_ªsu…
;

187 
lcb_gë_cmd_t
 
ôem
;

188 c⁄° 
lcb_gë_cmd_t
 *c⁄° 
gë_ôems
[] = { &
ôem
 };

189 *
com¥es£d_d©a
 = 
NULL
, *
uncom¥es£d_d©a
 = NULL;

190 
size_t
 
com¥es£d_Àn
 = 0, 
uncom¥es£d_Àn
 = 0;

191 
ªs
 = 0;

193 
	`mem£t
(&
ôem
, 0, (
lcb_gë_cmd_t
));

194 
db_key
 = (*Ë
	`mÆloc
(
MAX_KEY_SIZE
);

195 i‡(
NULL
 =
db_key
) {

196 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for db_key\n",

197 
__FUNCTION__
);

198  -
ENOMEM
;

200 
	`•rötf
(
db_key
,"%"
PRId64
"", 
key
);

201 
nkey
 = 
	`°æí
(
db_key
);

203 
ôem
.
v
.
v0
.
key
 = 
db_key
;

204 
ôem
.
v
.
v0
.
nkey
 =Çkey;

209 
lock_ªsu…
 = 
	`±hªad_rwlock_rdlock
(&
db_rwlock
);

210 i‡(
lock_ªsu…
 != 0) {

211 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅo obtainÑeadÜock. Error = %d\n",

212 
__FUNCTION__
, 
î∫o
);

213  -
î∫o
;

216 
ªt
 = 
	`lcb_gë
(
couchdb_h™dÀ
, 
NULL
, 1, 
gë_ôems
);

218 i‡(
ªt
 !
LCB_SUCCESS
) {

219 
	`sy¶og
(
LOG_INFO
, "%s:Ücb_mget failed withÉrror %d\n",

220 
__FUNCTION__
,
ªt
);

221 
	`‰ì
(
d©a
);

222 
d©a
 = 
NULL
;

226 
	`lcb_waô
(
couchdb_h™dÀ
);

228 
lock_ªsu…
 = 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

230 
com¥es£d_d©a
 = 
vÆue
;

231 
com¥es£d_Àn
 = 
num_byãs
;

232 i‡((
ªs
 = 
	`¢≠py_uncom¥es£d_Àngth
(
com¥es£d_d©a
, 
com¥es£d_Àn
,

233 &
uncom¥es£d_Àn
)Ë!
SNAPPY_OK
) {

234 
	`sy¶og
(
LOG_INFO
, "%s: C‹ru±ed d©a\n", 
__FUNCTION__
);

235  (-
ªs
);

238 i‡(
Àn
 > 
uncom¥es£d_Àn
) {

239 
	`sy¶og
(
LOG_ERR
, "%s:ÖartialÑeadÉrror\n",

240 
__FUNCTION__
);

244 
uncom¥es£d_d©a
 = (*Ë
	`mÆloc
 (
uncom¥es£d_Àn
);

245 i‡(
uncom¥es£d_d©a
 =
NULL
) {

246 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y f‹ uncom¥es£d_d©a\n", 
__FUNCTION__
);

247  (-
ENOMEM
);

250 i‡((
ªs
 = 
	`¢≠py_uncom¥ess
((c⁄° *)
com¥es£d_d©a
,

251 
com¥es£d_Àn
, 
uncom¥es£d_d©a
,

252 &
uncom¥es£d_Àn
)Ë=
SNAPPY_OK
) {

253 
	`mem˝y
((*)
d©a
, (*)
uncom¥es£d_d©a
, 
Àn
);

254 
	`‰ì
(
uncom¥es£d_d©a
);

255  (
Àn
);

258 
	`‰ì
(
uncom¥es£d_d©a
);

259  (-
ªs
);

260 
	}
}

263 
	$couchdb_£ekªad
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
off_t
 
off£t
,

264 
whí˚
)

266 *
db_key
 = 
NULL
;

267 
lcb_size_t
 
nkey
 = 0;

268 
lcb_îr‹_t
 
ªt
;

269 
lock_ªsu…
 = -1;

270 
lcb_gë_cmd_t
 
ôem
;

271 c⁄° 
lcb_gë_cmd_t
* c⁄° 
gë_ôems
[] = { &
ôem
 };

272 *
com¥es£d_d©a
 = 
NULL
, *
uncom¥es£d_d©a
 = NULL;

273 
size_t
 
com¥es£d_Àn
 = 0, 
uncom¥es£d_Àn
 = 0;

274 
ªs
 = 0;

276 
	`mem£t
(&
ôem
, 0, (
lcb_gë_cmd_t
));

277 
db_key
 = (*Ë
	`mÆloc
(
MAX_KEY_SIZE
);

278 i‡(
NULL
 =
db_key
) {

279 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅoállocate memory for db_key\n",

280 
__FUNCTION__
);

281  -
ENOMEM
;

283 
	`•rötf
(
db_key
,"%"
PRId64
"", 
key
);

284 
nkey
 = 
	`°æí
(
db_key
);

286 
ôem
.
v
.
v0
.
key
 = 
db_key
;

287 
ôem
.
v
.
v0
.
nkey
 =Çkey;

292 
lock_ªsu…
 = 
	`±hªad_rwlock_rdlock
(&
db_rwlock
);

293 i‡(
lock_ªsu…
 != 0) {

294 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅo obtainÑeadÜock. Error = %d \n",

295 
__FUNCTION__
, 
î∫o
);

296  -
î∫o
;

299 
ªt
 = 
	`lcb_gë
(
couchdb_h™dÀ
, 
NULL
, 1, 
gë_ôems
);

301 i‡(
ªt
 !
LCB_SUCCESS
) {

302 
	`‰ì
(
d©a
);

303 
d©a
 = 
NULL
;

307 
	`lcb_waô
(
couchdb_h™dÀ
);

309 
lock_ªsu…
 = 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

311 
com¥es£d_d©a
 = 
vÆue
;

312 
com¥es£d_Àn
 = 
num_byãs
;

313 i‡((
ªs
 = 
	`¢≠py_uncom¥es£d_Àngth
(
com¥es£d_d©a
, 
com¥es£d_Àn
,

314 &
uncom¥es£d_Àn
)Ë!
SNAPPY_OK
) {

315 
	`sy¶og
(
LOG_INFO
, "%s: C‹ru±ed d©a\n", 
__FUNCTION__
);

316  (-
ªs
);

319 i‡(
Àn
 > (
uncom¥es£d_Àn
 - 
off£t
)) {

320 
	`sy¶og
(
LOG_ERR
, "%s:ÖartialÑeadÉrror\n",

321 
__FUNCTION__
);

325 
uncom¥es£d_d©a
 = (*Ë
	`mÆloc
(
uncom¥es£d_Àn
);

326 i‡(
uncom¥es£d_d©a
 =
NULL
) {

327 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for "

328 "uncom¥es£d_d©a\n", 
__FUNCTION__
);

329  (-
ENOMEM
);

332 i‡((
ªs
 = 
	`¢≠py_uncom¥ess
((c⁄° *)
com¥es£d_d©a
,

333 
com¥es£d_Àn
, 
uncom¥es£d_d©a
,

334 &
uncom¥es£d_Àn
)Ë=
SNAPPY_OK
) {

335 
	`mem˝y
((*)
d©a
, (*)
uncom¥es£d_d©a
 + 
off£t
, 
Àn
);

336 
	`‰ì
(
uncom¥es£d_d©a
);

337  (
Àn
);

340 
	`‰ì
(
uncom¥es£d_d©a
);

341  (-
ªs
);

342 
	}
}

357 
	$couchdb_ö£π
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
)

359 *
db_key
;

360 
lcb_size_t
 
key_size
;

361 
lcb_îr‹_t
 
ªt
;

362 
lock_ªsu…
;

363 
lcb_°‹e_cmd_t
 
ôem
;

364 c⁄° 
lcb_°‹e_cmd_t
 *c⁄° 
°‹e_ôems
[] = { &
ôem
 };

365 *
com¥es£d_d©a
 = 
NULL
;

366 
size_t
 
com¥es£d_Àn
 = 0;

367 
ªs
 = 0;

369 
com¥es£d_Àn
 = 
	`¢≠py_max_com¥es£d_Àngth
(
Àn
);

370 
com¥es£d_d©a
 = (*Ë
	`mÆloc
(
com¥es£d_Àn
);

371 i‡(
com¥es£d_d©a
 =
NULL
) {

372 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for "

373 "com¥es£d_d©a\n", 
__FUNCTION__
);

374  (-
ENOMEM
);

377 i‡((
ªs
 = 
	`¢≠py_com¥ess
((c⁄° *)
d©a
, 
Àn
,

378 
com¥es£d_d©a
, &
com¥es£d_Àn
)Ë!
SNAPPY_OK
) {

379 
	`‰ì
(
com¥es£d_d©a
);

380  (-
ªs
);

383 
	`mem£t
(&
ôem
, 0, (
lcb_°‹e_cmd_t
));

384 
db_key
 = (*Ë
	`mÆloc
(
MAX_KEY_SIZE
);

385 i‡(
NULL
 =
db_key
) {

386 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅoállocate memory for db_key\n",

387 
__FUNCTION__
);

388  -
ENOMEM
;

390 
	`•rötf
(
db_key
,"%"
PRId64
"", 
key
);

391 
	`USYSLOG
(
LOG_INFO
, "%s: së1 %"
PRId64
" %†%s, \n",
__FUNCTION__
, 
key
,

392 (*Ë
d©a
, 
db_key
);

393 
key_size
 = 
	`°æí
(
db_key
);

395 
ôem
.
v
.
v0
.
key
 = 
db_key
;

396 
ôem
.
v
.
v0
.
nkey
 = 
key_size
;

397 
ôem
.
v
.
v0
.
byãs
 = 
com¥es£d_d©a
;

398 
ôem
.
v
.
v0
.
nbyãs
 = 
com¥es£d_Àn
;

399 
ôem
.
v
.
v0
.
›î©i⁄
 = 
LCB_ADD
;

402 
lock_ªsu…
 = 
	`±hªad_rwlock_wæock
(&
db_rwlock
);

403 i‡(
lock_ªsu…
 != 0) {

404 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo get writeÜockÉrror = %d \n",

405 
__FUNCTION__
, 
î∫o
);

406  -
î∫o
;

409 
ªt
 = 
	`lcb_°‹e
(
couchdb_h™dÀ
, 
NULL
, 1, 
°‹e_ôems
);

410 i‡(
ªt
 !
LCB_SUCCESS
) {

411 
	`sy¶og
(
LOG_ERR
, "%s:Ücb_store failed withÉrror %s\n",

412 
__FUNCTION__
, 
	`lcb_°ªº‹
(
couchdb_h™dÀ
, 
ªt
));

413  -
ªt
;

417 
	`lcb_waô
(
couchdb_h™dÀ
);

419 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

422 
	}
}

425 
	$couchdb_upd©e
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
)

427 *
db_key
 = 
NULL
;

428 
lcb_size_t
 
key_size
;

429 
lcb_îr‹_t
 
ªt
;

430 
lock_ªsu…
 = -1;

431 
lcb_°‹e_cmd_t
 
ôem
;

432 c⁄° 
lcb_°‹e_cmd_t
 *c⁄° 
°‹e_ôems
[] = { &
ôem
 };

433 *
com¥es£d_d©a
 = 
NULL
;

434 
size_t
 
com¥es£d_Àn
 = 0;

435 
ªs
 = 0;

437 
com¥es£d_Àn
 = 
	`¢≠py_max_com¥es£d_Àngth
(
Àn
);

438 
com¥es£d_d©a
 = (*)
	`mÆloc
(
com¥es£d_Àn
);

439 i‡(
com¥es£d_d©a
 =
NULL
) {

440 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y f‹ com¥es£d_d©a\n", 
__FUNCTION__
);

441  (-
ENOMEM
);

444 i‡((
ªs
 = 
	`¢≠py_com¥ess
((c⁄° *)
d©a
, 
Àn
,

445 
com¥es£d_d©a
, &
com¥es£d_Àn
)Ë!
SNAPPY_OK
) {

446 
	`‰ì
(
com¥es£d_d©a
);

447  (-
ªs
);

450 
	`mem£t
(&
ôem
, 0, (
lcb_°‹e_cmd_t
));

451 
db_key
 = (*Ë
	`mÆloc
(
MAX_KEY_SIZE
);

452 i‡(
NULL
 =
db_key
) {

453 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for db_key\n",

454 
__FUNCTION__
);

455  -
ENOMEM
;

457 
	`•rötf
(
db_key
,"%"
PRId64
"", 
key
);

458 
	`USYSLOG
(
LOG_INFO
, "%s: së1 %"
PRId64
" %†%s, \n", 
__FUNCTION__
, 
key
,

459 (*Ë
d©a
, 
db_key
);

460 
key_size
 = 
	`°æí
(
db_key
);

462 
ôem
.
v
.
v0
.
key
 = 
db_key
;

463 
ôem
.
v
.
v0
.
nkey
 = 
key_size
;

464 
ôem
.
v
.
v0
.
byãs
 = 
com¥es£d_d©a
;

465 
ôem
.
v
.
v0
.
nbyãs
 = 
com¥es£d_Àn
;

466 
ôem
.
v
.
v0
.
›î©i⁄
 = 
LCB_REPLACE
;

468 
lock_ªsu…
 = 
	`±hªad_rwlock_wæock
(&
db_rwlock
);

469 i‡(
lock_ªsu…
 != 0) {

470 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo obtain writeÜock. Error = %d\n",

471 
__FUNCTION__
, 
î∫o
);

472  -
î∫o
;

475 
ªt
 = 
	`lcb_°‹e
(
couchdb_h™dÀ
, 
NULL
, 1, 
°‹e_ôems
);

476 i‡(
ªt
 !
LCB_SUCCESS
) {

477 
	`sy¶og
(
LOG_ERR
, "%s:Ücb_store failed withÉrror %s\n",

478 
__FUNCTION__
, 
	`lcb_°ªº‹
(
couchdb_h™dÀ
, 
ªt
));

479  -
ªt
;

482 
	`lcb_waô
(
couchdb_h™dÀ
);

484 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

488 
	}
}

498 
	$couchdb_Êush
()

500 
lcb_îr‹_t
 
ªt
;

501 
lock_ªsu…
;

502 
lcb_Êush_cmd_t
 *
cmd
 = 
	`mÆloc
((*cmd));

503 c⁄° 
lcb_Êush_cmd_t
 *c⁄° 
Êush_cmd
[] = { 
cmd
 };

505 
cmd
->
vîsi⁄
 = 0;

507 
lock_ªsu…
 = 
	`±hªad_rwlock_wæock
(&
db_rwlock
);

508 i‡(
lock_ªsu…
 != 0) {

509 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo obtain writelock. Error = %d\n",

510 
__FUNCTION__
, 
î∫o
);

511  -
î∫o
;

514 
ªt
 = 
	`lcb_Êush
(
couchdb_h™dÀ
, 
NULL
, 1, 
Êush_cmd
);

515 i‡(
ªt
 !
LCB_SUCCESS
) {

516 
	`sy¶og
(
LOG_ERR
, "%s:Ücb_flush failed withÉrror %s\n",

517 
__FUNCTION__
, 
	`lcb_°ªº‹
(
couchdb_h™dÀ
, 
ªt
));

518  -
ªt
;

522 
	`lcb_waô
(
couchdb_h™dÀ
);

524 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

525 
	`USYSLOG
(
LOG_INFO
, "\n%s:ÜÊushed siuc˚ss\n", 
__FUNCTION__
);

528 
	}
}

541 
	$couchdb_dñëe
(
uöt64_t
 
key
)

543 *
db_key
;

544 
size_t
 
key_size
;

545 
lcb_îr‹_t
 
ªt
;

546 
lock_ªsu…
;

547 
lcb_ªmove_cmd_t
 
ôem
;

548 c⁄° 
lcb_ªmove_cmd_t
 *c⁄° 
dñ_ôems
[] = { &
ôem
 };

550 
	`mem£t
(&
ôem
, 0, (
lcb_ªmove_cmd_t
));

551 
db_key
 = (*Ë
	`mÆloc
(
MAX_KEY_SIZE
);

552 i‡(
NULL
 =
db_key
) {

553 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for db_key \n",

554 
__FUNCTION__
);

555  -
ENOMEM
;

557 
	`•rötf
(
db_key
,"%"
PRId64
"", 
key
);

558 
key_size
 = 
	`°æí
(
db_key
);

559 
lock_ªsu…
 = 
	`±hªad_rwlock_wæock
(&
db_rwlock
);

560 i‡(
lock_ªsu…
 != 0) {

561 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅo obtain writeÜock. Error = %d\n",

562 
__FUNCTION__
, 
î∫o
);

563  -
î∫o
;

566 
ôem
.
v
.
v0
.
key
 = 
db_key
;

567 
ôem
.
v
.
v0
.
nkey
 = 
key_size
;

570 
ªt
 = 
	`lcb_ªmove
(
couchdb_h™dÀ
, 
NULL
, 1, 
dñ_ôems
);

571 i‡(
ªt
 !
LCB_SUCCESS
) {

572 
	`sy¶og
(
LOG_ERR
, "%s:Ücb_remove failed withÉrror %s\n",

573 
__FUNCTION__
, 
	`lcb_°ªº‹
(
couchdb_h™dÀ
, 
ªt
));

574  -
ªt
;

578 
	`lcb_waô
(
couchdb_h™dÀ
);

580 
	`±hªad_rwlock_u∆ock
(&
db_rwlock
);

583 
	}
}

593 
	$couchdb_de°roy
()

596 
	`couchdb_Êush
();

598 
	`lcb_de°roy
(
couchdb_h™dÀ
);

601 
	}
}

	@db/filesdb/include/files_db.h

20 #i‚de‡
__FILES_DB__


21 
	#__FILES_DB__


	)

23 
	~<s°ack_db.h
>

25 
fûes_db_›í
();

26 
fûes_db_˛o£
();

27 
fûes_db_öô
();

28 
fûes_db_ö£π
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

29 
fûes_db_£ekªad
(
uöt64_t
 , *, 
size_t
 , 
off_t
 ,

30 , 
db_ty≥_t
);

31 
fûes_db_upd©e
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

32 
fûes_db_gë
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

33 
fûes_db_dñëe
(
uöt64_t
);

34 
fûes_db_˛ónup
();

	@db/filesdb/src/files_db.c

20 
	~<°dio.h
>

21 
	~<zlib.h
>

22 
	~<öây≥s.h
>

23 
	~<sys/°©.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<î∫o.h
>

26 
	~<uni°d.h
>

27 
	~<±hªad.h
>

28 
	~<s°ack_db.h
>

30 
	#DB_DIR
 "/v¨/tmp/.sfs_db"

	)

31 
	#NUM_DIRS
 1024

	)

32 
	#FNAME_LEN
 128

	)

34 
±hªad_muãx_t
 
	gfûes_db_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

37 
	$hash‚
(
uöt64_t
 
key
)

39  (
key
 % 
NUM_DIRS
);

40 
	}
}

45 
	$fûes_db_›í
()

48 
	}
}

51 
	$fûes_db_˛o£
()

54 
	}
}

60 
	$fûes_db_öô
()

62 
ªt
 = -1;

63 
i
;

64 
dú«me
[
FNAME_LEN
];

66 
ªt
 = 
	`mkdú
(
DB_DIR
, 0755);

67 i‡(
ªt
 != 0) {

68 
	`≥º‹
("mkdir: ");

69 
out
;

72 
i
 = 0; i < 
NUM_DIRS
; i++) {

73 
	`•rötf
(
dú«me
, "%s/%d", 
DB_DIR
, 
i
);

74 
ªt
 = 
	`mkdú
(
dú«me
, 0755);

75 i‡(
ªt
 != 0) {

76 
	`≥º‹
("mkdir: ");

77 
out
;

80 
out
:

81  
ªt
;

82 
	}
}

86 
	$fûes_db_ö£π
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

88 
fûíame
[
FNAME_LEN
];

89 
gzFûe
 
outfûe
;

90 
dú
 = 
	`hash‚
(
key
);

91 
ªt
 = -1;

93 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

94 
	`•rötf
(
fûíame
, "%s/%d/%"
PRIu64
".gz", 
DB_DIR
, 
dú
, 
key
);

95 
outfûe
 = 
	`gz›í
–
fûíame
, "wb");

96 i‡(
NULL
 =
outfûe
) {

97 
	`sy¶og
(
LOG_ERR
, "%s: gzopen failed for %sÉrror %d\n",

98 
__FUNCTION__
, 
fûíame
, 
î∫o
);

99 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

100  -
î∫o
;

102 
	`USYSLOG
(
LOG_ERR
, "%s: Cª©ed fûê%s\n", 
__FUNCTION__
, 
fûíame
);

103 
ªt
 = 
	`gzwrôe
(
outfûe
, 
d©a
, 
Àn
);

104 i‡(
ªt
 == 0) {

105 
	`sy¶og
(
LOG_ERR
, "%s: gzwrite failed for %sÉrror %d \n",

106 
__FUNCTION__
, 
fûíame
, 
î∫o
);

107 
	`gz˛o£
(
outfûe
);

108 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

109  -
î∫o
;

110 } i‡(
ªt
 !
Àn
) {

111 
	`sy¶og
(
LOG_ERR
, "%s: Partial write done for %sÉrror %d\n",

112 
__FUNCTION__
, 
fûíame
, 
î∫o
);

113 
	`gz˛o£
(
outfûe
);

114 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

115  -
î∫o
;

118 
	`gz˛o£
(
outfûe
);

119 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

122 
	}
}

128 
	$fûes_db_£ekªad
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
off_t
 
off£t
,

129 
whí˚
, 
db_ty≥_t
 
ty≥
)

131 
fûíame
[
FNAME_LEN
];

132 
gzFûe
 
öfûe
;

133 
dú
 = 
	`hash‚
(
key
);

134 
z_off_t
 
off
;

135 
size_t
 
Àn1
 = 0;

137 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

138 
	`•rötf
(
fûíame
, "%s/%d/%"
PRIu64
".gz", 
DB_DIR
, 
dú
, 
key
);

139 
öfûe
 = 
	`gz›í
(
fûíame
, "rb");

140 i‡(
NULL
 =
öfûe
) {

141 
	`sy¶og
(
LOG_ERR
, "%s: gzopen failed for %sÉrror %d\n",

142 
__FUNCTION__
, 
fûíame
, 
î∫o
);

143 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

144  -
î∫o
;

146 
off
 = 
	`gz£ek
(
öfûe
, 
off£t
, 
whí˚
);

147 i‡(
off
 == -1) {

148 
	`sy¶og
(
LOG_ERR
, "%s: gzseek failed for %s withÉrror %d offset %d\n",

149 
__FUNCTION__
, 
fûíame
, 
î∫o
, (Ë
off£t
);

150 
	`gz˛o£
(
öfûe
);

151 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

152  -
î∫o
;

154 
Àn1
 = 
	`gzªad
(
öfûe
, 
d©a
, 
Àn
);

155 i‡(
Àn1
 == -1) {

156 
	`sy¶og
(
LOG_ERR
, "%s: gzread failed for %sÉrror %d \n",

157 
__FUNCTION__
, 
fûíame
, 
î∫o
);

158 
	`gz˛o£
(
öfûe
);

159 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

160  -
î∫o
;

161 } i‡(
Àn
 !
Àn1
) {

162 
	`sy¶og
(
LOG_ERR
, "%s: PartialÑead done for %sÉrror %d"

164 
__FUNCTION__
, 
fûíame
, 
î∫o
, (Ë
Àn1
, ()
Àn
);

165 
	`gz˛o£
(
öfûe
);

166 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

167  -
î∫o
;

169 
	`gz˛o£
(
öfûe
);

170 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

172  
Àn1
;

173 
	}
}

177 
	$fûes_db_upd©e
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

179 
fûíame
[
FNAME_LEN
];

180 
gzFûe
 
outfûe
;

181 
dú
 = 
	`hash‚
(
key
);

182 
ªt
 = -1;

183 
off_t
 
off
 = 0;

185 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

186 
	`•rötf
(
fûíame
, "%s/%d/%"
PRIu64
".gz", 
DB_DIR
, 
dú
, 
key
);

191 
outfûe
 = 
	`gz›í
(
fûíame
, "wb");

192 i‡(
NULL
 =
outfûe
) {

193 
	`sy¶og
(
LOG_ERR
, "%s: gzopen failed for %sÉrror %d\n",

194 
__FUNCTION__
, 
fûíame
, 
î∫o
);

195 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

196  -
î∫o
;

198 
off
 = 
	`gz£ek
(
outfûe
, 0, 
SEEK_SET
);

199 i‡(
off
 == -1) {

200 
	`sy¶og
(
LOG_ERR
, "%s: gzseek failed for %s withÉrror %d offset %d\n",

201 
__FUNCTION__
, 
fûíame
, 
î∫o
, 0);

202 
	`gz˛o£
(
outfûe
);

203 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

204  -
î∫o
;

206 
ªt
 = 
	`gzwrôe
(
outfûe
, 
d©a
, 
Àn
);

207 i‡(
ªt
 == 0) {

208 
	`sy¶og
(
LOG_ERR
, "%s: gzwrite failed for %sÉrror %d \n",

209 
__FUNCTION__
, 
fûíame
, 
î∫o
);

210 
	`gz˛o£
(
outfûe
);

211 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

212  -
î∫o
;

213 } i‡(
ªt
 !
Àn
) {

214 
	`sy¶og
(
LOG_ERR
, "%s: gzwrite isÖartial for %sÉrror %d"

216 
__FUNCTION__
, 
fûíame
, 
î∫o
, 
ªt
, (Ë
Àn
);

217 
	`gz˛o£
(
outfûe
);

218 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

219  -
î∫o
;

221 
	`gz˛o£
(
outfûe
);

222 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

225 
	}
}

228 
	$fûes_db_gë
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

230 
fûíame
[
FNAME_LEN
];

231 
gzFûe
 
öfûe
;

232 
dú
 = 
	`hash‚
(
key
);

233 
size_t
 
Àn1
 = 0;

235 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

236 
	`•rötf
(
fûíame
, "%s/%d/%"
PRIu64
".gz", 
DB_DIR
, 
dú
, 
key
);

237 
öfûe
 = 
	`gz›í
(
fûíame
, "rb");

238 i‡(
NULL
 =
öfûe
) {

239 
	`sy¶og
(
LOG_ERR
, "%s: gzopen failed for %sÉrror %d\n",

240 
__FUNCTION__
, 
fûíame
, 
î∫o
);

241 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

242  -
î∫o
;

244 
Àn1
 = 
	`gzªad
(
öfûe
, 
d©a
, 
Àn
);

245 i‡(
Àn1
 == -1) {

246 
	`sy¶og
(
LOG_ERR
, "%s: gzªad faûed f‹ %†îr‹ %d\n", 
__FUNCTION__
,

247 
fûíame
, 
î∫o
);

248 
	`gz˛o£
(
öfûe
);

249 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

250  -
î∫o
;

251 } i‡(
Àn1
 !
Àn
) {

252 
	`sy¶og
(
LOG_ERR
, "%s: gzread isÖartial for %sÉrror %d"

254 
__FUNCTION__
, 
fûíame
, 
î∫o
, (Ë
Àn1
, (Ë
Àn
);

255 
	`gz˛o£
(
öfûe
);

256 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

257  -
î∫o
;

259 
	`gz˛o£
(
öfûe
);

260 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

262  
Àn1
;

263 
	}
}

266 
	$fûes_db_dñëe
(
uöt64_t
 
key
)

268 
fûíame
[
FNAME_LEN
];

269 
dú
 = 
	`hash‚
(
key
);

270 
ªt_°©us
 = -1;

272 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

273 
	`•rötf
(
fûíame
, "%s/%d/%"
PRIu64
".gz", 
DB_DIR
, 
dú
, 
key
);

274 
ªt_°©us
 = 
	`u∆ök
(
fûíame
);

275 i‡(
ªt_°©us
 != 0) {

276 
	`sy¶og
(
LOG_ERR
, "%s: FaûedÅÿdñëê%†îr‹ %d\n", 
__FUNCTION__
,

277 
fûíame
, 
î∫o
);

278 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

279  -
î∫o
;

282 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

285 
	}
}

288 
	$fûes_db_˛ónup
()

290 
comm™d
[
PATH_MAX
 + 8];

291 
ªt_°©us
 = -1;

293 
	`±hªad_muãx_lock
(&
fûes_db_muãx
);

294 
	`•rötf
(
comm™d
, "rm -r‡%s", 
DB_DIR
);

295 
ªt_°©us
 = 
	`sy°em
(
comm™d
);

296 i‡(
ªt_°©us
 == -1) {

297 
	`USYSLOG
(
LOG_ERR
, "%s: Shell command is incomplete %s\n",

298 
__FUNCTION__
, 
comm™d
);

299 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

301 
	`USYSLOG
(
LOG_INFO
, "%s: system() succeeded withÑeturn status %d\n",

302 
__FUNCTION__
, 
	`WEXITSTATUS
(
ªt_°©us
));

303 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

306 
	`±hªad_muãx_u∆ock
(&
fûes_db_muãx
);

307  
ªt_°©us
;

308 
	}
}

	@db/mongo/include/mongo_db.h

20 #i‚de‡
__MONGO_DB_H__


21 
	#__MONGO_DB_H__


	)

23 
	~<bs⁄.h
>

24 
	~<m⁄go.h
>

25 
	~<s°ack_db.h
>

26 
	#DB_NAME
 "s°ack_db"

	)

27 
	#POLICY_COLLECTION
 "pﬁicy"

	)

28 
	#INODE_COLLECTION
 "öodes"

	)

29 
	#JOURNAL_COLLECTION
 "jou∫Æ"

	)

30 
	#CONFIG_COLLECTION
 "c⁄fig"

	)

31 
	#MONGO_IP
 "127.0.0.1"

32 
	#MONGO_PORT
 27017

	)

33 
	#NAME_SIZE
 32

	)

34 
	#REC_NAME_SIZE
 32

	)

36 
m⁄go_db_›í
();

37 
m⁄go_db_˛o£
();

38 
m⁄go_db_öô
();

39 
m⁄go_db_ö£π
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

40 
m⁄go_db_£ekªad
(
uöt64_t
 , *, 
size_t
 , 
off_t
 ,

41 , 
db_ty≥_t
);

42 
m⁄go_db_upd©e
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

43 
m⁄go_db_gë
(
uöt64_t
 , * , 
size_t
 , 
db_ty≥_t
);

44 
m⁄go_db_dñëe
(
uöt64_t
);

45 
m⁄go_db_˛ónup
();

47 
ölöe


48 
	$c⁄°ru˘_db_«me
(*
«me
, 
db_ty≥_t
 
ty≥
)

50 
ªt
 = 0;

52 
	`mem£t
(
«me
, '\0', 
NAME_SIZE
);

53 
	`°r˝y
(
«me
, 
DB_NAME
);

54 
	`°rˇt
(
«me
, ".");

56 
ty≥
) {

57 
POLICY_TYPE
:

58 
	`°rˇt
(
«me
, 
POLICY_COLLECTION
);

60 
INODE_TYPE
:

61 
	`°rˇt
(
«me
, 
INODE_COLLECTION
);

63 
JOURNAL_TYPE
:

64 
	`°rˇt
(
«me
, 
JOURNAL_COLLECTION
);

66 
CONFIG_TYPE
:

67 
	`°rˇt
(
«me
, 
CONFIG_COLLECTION
);

70 
ªt
 = -1;

73  
ªt
;

74 
	}
}

76 
ölöe


77 
	$c⁄°ru˘_ªc‹d_«me
(*
«me
, 
db_ty≥_t
 
ty≥
)

79 
ªt
 = 0;

81 
	`mem£t
(
«me
, '\0', 
REC_NAME_SIZE
);

83 
ty≥
) {

84 
POLICY_TYPE
:

85 
	`°r˝y
(
«me
, "policy_struct");

87 
INODE_TYPE
:

88 
	`°r˝y
(
«me
, "inode_struct");

90 
JOURNAL_TYPE
:

91 
	`°r˝y
(
«me
, "journal_struct");

93 
CONFIG_TYPE
:

94 
	`°r˝y
(
«me
, "config_struct");

97 
ªt
 = -1;

100  
ªt
;

101 
	}
}

113 
ölöe


114 
	$m⁄go_¸óã_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

115 c⁄° *
cﬁÀ˘i⁄
, 
size
, 
bs⁄
 *
out
 )

117 
bs⁄
 
b
[1];

118 
ªsu…
;

120 
	`bs⁄_öô
–
b
 );

121 
	`bs⁄_≠≥nd_°rög
–
b
, "¸óã", 
cﬁÀ˘i⁄
 );

122 
	`bs⁄_≠≥nd_boﬁ
–
b
, "capped", 0 );

123 
	`bs⁄_≠≥nd_öt
–
b
, "size", 
size
 );

124 
	`bs⁄_föish
–
b
 );

126 
ªsu…
 = 
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, 
b
, 
out
 );

128 
	`bs⁄_de°roy
–
b
 );

130  
ªsu…
;

131 
	}
}

	@db/mongo/src/mongo_db.c

20 
	~<°dio.h
>

21 
	~<öây≥s.h
>

22 
	~<sys/°©.h
>

23 
	~<sys/ty≥s.h
>

24 
	~<î∫o.h
>

25 
	~<uni°d.h
>

26 
	~<±hªad.h
>

27 
	~<m⁄go_db.h
>

28 
	~<s°ack_log.h
>

30 
±hªad_muãx_t
 
	gm⁄go_db_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

31 
m⁄go
 
	gc⁄n
[1];

32 
log_˘x_t
 *
sfs_˘x
;

38 
	$m⁄go_db_›í
()

41 
	}
}

44 
	$m⁄go_db_˛o£
()

47 
	}
}

53 
	$m⁄go_db_öô
()

55 
ªt
 = -1;

58 
ªt
 = 
	`m⁄go_˛õ¡
(
c⁄n
, 
MONGO_IP
, 
MONGO_PORT
);

59 i‡(
ªt
 !
MONGO_OK
) {

60 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅo connectÅo mongodb. "

61 "Eº‹ = %d\n", 
__FUNCTION__
, 
ªt
);

65 #ifde‡
MONGO_TEST


68 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
POLICY_COLLECTION
, 
NULL
);

69 i‡(
ªt
 !
MONGO_OK
) {

70 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

72 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

75 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
INODE_COLLECTION
, 
NULL
);

76 i‡(
ªt
 !
MONGO_OK
) {

77 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

79 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

82 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
JOURNAL_COLLECTION
, 
NULL
);

83 i‡(
ªt
 !
MONGO_OK
) {

84 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

86 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

89 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
CONFIG_COLLECTION
, 
NULL
);

90 i‡(
ªt
 !
MONGO_OK
) {

91 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

93 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

98 
ªt
 = 
	`m⁄go_¸óã_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
POLICY_COLLECTION
,

99 0, 
NULL
);

100 i‡(
ªt
 !
MONGO_OK
) {

101 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: CreatingÖolicy collection failed. "

103 
__FUNCTION__
);

107 
ªt
 = 
	`m⁄go_¸óã_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
INODE_COLLECTION
,

108 0, 
NULL
);

109 i‡(
ªt
 !
MONGO_OK
) {

110 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: Creating inode collection failed. "

112 
__FUNCTION__
);

116 
ªt
 = 
	`m⁄go_¸óã_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
JOURNAL_COLLECTION
,

117 0, 
NULL
);

118 i‡(
ªt
 !
MONGO_OK
) {

119 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: Creating journal collection failed. "

121 
__FUNCTION__
);

125 
ªt
 = 
	`m⁄go_¸óã_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
CONFIG_COLLECTION
,

126 0, 
NULL
);

127 i‡(
ªt
 !
MONGO_OK
) {

128 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: Creating config collection failed. "

130 
__FUNCTION__
);

135 
	}
}

139 
	$m⁄go_db_ö£π
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

141 
bs⁄
 
b
[1];

142 
ªt
 = -1;

143 
db_™d_cﬁÀ˘i⁄
[
NAME_SIZE
];

144 
ªc‹d_«me
[
REC_NAME_SIZE
];

146 
	`bs⁄_öô
(
b
);

147 
ªt
 = 
	`bs⁄_≠≥nd_l⁄g
(
b
, "ªc‹d_num", 
key
);

148 i‡(
ªt
 !
BSON_OK
) {

149 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppendÑecord_numÅo bson for "

150 "öodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

151 
	`bs⁄_de°roy
(
b
);

152  -
ªt
;

155 
ªt
 = 
	`c⁄°ru˘_ªc‹d_«me
(
ªc‹d_«me
, 
ty≥
);

156 i‡(
ªt
 != 0) {

157 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÑecordÅype %d specified\n",

158 
__FUNCTION__
, 
ty≥
);

159 
	`bs⁄_de°roy
(
b
);

163 
ªt
 = 
	`bs⁄_≠≥nd_bö¨y
(
b
, 
ªc‹d_«me
, 
BSON_BIN_BINARY
,

164 (c⁄° *Ë
d©a
, 
Àn
);

165 i‡(
ªt
 !
BSON_OK
) {

166 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppend inodeÅo bson for"

167 " inodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

168 
	`bs⁄_de°roy
(
b
);

169  -
ªt
;

172 
ªt
 = 
	`bs⁄_≠≥nd_l⁄g
(
b
, "ªc‹d_Àngth", 
Àn
);

173 i‡(
ªt
 !
BSON_OK
) {

174 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppend sizeÅo bson for "

175 "öodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

176 
	`bs⁄_de°roy
(
b
);

177  -
ªt
;

180 
	`bs⁄_föish
(
b
);

181 
ªt
 = 
	`c⁄°ru˘_db_«me
(
db_™d_cﬁÀ˘i⁄
, 
ty≥
);

182 i‡(
ªt
 != 0) {

183 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

184 
__FUNCTION__
, 
ty≥
);

185 
	`bs⁄_de°roy
(
b
);

189 
	`±hªad_muãx_lock
(&
m⁄go_db_muãx
);

190 
ªt
 = 
	`m⁄go_ö£π
(
c⁄n
, 
db_™d_cﬁÀ˘i⁄
, 
b
, 
NULL
);

191 i‡(
ªt
 !
MONGO_OK
) {

192 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
,

193 "%s: FaûedÅÿö£πÑec‹d %"
PRId64
" ofÅype %d"

195 
__FUNCTION__
, 
key
, (Ë
ty≥
, 
db_™d_cﬁÀ˘i⁄
, 
ªt
);

196 
	`bs⁄_de°roy
(
b
);

197  -
ªt
;

199 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

200 "%s: Suc˚ssfuŒy in£πedÑec‹d %"
PRId64
" ofÅype %d"

202 
__FUNCTION__
, 
key
, (Ë
ty≥
, 
db_™d_cﬁÀ˘i⁄
);

203 
	`±hªad_muãx_u∆ock
(&
m⁄go_db_muãx
);

204 
	`bs⁄_de°roy
(
b
);

207 
	}
}

213 
	$m⁄go_db_£ekªad
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
off_t
 
off£t
,

214 
whí˚
, 
db_ty≥_t
 
ty≥
)

216 
ªt
 = -1;

217 
bs⁄
 
quîy
[1];

218 
bs⁄
 
ª•⁄£
[1];

219 
bs⁄_ôî©‹
 
ôî
[1];

220 
db_™d_cﬁÀ˘i⁄
[
NAME_SIZE
];

221 
ªc‹d_«me
[
REC_NAME_SIZE
];

222 
uöt64_t
 
ªc‹d_Àn
 = 0;

223 *
ªc‹d
;

225 i‡(
NULL
 =
d©a
) {

226 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: dataÖointer is NULL. \n",

227 
__FUNCTION__
);

228  -
EINVAL
;

231 
	`bs⁄_öô
(
quîy
);

232 
	`bs⁄_≠≥nd_l⁄g
(
quîy
, "ªc‹d_num", 
key
);

233 
	`bs⁄_föish
(
quîy
);

237 
ªt
 = 
	`c⁄°ru˘_db_«me
(
db_™d_cﬁÀ˘i⁄
, 
ty≥
);

238 i‡(
ªt
 != 0) {

239 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

240 
__FUNCTION__
, 
ty≥
);

241 
	`bs⁄_de°roy
(
quîy
);

244 
ªt
 = 
	`m⁄go_föd_⁄e
(
c⁄n
, 
db_™d_cﬁÀ˘i⁄
, 
quîy
, 
	`bs⁄_sh¨ed_em±y
(),

245 
ª•⁄£
);

247 i‡(
ªt
 !
MONGO_OK
) {

248 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
,

249 "%s: FaûedÅÿªåõvêªc‹d f‹ %"
PRId64
" from"

251 
__FUNCTION__
, 
key
, 
db_™d_cﬁÀ˘i⁄
, 
ªt
);

252 
	`bs⁄_de°roy
(
quîy
);

253  -
ªt
;

256 
ªt
 = 
	`c⁄°ru˘_ªc‹d_«me
(
ªc‹d_«me
, 
ty≥
);

257 i‡(
ªt
 != 0) {

259 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

260 
__FUNCTION__
, 
ty≥
);

261 
	`bs⁄_de°roy
(
quîy
);

265 ()
	`bs⁄_föd
(
ôî
, 
ª•⁄£
, "record_length");

266 
ªc‹d_Àn
 = 
	`bs⁄_ôî©‹_l⁄g
(
ôî
);

268 
ªc‹d
 = 
	`mÆloc
(
ªc‹d_Àn
);

269 i‡(
NULL
 =
ªc‹d
) {

270 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
,

272 "Reque°ed sizê%"
PRId64
" key = %"PRId64" dbÇame = %s\n",

273 
__FUNCTION__
, 
ªc‹d_Àn
, 
key
, 
db_™d_cﬁÀ˘i⁄
);

274 
	`bs⁄_de°roy
(
quîy
);

275  -
ENOMEM
;

277 ()
	`bs⁄_föd
(
ôî
, 
ª•⁄£
, 
ªc‹d_«me
);

278 
	`mem˝y
(
ªc‹d
, 
	`bs⁄_ôî©‹_bö_d©a
(
ôî
), 
ªc‹d_Àn
);

281 
	`mem˝y
(
d©a
, 
ªc‹d
 + 
off£t
, 
Àn
);

282 
	`bs⁄_de°roy
(
quîy
);

283 
	`bs⁄_de°roy
(
ª•⁄£
);

285  
Àn
;

286 
	}
}

290 
	$m⁄go_db_gë
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

292 
ªt
 = -1;

293 
bs⁄
 
quîy
[1];

294 
bs⁄
 
ª•⁄£
[1];

295 
bs⁄_ôî©‹
 
ôî
[1];

296 
db_™d_cﬁÀ˘i⁄
[
NAME_SIZE
];

297 
ªc‹d_«me
[
REC_NAME_SIZE
];

298 
uöt64_t
 
ªc‹d_Àn
 = 0;

300 i‡(
NULL
 =
d©a
 || 
Àn
 <= 0) {

301 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÖarameters specified. \n",

302 
__FUNCTION__
);

303  -
EINVAL
;

306 
	`bs⁄_öô
(
quîy
);

307 
	`bs⁄_≠≥nd_l⁄g
(
quîy
, "ªc‹d_num", 
key
);

308 
	`bs⁄_föish
(
quîy
);

312 
ªt
 = 
	`c⁄°ru˘_db_«me
(
db_™d_cﬁÀ˘i⁄
, 
ty≥
);

313 i‡(
ªt
 != 0) {

314 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

315 
__FUNCTION__
, 
ty≥
);

316 
	`bs⁄_de°roy
(
quîy
);

319 
ªt
 = 
	`m⁄go_föd_⁄e
(
c⁄n
, 
db_™d_cﬁÀ˘i⁄
, 
quîy
,

320 
	`bs⁄_sh¨ed_em±y
(), 
ª•⁄£
);

322 i‡(
ªt
 !
MONGO_OK
) {

323 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
,

324 "%s: FaûedÅÿªåõvêªc‹d f‹ %"
PRId64
" from"

326 
__FUNCTION__
, 
key
, 
db_™d_cﬁÀ˘i⁄
, 
ªt
);

327 
	`bs⁄_de°roy
(
quîy
);

328  -
ªt
;

331 
ªt
 = 
	`c⁄°ru˘_ªc‹d_«me
(
ªc‹d_«me
, 
ty≥
);

332 i‡(
ªt
 != 0) {

334 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

335 
__FUNCTION__
, 
ty≥
);

336 
	`bs⁄_de°roy
(
quîy
);

340 ()
	`bs⁄_föd
(
ôî
, 
ª•⁄£
, "record_length");

341 
ªc‹d_Àn
 = 
	`bs⁄_ôî©‹_l⁄g
(
ôî
);

342 ()
	`bs⁄_föd
(
ôî
, 
ª•⁄£
, 
ªc‹d_«me
);

344 i‡(
ªc‹d_Àn
 < 
Àn
) {

345 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

347 " Rec‹dÜí = %"
PRId64
"Üen = %d\n",

348 
__FUNCTION__
, 
ªc‹d_Àn
, ()
Àn
);

349 
	`mem˝y
(
d©a
, 
	`bs⁄_ôî©‹_bö_d©a
(
ôî
), 
ªc‹d_Àn
);

350 
Àn
 = 
ªc‹d_Àn
;

352 
	`mem˝y
(
d©a
, 
	`bs⁄_ôî©‹_bö_d©a
(
ôî
), 
Àn
);

355 
	`bs⁄_de°roy
(
quîy
);

356 
	`bs⁄_de°roy
(
ª•⁄£
);

357  
Àn
;

358 
	}
}

361 
	$m⁄go_db_upd©e
(
uöt64_t
 
key
, *
d©a
, 
size_t
 
Àn
, 
db_ty≥_t
 
ty≥
)

363 
ªt
 = -1;

364 
bs⁄
 
b
[1];

365 
db_™d_cﬁÀ˘i⁄
[
NAME_SIZE
];

366 
ªc‹d_«me
[
REC_NAME_SIZE
];

368 
	`bs⁄_öô
(
b
);

369 
ªt
 = 
	`bs⁄_≠≥nd_l⁄g
(
b
, "ªc‹d_numbî", 
key
);

370 i‡(
ªt
 !
MONGO_OK
) {

371 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppendÑecord_numÅo bson for "

372 "öodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

373 
	`bs⁄_de°roy
(
b
);

374  -
ªt
;

377 
ªt
 = 
	`c⁄°ru˘_ªc‹d_«me
(
ªc‹d_«me
, 
ty≥
);

378 i‡(
ªt
 != 0) {

379 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÑecordÅype %d specified\n",

380 
__FUNCTION__
, 
ty≥
);

381 
	`bs⁄_de°roy
(
b
);

385 
ªt
 = 
	`bs⁄_≠≥nd_bö¨y
(
b
, 
ªc‹d_«me
, 
BSON_BIN_BINARY
,

386 (c⁄° *Ë
d©a
, 
Àn
);

387 i‡(
ªt
 !
BSON_OK
) {

388 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppend inodeÅo bson for"

389 " inodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

390 
	`bs⁄_de°roy
(
b
);

391  -
ªt
;

394 
ªt
 = 
	`bs⁄_≠≥nd_l⁄g
(
b
, "ªc‹d_Àngth", 
Àn
);

395 i‡(
ªt
 !
BSON_OK
) {

396 
	`sf¶og
(
sfs_˘x
, 
SFS_ERR
, "%s: FailedÅoáppend sizeÅo bson for "

397 "öodê%"
PRId64
". Eº‹ = %d \n", 
__FUNCTION__
, 
key
, 
ªt
);

398 
	`bs⁄_de°roy
(
b
);

399  -
ªt
;

402 
	`bs⁄_föish
(
b
);

404 
ªt
 = 
	`c⁄°ru˘_db_«me
(
db_™d_cﬁÀ˘i⁄
, 
ty≥
);

405 i‡(
ªt
 != 0) {

406 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: InvalidÅype specified. db_type = %d\n",

407 
__FUNCTION__
, 
ty≥
);

408 
	`bs⁄_de°roy
(
b
);

412 
	`±hªad_muãx_lock
(&
m⁄go_db_muãx
);

413 
ªt
 = 
	`m⁄go_upd©e
(
c⁄n
, 
db_™d_cﬁÀ˘i⁄
, 
	`bs⁄_sh¨ed_em±y
(), 
b
,

414 0, 
NULL
);

415 i‡(
ªt
 !
MONGO_OK
) {

416 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: Rec‹d upd©i⁄ f‹ key %"
PRId64
" into "

418 
__FUNCTION__
, 
key
, 
db_™d_cﬁÀ˘i⁄
, 
ªt
);

419 
	`±hªad_muãx_u∆ock
(&
m⁄go_db_muãx
);

420 
	`bs⁄_de°roy
(
b
);

421  -
ªt
;

423 
	`±hªad_muãx_u∆ock
(&
m⁄go_db_muãx
);

424 
	`bs⁄_de°roy
(
b
);

426  
Àn
;

427 
	}
}

430 
	$m⁄go_db_dñëe
(
uöt64_t
 
key
)

432 
ªt
 = -1;

436 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
POLICY_COLLECTION
, 
NULL
);

437 i‡(
ªt
 !
MONGO_OK
) {

438 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

440 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

441 
ªt
 = -1;

442 
out
;

444 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
INODE_COLLECTION
, 
NULL
);

445 i‡(
ªt
 !
MONGO_OK
) {

446 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

448 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

449 
ªt
 = -1;

450 
out
;

452 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
JOURNAL_COLLECTION
, 
NULL
);

453 i‡(
ªt
 !
MONGO_OK
) {

454 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

456 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

457 
ªt
 = -1;

458 
out
;

460 
ªt
 = 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
(
c⁄n
, 
DB_NAME
, 
CONFIG_COLLECTION
, 
NULL
);

461 i‡(
ªt
 !
MONGO_OK
) {

462 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

464 
__FUNCTION__
, 
POLICY_COLLECTION
, 
DB_NAME
);

465 
ªt
 = -1;

468 
out
:

469  
ªt
;

470 
	}
}

473 
	$m⁄go_db_˛ónup
()

475 
	`m⁄go_de°roy
(
c⁄n
);

478 
	}
}

	@lib/caching/include/sstack_cache_api.h

20 #i‚de‡
__SSTACK_CACHE_API_H_


21 
	#__SSTACK_CACHE_API_H_


	)

22 
	~<libmemˇched/memˇched.h
>

23 
	~<sys/ty≥s.h
>

27 
memˇched_°
 * 
s°ack_ˇche_öô
(const *, );

28 
s°ack_ˇche_de°roy
(
memˇched_°
 *);

29 
s°ack_ˇche_°‹e
(
memˇched_°
 *, c⁄° *, c⁄° *, 
size_t
 );

30 * 
s°ack_ˇche_ªad_⁄e
(
memˇched_°
 *, c⁄° *, 
size_t
 , size_t *);

31 
s°ack_ˇche_ªad_mu…ùÀ
(
memˇched_°
 *, c⁄° **, 
size_t
 *, );

32 
s°ack_ˇche_ª∂a˚
(
memˇched_°
 *, const *, const *,

33 
size_t
 , , );

	@lib/caching/src/sstack_cache_api.c

20 
	~<°dio.h
>

21 
	~<°dlib.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<°rög.h
>

24 
	~<°dlib.h
>

25 
	~<time.h
>

26 
	~<libmemˇched/memˇched.h
>

27 
	#MEMCACHED_PORT
 11211

	)

28 
	#SEPERATOR
 ":"

	)

40 
memˇched_°
 *

41 
	$s°ack_ˇche_öô
(c⁄° *
c⁄fig
, 
num_£rvîs
)

43 
memˇched_£rvî_°
 *
£rvîs
 = 
NULL
;

44 
memˇched_°
 *
memc
 = 
NULL
;

45 
memˇched_ªtu∫_t
 
rc
;

47 
memc
 = 
	`memˇched_¸óã
(
NULL
);

48 i‡(
NULL
 =
memc
) {

51  
NULL
;

54 i‡(
num_£rvîs
 > 1) {

55 *
buf
 = 
	`°rdup
(
c⁄fig
);

56 **
±r
 = (**Ë&
buf
;

57 *
£rvî_«me
 = 
NULL
;

59 (
£rvî_«me
 = 
	`°r£p
(
±r
, 
SEPERATOR
)Ë!
NULL
) {

60 i‡(
	`°æí
(
£rvî_«me
) == 0)

62 
£rvîs
 = 
	`memˇched_£rvî_li°_≠≥nd
(£rvîs, 
£rvî_«me
,

63 
MEMCACHED_PORT
, &
rc
);

64 
rc
 = 
	`memˇched_£rvî_push
(
memc
, 
£rvîs
);

65 i‡(
rc
 !
MEMCACHED_SUCCESS
) {

68  
NULL
;

71 
	`‰ì
(
buf
);

73 
£rvîs
 = 
	`memˇched_£rvî_li°_≠≥nd
(£rvîs, 
c⁄fig
,

74 
MEMCACHED_PORT
, &
rc
);

75 
rc
 = 
	`memˇched_£rvî_push
(
memc
, 
£rvîs
);

76 i‡(
rc
 !
MEMCACHED_SUCCESS
) {

79  
NULL
;

83  
memc
;

84 
	}
}

92 
ölöe
 

93 
	$s°ack_ˇche_de°roy
(
memˇched_°
 *
memc
)

95 
	`memˇched_‰ì
(
memc
);

96 
	}
}

111 
	$s°ack_ˇche_°‹e
(
memˇched_°
 *
memc
,

112 c⁄° *
key
,

113 c⁄° *
vÆue
,

114 
size_t
 
vÆuñí
)

116 
memˇched_ªtu∫_t
 
rc
 = -1;

118 i‡(
NULL
 =
key
 || NULL =
vÆue
 || 
vÆuñí
 <0 || NULL =
memc
) {

123 
rc
 = 
	`memˇched_£t
(
memc
, 
key
, 
	`°æí
(key), 
vÆue
, 
vÆuñí
,

124 (
time_t
)0, (
uöt32_t
) 0);

125 i‡(
rc
 !
MEMCACHED_SUCCESS
) {

128  -
rc
;

132 
	}
}

145 
	$s°ack_ˇche_ªad_⁄e
(
memˇched_°
 *
memc
,

146 c⁄° *
key
,

147 
size_t
 
keyÀn
,

148 
size_t
 *
vÆuñí
)

150 i‡(
NULL
 =
memc
 || NULL =
key
 || 
keyÀn
 =0 || NULL =
vÆuñí
) {

153  
NULL
;

156  
	`memˇched_gë
(
memc
, 
key
, 
keyÀn
, 
vÆuñí
,

157 (
uöt32_t
 *)
NULL
, (
memˇched_ªtu∫_t
 *) NULL);

158 
	}
}

188 
	$s°ack_ˇche_ªad_mu…ùÀ
(
memˇched_°
 * 
memc
,

189 c⁄° **
keys
,

190 
size_t
 *
keyÀn
,

191 
num_keys
)

193 
memˇched_ªtu∫_t
 
rc
 = 
MEMCACHED_FAILURE
;

195 i‡(
NULL
 =
memc
 || NULL =*
keys
 || 
num_keys
 <= 0) {

200 
rc
 = 
	`memˇched_mgë
(
memc
, 
keys
, 
keyÀn
, 
num_keys
);

201 i‡(
rc
 =
MEMCACHED_SUCCESS
)

204  -
rc
;

205 
	}
}

218 
	$s°ack_ˇche_ª∂a˚
(
memˇched_°
 *
memc
,

219 c⁄° *
key
,

220 c⁄° *
vÆue
,

221 
size_t
 
vÆuñí
,

222 
time_t
 
expú©i⁄
,

223 
uöt32_t
 
Êags
)

226 
memˇched_ªtu∫_t
 
ªt
;

228 i‡(
NULL
 =
memc
 || NULL =
key
) {

234 
ªt
 = 
	`memˇched_ª∂a˚
(
memc
, 
key
, 
	`°æí
(key), 
vÆue
, 
vÆuñí
,

235 
expú©i⁄
, 
Êags
);

236 i‡(
ªt
 !
MEMCACHED_SUCCESS
) {

239  -
ªt
;

243 
	}
}

	@lib/caching/test/test.c

20 
	~<°dio.h
>

21 
	~<s°ack_ˇche_≠i.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

26 
	$maö
()

28 *
key
 = "alphabet";

29 *
vÆue
 = "abcdefghijklmnopqrstuvwxyz";

30 *
ªpvÆue
 = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

31 
memˇched_°
 *
memc
 = 
NULL
;

32 *
c⁄fig
 = "localhost";

33 
ªt
 = -1;

34 *
±r
 = 
NULL
;

35 
Àn
 = -1;

37 
memc
 = 
	`s°ack_ˇche_öô
(
c⁄fig
, 1);

38 i‡(
NULL
 =
memc
) {

39 
	`Ârötf
(
°dîr
, "%s: FaûedÅÿgë memˇched h™dÀ\n", 
__FUNCTION__
);

42 
	`Ârötf
(
°dout
, "%s: C⁄√˘i⁄ suc˚eded \n", 
__FUNCTION__
);

44 
	`Ârötf
(
°dout
, "%s: St‹ög %s\n", 
__FUNCTION__
, 
vÆue
);

45 
ªt
 = 
	`s°ack_ˇche_°‹e
(
memc
, 
key
, 
vÆue
, 
	`°æí
(value)+1);

46 i‡(
ªt
 != 0) {

47 
	`Ârötf
(
°dîr
, "%s: FailedÅo storeÅhe object into memcached."

48 " Rëu∫ vÆuê%d\n", 
__FUNCTION__
, 
ªt
);

52 
±r
 = 
	`s°ack_ˇche_ªad_⁄e
(
memc
, 
key
, 
	`°æí
(key), (
size_t
 *)&
Àn
);

53 i‡(
NULL
 =
±r
) {

54 
	`Ârötf
(
°dîr
, "%s: FailedÅoÑead backÅhe value stored. \n",

55 
__FUNCTION__
);

58 
	`Ârötf
(
°dîr
, "%s: ValueÜength = %d value = %s\n",

59 
__FUNCTION__
, 
Àn
, 
±r
);

62 
ªt
 = 
	`s°ack_ˇche_ª∂a˚
(
memc
, 
key
, 
ªpvÆue
, (
size_t
 )
	`°æí
(repvalue)+1,

63 (
time_t
)0, (
uöt32_t
)0);

64 i‡(
ªt
 != 0) {

65 
	`Ârötf
(
°dîr
, "%s: FailedÅoÑeplaceÅhe value stored. \n",

66 
__FUNCTION__
);

70 
±r
 = 
	`s°ack_ˇche_ªad_⁄e
(
memc
, 
key
, 
	`°æí
(key), (
size_t
 *Ë&
Àn
);

71 i‡(
NULL
 =
±r
) {

72 
	`Ârötf
(
°dîr
, "%s: FailedÅoÑead backÅhe value stored. \n",

73 
__FUNCTION__
);

76 
	`Ârötf
(
°dîr
, "%s: ValueÜength = %d value = %s\n",

77 
__FUNCTION__
, 
Àn
, 
±r
);

79 
	`s°ack_ˇche_de°roy
(
memc
);

82 
	}
}

	@lib/chunk-domain/chunk_api.c

20 
	~<°dio.h
>

21 
	~<°dlib.h
>

22 
	~<f˙é.h
>

23 
	~<°rög.h
>

24 
	~<öây≥s.h
>

25 
	~<s°ack_chunk.h
>

26 
	~<sys/°©.h
>

27 
	~<sys/ty≥s.h
>

28 
	#LOCAL_PATH_MAX
 16

	)

29 
	#MAX_COMMAND
 ((
PATH_MAX
Ë+ (
LOCAL_PATH_MAX
Ë+ 64)

	)

40 
sfs_chunk_domaö_t
 *

41 
	$sfsd_chunk_domaö_öô
(
sfsd_t
 *
sfsd
, 
log_˘x_t
 *
˘x
)

43 
sfs_chunk_domaö_t
 * 
chunk
 = 
NULL
;

45 i‡(
NULL
 =
sfsd
)

46  
NULL
;

48 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s: Creating chunk domain for sfsd 0x%llx\n",

49 
__FUNCTION__
, (*Ë
sfsd
);

51 
chunk
 = 
	`mÆloc
((
sfs_chunk_domaö_t
));

52 i‡(
NULL
 =
chunk
) {

53 
	`sfs_log
(
˘x
, 
SFS_ERR
, "%s: UnableÅoállocate memory for chunk domain"

55 
__FUNCTION__
, (*Ë
sfsd
);

56  
NULL
;

59 
chunk
->
sfsd
 = sfsd;

60 
chunk
->
°©e
 = 
REACHABLE
;

61 
chunk
->
num_chunks
 = 0;

62 
chunk
->
size_ö_blks
 = 0;

63 
chunk
->
˘x
 = ctx;

65 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s: Chunk domain for sfsd 0x%llx is successfully "

67 
__FUNCTION__
, (*Ë
sfsd
, (*Ë
chunk
);

69  
chunk
;

70 
	}
}

82 
	$sfsd_chunk_domaö_de°roy
(
sfs_chunk_domaö_t
 *
chunk
)

84 i‡(
NULL
 =
chunk
)

87 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "%s: Chunk domain for sfsd 0x%llx is"

88 " de°royed \n", 
__FUNCTION__
, (*Ë
chunk
->
sfsd
);

89 
	`‰ì
(
chunk
);

90 
	}
}

110 
	$sfsd_add_chunk
(
sfs_chunk_domaö_t
 *
chunk
, 
sfsd_°‹age_t
 *
°‹age
)

112 *
∑th
 = 
NULL
;

113 
comm™d
[
MAX_COMMAND
] = { '\0' };

114 
fd
 = -1;

115 
ªt
 = -1;

117 i‡(
NULL
 =
chunk
 || NULL =
°‹age
)

118  
NULL
;

120 
∑th
 = 
	`ˇŒoc
(1, 
LOCAL_PATH_MAX
);

121 i‡(
NULL
 =
∑th
) {

122 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: FailedÅoádd chunk 0x%llxÅo "

124 
__FUNCTION__
, 
°‹age
, 
chunk
, chunk->
sfsd
);

125  
NULL
;

130 i‡(
°‹age
->
¥Ÿocﬁ
 =
NFS
) {

131 *
upd©ed_°‹age
 = 
NULL
;

132 
sfsd_°‹age_t
 *
±r
 = 
NULL
;

134 
	`°r˝y
(
∑th
, "/tmp/tempXXXXXX");

135 
fd
 = 
	`mk°emp
(
∑th
);

136 i‡(
fd
 == -1) {

137 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: FailedÅoádd chunk 0x%llxÅo "

139 "Áûed\n", 
__FUNCTION__
, 
°‹age
, 
chunk
, chunk->
sfsd
);

140 
	`‰ì
(
∑th
);

141  
NULL
;

143 
	`˛o£
(
fd
);

144 i‡(
	`mkdú
(
∑th
, 0777) != 0) {

145 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: FailedÅoádd chunk 0x%llxÅo "

147 "îr‹ %d\n", 
__FUNCTION__
, 
°‹age
, 
chunk
, chunk->
sfsd
, 
î∫o
);

148 
	`‰ì
(
∑th
);

149  
NULL
;

154 
	`¢¥ötf
((*Ë
comm™d
, 
MAX_COMMAND
, "mount -tÇfs %s:%s %s",

155 
°‹age
->
ùv6_addr
, st‹age->
∑th
,Öath);

156 
ªt
 = 
	`sy°em
(
comm™d
);

157 i‡(
ªt
 == -1) {

158 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: FailedÅoádd chunk 0x%llxÅo "

160 "îr‹ %d\n", 
__FUNCTION__
, 
°‹age
, 
chunk
, chunk->
sfsd
, 
î∫o
);

161 
	`‰ì
(
∑th
);

162  
NULL
;

164 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "%s: Mounting chunkÖath %s:%sÅo "

165 "loˇ»∑th %†suc˚ssded\n", 
__FUNCTION__
, 
°‹age
->
ùv6_addr
,

166 
°‹age
->
∑th
,Öath);

173 
upd©ed_°‹age
 = 
	`ˇŒoc
(1,

174 (
sfsd_°‹age_t
Ë* (
chunk
->
num_chunks
 +1 ));

175 i‡(
NULL
 =
upd©ed_°‹age
) {

176 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: FailedÅoádd chunk 0x%llxÅo "

179 
__FUNCTION__
, 
°‹age
, 
chunk
, chunk->
sfsd
);

180 
	`‰ì
(
∑th
);

181  
NULL
;

184 
	`mem˝y
(
upd©ed_°‹age
, (*Ë
chunk
->
°‹age
,

185 (
sfsd_°‹age_t
Ë* (
chunk
->
num_chunks
));

188 i‡(
chunk
->
num_chunks
)

189 
	`‰ì
(
chunk
->
°‹age
);

190 
chunk
->
°‹age
 = (
sfsd_°‹age_t
 *)
upd©ed_°‹age
;

191 
±r
 = (
sfsd_°‹age_t
 *Ë
upd©ed_°‹age
;

192 
chunk
->
num_chunks
 ++;

193 
chunk
->
size_ö_blks
 +
°‹age
->
nblocks
;

194 
±r
 = 
chunk
->
°‹age
 + chunk->
num_chunks
;

195 
	`mem˝y
(
chunk
->
°‹age
 + chunk->
num_chunks
, storage,

196 (
sfsd_°‹age_t
));

198  
∑th
;

201  
NULL
;

203 
	}
}

216 
	$sfsd_ªmove_chunk
(
sfs_chunk_domaö_t
 *
chunk
, 
sfsd_°‹age_t
 *
°‹age
)

218 *
±r
 = 
NULL
;

219 
sfsd_°‹age_t
 *
ãmp
 = 
NULL
;

220 
i
 = 0;

221 
found
 = 0;

222 *
√w_°‹age
 = 
NULL
;

224 i‡(
NULL
 =
chunk
 || NULL =
°‹age
)

227 i‡(
chunk
->
num_chunks
 == 0) {

229 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: Chunk 0x%llx doesÇot belongÅo "

230 "chunk domaö 0x%Œx \n", 
__FUNCTION__
, 
°‹age
, 
chunk
);

236 i‡(
chunk
->
num_chunks
 == 1) {

237 
chunk
->
num_chunks
 = 0;

238 
chunk
->
size_ö_blks
 -
°‹age
->
nblocks
;

239 
	`‰ì
(
chunk
->
°‹age
);

245 
i
 = 0; i < 
chunk
->
num_chunks
; i++) {

246 
ãmp
 = ((
sfsd_°‹age_t
 *Ë
chunk
->
°‹age
Ë+ 
i
;

249 i‡(
°‹age
->
¥Ÿocﬁ
 =
NFS
) {

250 i‡((
ãmp
->
∑th
 =
°‹age
->path) &&

251 (
ãmp
->
ùv6_addr
 =
°‹age
->ipv6_addr)) {

252 
found
 = 1;

253 
skù
;

259 i‡(!
found
) {

260 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: Chunk 0x%llx doesÇot belongÅo "

261 "chunk domaö 0x%Œx \n", 
__FUNCTION__
, 
°‹age
, 
chunk
);

264 
skù
:

266 
√w_°‹age
 = 
	`ˇŒoc
(1, ((
sfsd_°‹age_t
Ë* (
chunk
->
num_chunks
 -1)));

267 i‡(
NULL
 =
√w_°‹age
) {

272 i‡(
i
 !(
chunk
->
num_chunks
 -1)) {

273 
±r
 = (*Ë((
sfsd_°‹age_t
 *Ë
chunk
->
°‹age
 + 
i
);

274 
	`memmove
(
±r
,Öå + (
sfsd_°‹age_t
),

275 ((
chunk
->
num_chunks
 -2Ë-
i
));

278 
chunk
->
num_chunks
 -= 1;

279 
chunk
->
size_ö_blks
 -
°‹age
->
nblocks
;

282 i‡(
i
 == 0) {

283 
	`mem˝y
(
√w_°‹age
, (*Ë
chunk
->
°‹age
,

284 (
sfsd_°‹age_t
Ë* (
chunk
->
num_chunks
 -2));

285 
	`‰ì
(
chunk
->
°‹age
);

286 
chunk
->
°‹age
 = (
sfsd_°‹age_t
 *Ë
√w_°‹age
;

289 
	`mem˝y
(
√w_°‹age
, (*Ë
chunk
->
°‹age
,

290 (
sfsd_°‹age_t
Ë* (
i
+1));

292 i‡(
i
 !(
chunk
->
num_chunks
 -1)) {

293 
±r
 = (*Ë((
sfsd_°‹age_t
 *Ë
chunk
->
°‹age
 + 
i
);

294 
	`memmove
(
±r
,Öå + (
sfsd_°‹age_t
),

295 ((
chunk
->
num_chunks
 -2Ë- 
i
));

297 
	`‰ì
(
chunk
->
°‹age
);

298 
chunk
->
°‹age
 = (
sfsd_°‹age_t
 *Ë
√w_°‹age
;

303 
chunk
->
num_chunks
 -= 1;

304 
chunk
->
size_ö_blks
 -
°‹age
->
nblocks
;

307 
	}
}

326 
	$sfsd_upd©e_chunk
(
sfs_chunk_domaö_t
 *
chunk
, 
sfsd_°‹age_t
 *
°‹age
)

328 
i
 = 0;

329 
sfsd_°‹age_t
 *
ãmp
 = 
NULL
;

330 
found
 = 0;

332 i‡(
NULL
 =
chunk
 || NULL =
°‹age
)

335 i‡(
chunk
->
num_chunks
 == 0) {

337 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: Chunk 0x%llx doesÇot belongÅo "

338 "chunk domaö 0x%Œx \n", 
__FUNCTION__
, 
°‹age
, 
chunk
);

342 
i
 = 0; i < 
chunk
->
num_chunks
; i++) {

343 
ãmp
 = 
chunk
->
°‹age
 + 
i
;

346 i‡(
°‹age
->
¥Ÿocﬁ
 =
NFS
) {

347 i‡((
ãmp
->
∑th
 =
°‹age
->path) &&

348 (
ãmp
->
ùv6_addr
 =
°‹age
->ipv6_addr)) {

349 
found
 = 1;

350 
skù
;

356 i‡(
found
 == 0) {

357 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: Chunk 0x%llx doesÇot belongÅo "

358 "chunk domaö 0x%Œx \n", 
__FUNCTION__
, 
°‹age
, 
chunk
);

361 
skù
:

362 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "%s: Chunk size update for chunk 0xllx "

364 
__FUNCTION__
, 
°‹age
, 
chunk
, 
ãmp
->
nblocks
, storage->nblocks);

365 
chunk
->
size_ö_blks
 = ((chunk->size_ö_blk†+ 
°‹age
->
nblocks
) -

366 
ãmp
->
nblocks
);

367 
ãmp
->
nblocks
 = 
°‹age
->nblocks;

370 
	}
}

372 
ölöe
 *

373 
	$sfsd_di•_°©e
(
sfsd_°©e_t
 
°©e
)

375 
°©e
) {

376 
INITIALIZING
:

378 
RUNNING
:

380 
REACHABLE
:

382 
UNREACHABLE
:

384 
DECOMMISSIONED
:

389 
	}
}

391 
ölöe
 *

392 
	$sfsd_di•_¥Ÿocﬁ
(
sfs_¥Ÿocﬁ_t
 
¥Ÿocﬁ
)

394 
¥Ÿocﬁ
) {

395 
NFS
:

397 
CIFS
:

399 
ISCSI
:

401 
NATIVE
:

406 
	}
}

417 
	$sfsd_di•œy_chunk_domaö
(
sfs_chunk_domaö_t
 *
chunk
)

419 
i
 = 0;

420 
sfsd_°‹age_t
 *
ãmp
 = 
NULL
;

422 i‡(
NULL
 =
chunk
)

425 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "==============CHUNK DOMAIN DISPLAY =====\n");

426 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "sfsd = 0xŒx \n", chunk->
sfsd
);

427 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "state = %s \n",

428 
	`sfsd_di•_°©e
(
chunk
->
°©e
));

429 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "Number of chunks = %d \n",

430 
chunk
->
num_chunks
);

431 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "Chunk domaö sizê%"
PRId64
" \n",

432 
chunk
->
size_ö_blks
);

433 i‡(
chunk
->
num_chunks
 == 0) {

434 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "No chunksáttached \n");

438 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "Chunks managed: \n");

439 
i
 = 0; i < 
chunk
->
num_chunks
; i ++) {

440 
ãmp
 = 
chunk
->
°‹age
 + 
i
;

441 i‡(
NULL
 =
ãmp
) {

443 
	`sfs_log
(
chunk
->
˘x
, 
SFS_ERR
, "%s: Chunk domain 0x%llxáppearsÅo"

444 " bêc‹ru±ed \n", 
__FUNCTION__
, 
chunk
);

448 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "\nChunk # %d \n", 
i
);

449 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "ChunkÖath = %s:%s\n",

450 
ãmp
->
ùv6_addr
,Åemp->
∑th
);

451 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "Chunk weighà%d\n", 
ãmp
->
weight
);

452 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "Numbî o‡block†ö chunk = %"
PRId64
"\n",

453 
ãmp
->
nblocks
);

454 
	`sfs_log
(
chunk
->
˘x
, 
SFS_INFO
, "ChunkÖrotocol = %s\n",

455 
	`sfsd_di•_¥Ÿocﬁ
(
ãmp
->
¥Ÿocﬁ
));

457 
	}
}

	@lib/idp/include/idp.h

21 #i‚de‡
__IDP_H_


22 
	#__IDP_H_


	)

24 
ölöe
 

25 
	$gë_∑th_«me
(*
∑th_«me
, *
dú_«me
, *
d_«me
)

29 
	}
}

	@lib/storage/plugins/compression/sstack_compression_plugin.c

20 
	~<°dboﬁ.h
>

21 
	~<°dlib.h
>

22 
	~<°dio.h
>

23 
	~<°rög.h
>

24 
	~<î∫o.h
>

25 
	~<lzma.h
>

26 
	~<f˙é.h
>

27 
	~<±hªad.h
>

28 
	~<uni°d.h
>

29 
	~<sys/ty≥s.h
>

30 
	~<sys/°©.h
>

31 
	~<pﬁicy.h
>

32 
	#COMPRESSION_PLUGIN_VERSION
 1

	)

33 
	#TMPNAME_MAX
 16

	)

36 
lzma_°ªam
 
	g°rm
 = 
LZMA_STREAM_INIT
;

39 
boﬁ
 
öô_ícodî
(
lzma_°ªam
 *);

40 
boﬁ
 
öô_decodî
(
lzma_°ªam
 *);

41 
boﬁ
 
com¥ess
(
lzma_°ªam
 *, 
FILE
 *, FILE *);

42 
boﬁ
 
decom¥ess
(
lzma_°ªam
 *, const *,

43 
FILE
 *, FILE *);

44 
pﬁicy_∂ugö_t
 *
com¥essi⁄_∂ugö_öô
();

45 
com¥essi⁄_∂ugö_deöô
(
pﬁicy_∂ugö_t
 *);

46 
uöt32_t
 
com¥essi⁄_∂ugö_com¥ess
(const *);

47 
uöt32_t
 
com¥essi⁄_∂ugö_decom¥ess
(const *, *);

51 
pﬁicy_∂ugö_t
 *

52 
	$com¥essi⁄_∂ugö_öô
()

54 
pﬁicy_∂ugö_t
 *
∂ugö
 = 
NULL
;

56 
∂ugö
 = (
pﬁicy_∂ugö_t
 *Ë
	`mÆloc
((policy_plugin_t));

57 i‡(
NULL
 =
∂ugö
)

58  (
pﬁicy_∂ugö_t
 *Ë
NULL
;

59 
∂ugö
->
vî
 = 
COMPRESSION_PLUGIN_VERSION
;

60 
∂ugö
->
is_a˘iv©ed
 = 0;

61 
∂ugö
->
µ_ªfcou¡
 = 0;

62 
	`±hªad_•ö_öô
(&
∂ugö
->
µ_lock
, 
PTHREAD_PROCESS_PRIVATE
);

63 
∂ugö
->
öô_pﬁicy
 = 
com¥essi⁄_∂ugö_öô
;

64 
∂ugö
->
deöô_pﬁicy
 = 
com¥essi⁄_∂ugö_deöô
;

65 
∂ugö
->
≠∂y_pﬁicy
 = 
com¥essi⁄_∂ugö_com¥ess
;

66 
∂ugö
->
ªmove_pﬁicy
 = 
com¥essi⁄_∂ugö_decom¥ess
;

68  
∂ugö
;

69 
	}
}

72 
	$com¥essi⁄_∂ugö_deöô
(
pﬁicy_∂ugö_t
 *
∂ugö
)

74 i‡(
∂ugö
)

75 
	`‰ì
(
∂ugö
);

76 
	}
}

88 
uöt32_t


89 
	$com¥essi⁄_∂ugö_com¥ess
(c⁄° *
∑th
)

91 
FILE
 *
öput
 = 
NULL
;

92 
FILE
 *
ouçut
 = 
NULL
;

93 
tm≤am
[
TMPNAME_MAX
] = { '\0' };

94 
fd
 = -1;

95 
ªt
 = -1;

97 i‡(
	`ac˚ss
(
∑th
, 
R_OK
))

99 i‡(!
	`öô_ícodî
(&
°rm
))

105 
	`°r˝y
((*Ë
tm≤am
, "/tmp/tempXXXXXX");

106 
fd
 = 
	`mko°emp
(
tm≤am
, 
O_RDWR
);

107 i‡(
fd
 == -1)

109 
öput
 = 
	`f›í
(
∑th
, "r");

110 i‡(
NULL
 =
öput
)

112 
ouçut
 = 
	`fd›í
(
fd
, "rw");

113 i‡(
NULL
 =
ouçut
)

116 
ªt
 = 
	`com¥ess
(&
°rm
, 
öput
, 
ouçut
);

117 i‡(
ªt
 !
åue
)

120 
	`lzma_íd
(&
°rm
);

121 
	`f˛o£
(
öput
);

122 i‡(
	`f˛o£
(
ouçut
)) {

123 
	`Ârötf
(
°dîr
, "Wrôêîr‹: %s\n", 
	`°ªº‹
(
î∫o
));

127 i‡(
	`ª«me
(
tm≤am
, 
∑th
) == -1)

128  -
î∫o
;

131 
	}
}

144 
uöt32_t


145 
	$com¥essi⁄_∂ugö_decom¥ess
(c⁄° *
∑th
, *
buf„r
)

147 
FILE
 *
öput
 = 
NULL
;

148 
FILE
 *
ouçut
 = 
NULL
;

149 
tm≤am
[
TMPNAME_MAX
] = { '\0' };

150 
fd
 = -1;

151 
ªt
 = -1;

152 
°©
 
°©buf
 = { '\0' };

153 
size_t
 
size
;

155 i‡(
	`ac˚ss
(
∑th
, 
R_OK
))

157 i‡(!
	`öô_decodî
(&
°rm
))

163 
	`°r˝y
(
tm≤am
, "/tmp/tempXXXXXX");

164 
fd
 = 
	`mko°emp
(
tm≤am
, 
O_RDWR
);

165 i‡(
fd
 == -1)

167 
öput
 = 
	`f›í
(
∑th
, "r");

168 i‡(
NULL
 =
öput
)

170 
ouçut
 = 
	`fd›í
(
fd
, "rw");

171 i‡(
NULL
 =
ouçut
)

174 
ªt
 = 
	`decom¥ess
(&
°rm
, 
∑th
, 
öput
, 
ouçut
);

175 i‡(
ªt
 !
åue
)

178 
	`lzma_íd
(&
°rm
);

179 
	`f˛o£
(
öput
);

180 i‡(
	`f˛o£
(
ouçut
)) {

181 
	`Ârötf
(
°dîr
, "Wrôêîr‹: %s\n", 
	`°ªº‹
(
î∫o
));

184 
	`˛o£
(
fd
);

187 i‡(
	`°©
(
tm≤am
, &
°©buf
) == -1) {

188 
	`Ârötf
(
°dîr
, "FaûedÅÿ°©: %s\n", 
	`°ªº‹
(
î∫o
));

191 
buf„r
 = 
	`mÆloc
(
°©buf
.
°_size
);

192 i‡(
NULL
 =
buf„r
)

193  -
ENOMEM
;

195 
fd
 = 
	`›í
(
tm≤am
, 
O_RDONLY
);

196 i‡(
fd
 == -1)

197  -
î∫o
;

198 
size
 = 
	`ªad
(
fd
, 
buf„r
, 
°©buf
.
°_size
);

200 i‡(
size
 =0 && 
î∫o
 =
EINTR
) {

201 
size
 = 
	`ªad
(
fd
, 
buf„r
, 
°©buf
.
°_size
);

204 i‡(
size
 < 
°©buf
.
°_size
) {

205 
	`˛o£
(
fd
);

208 
	`˛o£
(
fd
);

210 
	`u∆ök
(
tm≤am
);

212  
°©buf
.
°_size
;

213 
	}
}

215 
boﬁ


216 
	$öô_ícodî
(
lzma_°ªam
 *
°rm
)

224 
lzma_›ti⁄s_lzma
 
›t_lzma2
;

225 i‡(
	`lzma_lzma_¥e£t
(&
›t_lzma2
, 
LZMA_PRESET_DEFAULT
)) {

234 
	`Ârötf
(
°dîr
, "UnsupportedÖreset,Öossiblyá bug\n");

235  
Ál£
;

253 
lzma_fûãr
 
fûãrs
[] = {

254 { .
id
 = 
LZMA_FILTER_X86
, .
›ti⁄s
 = 
NULL
 },

255 { .
id
 = 
LZMA_FILTER_LZMA2
, .
›ti⁄s
 = &
›t_lzma2
 },

256 { .
id
 = 
LZMA_VLI_UNKNOWN
, .
›ti⁄s
 = 
NULL
 },

260 
lzma_ªt
 
ªt
 = 
	`lzma_°ªam_ícodî
(
°rm
, 
fûãrs
, 
LZMA_CHECK_CRC64
);

262 i‡(
ªt
 =
LZMA_OK
)

263  
åue
;

265 c⁄° *
msg
;

266 
ªt
) {

267 
LZMA_MEM_ERROR
:

268 
msg
 = "Memoryállocation failed";

271 
LZMA_OPTIONS_ERROR
:

275 
msg
 = "Specified filter chain isÇot supported";

278 
LZMA_UNSUPPORTED_CHECK
:

279 
msg
 = "Specified integrity check isÇot supported";

283 
msg
 = "UnknownÉrror,Öossiblyá bug";

287 
	`Ârötf
(
°dîr
, "Error initializingÅheÉncoder: %s (error code %u)\n",

288 
msg
, 
ªt
);

289  
Ál£
;

290 
	}
}

294 
boﬁ


295 
	$com¥ess
(
lzma_°ªam
 *
°rm
, 
FILE
 *
öfûe
, FILE *
outfûe
)

297 
lzma_a˘i⁄
 
a˘i⁄
 = 
LZMA_RUN
;

299 
uöt8_t
 
öbuf
[
BUFSIZ
];

300 
uöt8_t
 
outbuf
[
BUFSIZ
];

302 
°rm
->
√xt_ö
 = 
NULL
;

303 
°rm
->
avaû_ö
 = 0;

304 
°rm
->
√xt_out
 = 
outbuf
;

305 
°rm
->
avaû_out
 = (
outbuf
);

307 
åue
) {

308 i‡(
°rm
->
avaû_ö
 =0 && !
	`„of
(
öfûe
)) {

309 
°rm
->
√xt_ö
 = 
öbuf
;

310 
°rm
->
avaû_ö
 = 
	`‰ód
(
öbuf
, 1, (inbuf),

311 
öfûe
);

313 i‡(
	`„º‹
(
öfûe
)) {

314 
	`Ârötf
(
°dîr
, "ReadÉrror: %s\n",

315 
	`°ªº‹
(
î∫o
));

316  
Ál£
;

319 i‡(
	`„of
(
öfûe
))

320 
a˘i⁄
 = 
LZMA_FINISH
;

323 
lzma_ªt
 
ªt
 = 
	`lzma_code
(
°rm
, 
a˘i⁄
);

325 i‡(
°rm
->
avaû_out
 =0 || 
ªt
 =
LZMA_STREAM_END
) {

326 
size_t
 
wrôe_size
 = (
outbuf
Ë- 
°rm
->
avaû_out
;

328 i‡(
	`fwrôe
(
outbuf
, 1, 
wrôe_size
, 
outfûe
)

329 !
wrôe_size
) {

330 
	`Ârötf
(
°dîr
, "WriteÉrror: %s\n",

331 
	`°ªº‹
(
î∫o
));

332  
Ál£
;

335 
°rm
->
√xt_out
 = 
outbuf
;

336 
°rm
->
avaû_out
 = (
outbuf
);

339 i‡(
ªt
 !
LZMA_OK
) {

340 i‡(
ªt
 =
LZMA_STREAM_END
)

341  
åue
;

343 c⁄° *
msg
;

344 
ªt
) {

345 
LZMA_MEM_ERROR
:

346 
msg
 = "Memoryállocation failed";

349 
LZMA_DATA_ERROR
:

350 
msg
 = "File sizeÜimitsÉxceeded";

354 
msg
 = "UnknownÉrror,Öossiblyá bug";

358 
	`Ârötf
(
°dîr
, "EncoderÉrror: %s (error code %u)\n",

359 
msg
, 
ªt
);

360  
Ál£
;

363 
	}
}

366 
boﬁ


367 
	$öô_decodî
(
lzma_°ªam
 *
°rm
)

402 
lzma_ªt
 
ªt
 = 
	`lzma_°ªam_decodî
(

403 
°rm
, 
UINT64_MAX
, 
LZMA_CONCATENATED
);

406 i‡(
ªt
 =
LZMA_OK
)

407  
åue
;

417 c⁄° *
msg
;

418 
ªt
) {

419 
LZMA_MEM_ERROR
:

420 
msg
 = "Memoryállocation failed";

423 
LZMA_OPTIONS_ERROR
:

424 
msg
 = "Unsupported decompressor flags";

434 
msg
 = "UnknownÉrror,Öossiblyá bug";

438 
	`Ârötf
(
°dîr
, "Error initializingÅhe decoder: %s (error code %u)\n",

439 
msg
, 
ªt
);

440  
Ál£
;

441 
	}
}

444 
boﬁ


445 
	$decom¥ess
(
lzma_°ªam
 *
°rm
, c⁄° *
ö«me
, 
FILE
 *
öfûe
, FILE *
outfûe
)

457 
lzma_a˘i⁄
 
a˘i⁄
 = 
LZMA_RUN
;

459 
uöt8_t
 
öbuf
[
BUFSIZ
];

460 
uöt8_t
 
outbuf
[
BUFSIZ
];

462 
°rm
->
√xt_ö
 = 
NULL
;

463 
°rm
->
avaû_ö
 = 0;

464 
°rm
->
√xt_out
 = 
outbuf
;

465 
°rm
->
avaû_out
 = (
outbuf
);

467 
åue
) {

468 i‡(
°rm
->
avaû_ö
 =0 && !
	`„of
(
öfûe
)) {

469 
°rm
->
√xt_ö
 = 
öbuf
;

470 
°rm
->
avaû_ö
 = 
	`‰ód
(
öbuf
, 1, (inbuf),

471 
öfûe
);

473 i‡(
	`„º‹
(
öfûe
)) {

474 
	`Ârötf
(
°dîr
, "%s: ReadÉrror: %s\n",

475 
ö«me
, 
	`°ªº‹
(
î∫o
));

476  
Ál£
;

484 i‡(
	`„of
(
öfûe
))

485 
a˘i⁄
 = 
LZMA_FINISH
;

488 
lzma_ªt
 
ªt
 = 
	`lzma_code
(
°rm
, 
a˘i⁄
);

490 i‡(
°rm
->
avaû_out
 =0 || 
ªt
 =
LZMA_STREAM_END
) {

491 
size_t
 
wrôe_size
 = (
outbuf
Ë- 
°rm
->
avaû_out
;

493 i‡(
	`fwrôe
(
outbuf
, 1, 
wrôe_size
, 
outfûe
)

494 !
wrôe_size
) {

495 
	`Ârötf
(
°dîr
, "WriteÉrror: %s\n",

496 
	`°ªº‹
(
î∫o
));

497  
Ál£
;

500 
°rm
->
√xt_out
 = 
outbuf
;

501 
°rm
->
avaû_out
 = (
outbuf
);

504 i‡(
ªt
 !
LZMA_OK
) {

513 i‡(
ªt
 =
LZMA_STREAM_END
)

514  
åue
;

525 c⁄° *
msg
;

526 
ªt
) {

527 
LZMA_MEM_ERROR
:

528 
msg
 = "Memoryállocation failed";

531 
LZMA_FORMAT_ERROR
:

533 
msg
 = "The input isÇot inÅhe .xz format";

536 
LZMA_OPTIONS_ERROR
:

551 
msg
 = "Unsupported compression options";

554 
LZMA_DATA_ERROR
:

555 
msg
 = "Compressed file is corrupt";

558 
LZMA_BUF_ERROR
:

565 
msg
 = "Compressed file isÅruncated or "

571 
msg
 = "UnknownÉrror,Öossiblyá bug";

575 
	`Ârötf
(
°dîr
, "%s: DecoderÉrror: "

577 
ö«me
, 
msg
, 
ªt
);

578  
Ál£
;

581 
	}
}

	@oss/crc/crc.c

18 
	~"¸c.h
"

24 
	#WIDTH
 (8 * (
¸c
))

	)

25 
	#TOPBIT
 (1 << (
WIDTH
 - 1))

	)

27 #i‡(
REFLECT_DATA
 =
TRUE
)

28 #unde‡
REFLECT_DATA


29 
	#REFLECT_DATA
(
X
Ë((Ë
	`ªÊe˘
((X), 8))

	)

31 #unde‡
REFLECT_DATA


32 
	#REFLECT_DATA
(
X
Ë(X)

	)

35 #i‡(
REFLECT_REMAINDER
 =
TRUE
)

36 #unde‡
REFLECT_REMAINDER


37 
	#REFLECT_REMAINDER
(
X
Ë((
¸c
Ë
	`ªÊe˘
((X), 
WIDTH
))

	)

39 #unde‡
REFLECT_REMAINDER


40 
	#REFLECT_REMAINDER
(
X
Ë(X)

	)

57 
	$ªÊe˘
(
d©a
, 
nBôs
)

59 
ªÊe˘i⁄
 = 0x00000000;

60 
bô
;

65 
bô
 = 0; bô < 
nBôs
; ++bit)

70 i‡(
d©a
 & 0x01)

72 
ªÊe˘i⁄
 |(1 << ((
nBôs
 - 1Ë- 
bô
));

75 
d©a
 = (data >> 1);

78  (
ªÊe˘i⁄
);

80 
	}
}

94 
¸c


95 
	$¸cSlow
(c⁄° 
mesßge
[], 
nByãs
)

97 
¸c
 
ªmaödî
 = 
INITIAL_REMAINDER
;

98 
byã
;

99 
bô
;

105 
byã
 = 0; byã < 
nByãs
; ++byte)

110 
ªmaödî
 ^(
	`REFLECT_DATA
(
mesßge
[
byã
]Ë<< (
WIDTH
 - 8));

115 
bô
 = 8; bit > 0; --bit)

120 i‡(
ªmaödî
 & 
TOPBIT
)

122 
ªmaödî
 = (ªmaödî << 1Ë^ 
POLYNOMIAL
;

126 
ªmaödî
 = (remainder << 1);

134  (
	`REFLECT_REMAINDER
(
ªmaödî
Ë^ 
FINAL_XOR_VALUE
);

136 
	}
}

139 
¸c
 
	g¸cTabÀ
[256];

156 
	$¸cöô
()

158 
¸c
 
ªmaödî
;

159 
dividíd
;

160 
bô
;

166 
dividíd
 = 0; dividend < 256; ++dividend)

171 
ªmaödî
 = 
dividíd
 << (
WIDTH
 - 8);

176 
bô
 = 8; bit > 0; --bit)

181 i‡(
ªmaödî
 & 
TOPBIT
)

183 
ªmaödî
 = (ªmaödî << 1Ë^ 
POLYNOMIAL
;

187 
ªmaödî
 = (remainder << 1);

194 
¸cTabÀ
[
dividíd
] = 
ªmaödî
;

197 
	}
}

211 
¸c


212 
	$¸cÁ°
(c⁄° 
mesßge
[], 
nByãs
)

214 
¸c
 
ªmaödî
 = 
INITIAL_REMAINDER
;

215 
d©a
;

216 
byã
;

222 
byã
 = 0; byã < 
nByãs
; ++byte)

224 
d©a
 = 
	`REFLECT_DATA
(
mesßge
[
byã
]Ë^ (
ªmaödî
 >> (
WIDTH
 - 8));

225 
ªmaödî
 = 
¸cTabÀ
[
d©a
] ^ (remainder << 8);

231  (
	`REFLECT_REMAINDER
(
ªmaödî
Ë^ 
FINAL_XOR_VALUE
);

233 
	}
}

	@oss/crc/crc.h

16 #i‚de‡
_¸c_h


17 
	#_¸c_h


	)

20 
	#FALSE
 0

	)

21 
	#TRUE
 !
FALSE


	)

26 
	#CRC32


	)

29 #i‡
deföed
(
CRC_CCITT
)

31 
	t¸c
;

33 
	#CRC_NAME
 "CRC-CCITT"

	)

34 
	#POLYNOMIAL
 0x1021

	)

35 
	#INITIAL_REMAINDER
 0xFFFF

	)

36 
	#FINAL_XOR_VALUE
 0x0000

	)

37 
	#REFLECT_DATA
 
FALSE


	)

38 
	#REFLECT_REMAINDER
 
FALSE


	)

39 
	#CHECK_VALUE
 0x29B1

	)

41 #ñi‡
deföed
(
CRC16
)

43 
	t¸c
;

45 
	#CRC_NAME
 "CRC-16"

	)

46 
	#POLYNOMIAL
 0x8005

	)

47 
	#INITIAL_REMAINDER
 0x0000

	)

48 
	#FINAL_XOR_VALUE
 0x0000

	)

49 
	#REFLECT_DATA
 
TRUE


	)

50 
	#REFLECT_REMAINDER
 
TRUE


	)

51 
	#CHECK_VALUE
 0xBB3D

	)

53 #ñi‡
deföed
(
CRC32
)

55 
	t¸c
;

57 
	#CRC_NAME
 "CRC-32"

	)

58 
	#POLYNOMIAL
 0x04C11DB7

	)

59 
	#INITIAL_REMAINDER
 0xFFFFFFFF

	)

60 
	#FINAL_XOR_VALUE
 0xFFFFFFFF

	)

61 
	#REFLECT_DATA
 
TRUE


	)

62 
	#REFLECT_REMAINDER
 
TRUE


	)

63 
	#CHECK_VALUE
 0xCBF43926

	)

72 
¸cöô
();

73 
¸c
 
¸cSlow
(c⁄° 
mesßge
[], 
nByãs
);

74 
¸c
 
¸cÁ°
(c⁄° 
mesßge
[], 
nByãs
);

	@oss/jerasure_lib/cauchy.c

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"gÆois.h
"

38 
	~"jîasuª.h
"

39 
	~"ˇuchy.h
"

41 
	gPPs
[33] = { -1, -1, -1, -1, -1, -1, -1, -1,

45 
	gNOs
[33];

46 
	gONEs
[33][33];

48 *
	gcbe°_0
;

49 *
	gcbe°_1
;

50 
	gcbe°_2
[3];

51 
	gcbe°_3
[7];

52 
	gcbe°_4
[15];

53 
	gcbe°_5
[31];

54 
	gcbe°_6
[63];

55 
	gcbe°_7
[127];

56 
	gcbe°_8
[255];

57 
	gcbe°_9
[511];

58 
	gcbe°_10
[1023];

59 
	gcbe°_11
[1023];

60 *
	gcbe°_12
, *
	gcbe°_13
, *
	gcbe°_14
, *
	gcbe°_15
, *
	gcbe°_16
, *
	gcbe°_17
, *
	gcbe°_18
, *
	gcbe°_19
, *
	gcbe°_20
,

61 *
	gcbe°_21
, *
	gcbe°_22
, *
	gcbe°_23
, *
	gcbe°_24
, *
	gcbe°_25
, *
	gcbe°_26
, *
	gcbe°_27
, *
	gcbe°_28
, *
	gcbe°_29
, *
	gcbe°_30
,

62 *
	gcbe°_31
, *
	gcbe°_32
;

64 
	gcbe°_max_k
[33] = { -1, -1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 1023, -1,

68 
	gcbe°_öô
 = 0;

70 *
	gcbe°_Æl
[33];

73 
	#èŒoc
(
ty≥
, 
num
Ë—y≥ *Ë
	`mÆloc
(—y≥)*“um))

	)

75 
	$ˇuchy_n_⁄es
(
n
, 
w
)

77 
no
;

78 
˙o
;

79 
n⁄es
;

80 
i
, 
j
;

81 
highbô
;

83 
highbô
 = (1 << (
w
-1));

85 i‡(
PPs
[
w
] == -1) {

86 
n⁄es
 = 0;

87 
PPs
[
w
] = 
	`gÆois_sögÀ_mu…ùly
(
highbô
, 2, w);

88 
i
 = 0; i < 
w
; i++) {

89 i‡(
PPs
[
w
] & (1 << 
i
)) {

90 
ONEs
[
w
][
n⁄es
] = (1 << 
i
);

91 
n⁄es
++;

94 
NOs
[
w
] = 
n⁄es
;

97 
no
 = 0;

98 
i
 = 0; i < 
w
; i++Ëi‡(
n
 & (1 << i)Ë
no
++;

99 
˙o
 = 
no
;

100 
i
 = 1; i < 
w
; i++) {

101 i‡(
n
 & 
highbô
) {

102 
n
 ^
highbô
;

103 
n
 <<= 1;

104 
n
 ^
PPs
[
w
];

105 
˙o
--;

106 
j
 = 0; j < 
NOs
[
w
]; j++) {

107 
˙o
 +(
n
 & 
ONEs
[
w
][
j
]) ? 1 : -1;

110 
n
 <<= 1;

112 
no
 +
˙o
;

114  
no
;

115 
	}
}

117 *
	$ˇuchy_‹igöÆ_codög_m©rix
(
k
, 
m
, 
w
)

119 *
m©rix
;

120 
i
, 
j
, 
ödex
;

122 i‡(
w
 < 31 && (
k
+
m
Ë> (1 << w)Ë 
NULL
;

123 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

124 i‡(
m©rix
 =
NULL
)  NULL;

125 
ödex
 = 0;

126 
i
 = 0; i < 
m
; i++) {

127 
j
 = 0; j < 
k
; j++) {

128 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_divide
(1, (
i
 ^ (
m
+
j
)), 
w
);

129 
ödex
++;

132  
m©rix
;

133 
	}
}

135 *
	$ˇuchy_xy_codög_m©rix
(
k
, 
m
, 
w
, *
X
, *
Y
)

137 
ödex
, 
i
, 
j
;

138 *
m©rix
;

140 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

141 i‡(
m©rix
 =
NULL
) {  NULL; }

142 
ödex
 = 0;

143 
i
 = 0; i < 
m
; i++) {

144 
j
 = 0; j < 
k
; j++) {

145 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_divide
(1, (
X
[
i
] ^ 
Y
[
j
]), 
w
);

146 
ödex
++;

149  
m©rix
;

150 
	}
}

152 
	$ˇuchy_im¥ove_codög_m©rix
(
k
, 
m
, 
w
, *
m©rix
)

154 
ödex
, 
i
, 
j
, 
x
;

155 
tmp
;

156 
bno
, 
äo
, 
bno_ödex
;

158 
j
 = 0; j < 
k
; j++) {

159 i‡(
m©rix
[
j
] != 1) {

160 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
j
], 
w
);

161 
ödex
 = 
j
;

162 
i
 = 0; i < 
m
; i++) {

163 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_mu…ùly
(m©rix[ödex], 
tmp
, 
w
);

164 
ödex
 +
k
;

168 
i
 = 1; i < 
m
; i++) {

169 
bno
 = 0;

170 
ödex
 = 
i
*
k
;

171 
j
 = 0; j < 
k
; j++Ë
bno
 +
	`ˇuchy_n_⁄es
(
m©rix
[
ödex
+j], 
w
);

172 
bno_ödex
 = -1;

173 
j
 = 0; j < 
k
; j++) {

174 i‡(
m©rix
[
ödex
+
j
] != 1) {

175 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
ödex
+
j
], 
w
);

176 
äo
 = 0;

177 
x
 = 0; x < 
k
; x++) {

178 
äo
 +
	`ˇuchy_n_⁄es
(
	`gÆois_sögÀ_mu…ùly
(
m©rix
[
ödex
+
x
], 
tmp
, 
w
), w);

180 i‡(
äo
 < 
bno
) {

181 
bno
 = 
äo
;

182 
bno_ödex
 = 
j
;

186 i‡(
bno_ödex
 != -1) {

187 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
ödex
+
bno_ödex
], 
w
);

188 
j
 = 0; j < 
k
; j++) {

189 
m©rix
[
ödex
+
j
] = 
	`gÆois_sögÀ_mu…ùly
(m©rix[ödex+j], 
tmp
, 
w
);

193 
	}
}

195 *
	$ˇuchy_good_gíîÆ_codög_m©rix
(
k
, 
m
, 
w
)

197 *
m©rix
, 
i
;

199 i‡(
m
 =2 && 
k
 <
cbe°_max_k
[
w
]) {

200 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

201 i‡(
m©rix
 =
NULL
)  NULL;

202 i‡(!
cbe°_öô
) {

203 
cbe°_öô
 = 1;

204 
cbe°_Æl
[0] = 
cbe°_0
; cbe°_Æl[1] = 
cbe°_1
; cbe°_Æl[2] = 
cbe°_2
; cbe°_Æl[3] = 
cbe°_3
; cbest_all[4] =

205 
cbe°_4
; 
cbe°_Æl
[5] = 
cbe°_5
; cbe°_Æl[6] = 
cbe°_6
; cbe°_Æl[7] = 
cbe°_7
; cbe°_Æl[8] = 
cbe°_8
;

206 
cbe°_Æl
[9] = 
cbe°_9
; cbe°_Æl[10] = 
cbe°_10
; cbe°_Æl[11] = 
cbe°_11
; cbe°_Æl[12] = 
cbe°_12
;

207 
cbe°_Æl
[13] = 
cbe°_13
; cbe°_Æl[14] = 
cbe°_14
; cbe°_Æl[15] = 
cbe°_15
; cbe°_Æl[16] = 
cbe°_16
;

208 
cbe°_Æl
[17] = 
cbe°_17
; cbe°_Æl[18] = 
cbe°_18
; cbe°_Æl[19] = 
cbe°_19
; cbe°_Æl[20] = 
cbe°_20
;

209 
cbe°_Æl
[21] = 
cbe°_21
; cbe°_Æl[22] = 
cbe°_22
; cbe°_Æl[23] = 
cbe°_23
; cbe°_Æl[24] = 
cbe°_24
;

210 
cbe°_Æl
[25] = 
cbe°_25
; cbe°_Æl[26] = 
cbe°_26
; cbe°_Æl[27] = 
cbe°_27
; cbe°_Æl[28] = 
cbe°_28
;

211 
cbe°_Æl
[29] = 
cbe°_29
; cbe°_Æl[30] = 
cbe°_30
; cbe°_Æl[31] = 
cbe°_31
; cbe°_Æl[32] = (*Ë
cbe°_32
;

213 
i
 = 0; i < 
k
; i++) {

214 
m©rix
[
i
] = 1;

215 
m©rix
[
i
+
k
] = 
cbe°_Æl
[
w
][i];

217  
m©rix
;

219 
m©rix
 = 
	`ˇuchy_‹igöÆ_codög_m©rix
(
k
, 
m
, 
w
);

220 i‡(
m©rix
 =
NULL
)  NULL;

221 
	`ˇuchy_im¥ove_codög_m©rix
(
k
, 
m
, 
w
, 
m©rix
);

222  
m©rix
;

224 
	}
}

226 
	gcbe°_2
[3] = { 1, 2, 3 };

227 
	gcbe°_3
[7] = { 1, 2, 5, 4, 7, 3, 6 };

229 
	gcbe°_4
[15] = { 1, 2, 9, 4, 8, 13, 3, 6, 12, 5, 11, 15, 10, 14, 7 };

231 
	gcbe°_5
[31] = { 1, 2, 18, 4, 9, 8, 22, 16, 3, 11, 19, 5, 10, 6, 20, 27, 13, 23, 26, 12,

234 
	gcbe°_6
[63] = { 1, 2, 33, 4, 8, 49, 16, 32, 57, 3, 6, 12, 24, 48, 5, 35, 9, 37, 10, 17,

238 
	gcbe°_7
[127] = { 1, 2, 68, 4, 34, 8, 17, 16, 76, 32, 38, 3, 64, 69, 5, 19, 35, 70, 6, 9,

245 
	gcbe°_8
[255] = { 1, 2, 142, 4, 71, 8, 70, 173, 3, 35, 143, 16, 17, 67, 134, 140, 172, 6, 34

259 
	gcbe°_9
[511] = { 1, 2, 264, 4, 132, 8, 66, 16, 33, 32, 280, 64, 140, 128, 3, 70, 265, 5,

287 
	gcbe°_10
[1023] = { 1, 2, 516, 4, 258, 8, 129, 16, 32, 580, 64, 128, 290, 145, 256, 3, 512,

341 
	gcbe°_11
[1023] = { 1,

	@oss/jerasure_lib/cauchy.h

33 *
ˇuchy_‹igöÆ_codög_m©rix
(
k
, 
m
, 
w
);

34 *
ˇuchy_xy_codög_m©rix
(
k
, 
m
, 
w
, *
x
, *
y
);

35 
ˇuchy_im¥ove_codög_m©rix
(
k
, 
m
, 
w
, *
m©rix
);

36 *
ˇuchy_good_gíîÆ_codög_m©rix
(
k
, 
m
, 
w
);

37 
ˇuchy_n_⁄es
(
n
, 
w
);

	@oss/jerasure_lib/cauchy_best_r6.c

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"gÆois.h
"

38 
	~"jîasuª.h
"

39 
	~"ˇuchy.h
"

41 
	gPPs
[33] = { -1, -1, -1, -1, -1, -1, -1, -1,

45 
	gNOs
[33];

46 
	gONEs
[33][33];

48 *
	gcbe°_0
;

49 *
	gcbe°_1
;

50 
	gcbe°_2
[3];

51 
	gcbe°_3
[7];

52 
	gcbe°_4
[15];

53 
	gcbe°_5
[31];

54 
	gcbe°_6
[63];

55 
	gcbe°_7
[127];

56 
	gcbe°_8
[255];

57 
	gcbe°_9
[511];

58 
	gcbe°_10
[1023];

59 
	gcbe°_11
[1023];

60 
	gcbe°_12
[1023], 
	gcbe°_13
[1023], 
	gcbe°_14
[1023], 
	gcbe°_15
[1023], 
	gcbe°_16
[1023], 
	gcbe°_17
[1023], 
	gcbe°_18
[1023],

61 
	gcbe°_19
[1023], 
	gcbe°_20
[1023], 
	gcbe°_21
[1023], 
	gcbe°_22
[1023], 
	gcbe°_23
[1023], 
	gcbe°_24
[1023], 
	gcbe°_25
[1023],

62 
	gcbe°_26
[1023], 
	gcbe°_27
[1023], 
	gcbe°_28
[1023], 
	gcbe°_29
[1023], 
	gcbe°_30
[1023], 
	gcbe°_31
[1023];

63 
	gcbe°_32
[1023];

65 
	gcbe°_max_k
[33] = { -1, -1, 3, 7, 15, 31, 63, 127, 255, 511, 1023, 1023,

69 
	gcbe°_öô
 = 0;

71 *
	gcbe°_Æl
[33];

74 
	#èŒoc
(
ty≥
, 
num
Ë—y≥ *Ë
	`mÆloc
(—y≥)*“um))

	)

76 
	$ˇuchy_n_⁄es
(
n
, 
w
)

78 
no
;

79 
˙o
;

80 
n⁄es
;

81 
i
, 
j
;

82 
highbô
;

84 
highbô
 = (1 << (
w
-1));

86 i‡(
PPs
[
w
] == -1) {

87 
n⁄es
 = 0;

88 
PPs
[
w
] = 
	`gÆois_sögÀ_mu…ùly
(
highbô
, 2, w);

89 
i
 = 0; i < 
w
; i++) {

90 i‡(
PPs
[
w
] & (1 << 
i
)) {

91 
ONEs
[
w
][
n⁄es
] = (1 << 
i
);

92 
n⁄es
++;

95 
NOs
[
w
] = 
n⁄es
;

98 
no
 = 0;

99 
i
 = 0; i < 
w
; i++Ëi‡(
n
 & (1 << i)Ë
no
++;

100 
˙o
 = 
no
;

101 
i
 = 1; i < 
w
; i++) {

102 i‡(
n
 & 
highbô
) {

103 
n
 ^
highbô
;

104 
n
 <<= 1;

105 
n
 ^
PPs
[
w
];

106 
˙o
--;

107 
j
 = 0; j < 
NOs
[
w
]; j++) {

108 
˙o
 +(
n
 & 
ONEs
[
w
][
j
]) ? 1 : -1;

111 
n
 <<= 1;

113 
no
 +
˙o
;

115  
no
;

116 
	}
}

118 *
	$ˇuchy_‹igöÆ_codög_m©rix
(
k
, 
m
, 
w
)

120 *
m©rix
;

121 
i
, 
j
, 
ödex
;

123 i‡(
w
 < 31 && (
k
+
m
Ë> (1 << w)Ë 
NULL
;

124 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

125 i‡(
m©rix
 =
NULL
)  NULL;

126 
ödex
 = 0;

127 
i
 = 0; i < 
m
; i++) {

128 
j
 = 0; j < 
k
; j++) {

129 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_divide
(1, (
i
 ^ (
m
+
j
)), 
w
);

130 
ödex
++;

133  
m©rix
;

134 
	}
}

136 *
	$ˇuchy_xy_codög_m©rix
(
k
, 
m
, 
w
, *
X
, *
Y
)

138 
ödex
, 
i
, 
j
;

139 *
m©rix
;

141 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

142 i‡(
m©rix
 =
NULL
) {  NULL; }

143 
ödex
 = 0;

144 
i
 = 0; i < 
m
; i++) {

145 
j
 = 0; j < 
k
; j++) {

146 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_divide
(1, (
X
[
i
] ^ 
Y
[
j
]), 
w
);

147 
ödex
++;

150  
m©rix
;

151 
	}
}

153 
	$ˇuchy_im¥ove_codög_m©rix
(
k
, 
m
, 
w
, *
m©rix
)

155 
ödex
, 
i
, 
j
, 
x
;

156 
tmp
;

157 
bno
, 
äo
, 
bno_ödex
;

159 
j
 = 0; j < 
k
; j++) {

160 i‡(
m©rix
[
j
] != 1) {

161 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
j
], 
w
);

162 
ödex
 = 
j
;

163 
i
 = 0; i < 
m
; i++) {

164 
m©rix
[
ödex
] = 
	`gÆois_sögÀ_mu…ùly
(m©rix[ödex], 
tmp
, 
w
);

165 
ödex
 +
k
;

169 
i
 = 1; i < 
m
; i++) {

170 
bno
 = 0;

171 
ödex
 = 
i
*
k
;

172 
j
 = 0; j < 
k
; j++Ë
bno
 +
	`ˇuchy_n_⁄es
(
m©rix
[
ödex
+j], 
w
);

173 
bno_ödex
 = -1;

174 
j
 = 0; j < 
k
; j++) {

175 i‡(
m©rix
[
ödex
+
j
] != 1) {

176 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
ödex
+
j
], 
w
);

177 
äo
 = 0;

178 
x
 = 0; x < 
k
; x++) {

179 
äo
 +
	`ˇuchy_n_⁄es
(
	`gÆois_sögÀ_mu…ùly
(
m©rix
[
ödex
+
x
], 
tmp
, 
w
), w);

181 i‡(
äo
 < 
bno
) {

182 
bno
 = 
äo
;

183 
bno_ödex
 = 
j
;

187 i‡(
bno_ödex
 != -1) {

188 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
m©rix
[
ödex
+
bno_ödex
], 
w
);

189 
j
 = 0; j < 
k
; j++) {

190 
m©rix
[
ödex
+
j
] = 
	`gÆois_sögÀ_mu…ùly
(m©rix[ödex+j], 
tmp
, 
w
);

194 
	}
}

196 *
	$ˇuchy_good_gíîÆ_codög_m©rix
(
k
, 
m
, 
w
)

198 *
m©rix
, 
i
;

200 i‡(
m
 =2 && 
k
 <
cbe°_max_k
[
w
]) {

201 
m©rix
 = 
	`èŒoc
(, 
k
*
m
);

202 i‡(
m©rix
 =
NULL
)  NULL;

203 i‡(!
cbe°_öô
) {

204 
cbe°_öô
 = 1;

205 
cbe°_Æl
[0] = 
cbe°_0
; cbe°_Æl[1] = 
cbe°_1
; cbe°_Æl[2] = 
cbe°_2
; cbe°_Æl[3] = 
cbe°_3
; cbest_all[4] =

206 
cbe°_4
; 
cbe°_Æl
[5] = 
cbe°_5
; cbe°_Æl[6] = 
cbe°_6
; cbe°_Æl[7] = 
cbe°_7
; cbe°_Æl[8] = 
cbe°_8
;

207 
cbe°_Æl
[9] = 
cbe°_9
; cbe°_Æl[10] = 
cbe°_10
; cbe°_Æl[11] = 
cbe°_11
; cbe°_Æl[12] = 
cbe°_12
;

208 
cbe°_Æl
[13] = 
cbe°_13
; cbe°_Æl[14] = 
cbe°_14
; cbe°_Æl[15] = 
cbe°_15
; cbe°_Æl[16] = 
cbe°_16
;

209 
cbe°_Æl
[17] = 
cbe°_17
; cbe°_Æl[18] = 
cbe°_18
; cbe°_Æl[19] = 
cbe°_19
; cbe°_Æl[20] = 
cbe°_20
;

210 
cbe°_Æl
[21] = 
cbe°_21
; cbe°_Æl[22] = 
cbe°_22
; cbe°_Æl[23] = 
cbe°_23
; cbe°_Æl[24] = 
cbe°_24
;

211 
cbe°_Æl
[25] = 
cbe°_25
; cbe°_Æl[26] = 
cbe°_26
; cbe°_Æl[27] = 
cbe°_27
; cbe°_Æl[28] = 
cbe°_28
;

212 
cbe°_Æl
[29] = 
cbe°_29
; cbe°_Æl[30] = 
cbe°_30
; cbe°_Æl[31] = 
cbe°_31
; cbe°_Æl[32] = (*Ë
cbe°_32
;

214 
i
 = 0; i < 
k
; i++) {

215 
m©rix
[
i
] = 1;

216 
m©rix
[
i
+
k
] = 
cbe°_Æl
[
w
][i];

218  
m©rix
;

220 
m©rix
 = 
	`ˇuchy_‹igöÆ_codög_m©rix
(
k
, 
m
, 
w
);

221 i‡(
m©rix
 =
NULL
)  NULL;

222 
	`ˇuchy_im¥ove_codög_m©rix
(
k
, 
m
, 
w
, 
m©rix
);

223  
m©rix
;

225 
	}
}

227 
	gcbe°_2
[3] = { 1, 2, 3 };

228 
	gcbe°_3
[7] = { 1, 2, 5, 4, 7, 3, 6 };

230 
	gcbe°_4
[15] = { 1, 2, 9, 4, 8, 13, 3, 6, 12, 5, 11, 15, 10, 14, 7 };

232 
	gcbe°_5
[31] = { 1, 2, 18, 4, 9, 8, 22, 16, 3, 11, 19, 5, 10, 6, 20, 27, 13, 23, 26, 12,

235 
	gcbe°_6
[63] = { 1, 2, 33, 4, 8, 49, 16, 32, 57, 3, 6, 12, 24, 48, 5, 35, 9, 37, 10, 17,

239 
	gcbe°_7
[127] = { 1, 2, 68, 4, 34, 8, 17, 16, 76, 32, 38, 3, 64, 69, 5, 19, 35, 70, 6, 9,

246 
	gcbe°_8
[255] = { 1, 2, 142, 4, 71, 8, 70, 173, 3, 35, 143, 16, 17, 67, 134, 140, 172, 6, 34

260 
	gcbe°_9
[511] = { 1, 2, 264, 4, 132, 8, 66, 16, 33, 32, 280, 64, 140, 128, 3, 70, 265, 5,

288 
	gcbe°_10
[1023] = { 1, 2, 516, 4, 258, 8, 129, 16, 32, 580, 64, 128, 290, 145, 256, 3, 512,

342 
	gcbe°_11
[1023] = { 1,

393 
	gcbe°_12
[1023] = {

448 
	gcbe°_13
[1023] = {

504 
	gcbe°_14
[1023] = {

563 
	gcbe°_15
[1023] = {

624 
	gcbe°_16
[1023] = {

687 
	gcbe°_17
[1023] = {

752 
	gcbe°_18
[1023] = {

819 
	gcbe°_19
[1023] = {

891 
	gcbe°_20
[1023] = {

962 
	gcbe°_21
[1023] = {

1035 
	gcbe°_22
[1023] = {

1109 
	gcbe°_23
[1023] = {

1187 
	gcbe°_24
[1023] = {

1268 
	gcbe°_25
[1023] = {

1349 
	gcbe°_26
[1023] = {

1433 
	gcbe°_27
[1023] = {

1520 
	gcbe°_28
[1023] = {

1607 
	gcbe°_29
[1023] = {

1695 
	gcbe°_30
[1023] = {

1783 
	gcbe°_31
[1023] = {

1877 
	gcbe°_32
[1023] = {

	@oss/jerasure_lib/galois.c

36 
	~<°dio.h
>

37 
	~<°dlib.h
>

38 
	~<°rög.h
>

40 
	~"gÆois.h
"

42 
	#NONE
 (10)

	)

43 
	#TABLE
 (11)

	)

44 
	#SHIFT
 (12)

	)

45 
	#LOGS
 (13)

	)

46 
	#SPLITW8
 (14)

	)

48 
	g¥im_pﬁy
[33] =

83 
	gmu…_ty≥
[33] =

84 { 
NONE
,

85  
TABLE
,

86  
TABLE
,

87  
TABLE
,

88  
TABLE
,

89  
TABLE
,

90  
TABLE
,

91  
TABLE
,

92  
TABLE
,

93  
TABLE
,

94  
LOGS
,

95  
LOGS
,

96  
LOGS
,

97  
LOGS
,

98  
LOGS
,

99  
LOGS
,

100  
LOGS
,

101  
LOGS
,

102  
LOGS
,

103  
LOGS
,

104  
LOGS
,

105  
LOGS
,

106  
LOGS
,

107  
SHIFT
,

108  
SHIFT
,

109  
SHIFT
,

110  
SHIFT
,

111  
SHIFT
,

112  
SHIFT
,

113  
SHIFT
,

114  
SHIFT
,

115  
SHIFT
,

116  
SPLITW8
 };

118 
	gnw
[33] = { 0, (1 << 1), (1 << 2), (1 << 3), (1 << 4),

125 
	gnwm1
[33] = { 0, (1 << 1)-1, (1 << 2)-1, (1 << 3)-1, (1 << 4)-1,

132 *
	ggÆois_log_èbÀs
[33] = { 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL,

133 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,

134 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };

136 *
	ggÆois_ûog_èbÀs
[33] = { 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL,

137 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,

138 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };

140 *
	ggÆois_mu…_èbÀs
[33] = { 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL,

141 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,

142 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };

144 *
	ggÆois_div_èbÀs
[33] = { 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL,

145 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL,

146 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL };

150 *
	ggÆois_•lô_w8
[7] = { 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL };

152 
	$gÆois_¸óã_log_èbÀs
(
w
)

154 
j
, 
b
;

156 i‡(
w
 > 30)  -1;

157 i‡(
gÆois_log_èbÀs
[
w
] !
NULL
)  0;

158 
gÆois_log_èbÀs
[
w
] = (*Ë
	`mÆloc
(()*
nw
[w]);

159 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
)  -1;

161 
gÆois_ûog_èbÀs
[
w
] = (*Ë
	`mÆloc
(()*
nw
[w]*3);

162 i‡(
gÆois_ûog_èbÀs
[
w
] =
NULL
) {

163 
	`‰ì
(
gÆois_log_èbÀs
[
w
]);

164 
gÆois_log_èbÀs
[
w
] = 
NULL
;

168 
j
 = 0; j < 
nw
[
w
]; j++) {

169 
gÆois_log_èbÀs
[
w
][
j
] = 
nwm1
[w];

170 
gÆois_ûog_èbÀs
[
w
][
j
] = 0;

173 
b
 = 1;

174 
j
 = 0; j < 
nwm1
[
w
]; j++) {

175 i‡(
gÆois_log_èbÀs
[
w
][
b
] !
nwm1
[w]) {

176 
	`Ârötf
(
°dîr
, "Galois_create_log_tables Error: j=%d, b=%d, B->J[b]=%d, J->B[j]=%d (0%o)\n",

177 
j
, 
b
, 
gÆois_log_èbÀs
[
w
][b], 
gÆois_ûog_èbÀs
[w][j], (b << 1Ë^ 
¥im_pﬁy
[w]);

178 
	`exô
(1);

180 
gÆois_log_èbÀs
[
w
][
b
] = 
j
;

181 
gÆois_ûog_èbÀs
[
w
][
j
] = 
b
;

182 
b
 = b << 1;

183 i‡(
b
 & 
nw
[
w
]Ëb = (b ^ 
¥im_pﬁy
[w]Ë& 
nwm1
[w];

185 
j
 = 0; j < 
nwm1
[
w
]; j++) {

186 
gÆois_ûog_èbÀs
[
w
][
j
+
nwm1
[w]] = galois_ilog_tables[w][j];

187 
gÆois_ûog_èbÀs
[
w
][
j
+
nwm1
[w]*2] = galois_ilog_tables[w][j];

189 
gÆois_ûog_èbÀs
[
w
] +
nwm1
[w];

191 
	}
}

193 
	$gÆois_logèbÀ_mu…ùly
(
x
, 
y
, 
w
)

195 
sum_j
;

197 i‡(
x
 =0 || 
y
 == 0)  0;

199 
sum_j
 = 
gÆois_log_èbÀs
[
w
][
x
] + gÆois_log_èbÀs[w][
y
];

202  
gÆois_ûog_èbÀs
[
w
][
sum_j
];

203 
	}
}

205 
	$gÆois_logèbÀ_divide
(
x
, 
y
, 
w
)

207 
sum_j
;

208 
z
;

210 i‡(
y
 == 0)  -1;

211 i‡(
x
 == 0)  0;

212 
sum_j
 = 
gÆois_log_èbÀs
[
w
][
x
] - gÆois_log_èbÀs[w][
y
];

214 
z
 = 
gÆois_ûog_èbÀs
[
w
][
sum_j
];

215  
z
;

216 
	}
}

218 
	$gÆois_¸óã_mu…_èbÀs
(
w
)

220 
j
, 
x
, 
y
, 
logx
;

222 i‡(
w
 >= 14)  -1;

224 i‡(
gÆois_mu…_èbÀs
[
w
] !
NULL
)  0;

225 
gÆois_mu…_èbÀs
[
w
] = (*Ë
	`mÆloc
((Ë* 
nw
[w] *Çw[w]);

226 i‡(
gÆois_mu…_èbÀs
[
w
] =
NULL
)  -1;

228 
gÆois_div_èbÀs
[
w
] = (*Ë
	`mÆloc
((Ë* 
nw
[w] *Çw[w]);

229 i‡(
gÆois_div_èbÀs
[
w
] =
NULL
) {

230 
	`‰ì
(
gÆois_mu…_èbÀs
[
w
]);

231 
gÆois_mu…_èbÀs
[
w
] = 
NULL
;

234 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
) {

235 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
) < 0) {

236 
	`‰ì
(
gÆois_mu…_èbÀs
[
w
]);

237 
	`‰ì
(
gÆois_div_èbÀs
[
w
]);

238 
gÆois_mu…_èbÀs
[
w
] = 
NULL
;

239 
gÆois_div_èbÀs
[
w
] = 
NULL
;

245 
j
 = 0;

246 
gÆois_mu…_èbÀs
[
w
][
j
] = 0;

247 
gÆois_div_èbÀs
[
w
][
j
] = -1;

248 
j
++;

249 
y
 = 1; y < 
nw
[
w
]; y++) {

250 
gÆois_mu…_èbÀs
[
w
][
j
] = 0;

251 
gÆois_div_èbÀs
[
w
][
j
] = 0;

252 
j
++;

255 
x
 = 1; x < 
nw
[
w
]; x++) {

256 
gÆois_mu…_èbÀs
[
w
][
j
] = 0;

257 
gÆois_div_èbÀs
[
w
][
j
] = -1;

258 
j
++;

259 
logx
 = 
gÆois_log_èbÀs
[
w
][
x
];

260 
y
 = 1; y < 
nw
[
w
]; y++) {

261 
gÆois_mu…_èbÀs
[
w
][
j
] = 
gÆois_ûog_èbÀs
[w][
logx
+
gÆois_log_èbÀs
[w][
y
]];

262 
gÆois_div_èbÀs
[
w
][
j
] = 
gÆois_ûog_èbÀs
[w][
logx
-
gÆois_log_èbÀs
[w][
y
]];

263 
j
++;

267 
	}
}

269 
	$gÆois_ûog
(
vÆue
, 
w
)

271 i‡(
gÆois_ûog_èbÀs
[
w
] =
NULL
) {

272 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
) < 0) {

273 
	`Ârötf
(
°dîr
, "Error: galois_ilog - w isÅoo big. Sorry\n");

274 
	`exô
(1);

277  
gÆois_ûog_èbÀs
[
w
][
vÆue
];

278 
	}
}

280 
	$gÆois_log
(
vÆue
, 
w
)

282 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
) {

283 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
) < 0) {

284 
	`Ârötf
(
°dîr
, "Error: galois_log - w isÅoo big. Sorry\n");

285 
	`exô
(1);

288  
gÆois_log_èbÀs
[
w
][
vÆue
];

289 
	}
}

292 
	$gÆois_shi·_mu…ùly
(
x
, 
y
, 
w
)

294 
¥od
;

295 
i
, 
j
, 
öd
;

296 
k
;

297 
s¸©ch
[33];

299 
¥od
 = 0;

300 
i
 = 0; i < 
w
; i++) {

301 
s¸©ch
[
i
] = 
y
;

302 i‡(
y
 & (1 << (
w
-1))) {

303 
y
 = y << 1;

304 
y
 = (y ^ 
¥im_pﬁy
[
w
]Ë& 
nwm1
[w];

306 
y
 = y << 1;

309 
i
 = 0; i < 
w
; i++) {

310 
öd
 = (1 << 
i
);

311 i‡(
öd
 & 
x
) {

312 
j
 = 1;

313 
k
 = 0; k < 
w
; k++) {

314 
¥od
 =Örod ^ (
j
 & 
s¸©ch
[
i
]);

315 
j
 = (j << 1);

319  
¥od
;

320 
	}
}

322 
	$gÆois_sögÀ_mu…ùly
(
x
, 
y
, 
w
)

324 
sum_j
;

325 
z
;

327 i‡(
x
 =0 || 
y
 == 0)  0;

329 i‡(
mu…_ty≥
[
w
] =
TABLE
) {

330 i‡(
gÆois_mu…_èbÀs
[
w
] =
NULL
) {

331 i‡(
	`gÆois_¸óã_mu…_èbÀs
(
w
) < 0) {

332 
	`Ârötf
(
°dîr
, "ERROR -- c™nŸ makêmu…ùliˇti⁄ÅabÀ†f‹ w=%d\n", 
w
);

333 
	`exô
(1);

336  
gÆois_mu…_èbÀs
[
w
][(
x
<<w)|
y
];

337 } i‡(
mu…_ty≥
[
w
] =
LOGS
) {

338 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
) {

339 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
) < 0) {

340 
	`Ârötf
(
°dîr
, "ERROR -- c™nŸ makêlogÅabÀ†f‹ w=%d\n", 
w
);

341 
	`exô
(1);

344 
sum_j
 = 
gÆois_log_èbÀs
[
w
][
x
] + gÆois_log_èbÀs[w][
y
];

345 
z
 = 
gÆois_ûog_èbÀs
[
w
][
sum_j
];

346  
z
;

347 } i‡(
mu…_ty≥
[
w
] =
SPLITW8
) {

348 i‡(
gÆois_•lô_w8
[0] =
NULL
) {

349 i‡(
	`gÆois_¸óã_•lô_w8_èbÀs
() < 0) {

350 
	`Ârötf
(
°dîr
, "ERROR -- c™nŸ makêlog s∂ô_w8_èbÀ†f‹ w=%d\n", 
w
);

351 
	`exô
(1);

354  
	`gÆois_•lô_w8_mu…ùly
(
x
, 
y
);

355 } i‡(
mu…_ty≥
[
w
] =
SHIFT
) {

356  
	`gÆois_shi·_mu…ùly
(
x
, 
y
, 
w
);

358 
	`Ârötf
(
°dîr
, "GÆois_sögÀ_mu…ùly -Çÿim∂emíèti⁄ f‹ w=%d\n", 
w
);

359 
	`exô
(1);

360 
	}
}

362 
	$gÆois_mu…èbÀ_mu…ùly
(
x
, 
y
, 
w
)

364  
gÆois_mu…_èbÀs
[
w
][(
x
<<w)|
y
];

365 
	}
}

367 
	$gÆois_sögÀ_divide
(
a
, 
b
, 
w
)

369 
sum_j
;

371 i‡(
mu…_ty≥
[
w
] =
TABLE
) {

372 i‡(
gÆois_div_èbÀs
[
w
] =
NULL
) {

373 i‡(
	`gÆois_¸óã_mu…_èbÀs
(
w
) < 0) {

374 
	`Ârötf
(
°dîr
, "ERROR -- c™nŸ makêmu…ùliˇti⁄ÅabÀ†f‹ w=%d\n", 
w
);

375 
	`exô
(1);

378  
gÆois_div_èbÀs
[
w
][(
a
<<w)|
b
];

379 } i‡(
mu…_ty≥
[
w
] =
LOGS
) {

380 i‡(
b
 == 0)  -1;

381 i‡(
a
 == 0)  0;

382 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
) {

383 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
) < 0) {

384 
	`Ârötf
(
°dîr
, "ERROR -- c™nŸ makêlogÅabÀ†f‹ w=%d\n", 
w
);

385 
	`exô
(1);

388 
sum_j
 = 
gÆois_log_èbÀs
[
w
][
a
] - gÆois_log_èbÀs[w][
b
];

389  
gÆois_ûog_èbÀs
[
w
][
sum_j
];

391 i‡(
b
 == 0)  -1;

392 i‡(
a
 == 0)  0;

393 
sum_j
 = 
	`gÆois_övî£
(
b
, 
w
);

394  
	`gÆois_sögÀ_mu…ùly
(
a
, 
sum_j
, 
w
);

396 
	`Ârötf
(
°dîr
, "GÆois_sögÀ_dividê-Çÿim∂emíèti⁄ f‹ w=%d\n", 
w
);

397 
	`exô
(1);

398 
	}
}

400 
	$gÆois_shi·_divide
(
a
, 
b
, 
w
)

402 
övî£
;

404 i‡(
b
 == 0)  -1;

405 i‡(
a
 == 0)  0;

406 
övî£
 = 
	`gÆois_shi·_övî£
(
b
, 
w
);

407  
	`gÆois_shi·_mu…ùly
(
a
, 
övî£
, 
w
);

408 
	}
}

410 
	$gÆois_mu…èbÀ_divide
(
x
, 
y
, 
w
)

412  
gÆois_div_èbÀs
[
w
][(
x
<<w)|
y
];

413 
	}
}

415 
	$gÆois_w08_ªgi⁄_mu…ùly
(*
ªgi⁄
,

416 
mu…by
,

417 
nbyãs
,

418 *
r2
,

419 
add
)

421 *
ur1
, *
ur2
, *
˝
;

422 
¥od
;

423 
i
, 
§ow
, 
j
;

424 
l
, *
Õ2
;

425 *
Õ
;

426 
sﬁ
;

428 
ur1
 = (*Ë
ªgi⁄
;

429 
ur2
 = (
r2
 =
NULL
Ë? 
ur1
 : (*)Ñ2;

441 i‡(
gÆois_mu…_èbÀs
[8] =
NULL
) {

442 i‡(
	`gÆois_¸óã_mu…_èbÀs
(8) < 0) {

443 
	`Ârötf
(
°dîr
, "galois_08_region_multiply -- couldn't make multiplicationÅables\n");

444 
	`exô
(1);

447 
§ow
 = 
mu…by
 * 
nw
[8];

448 i‡(
r2
 =
NULL
 || !
add
) {

449 
i
 = 0; i < 
nbyãs
; i++) {

450 
¥od
 = 
gÆois_mu…_èbÀs
[8][
§ow
+
ur1
[
i
]];

451 
ur2
[
i
] = 
¥od
;

454 
sﬁ
 = ();

455 
Õ2
 = &
l
;

456 
Õ
 = (*Ë
Õ2
;

457 
i
 = 0; i < 
nbyãs
; i +
sﬁ
) {

458 
˝
 = 
ur2
+
i
;

459 
Õ2
 = (*Ë
˝
;

460 
j
 = 0; j < 
sﬁ
; j++) {

461 
¥od
 = 
gÆois_mu…_èbÀs
[8][
§ow
+
ur1
[
i
+
j
]];

462 
Õ
[
j
] = 
¥od
;

464 *
Õ2
 = (*Õ2Ë^ 
l
;

468 
	}
}

470 
	$gÆois_w16_ªgi⁄_mu…ùly
(*
ªgi⁄
,

471 
mu…by
,

472 
nbyãs
,

473 *
r2
,

474 
add
)

476 *
ur1
, *
ur2
, *
˝
;

477 
¥od
;

478 
i
, 
log1
, 
j
, 
log2
;

479 
l
, *
Õ2
, *
Õt›
;

480 *
Õ
;

481 
sﬁ
;

483 
ur1
 = (*Ë
ªgi⁄
;

484 
ur2
 = (
r2
 =
NULL
Ë? 
ur1
 : (*)Ñ2;

485 
nbyãs
 /= 2;

500 i‡(
mu…by
 == 0) {

501 i‡(!
add
) {

502 
Õ2
 = (*Ë
ur2
;

503 
ur2
 +
nbyãs
;

504 
Õt›
 = (*Ë
ur2
;

505 
Õ2
 < 
Õt›
) { *lp2 = 0;Üp2++; }

510 i‡(
gÆois_log_èbÀs
[16] =
NULL
) {

511 i‡(
	`gÆois_¸óã_log_èbÀs
(16) < 0) {

512 
	`Ârötf
(
°dîr
, "galois_16_region_multiply -- couldn't makeÜogÅables\n");

513 
	`exô
(1);

516 
log1
 = 
gÆois_log_èbÀs
[16][
mu…by
];

518 i‡(
r2
 =
NULL
 || !
add
) {

519 
i
 = 0; i < 
nbyãs
; i++) {

520 i‡(
ur1
[
i
] == 0) {

521 
ur2
[
i
] = 0;

523 
¥od
 = 
gÆois_log_èbÀs
[16][
ur1
[
i
]] + 
log1
;

524 
ur2
[
i
] = 
gÆois_ûog_èbÀs
[16][
¥od
];

528 
sﬁ
 = ()/2;

529 
Õ2
 = &
l
;

530 
Õ
 = (*Ë
Õ2
;

531 
i
 = 0; i < 
nbyãs
; i +
sﬁ
) {

532 
˝
 = 
ur2
+
i
;

533 
Õ2
 = (*Ë
˝
;

534 
j
 = 0; j < 
sﬁ
; j++) {

535 i‡(
ur1
[
i
+
j
] == 0) {

536 
Õ
[
j
] = 0;

538 
log2
 = 
gÆois_log_èbÀs
[16][
ur1
[
i
+
j
]];

539 
¥od
 = 
log2
 + 
log1
;

540 
Õ
[
j
] = 
gÆois_ûog_èbÀs
[16][
¥od
];

543 *
Õ2
 = (*Õ2Ë^ 
l
;

547 
	}
}

551 
	$gÆois_övît_bö¨y_m©rix
(*
m©
, *
öv
, 
rows
)

553 
cﬁs
, 
i
, 
j
, 
k
;

554 
tmp
;

556 
cﬁs
 = 
rows
;

558 
i
 = 0; i < 
rows
; i++Ë
öv
[i] = (1 << i);

562 
i
 = 0; i < 
cﬁs
; i++) {

567 i‡((
m©
[
i
] & (1 << i)) == 0) {

568 
j
 = 
i
+1; j < 
rows
 && (
m©
[j] & (1 << i)) == 0; j++) ;

569 i‡(
j
 =
rows
) {

570 
	`Ârötf
(
°dîr
, "galois_invert_matrix: MatrixÇot invertible!!\n");

571 
	`exô
(1);

573 
tmp
 = 
m©
[
i
]; m©[i] = m©[
j
]; mat[j] =Åmp;

574 
tmp
 = 
öv
[
i
]; inv[i] = inv[
j
]; inv[j] =Åmp;

578 
j
 = 
i
+1; j !
rows
; j++) {

579 i‡((
m©
[
j
] & (1 << 
i
)) != 0) {

580 
m©
[
j
] ^m©[
i
];

581 
öv
[
j
] ^öv[
i
];

588 
i
 = 
rows
-1; i >= 0; i--) {

589 
j
 = 0; j < 
i
; j++) {

590 i‡(
m©
[
j
] & (1 << 
i
)) {

592 
öv
[
j
] ^öv[
i
];

596 
	}
}

598 
	$gÆois_övî£
(
y
, 
w
)

601 i‡(
y
 == 0)  -1;

602 i‡(
mu…_ty≥
[
w
] =
SHIFT
 || mu…_ty≥[w] =
SPLITW8
Ë 
	`gÆois_shi·_övî£
(
y
, w);

603  
	`gÆois_sögÀ_divide
(1, 
y
, 
w
);

604 
	}
}

606 
	$gÆois_shi·_övî£
(
y
, 
w
)

608 
m©
[1024], 
m©2
[32];

609 
öv
[1024], 
öv2
[32];

610 
öd
, 
i
, 
j
, 
k
, 
¥od
;

612 
i
 = 0; i < 
w
; i++) {

613 
m©2
[
i
] = 
y
;

615 i‡(
y
 & 
nw
[
w
-1]) {

616 
y
 = y << 1;

617 
y
 = (y ^ 
¥im_pﬁy
[
w
]Ë& 
nwm1
[w];

619 
y
 = y << 1;

623 
	`gÆois_övît_bö¨y_m©rix
(
m©2
, 
öv2
, 
w
);

625  
öv2
[0];

626 
	}
}

628 *
	$gÆois_gë_mu…_èbÀ
(
w
)

630 i‡(
gÆois_mu…_èbÀs
[
w
] =
NULL
) {

631 i‡(
	`gÆois_¸óã_mu…_èbÀs
(
w
)) {

632  
NULL
;

635  
gÆois_mu…_èbÀs
[
w
];

636 
	}
}

638 *
	$gÆois_gë_div_èbÀ
(
w
)

640 i‡(
gÆois_mu…_èbÀs
[
w
] =
NULL
) {

641 i‡(
	`gÆois_¸óã_mu…_èbÀs
(
w
)) {

642  
NULL
;

645  
gÆois_div_èbÀs
[
w
];

646 
	}
}

648 *
	$gÆois_gë_log_èbÀ
(
w
)

650 i‡(
gÆois_log_èbÀs
[
w
] =
NULL
) {

651 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
)) {

652  
NULL
;

655  
gÆois_log_èbÀs
[
w
];

656 
	}
}

658 *
	$gÆois_gë_ûog_èbÀ
(
w
)

660 i‡(
gÆois_ûog_èbÀs
[
w
] =
NULL
) {

661 i‡(
	`gÆois_¸óã_log_èbÀs
(
w
)) {

662  
NULL
;

665  
gÆois_ûog_èbÀs
[
w
];

666 
	}
}

668 
	$gÆois_w32_ªgi⁄_mu…ùly
(*
ªgi⁄
,

669 
mu…by
,

670 
nbyãs
,

671 *
r2
,

672 
add
)

674 *
ur1
, *
ur2
, *
˝
, *
ur2t›
;

675 *
Õ2
, *
Õt›
;

676 
i
, 
j
, 
a
, 
b
, 
accumuœt‹
, 
i8
, 
j8
, 
k
;

677 
aˇche
[4];

679 
ur1
 = (*Ë
ªgi⁄
;

680 
ur2
 = (
r2
 =
NULL
Ë? 
ur1
 : (*)Ñ2;

681 
nbyãs
 /= ();

682 
ur2t›
 = 
ur2
 + 
nbyãs
;

684 i‡(
gÆois_•lô_w8
[0]=
NULL
) {

685 i‡(
	`gÆois_¸óã_•lô_w8_èbÀs
(8) < 0) {

686 
	`Ârötf
(
°dîr
, "galois_32_region_multiply -- couldn't make split multiplicationÅables\n");

687 
	`exô
(1);

694 
i8
 = 0;

695 
i
 = 0; i < 4; i++) {

696 
aˇche
[
i
] = (((
mu…by
 >> 
i8
) & 255) << 8);

697 
i8
 += 8;

699 i‡(!
add
) {

700 
k
 = 0; k < 
nbyãs
; k++) {

701 
accumuœt‹
 = 0;

702 
i
 = 0; i < 4; i++) {

703 
a
 = 
aˇche
[
i
];

704 
j8
 = 0;

705 
j
 = 0; j < 4; j++) {

706 
b
 = ((
ur1
[
k
] >> 
j8
) & 255);

707 
accumuœt‹
 ^
gÆois_•lô_w8
[
i
+
j
][
a
|
b
];

708 
j8
 += 8;

711 
ur2
[
k
] = 
accumuœt‹
;

714 
k
 = 0; k < 
nbyãs
; k++) {

715 
accumuœt‹
 = 0;

716 
i
 = 0; i < 4; i++) {

717 
a
 = 
aˇche
[
i
];

718 
j8
 = 0;

719 
j
 = 0; j < 4; j++) {

720 
b
 = ((
ur1
[
k
] >> 
j8
) & 255);

721 
accumuœt‹
 ^
gÆois_•lô_w8
[
i
+
j
][
a
|
b
];

722 
j8
 += 8;

725 
ur2
[
k
] = (ur2[k] ^ 
accumuœt‹
);

730 
	}
}

732 
	$gÆois_ªgi⁄_x‹
–*
r1
,

733 *
r2
,

734 *
r3
,

735 
nbyãs
)

737 *
l1
;

738 *
l2
;

739 *
l3
;

740 *
…›
;

741 *
˘›
;

743 
˘›
 = 
r1
 + 
nbyãs
;

744 
…›
 = (*Ë
˘›
;

745 
l1
 = (*Ë
r1
;

746 
l2
 = (*Ë
r2
;

747 
l3
 = (*Ë
r3
;

749 
l1
 < 
…›
) {

750 *
l3
 = ((*
l1
Ë^ (*
l2
));

751 
l1
++;

752 
l2
++;

753 
l3
++;

755 
	}
}

757 
	$gÆois_¸óã_•lô_w8_èbÀs
()

759 
p1
, 
p2
, 
i
, 
j
, 
p1ñt
, 
p2ñt
, 
ödex
, 
ishi·
, 
jshi·
, *
èbÀ
;

761 i‡(
gÆois_•lô_w8
[0] !
NULL
)  0;

763 i‡(
	`gÆois_¸óã_mu…_èbÀs
(8) < 0)  -1;

765 
i
 = 0; i < 7; i++) {

766 
gÆois_•lô_w8
[
i
] = (*Ë
	`mÆloc
(() * (1 << 16));

767 i‡(
gÆois_•lô_w8
[
i
] =
NULL
) {

768 
i
--; i >0; i--Ë
	`‰ì
(
gÆois_•lô_w8
[i]);

773 
i
 = 0; i < 4; i += 3) {

774 
ishi·
 = 
i
 * 8;

775 
j
 = ((
i
 == 0) ? 0 : 1) ; j < 4; j++) {

776 
jshi·
 = 
j
 * 8;

777 
èbÀ
 = 
gÆois_•lô_w8
[
i
+
j
];

778 
ödex
 = 0;

779 
p1
 = 0;Ö1 < 256;Ö1++) {

780 
p1ñt
 = (
p1
 << 
ishi·
);

781 
p2
 = 0;Ö2 < 256;Ö2++) {

782 
p2ñt
 = (
p2
 << 
jshi·
);

783 
èbÀ
[
ödex
] = 
	`gÆois_shi·_mu…ùly
(
p1ñt
, 
p2ñt
, 32);

784 
ödex
++;

790 
	}
}

792 
	$gÆois_•lô_w8_mu…ùly
(
x
, 
y
)

794 
i
, 
j
, 
a
, 
b
, 
accumuœt‹
, 
i8
, 
j8
;

796 
accumuœt‹
 = 0;

798 
i8
 = 0;

799 
i
 = 0; i < 4; i++) {

800 
a
 = (((
x
 >> 
i8
) & 255) << 8);

801 
j8
 = 0;

802 
j
 = 0; j < 4; j++) {

803 
b
 = ((
y
 >> 
j8
) & 255);

804 
accumuœt‹
 ^
gÆois_•lô_w8
[
i
+
j
][
a
|
b
];

805 
j8
 += 8;

807 
i8
 += 8;

809  
accumuœt‹
;

810 
	}
}

	@oss/jerasure_lib/galois.h

35 #i‚de‡
_GALOIS_H


36 
	#_GALOIS_H


	)

38 
	~<°dio.h
>

39 
	~<°dlib.h
>

41 
gÆois_sögÀ_mu…ùly
(
a
, 
b
, 
w
);

42 
gÆois_sögÀ_divide
(
a
, 
b
, 
w
);

43 
gÆois_log
(
vÆue
, 
w
);

44 
gÆois_ûog
(
vÆue
, 
w
);

46 
gÆois_¸óã_log_èbÀs
(
w
);

47 
gÆois_logèbÀ_mu…ùly
(
x
, 
y
, 
w
);

48 
gÆois_logèbÀ_divide
(
x
, 
y
, 
w
);

50 
gÆois_¸óã_mu…_èbÀs
(
w
);

51 
gÆois_mu…èbÀ_mu…ùly
(
x
, 
y
, 
w
);

52 
gÆois_mu…èbÀ_divide
(
x
, 
y
, 
w
);

54 
gÆois_shi·_mu…ùly
(
x
, 
y
, 
w
);

55 
gÆois_shi·_divide
(
x
, 
y
, 
w
);

57 
gÆois_¸óã_•lô_w8_èbÀs
();

58 
gÆois_•lô_w8_mu…ùly
(
x
, 
y
);

60 
gÆois_övî£
(
x
, 
w
);

61 
gÆois_shi·_övî£
(
y
, 
w
);

63 *
gÆois_gë_mu…_èbÀ
(
w
);

64 *
gÆois_gë_div_èbÀ
(
w
);

65 *
gÆois_gë_log_èbÀ
(
w
);

66 *
gÆois_gë_ûog_èbÀ
(
w
);

68 
gÆois_ªgi⁄_x‹
–*
r1
,

69 *
r2
,

70 *
r3
,

71 
nbyãs
);

76 
gÆois_w08_ªgi⁄_mu…ùly
(*
ªgi⁄
,

77 
mu…by
,

78 
nbyãs
,

79 *
r2
,

81 
add
);

83 
gÆois_w16_ªgi⁄_mu…ùly
(*
ªgi⁄
,

84 
mu…by
,

85 
nbyãs
,

86 *
r2
,

88 
add
);

90 
gÆois_w32_ªgi⁄_mu…ùly
(*
ªgi⁄
,

91 
mu…by
,

92 
nbyãs
,

93 *
r2
,

95 
add
);

	@oss/jerasure_lib/jerasure.c

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"gÆois.h
"

38 
	~"jîasuª.h
"

40 
	#èŒoc
(
ty≥
, 
num
Ë—y≥ *Ë
	`mÆloc
(—y≥)*“um))

	)

42 
	gjîasuª_tŸÆ_x‹_byãs
 = 0;

43 
	gjîasuª_tŸÆ_gf_byãs
 = 0;

44 
	gjîasuª_tŸÆ_mem˝y_byãs
 = 0;

46 
	$jîasuª_¥öt_m©rix
(*
m
, 
rows
, 
cﬁs
, 
w
)

48 
i
, 
j
;

49 
fw
;

50 
s
[30];

51 
w2
;

53 i‡(
w
 == 32) {

54 
fw
 = 10;

56 
w2
 = (1 << 
w
);

57 
	`•rötf
(
s
, "%u", 
w2
-1);

58 
fw
 = 
	`°æí
(
s
);

61 
i
 = 0; i < 
rows
; i++) {

62 
j
 = 0; j < 
cﬁs
; j++) {

63 i‡(
j
 !0Ë
	`¥ötf
(" ");

64 
	`¥ötf
("%*u", 
fw
, 
m
[
i
*
cﬁs
+
j
]);

66 
	`¥ötf
("\n");

68 
	}
}

70 
	$jîasuª_¥öt_bôm©rix
(*
m
, 
rows
, 
cﬁs
, 
w
)

72 
i
, 
j
;

74 
i
 = 0; i < 
rows
; i++) {

75 i‡(
i
 !0 && i%
w
 =0Ë
	`¥ötf
("\n");

76 
j
 = 0; j < 
cﬁs
; j++) {

77 i‡(
j
 !0 && j%
w
 =0Ë
	`¥ötf
(" ");

78 
	`¥ötf
("%d", 
m
[
i
*
cﬁs
+
j
]);

80 
	`¥ötf
("\n");

82 
	}
}

84 
	$jîasuª_make_decodög_m©rix
(
k
, 
m
, 
w
, *
m©rix
, *
îa£d
, *
decodög_m©rix
, *
dm_ids
)

86 
i
, 
j
, *
tmpm©
;

88 
j
 = 0;

89 
i
 = 0; 
j
 < 
k
; i++) {

90 i‡(
îa£d
[
i
] == 0) {

91 
dm_ids
[
j
] = 
i
;

92 
j
++;

96 
tmpm©
 = 
	`èŒoc
(, 
k
*k);

97 i‡(
tmpm©
 =
NULL
) {  -1; }

98 
i
 = 0; i < 
k
; i++) {

99 i‡(
dm_ids
[
i
] < 
k
) {

100 
j
 = 0; j < 
k
; j++Ë
tmpm©
[
i
*k+j] = 0;

101 
tmpm©
[
i
*
k
+
dm_ids
[i]] = 1;

103 
j
 = 0; j < 
k
; j++) {

104 
tmpm©
[
i
*
k
+
j
] = 
m©rix
[(
dm_ids
[i]-k)*k+j];

109 
i
 = 
	`jîasuª_övît_m©rix
(
tmpm©
, 
decodög_m©rix
, 
k
, 
w
);

110 
	`‰ì
(
tmpm©
);

111  
i
;

112 
	}
}

115 
	$jîasuª_make_decodög_bôm©rix
(
k
, 
m
, 
w
, *
m©rix
, *
îa£d
, *
decodög_m©rix
, *
dm_ids
)

117 
i
, 
j
, *
tmpm©
;

118 
ödex
, 
mödex
;

120 
j
 = 0;

121 
i
 = 0; 
j
 < 
k
; i++) {

122 i‡(
îa£d
[
i
] == 0) {

123 
dm_ids
[
j
] = 
i
;

124 
j
++;

128 
tmpm©
 = 
	`èŒoc
(, 
k
*k*
w
*w);

129 i‡(
tmpm©
 =
NULL
) {  -1; }

130 
i
 = 0; i < 
k
; i++) {

131 i‡(
dm_ids
[
i
] < 
k
) {

132 
ödex
 = 
i
*
k
*
w
*w;

133 
j
 = 0; j < 
k
*
w
*w; j++Ë
tmpm©
[
ödex
+j] = 0;

134 
ödex
 = 
i
*
k
*
w
*w+
dm_ids
[i]*w;

135 
j
 = 0; j < 
w
; j++) {

136 
tmpm©
[
ödex
] = 1;

137 
ödex
 +(
k
*
w
+1);

140 
ödex
 = 
i
*
k
*
w
*w;

141 
mödex
 = (
dm_ids
[
i
]-
k
)*k*
w
*w;

142 
j
 = 0; j < 
k
*
w
*w; j++) {

143 
tmpm©
[
ödex
+
j
] = 
m©rix
[
mödex
+j];

148 
i
 = 
	`jîasuª_övît_bôm©rix
(
tmpm©
, 
decodög_m©rix
, 
k
*
w
);

149 
	`‰ì
(
tmpm©
);

150  
i
;

151 
	}
}

153 
	$jîasuª_m©rix_decode
(
k
, 
m
, 
w
, *
m©rix
, 
row_k_⁄es
, *
îasuªs
,

154 **
d©a_±rs
, **
codög_±rs
, 
size
)

156 
i
, 
j
, 
edd
, 
œ°drive
;

157 *
tmpids
;

158 *
îa£d
, *
decodög_m©rix
, *
dm_ids
;

160 i‡(
w
 != 8 && w != 16 && w != 32)  -1;

162 
îa£d
 = 
	`jîasuª_îasuªs_to_îa£d
(
k
, 
m
, 
îasuªs
);

163 i‡(
îa£d
 =
NULL
)  -1;

167 
œ°drive
 = 
k
;

169 
edd
 = 0;

170 
i
 = 0; i < 
k
; i++) {

171 i‡(
îa£d
[
i
]) {

172 
edd
++;

173 
œ°drive
 = 
i
;

190 i‡(!
row_k_⁄es
 || 
îa£d
[
k
]Ë
œ°drive
 = k;

192 
dm_ids
 = 
NULL
;

193 
decodög_m©rix
 = 
NULL
;

195 i‡(
edd
 > 1 || (edd > 0 && (!
row_k_⁄es
 || 
îa£d
[
k
]))) {

196 
dm_ids
 = 
	`èŒoc
(, 
k
);

197 i‡(
dm_ids
 =
NULL
) {

198 
	`‰ì
(
îa£d
);

202 
decodög_m©rix
 = 
	`èŒoc
(, 
k
*k);

203 i‡(
decodög_m©rix
 =
NULL
) {

204 
	`‰ì
(
îa£d
);

205 
	`‰ì
(
dm_ids
);

209 i‡(
	`jîasuª_make_decodög_m©rix
(
k
, 
m
, 
w
, 
m©rix
, 
îa£d
, 
decodög_m©rix
, 
dm_ids
) < 0) {

210 
	`‰ì
(
îa£d
);

211 
	`‰ì
(
dm_ids
);

212 
	`‰ì
(
decodög_m©rix
);

223 
i
 = 0; 
edd
 > 0 && i < 
œ°drive
; i++) {

224 i‡(
îa£d
[
i
]) {

225 
	`jîasuª_m©rix_dŸ¥od
(
k
, 
w
, 
decodög_m©rix
+(
i
*k), 
dm_ids
, i, 
d©a_±rs
, 
codög_±rs
, 
size
);

226 
edd
--;

232 i‡(
edd
 > 0) {

233 
tmpids
 = 
	`èŒoc
(, 
k
);

234 
i
 = 0; i < 
k
; i++) {

235 
tmpids
[
i
] = (ò< 
œ°drive
) ? i : i+1;

237 
	`jîasuª_m©rix_dŸ¥od
(
k
, 
w
, 
m©rix
, 
tmpids
, 
œ°drive
, 
d©a_±rs
, 
codög_±rs
, 
size
);

238 
	`‰ì
(
tmpids
);

243 
i
 = 0; i < 
m
; i++) {

244 i‡(
îa£d
[
k
+
i
]) {

245 
	`jîasuª_m©rix_dŸ¥od
(
k
, 
w
, 
m©rix
+(
i
*k), 
NULL
, i+k, 
d©a_±rs
, 
codög_±rs
, 
size
);

249 
	`‰ì
(
îa£d
);

250 i‡(
dm_ids
 !
NULL
Ë
	`‰ì
(dm_ids);

251 i‡(
decodög_m©rix
 !
NULL
Ë
	`‰ì
(decoding_matrix);

254 
	}
}

257 *
	$jîasuª_m©rix_to_bôm©rix
(
k
, 
m
, 
w
, *
m©rix
)

259 *
bôm©rix
;

260 
rowñts
, 
rowödex
, 
cﬁödex
, 
ñt
, 
i
, 
j
, 
l
, 
x
;

262 
bôm©rix
 = 
	`èŒoc
(, 
k
*
m
*
w
*w);

263 i‡(
m©rix
 =
NULL
) {  NULL; }

265 
rowñts
 = 
k
 * 
w
;

266 
rowödex
 = 0;

268 
i
 = 0; i < 
m
; i++) {

269 
cﬁödex
 = 
rowödex
;

270 
j
 = 0; j < 
k
; j++) {

271 
ñt
 = 
m©rix
[
i
*
k
+
j
];

272 
x
 = 0; x < 
w
; x++) {

273 
l
 = 0;Ü < 
w
;Ü++) {

274 
bôm©rix
[
cﬁödex
+
x
+
l
*
rowñts
] = ((
ñt
 & (1 <<Ü)) ? 1 : 0);

276 
ñt
 = 
	`gÆois_sögÀ_mu…ùly
”…, 2, 
w
);

278 
cﬁödex
 +
w
;

280 
rowödex
 +
rowñts
 * 
w
;

282  
bôm©rix
;

283 
	}
}

285 
	$jîasuª_m©rix_ícode
(
k
, 
m
, 
w
, *
m©rix
,

286 **
d©a_±rs
, **
codög_±rs
, 
size
)

288 *
öô
;

289 
i
, 
j
;

291 i‡(
w
 != 8 && w != 16 && w != 32) {

292 
	`Ârötf
(
°dîr
, "ERROR: jerasure_matrix_encode()ánd w isÇot 8, 16 or 32\n");

293 
	`exô
(1);

296 
i
 = 0; i < 
m
; i++) {

297 
	`jîasuª_m©rix_dŸ¥od
(
k
, 
w
, 
m©rix
+(
i
*k), 
NULL
, k+i, 
d©a_±rs
, 
codög_±rs
, 
size
);

299 
	}
}

301 
	$jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, *
bôm©rix_row
,

302 *
§c_ids
, 
de°_id
,

303 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
)

305 
j
, 
södex
, 
p°¨ãd
, 
ödex
, 
x
, 
y
;

306 *
d±r
, *
µå
, *
bd±r
, *
bµå
;

308 i‡(
size
%(
w
*
∑ckësize
) != 0) {

309 
	`Ârötf
(
°dîr
, "jerasure_bitmatrix_dotprod - size%(w*packetsize)) must = 0\n");

310 
	`exô
(1);

313 
bµå
 = (
de°_id
 < 
k
Ë? 
d©a_±rs
[de°_id] : 
codög_±rs
[dest_id-k];

315 
södex
 = 0; södex < 
size
; södex +(
∑ckësize
*
w
)) {

316 
ödex
 = 0;

317 
j
 = 0; j < 
w
; j++) {

318 
p°¨ãd
 = 0;

319 
µå
 = 
bµå
 + 
södex
 + 
j
*
∑ckësize
;

320 
x
 = 0; x < 
k
; x++) {

321 i‡(
§c_ids
 =
NULL
) {

322 
bd±r
 = 
d©a_±rs
[
x
];

323 } i‡(
§c_ids
[
x
] < 
k
) {

324 
bd±r
 = 
d©a_±rs
[
§c_ids
[
x
]];

326 
bd±r
 = 
codög_±rs
[
§c_ids
[
x
]-
k
];

328 
y
 = 0; y < 
w
; y++) {

329 i‡(
bôm©rix_row
[
ödex
]) {

330 
d±r
 = 
bd±r
 + 
södex
 + 
y
*
∑ckësize
;

331 i‡(!
p°¨ãd
) {

332 
	`mem˝y
(
µå
, 
d±r
, 
∑ckësize
);

333 
jîasuª_tŸÆ_mem˝y_byãs
 +
∑ckësize
;

334 
p°¨ãd
 = 1;

336 
	`gÆois_ªgi⁄_x‹
(
µå
, 
d±r
,Ö±r, 
∑ckësize
);

337 
jîasuª_tŸÆ_x‹_byãs
 +
∑ckësize
;

340 
ödex
++;

345 
	}
}

347 
	$jîasuª_do_∑rôy
(
k
, **
d©a_±rs
, *
∑rôy_±r
, 
size
)

349 
i
;

351 
	`mem˝y
(
∑rôy_±r
, 
d©a_±rs
[0], 
size
);

352 
jîasuª_tŸÆ_mem˝y_byãs
 +
size
;

354 
i
 = 1; i < 
k
; i++) {

355 
	`gÆois_ªgi⁄_x‹
(
d©a_±rs
[
i
], 
∑rôy_±r
,Ö¨ôy_±r, 
size
);

356 
jîasuª_tŸÆ_x‹_byãs
 +
size
;

358 
	}
}

360 
	$jîasuª_övît_m©rix
(*
m©
, *
öv
, 
rows
, 
w
)

362 
cﬁs
, 
i
, 
j
, 
k
, 
x
, 
rs2
;

363 
row_°¨t
, 
tmp
, 
övî£
;

365 
cﬁs
 = 
rows
;

367 
k
 = 0;

368 
i
 = 0; i < 
rows
; i++) {

369 
j
 = 0; j < 
cﬁs
; j++) {

370 
öv
[
k
] = (
i
 =
j
) ? 1 : 0;

371 
k
++;

376 
i
 = 0; i < 
cﬁs
; i++) {

377 
row_°¨t
 = 
cﬁs
*
i
;

382 i‡(
m©
[
row_°¨t
+
i
] == 0) {

383 
j
 = 
i
+1; j < 
rows
 && 
m©
[
cﬁs
*j+i] == 0; j++) ;

384 i‡(
j
 =
rows
)  -1;

385 
rs2
 = 
j
*
cﬁs
;

386 
k
 = 0; k < 
cﬁs
; k++) {

387 
tmp
 = 
m©
[
row_°¨t
+
k
];

388 
m©
[
row_°¨t
+
k
] = m©[
rs2
+k];

389 
m©
[
rs2
+
k
] = 
tmp
;

390 
tmp
 = 
öv
[
row_°¨t
+
k
];

391 
öv
[
row_°¨t
+
k
] = inv[
rs2
+k];

392 
öv
[
rs2
+
k
] = 
tmp
;

397 
tmp
 = 
m©
[
row_°¨t
+
i
];

398 i‡(
tmp
 != 1) {

399 
övî£
 = 
	`gÆois_sögÀ_divide
(1, 
tmp
, 
w
);

400 
j
 = 0; j < 
cﬁs
; j++) {

401 
m©
[
row_°¨t
+
j
] = 
	`gÆois_sögÀ_mu…ùly
(m©[row_°¨t+j], 
övî£
, 
w
);

402 
öv
[
row_°¨t
+
j
] = 
	`gÆois_sögÀ_mu…ùly
(öv[row_°¨t+j], 
övî£
, 
w
);

407 
k
 = 
row_°¨t
+
i
;

408 
j
 = 
i
+1; j !
cﬁs
; j++) {

409 
k
 +
cﬁs
;

410 i‡(
m©
[
k
] != 0) {

411 i‡(
m©
[
k
] == 1) {

412 
rs2
 = 
cﬁs
*
j
;

413 
x
 = 0; x < 
cﬁs
; x++) {

414 
m©
[
rs2
+
x
] ^m©[
row_°¨t
+x];

415 
öv
[
rs2
+
x
] ^öv[
row_°¨t
+x];

418 
tmp
 = 
m©
[
k
];

419 
rs2
 = 
cﬁs
*
j
;

420 
x
 = 0; x < 
cﬁs
; x++) {

421 
m©
[
rs2
+
x
] ^
	`gÆois_sögÀ_mu…ùly
(
tmp
, m©[
row_°¨t
+x], 
w
);

422 
öv
[
rs2
+
x
] ^
	`gÆois_sögÀ_mu…ùly
(
tmp
, inv[
row_°¨t
+x], 
w
);

431 
i
 = 
rows
-1; i >= 0; i--) {

432 
row_°¨t
 = 
i
*
cﬁs
;

433 
j
 = 0; j < 
i
; j++) {

434 
rs2
 = 
j
*
cﬁs
;

435 i‡(
m©
[
rs2
+
i
] != 0) {

436 
tmp
 = 
m©
[
rs2
+
i
];

437 
m©
[
rs2
+
i
] = 0;

438 
k
 = 0; k < 
cﬁs
; k++) {

439 
öv
[
rs2
+
k
] ^
	`gÆois_sögÀ_mu…ùly
(
tmp
, inv[
row_°¨t
+k], 
w
);

445 
	}
}

447 
	$jîasuª_övîtibÀ_m©rix
(*
m©
, 
rows
, 
w
)

449 
cﬁs
, 
i
, 
j
, 
k
, 
x
, 
rs2
;

450 
row_°¨t
, 
tmp
, 
övî£
;

452 
cﬁs
 = 
rows
;

455 
i
 = 0; i < 
cﬁs
; i++) {

456 
row_°¨t
 = 
cﬁs
*
i
;

461 i‡(
m©
[
row_°¨t
+
i
] == 0) {

462 
j
 = 
i
+1; j < 
rows
 && 
m©
[
cﬁs
*j+i] == 0; j++) ;

463 i‡(
j
 =
rows
)  0;

464 
rs2
 = 
j
*
cﬁs
;

465 
k
 = 0; k < 
cﬁs
; k++) {

466 
tmp
 = 
m©
[
row_°¨t
+
k
];

467 
m©
[
row_°¨t
+
k
] = m©[
rs2
+k];

468 
m©
[
rs2
+
k
] = 
tmp
;

473 
tmp
 = 
m©
[
row_°¨t
+
i
];

474 i‡(
tmp
 != 1) {

475 
övî£
 = 
	`gÆois_sögÀ_divide
(1, 
tmp
, 
w
);

476 
j
 = 0; j < 
cﬁs
; j++) {

477 
m©
[
row_°¨t
+
j
] = 
	`gÆois_sögÀ_mu…ùly
(m©[row_°¨t+j], 
övî£
, 
w
);

482 
k
 = 
row_°¨t
+
i
;

483 
j
 = 
i
+1; j !
cﬁs
; j++) {

484 
k
 +
cﬁs
;

485 i‡(
m©
[
k
] != 0) {

486 i‡(
m©
[
k
] == 1) {

487 
rs2
 = 
cﬁs
*
j
;

488 
x
 = 0; x < 
cﬁs
; x++) {

489 
m©
[
rs2
+
x
] ^m©[
row_°¨t
+x];

492 
tmp
 = 
m©
[
k
];

493 
rs2
 = 
cﬁs
*
j
;

494 
x
 = 0; x < 
cﬁs
; x++) {

495 
m©
[
rs2
+
x
] ^
	`gÆois_sögÀ_mu…ùly
(
tmp
, m©[
row_°¨t
+x], 
w
);

502 
	}
}

507 *
	$jîasuª_îasuªs_to_îa£d
(
k
, 
m
, *
îasuªs
)

509 
td
;

510 
t_n⁄_îa£d
;

511 *
îa£d
;

512 
i
;

514 
td
 = 
k
+
m
;

515 
îa£d
 = 
	`èŒoc
(, 
td
);

516 i‡(
îa£d
 =
NULL
)  NULL;

517 
t_n⁄_îa£d
 = 
td
;

519 
i
 = 0; i < 
td
; i++Ë
îa£d
[i] = 0;

521 
i
 = 0; 
îasuªs
[i] != -1; i++) {

522 i‡(
îa£d
[
îasuªs
[
i
]] == 0) {

523 
îa£d
[
îasuªs
[
i
]] = 1;

524 
t_n⁄_îa£d
--;

525 i‡(
t_n⁄_îa£d
 < 
k
) {

526 
	`‰ì
(
îa£d
);

527  
NULL
;

531  
îa£d
;

532 
	}
}

534 
	$jîasuª_‰ì_scheduÀ
(**
scheduÀ
)

536 
i
;

538 
i
 = 0; 
scheduÀ
[i][0] >0; i++Ë
	`‰ì
(schedule[i]);

539 
	`‰ì
(
scheduÀ
[
i
]);

540 
	`‰ì
(
scheduÀ
);

541 
	}
}

543 
	$jîasuª_‰ì_scheduÀ_ˇche
(
k
, 
m
, ***
ˇche
)

545 
e1
, 
e2
;

547 i‡(
m
 != 2) {

548 
	`Ârötf
(
°dîr
, "jerasure_free_schedule_cache(): m mustÉqual 2\n");

549 
	`exô
(1);

552 
e1
 = 0;É1 < 
k
+
m
;É1++) {

553 
e2
 = 0;É2 < 
e1
;É2++) {

554 
	`jîasuª_‰ì_scheduÀ
(
ˇche
[
e1
*(
k
+
m
)+
e2
]);

556 
	`jîasuª_‰ì_scheduÀ
(
ˇche
[
e1
*(
k
+
m
)+e1]);

558 
	`‰ì
(
ˇche
);

559 
	}
}

561 
	$jîasuª_m©rix_dŸ¥od
(
k
, 
w
, *
m©rix_row
,

562 *
§c_ids
, 
de°_id
,

563 **
d©a_±rs
, **
codög_±rs
, 
size
)

565 
öô
;

566 *
d±r
, *
•å
;

567 
i
;

569 i‡(
w
 != 1 && w != 8 && w != 16 && w != 32) {

570 
	`Ârötf
(
°dîr
, "ERROR: jerasure_matrix_dotprod() calledánd w isÇot 1, 8, 16 or 32\n");

571 
	`exô
(1);

574 
öô
 = 0;

576 
d±r
 = (
de°_id
 < 
k
Ë? 
d©a_±rs
[de°_id] : 
codög_±rs
[dest_id-k];

580 
i
 = 0; i < 
k
; i++) {

581 i‡(
m©rix_row
[
i
] == 1) {

582 i‡(
§c_ids
 =
NULL
) {

583 
•å
 = 
d©a_±rs
[
i
];

584 } i‡(
§c_ids
[
i
] < 
k
) {

585 
•å
 = 
d©a_±rs
[
§c_ids
[
i
]];

587 
•å
 = 
codög_±rs
[
§c_ids
[
i
]-
k
];

589 i‡(
öô
 == 0) {

590 
	`mem˝y
(
d±r
, 
•å
, 
size
);

591 
jîasuª_tŸÆ_mem˝y_byãs
 +
size
;

592 
öô
 = 1;

594 
	`gÆois_ªgi⁄_x‹
(
•å
, 
d±r
, d±r, 
size
);

595 
jîasuª_tŸÆ_x‹_byãs
 +
size
;

602 
i
 = 0; i < 
k
; i++) {

603 i‡(
m©rix_row
[
i
] != 0 && matrix_row[i] != 1) {

604 i‡(
§c_ids
 =
NULL
) {

605 
•å
 = 
d©a_±rs
[
i
];

606 } i‡(
§c_ids
[
i
] < 
k
) {

607 
•å
 = 
d©a_±rs
[
§c_ids
[
i
]];

609 
•å
 = 
codög_±rs
[
§c_ids
[
i
]-
k
];

611 
w
) {

612 8: 
	`gÆois_w08_ªgi⁄_mu…ùly
(
•å
, 
m©rix_row
[
i
], 
size
, 
d±r
, 
öô
); ;

613 16: 
	`gÆois_w16_ªgi⁄_mu…ùly
(
•å
, 
m©rix_row
[
i
], 
size
, 
d±r
, 
öô
); ;

614 32: 
	`gÆois_w32_ªgi⁄_mu…ùly
(
•å
, 
m©rix_row
[
i
], 
size
, 
d±r
, 
öô
); ;

616 
jîasuª_tŸÆ_gf_byãs
 +
size
;

617 
öô
 = 1;

620 
	}
}

623 
	$jîasuª_bôm©rix_decode
(
k
, 
m
, 
w
, *
bôm©rix
, 
row_k_⁄es
, *
îasuªs
,

624 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
)

626 
i
, 
j
;

627 *
îa£d
;

628 *
decodög_m©rix
;

629 *
dm_ids
;

630 
edd
, *
tmpids
, 
œ°drive
;

632 
îa£d
 = 
	`jîasuª_îasuªs_to_îa£d
(
k
, 
m
, 
îasuªs
);

633 i‡(
îa£d
 =
NULL
)  -1;

638 
œ°drive
 = 
k
;

640 
edd
 = 0;

641 
i
 = 0; i < 
k
; i++) {

642 i‡(
îa£d
[
i
]) {

643 
edd
++;

644 
œ°drive
 = 
i
;

648 i‡(
row_k_⁄es
 !1 || 
îa£d
[
k
]Ë
œ°drive
 = k;

650 
dm_ids
 = 
NULL
;

651 
decodög_m©rix
 = 
NULL
;

653 i‡(
edd
 > 1 || (edd > 0 && (
row_k_⁄es
 !1 || 
îa£d
[
k
]))) {

655 
dm_ids
 = 
	`èŒoc
(, 
k
);

656 i‡(
dm_ids
 =
NULL
) {

657 
	`‰ì
(
îa£d
);

661 
decodög_m©rix
 = 
	`èŒoc
(, 
k
*k*
w
*w);

662 i‡(
decodög_m©rix
 =
NULL
) {

663 
	`‰ì
(
îa£d
);

664 
	`‰ì
(
dm_ids
);

668 i‡(
	`jîasuª_make_decodög_bôm©rix
(
k
, 
m
, 
w
, 
bôm©rix
, 
îa£d
, 
decodög_m©rix
, 
dm_ids
) < 0) {

669 
	`‰ì
(
îa£d
);

670 
	`‰ì
(
dm_ids
);

671 
	`‰ì
(
decodög_m©rix
);

676 
i
 = 0; 
edd
 > 0 && i < 
œ°drive
; i++) {

677 i‡(
îa£d
[
i
]) {

678 
	`jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, 
decodög_m©rix
+
i
*k*w*w, 
dm_ids
, i, 
d©a_±rs
, 
codög_±rs
, 
size
, 
∑ckësize
);

679 
edd
--;

683 i‡(
edd
 > 0) {

684 
tmpids
 = 
	`èŒoc
(, 
k
);

685 
i
 = 0; i < 
k
; i++) {

686 
tmpids
[
i
] = (ò< 
œ°drive
) ? i : i+1;

688 
	`jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, 
bôm©rix
, 
tmpids
, 
œ°drive
, 
d©a_±rs
, 
codög_±rs
, 
size
, 
∑ckësize
);

689 
	`‰ì
(
tmpids
);

692 
i
 = 0; i < 
m
; i++) {

693 i‡(
îa£d
[
k
+
i
]) {

694 
	`jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, 
bôm©rix
+
i
*k*w*w, 
NULL
, k+i, 
d©a_±rs
, 
codög_±rs
, 
size
, 
∑ckësize
);

698 
	`‰ì
(
îa£d
);

699 i‡(
dm_ids
 !
NULL
Ë
	`‰ì
(dm_ids);

700 i‡(
decodög_m©rix
 !
NULL
Ë
	`‰ì
(decoding_matrix);

703 
	}
}

705 **
	$£t_up_±rs_f‹_scheduÀd_decodög
(
k
, 
m
, *
îasuªs
, **
d©a_±rs
, **
codög_±rs
)

707 
ddf
, 
cdf
;

708 *
îa£d
;

709 **
±rs
;

710 
i
, 
j
, 
x
;

712 
ddf
 = 0;

713 
cdf
 = 0;

714 
i
 = 0; 
îasuªs
[i] != -1; i++) {

715 i‡(
îasuªs
[
i
] < 
k
Ë
ddf
++; 
cdf
++;

718 
îa£d
 = 
	`jîasuª_îasuªs_to_îa£d
(
k
, 
m
, 
îasuªs
);

719 i‡(
îa£d
 =
NULL
)  NULL;

735 
±rs
 = 
	`èŒoc
(*, 
k
+
m
);

737 
j
 = 
k
;

738 
x
 = 
k
;

739 
i
 = 0; i < 
k
; i++) {

740 i‡(
îa£d
[
i
] == 0) {

741 
±rs
[
i
] = 
d©a_±rs
[i];

743 
îa£d
[
j
]) j++;

744 
±rs
[
i
] = 
codög_±rs
[
j
-
k
];

745 
j
++;

746 
±rs
[
x
] = 
d©a_±rs
[
i
];

747 
x
++;

750 
i
 = 
k
; i < k+
m
; i++) {

751 i‡(
îa£d
[
i
]) {

752 
±rs
[
x
] = 
codög_±rs
[
i
-
k
];

753 
x
++;

756 
	`‰ì
(
îa£d
);

757  
±rs
;

758 
	}
}

760 
	$£t_up_ids_f‹_scheduÀd_decodög
(
k
, 
m
, *
îasuªs
, *
row_ids
, *
öd_to_row
)

762 
ddf
, 
cdf
;

763 *
îa£d
;

764 **
±rs
;

765 
i
, 
j
, 
x
;

767 
ddf
 = 0;

768 
cdf
 = 0;

769 
i
 = 0; 
îasuªs
[i] != -1; i++) {

770 i‡(
îasuªs
[
i
] < 
k
Ë
ddf
++; 
cdf
++;

773 
îa£d
 = 
	`jîasuª_îasuªs_to_îa£d
(
k
, 
m
, 
îasuªs
);

774 i‡(
îa£d
 =
NULL
)  -1;

778 
j
 = 
k
;

779 
x
 = 
k
;

780 
i
 = 0; i < 
k
; i++) {

781 i‡(
îa£d
[
i
] == 0) {

782 
row_ids
[
i
] = i;

783 
öd_to_row
[
i
] = i;

785 
îa£d
[
j
]) j++;

786 
row_ids
[
i
] = 
j
;

787 
öd_to_row
[
j
] = 
i
;

788 
j
++;

789 
row_ids
[
x
] = 
i
;

790 
öd_to_row
[
i
] = 
x
;

791 
x
++;

794 
i
 = 
k
; i < k+
m
; i++) {

795 i‡(
îa£d
[
i
]) {

796 
row_ids
[
x
] = 
i
;

797 
öd_to_row
[
i
] = 
x
;

798 
x
++;

801 
	`‰ì
(
îa£d
);

803 
	}
}

805 **
	$jîasuª_gíî©e_decodög_scheduÀ
(
k
, 
m
, 
w
, *
bôm©rix
, *
îasuªs
, 
sm¨t
)

807 
i
, 
j
, 
x
, 
drive
, 
y
, 
ödex
, 
z
;

808 *
decodög_m©rix
, *
övî£
, *
ªÆ_decodög_m©rix
;

809 *
±r
;

810 *
row_ids
;

811 *
öd_to_row
;

812 
ddf
, 
cdf
;

813 **
scheduÀ
;

814 *
b1
, *
b2
;

819 
ddf
 = 0;

820 
cdf
 = 0;

821 
i
 = 0; 
îasuªs
[i] != -1; i++) {

822 i‡(
îasuªs
[
i
] < 
k
Ë
ddf
++; 
cdf
++;

825 
row_ids
 = 
	`èŒoc
(, 
k
+
m
);

826 
öd_to_row
 = 
	`èŒoc
(, 
k
+
m
);

828 i‡(
	`£t_up_ids_f‹_scheduÀd_decodög
(
k
, 
m
, 
îasuªs
, 
row_ids
, 
öd_to_row
Ë< 0Ë 
NULL
;

835 
ªÆ_decodög_m©rix
 = 
	`èŒoc
(, 
k
*
w
*(
cdf
+
ddf
)*w);

841 i‡(
ddf
 > 0) {

843 
decodög_m©rix
 = 
	`èŒoc
(, 
k
*k*
w
*w);

844 
±r
 = 
decodög_m©rix
;

845 
i
 = 0; i < 
k
; i++) {

846 i‡(
row_ids
[
i
] == i) {

847 
	`bzîo
(
±r
, 
k
*
w
*w*());

848 
x
 = 0; x < 
w
; x++) {

849 
±r
[
x
+
i
*
w
+x*
k
*w] = 1;

852 
	`mem˝y
(
±r
, 
bôm©rix
+
k
*
w
*w*(
row_ids
[
i
]-k), k*w*w*());

854 
±r
 +(
k
*
w
*w);

856 
övî£
 = 
	`èŒoc
(, 
k
*k*
w
*w);

857 
	`jîasuª_övît_bôm©rix
(
decodög_m©rix
, 
övî£
, 
k
*
w
);

866 
	`‰ì
(
decodög_m©rix
);

867 
±r
 = 
ªÆ_decodög_m©rix
;

868 
i
 = 0; i < 
ddf
; i++) {

869 
	`mem˝y
(
±r
, 
övî£
+
k
*
w
*w*
row_ids
[k+
i
], ()*k*w*w);

870 
±r
 +(
k
*
w
*w);

872 
	`‰ì
(
övî£
);

887 
x
 = 0; x < 
cdf
; x++) {

888 
drive
 = 
row_ids
[
x
+
ddf
+
k
]-k;

889 
±r
 = 
ªÆ_decodög_m©rix
 + 
k
*
w
*w*(
ddf
+
x
);

890 
	`mem˝y
(
±r
, 
bôm©rix
+
drive
*
k
*
w
*w, ()*k*w*w);

892 
i
 = 0; i < 
k
; i++) {

893 i‡(
row_ids
[
i
] != i) {

894 
j
 = 0; j < 
w
; j++) {

895 
	`bzîo
(
±r
+
j
*
k
*
w
+
i
*w, ()*w);

902 
ödex
 = 
drive
*
k
*
w
*w;

903 
i
 = 0; i < 
k
; i++) {

904 i‡(
row_ids
[
i
] != i) {

905 
b1
 = 
ªÆ_decodög_m©rix
+(
öd_to_row
[
i
]-
k
)*k*
w
*w;

906 
j
 = 0; j < 
w
; j++) {

907 
b2
 = 
±r
 + 
j
*
k
*
w
;

908 
y
 = 0; y < 
w
; y++) {

909 i‡(
bôm©rix
[
ödex
+
j
*
k
*
w
+
i
*w+
y
]) {

910 
z
 = 0; z < 
k
*
w
; z++) {

911 
b2
[
z
] = b2[z] ^ 
b1
[z+
y
*
k
*
w
];

924 i‡(
sm¨t
) {

925 
scheduÀ
 = 
	`jîasuª_sm¨t_bôm©rix_to_scheduÀ
(
k
, 
ddf
+
cdf
, 
w
, 
ªÆ_decodög_m©rix
);

927 
scheduÀ
 = 
	`jîasuª_dumb_bôm©rix_to_scheduÀ
(
k
, 
ddf
+
cdf
, 
w
, 
ªÆ_decodög_m©rix
);

929 
	`‰ì
(
row_ids
);

930 
	`‰ì
(
öd_to_row
);

931 
	`‰ì
(
ªÆ_decodög_m©rix
);

932  
scheduÀ
;

933 
	}
}

935 
	$jîasuª_scheduÀ_decode_œzy
(
k
, 
m
, 
w
, *
bôm©rix
, *
îasuªs
,

936 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
,

937 
sm¨t
)

939 
i
, 
td⁄e
;

940 **
±rs
;

941 **
scheduÀ
;

943 
±rs
 = 
	`£t_up_±rs_f‹_scheduÀd_decodög
(
k
, 
m
, 
îasuªs
, 
d©a_±rs
, 
codög_±rs
);

944 i‡(
±rs
 =
NULL
)  -1;

946 
scheduÀ
 = 
	`jîasuª_gíî©e_decodög_scheduÀ
(
k
, 
m
, 
w
, 
bôm©rix
, 
îasuªs
, 
sm¨t
);

947 i‡(
scheduÀ
 =
NULL
) {

948 
	`‰ì
(
±rs
);

952 
td⁄e
 = 0;Åd⁄ê< 
size
;Åd⁄ê+
∑ckësize
*
w
) {

953 
	`jîasuª_do_scheduÀd_›î©i⁄s
(
±rs
, 
scheduÀ
, 
∑ckësize
);

954 
i
 = 0; i < 
k
+
m
; i++Ë
±rs
[i] +(
∑ckësize
*
w
);

957 
	`jîasuª_‰ì_scheduÀ
(
scheduÀ
);

958 
	`‰ì
(
±rs
);

961 
	}
}

963 
	$jîasuª_scheduÀ_decode_ˇche
(
k
, 
m
, 
w
, ***
sˇche
, *
îasuªs
,

964 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
)

966 
i
, 
td⁄e
;

967 **
±rs
;

968 **
scheduÀ
;

969 
ödex
;

971 i‡(
îasuªs
[1] == -1) {

972 
ödex
 = 
îasuªs
[0]*(
k
+
m
) +Érasures[0];

973 } i‡(
îasuªs
[2] == -1) {

974 
ödex
 = 
îasuªs
[0]*(
k
+
m
) +Érasures[1];

979 
scheduÀ
 = 
sˇche
[
ödex
];

981 
±rs
 = 
	`£t_up_±rs_f‹_scheduÀd_decodög
(
k
, 
m
, 
îasuªs
, 
d©a_±rs
, 
codög_±rs
);

982 i‡(
±rs
 =
NULL
)  -1;

985 
td⁄e
 = 0;Åd⁄ê< 
size
;Åd⁄ê+
∑ckësize
*
w
) {

986 
	`jîasuª_do_scheduÀd_›î©i⁄s
(
±rs
, 
scheduÀ
, 
∑ckësize
);

987 
i
 = 0; i < 
k
+
m
; i++Ë
±rs
[i] +(
∑ckësize
*
w
);

990 
	`‰ì
(
±rs
);

993 
	}
}

997 ***
	$jîasuª_gíî©e_scheduÀ_ˇche
(
k
, 
m
, 
w
, *
bôm©rix
, 
sm¨t
)

999 
i
, 
td⁄e
;

1000 **
±rs
;

1001 **
scheduÀ
;

1002 ***
sˇche
;

1003 
îasuªs
[3];

1004 
e1
, 
e2
;

1014 i‡(
m
 !2Ë 
NULL
;

1016 
sˇche
 = 
	`èŒoc
(**, (
k
+
m
)*(k+m+1));

1017 i‡(
sˇche
 =
NULL
)  NULL;

1019 
e1
 = 0;É1 < 
k
+
m
;É1++) {

1020 
îasuªs
[0] = 
e1
;

1021 
e2
 = 0;É2 < 
e1
;É2++) {

1022 
îasuªs
[1] = 
e2
;

1023 
îasuªs
[2] = -1;

1024 
sˇche
[
e1
*(
k
+
m
)+
e2
] = 
	`jîasuª_gíî©e_decodög_scheduÀ
(k, m, 
w
, 
bôm©rix
, 
îasuªs
, 
sm¨t
);

1025 
sˇche
[
e2
*(
k
+
m
)+
e1
] = scache[e1*(k+m)+e2];

1027 
îasuªs
[1] = -1;

1028 
sˇche
[
e1
*(
k
+
m
)+e1] = 
	`jîasuª_gíî©e_decodög_scheduÀ
(k, m, 
w
, 
bôm©rix
, 
îasuªs
, 
sm¨t
);

1030  
sˇche
;

1032 
	}
}

1034 
	$jîasuª_övît_bôm©rix
(*
m©
, *
öv
, 
rows
)

1036 
cﬁs
, 
i
, 
j
, 
k
;

1037 
tmp
;

1039 
cﬁs
 = 
rows
;

1041 
k
 = 0;

1042 
i
 = 0; i < 
rows
; i++) {

1043 
j
 = 0; j < 
cﬁs
; j++) {

1044 
öv
[
k
] = (
i
 =
j
) ? 1 : 0;

1045 
k
++;

1051 
i
 = 0; i < 
cﬁs
; i++) {

1056 i‡((
m©
[
i
*
cﬁs
+i]) == 0) {

1057 
j
 = 
i
+1; j < 
rows
 && (
m©
[j*
cﬁs
+i]) == 0; j++) ;

1058 i‡(
j
 =
rows
)  -1;

1059 
k
 = 0; k < 
cﬁs
; k++) {

1060 
tmp
 = 
m©
[
i
*
cﬁs
+
k
]; m©[i*cﬁs+k] = m©[
j
*cols+k]; mat[j*cols+k] =Åmp;

1061 
tmp
 = 
öv
[
i
*
cﬁs
+
k
]; inv[i*cﬁs+k] = inv[
j
*cols+k]; inv[j*cols+k] =Åmp;

1066 
j
 = 
i
+1; j !
rows
; j++) {

1067 i‡(
m©
[
j
*
cﬁs
+
i
] != 0) {

1068 
k
 = 0; k < 
cﬁs
; k++) {

1069 
m©
[
j
*
cﬁs
+
k
] ^m©[
i
*cols+k];

1070 
öv
[
j
*
cﬁs
+
k
] ^öv[
i
*cols+k];

1078 
i
 = 
rows
-1; i >= 0; i--) {

1079 
j
 = 0; j < 
i
; j++) {

1080 i‡(
m©
[
j
*
cﬁs
+
i
]) {

1081 
k
 = 0; k < 
cﬁs
; k++) {

1082 
m©
[
j
*
cﬁs
+
k
] ^m©[
i
*cols+k];

1083 
öv
[
j
*
cﬁs
+
k
] ^öv[
i
*cols+k];

1089 
	}
}

1091 
	$jîasuª_övîtibÀ_bôm©rix
(*
m©
, 
rows
)

1093 
cﬁs
, 
i
, 
j
, 
k
;

1094 
tmp
;

1096 
cﬁs
 = 
rows
;

1100 
i
 = 0; i < 
cﬁs
; i++) {

1105 i‡((
m©
[
i
*
cﬁs
+i]) == 0) {

1106 
j
 = 
i
+1; j < 
rows
 && (
m©
[j*
cﬁs
+i]) == 0; j++) ;

1107 i‡(
j
 =
rows
)  0;

1108 
k
 = 0; k < 
cﬁs
; k++) {

1109 
tmp
 = 
m©
[
i
*
cﬁs
+
k
]; m©[i*cﬁs+k] = m©[
j
*cols+k]; mat[j*cols+k] =Åmp;

1114 
j
 = 
i
+1; j !
rows
; j++) {

1115 i‡(
m©
[
j
*
cﬁs
+
i
] != 0) {

1116 
k
 = 0; k < 
cﬁs
; k++) {

1117 
m©
[
j
*
cﬁs
+
k
] ^m©[
i
*cols+k];

1123 
	}
}

1126 *
	$jîasuª_m©rix_mu…ùly
(*
m1
, *
m2
, 
r1
, 
c1
, 
r2
, 
c2
, 
w
)

1128 *
¥odu˘
, 
i
, 
j
, 
k
, 
l
;

1130 
¥odu˘
 = (*Ë
	`mÆloc
(()*
r1
*
c2
);

1131 
i
 = 0; i < 
r1
*
c2
; i++Ë
¥odu˘
[i] = 0;

1133 
i
 = 0; i < 
r1
; i++) {

1134 
j
 = 0; j < 
c2
; j++) {

1135 
k
 = 0; k < 
r2
; k++) {

1136 
¥odu˘
[
i
*
c2
+
j
] ^
	`gÆois_sögÀ_mu…ùly
(
m1
[i*
c1
+
k
], 
m2
[k*c2+j], 
w
);

1140  
¥odu˘
;

1141 
	}
}

1143 
	$jîasuª_gë_°©s
(*
fûl_ö
)

1145 
fûl_ö
[0] = 
jîasuª_tŸÆ_x‹_byãs
;

1146 
fûl_ö
[1] = 
jîasuª_tŸÆ_gf_byãs
;

1147 
fûl_ö
[2] = 
jîasuª_tŸÆ_mem˝y_byãs
;

1148 
jîasuª_tŸÆ_x‹_byãs
 = 0;

1149 
jîasuª_tŸÆ_gf_byãs
 = 0;

1150 
jîasuª_tŸÆ_mem˝y_byãs
 = 0;

1151 
	}
}

1153 
	$jîasuª_do_scheduÀd_›î©i⁄s
(**
±rs
, **
›î©i⁄s
, 
∑ckësize
)

1155 *
•å
;

1156 *
d±r
;

1157 
›
;

1159 
›
 = 0; 
›î©i⁄s
[op][0] >= 0; op++) {

1160 
•å
 = 
±rs
[
›î©i⁄s
[
›
][0]] + o≥øti⁄s[›][1]*
∑ckësize
;

1161 
d±r
 = 
±rs
[
›î©i⁄s
[
›
][2]] + o≥øti⁄s[›][3]*
∑ckësize
;

1162 i‡(
›î©i⁄s
[
›
][4]) {

1168 
	`gÆois_ªgi⁄_x‹
(
•å
, 
d±r
, d±r, 
∑ckësize
);

1169 
jîasuª_tŸÆ_x‹_byãs
 +
∑ckësize
;

1172 
	`mem˝y
(
d±r
, 
•å
, 
∑ckësize
);

1173 
jîasuª_tŸÆ_mem˝y_byãs
 +
∑ckësize
;

1176 
	}
}

1178 
	$jîasuª_scheduÀ_ícode
(
k
, 
m
, 
w
, **
scheduÀ
,

1179 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
)

1181 **
±r_c›y
;

1182 
i
, 
j
, 
td⁄e
;

1184 
±r_c›y
 = 
	`èŒoc
(*, (
k
+
m
));

1185 
i
 = 0; i < 
k
; i++Ë
±r_c›y
[i] = 
d©a_±rs
[i];

1186 
i
 = 0; i < 
m
; i++Ë
±r_c›y
[i+
k
] = 
codög_±rs
[i];

1187 
td⁄e
 = 0;Åd⁄ê< 
size
;Åd⁄ê+
∑ckësize
*
w
) {

1188 
	`jîasuª_do_scheduÀd_›î©i⁄s
(
±r_c›y
, 
scheduÀ
, 
∑ckësize
);

1189 
i
 = 0; i < 
k
+
m
; i++Ë
±r_c›y
[i] +(
∑ckësize
*
w
);

1191 
	`‰ì
(
±r_c›y
);

1192 
	}
}

1194 **
	$jîasuª_dumb_bôm©rix_to_scheduÀ
(
k
, 
m
, 
w
, *
bôm©rix
)

1196 **
›î©i⁄s
;

1197 
›
;

1198 
ödex
, 
›todo
, 
i
, 
j
;

1200 
›î©i⁄s
 = 
	`èŒoc
(*, 
k
*
m
*
w
*w+1);

1201 
›
 = 0;

1203 
ödex
 = 0;

1204 
i
 = 0; i < 
m
*
w
; i++) {

1205 
›todo
 = 0;

1206 
j
 = 0; j < 
k
*
w
; j++) {

1207 i‡(
bôm©rix
[
ödex
]) {

1208 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1209 
›î©i⁄s
[
›
][4] = 
›todo
;

1210 
›î©i⁄s
[
›
][0] = 
j
/
w
;

1211 
›î©i⁄s
[
›
][1] = 
j
%
w
;

1212 
›î©i⁄s
[
›
][2] = 
k
+
i
/
w
;

1213 
›î©i⁄s
[
›
][3] = 
i
%
w
;

1214 
›todo
 = 1;

1215 
›
++;

1218 
ödex
++;

1221 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1222 
›î©i⁄s
[
›
][0] = -1;

1223  
›î©i⁄s
;

1224 
	}
}

1226 **
	$jîasuª_sm¨t_bôm©rix_to_scheduÀ
(
k
, 
m
, 
w
, *
bôm©rix
)

1228 **
›î©i⁄s
;

1229 
›
;

1230 
i
, 
j
;

1231 *
diff
, *
‰om
, *
b1
, *
Êök
, *
blök
;

1232 *
±r
, 
no
, 
row
;

1233 
›todo
;

1234 
be°row
, 
be°diff
, 
t›
;

1239 
›î©i⁄s
 = 
	`èŒoc
(*, 
k
*
m
*
w
*w+1);

1240 
›
 = 0;

1242 
diff
 = 
	`èŒoc
(, 
m
*
w
);

1243 
‰om
 = 
	`èŒoc
(, 
m
*
w
);

1244 
Êök
 = 
	`èŒoc
(, 
m
*
w
);

1245 
blök
 = 
	`èŒoc
(, 
m
*
w
);

1247 
±r
 = 
bôm©rix
;

1249 
be°diff
 = 
k
*
w
+1;

1250 
t›
 = 0;

1251 
i
 = 0; i < 
m
*
w
; i++) {

1252 
no
 = 0;

1253 
j
 = 0; j < 
k
*
w
; j++) {

1254 
no
 +*
±r
;

1255 
±r
++;

1257 
diff
[
i
] = 
no
;

1258 
‰om
[
i
] = -1;

1259 
Êök
[
i
] = i+1;

1260 
blök
[
i
] = i-1;

1261 i‡(
no
 < 
be°diff
) {

1262 
be°diff
 = 
no
;

1263 
be°row
 = 
i
;

1267 
Êök
[
m
*
w
-1] = -1;

1269 
t›
 != -1) {

1270 
row
 = 
be°row
;

1273 i‡(
blök
[
row
] == -1) {

1274 
t›
 = 
Êök
[
row
];

1275 i‡(
t›
 !-1Ë
blök
[top] = -1;

1277 
Êök
[
blök
[
row
]] = flink[row];

1278 i‡(
Êök
[
row
] != -1) {

1279 
blök
[
Êök
[
row
]] = blink[row];

1283 
±r
 = 
bôm©rix
 + 
row
*
k
*
w
;

1284 i‡(
‰om
[
row
] == -1) {

1285 
›todo
 = 0;

1286 
j
 = 0; j < 
k
*
w
; j++) {

1287 i‡(
±r
[
j
]) {

1288 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1289 
›î©i⁄s
[
›
][4] = 
›todo
;

1290 
›î©i⁄s
[
›
][0] = 
j
/
w
;

1291 
›î©i⁄s
[
›
][1] = 
j
%
w
;

1292 
›î©i⁄s
[
›
][2] = 
k
+
row
/
w
;

1293 
›î©i⁄s
[
›
][3] = 
row
%
w
;

1294 
›todo
 = 1;

1295 
›
++;

1299 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1300 
›î©i⁄s
[
›
][4] = 0;

1301 
›î©i⁄s
[
›
][0] = 
k
+
‰om
[
row
]/
w
;

1302 
›î©i⁄s
[
›
][1] = 
‰om
[
row
]%
w
;

1303 
›î©i⁄s
[
›
][2] = 
k
+
row
/
w
;

1304 
›î©i⁄s
[
›
][3] = 
row
%
w
;

1305 
›
++;

1306 
b1
 = 
bôm©rix
 + 
‰om
[
row
]*
k
*
w
;

1307 
j
 = 0; j < 
k
*
w
; j++) {

1308 i‡(
±r
[
j
] ^ 
b1
[j]) {

1309 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1310 
›î©i⁄s
[
›
][4] = 1;

1311 
›î©i⁄s
[
›
][0] = 
j
/
w
;

1312 
›î©i⁄s
[
›
][1] = 
j
%
w
;

1313 
›î©i⁄s
[
›
][2] = 
k
+
row
/
w
;

1314 
›î©i⁄s
[
›
][3] = 
row
%
w
;

1315 
›todo
 = 1;

1316 
›
++;

1320 
be°diff
 = 
k
*
w
+1;

1321 
i
 = 
t›
; i !-1; i = 
Êök
[i]) {

1322 
no
 = 1;

1323 
b1
 = 
bôm©rix
 + 
i
*
k
*
w
;

1324 
j
 = 0; j < 
k
*
w
; j++Ë
no
 +(
±r
[j] ^ 
b1
[j]);

1325 i‡(
no
 < 
diff
[
i
]) {

1326 
‰om
[
i
] = 
row
;

1327 
diff
[
i
] = 
no
;

1329 i‡(
diff
[
i
] < 
be°diff
) {

1330 
be°diff
 = 
diff
[
i
];

1331 
be°row
 = 
i
;

1336 
›î©i⁄s
[
›
] = 
	`èŒoc
(, 5);

1337 
›î©i⁄s
[
›
][0] = -1;

1338 
	`‰ì
(
‰om
);

1339 
	`‰ì
(
diff
);

1340 
	`‰ì
(
blök
);

1341 
	`‰ì
(
Êök
);

1343  
›î©i⁄s
;

1344 
	}
}

1346 
	$jîasuª_bôm©rix_ícode
(
k
, 
m
, 
w
, *
bôm©rix
,

1347 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
)

1349 
i
, 
j
, 
x
, 
y
, 
•å
, 
p°¨ãd
, 
ödex
;

1350 *
d±r
, *
µå
;

1352 i‡(
∑ckësize
%() != 0) {

1353 
	`Ârötf
(
°dîr
, "jîasuª_bôm©rix_ícodê-Öackësize(%dË\% sizeof÷⁄gË!0\n", 
∑ckësize
);

1354 
	`exô
(1);

1356 i‡(
size
%(
∑ckësize
*
w
) != 0) {

1357 
	`Ârötf
(
°dîr
, "jerasure_bitmatrix_encode - size(%d) % (packetsize(%d)*w(%d))) != 0\n",

1358 
size
, 
∑ckësize
, 
w
);

1359 
	`exô
(1);

1362 
i
 = 0; i < 
m
; i++) {

1363 
	`jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, 
bôm©rix
+
i
*k*w*w, 
NULL
, k+i, 
d©a_±rs
, 
codög_±rs
, 
size
, 
∑ckësize
);

1365 
	}
}

	@oss/jerasure_lib/jerasure.h

33 #i‚de‡
_JERASURE_H


34 
	#_JERASURE_H


	)

38 
	~"gÆois.h
"

113 *
jîasuª_m©rix_to_bôm©rix
(
k
, 
m
, 
w
, *
m©rix
);

114 **
jîasuª_dumb_bôm©rix_to_scheduÀ
(
k
, 
m
, 
w
, *
bôm©rix
);

115 **
jîasuª_sm¨t_bôm©rix_to_scheduÀ
(
k
, 
m
, 
w
, *
bôm©rix
);

116 ***
jîasuª_gíî©e_scheduÀ_ˇche
(
k
, 
m
, 
w
, *
bôm©rix
, 
sm¨t
);

118 
jîasuª_‰ì_scheduÀ
(**
scheduÀ
);

119 
jîasuª_‰ì_scheduÀ_ˇche
(
k
, 
m
, ***
ˇche
);

126 
jîasuª_do_∑rôy
(
k
, **
d©a_±rs
, *
∑rôy_±r
, 
size
);

128 
jîasuª_m©rix_ícode
(
k
, 
m
, 
w
, *
m©rix
,

129 **
d©a_±rs
, **
codög_±rs
, 
size
);

131 
jîasuª_bôm©rix_ícode
(
k
, 
m
, 
w
, *
bôm©rix
,

132 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
);

134 
jîasuª_scheduÀ_ícode
(
k
, 
m
, 
w
, **
scheduÀ
,

135 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
);

173 
jîasuª_m©rix_decode
(
k
, 
m
, 
w
,

174 *
m©rix
, 
row_k_⁄es
, *
îasuªs
,

175 **
d©a_±rs
, **
codög_±rs
, 
size
);

177 
jîasuª_bôm©rix_decode
(
k
, 
m
, 
w
,

178 *
bôm©rix
, 
row_k_⁄es
, *
îasuªs
,

179 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
);

181 
jîasuª_scheduÀ_decode_œzy
(
k
, 
m
, 
w
, *
bôm©rix
, *
îasuªs
,

182 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
,

183 
sm¨t
);

185 
jîasuª_scheduÀ_decode_ˇche
(
k
, 
m
, 
w
, ***
sˇche
, *
îasuªs
,

186 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
);

188 
jîasuª_make_decodög_m©rix
(
k
, 
m
, 
w
, *
m©rix
, *
îa£d
,

189 *
decodög_m©rix
, *
dm_ids
);

191 
jîasuª_make_decodög_bôm©rix
(
k
, 
m
, 
w
, *
m©rix
, *
îa£d
,

192 *
decodög_m©rix
, *
dm_ids
);

194 *
jîasuª_îasuªs_to_îa£d
(
k
, 
m
, *
îasuªs
);

211 
jîasuª_m©rix_dŸ¥od
(
k
, 
w
, *
m©rix_row
,

212 *
§c_ids
, 
de°_id
,

213 **
d©a_±rs
, **
codög_±rs
, 
size
);

215 
jîasuª_bôm©rix_dŸ¥od
(
k
, 
w
, *
bôm©rix_row
,

216 *
§c_ids
, 
de°_id
,

217 **
d©a_±rs
, **
codög_±rs
, 
size
, 
∑ckësize
);

219 
jîasuª_do_scheduÀd_›î©i⁄s
(**
±rs
, **
scheduÀ
, 
∑ckësize
);

245 
jîasuª_övît_m©rix
(*
m©
, *
öv
, 
rows
, 
w
);

246 
jîasuª_övît_bôm©rix
(*
m©
, *
öv
, 
rows
);

247 
jîasuª_övîtibÀ_m©rix
(*
m©
, 
rows
, 
w
);

248 
jîasuª_övîtibÀ_bôm©rix
(*
m©
, 
rows
);

263 
jîasuª_¥öt_m©rix
(*
m©rix
, 
rows
, 
cﬁs
, 
w
);

264 
jîasuª_¥öt_bôm©rix
(*
m©rix
, 
rows
, 
cﬁs
, 
w
);

267 *
jîasuª_m©rix_mu…ùly
(*
m1
, *
m2
, 
r1
, 
c1
, 
r2
, 
c2
, 
w
);

282 
jîasuª_gë_°©s
(*
fûl_ö
);

	@oss/jerasure_lib/liberation.c

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"gÆois.h
"

38 
	~"jîasuª.h
"

39 
	~"libî©i⁄.h
"

41 
	#èŒoc
(
ty≥
, 
num
Ë—y≥ *Ë
	`mÆloc
(—y≥)*“um))

	)

43 *
	$libî©i⁄_codög_bôm©rix
(
k
, 
w
)

45 *
m©rix
, 
i
, 
j
, 
ödex
;

47 i‡(
k
 > 
w
Ë 
NULL
;

48 
m©rix
 = 
	`èŒoc
(, 2*
k
*
w
*w);

49 i‡(
m©rix
 =
NULL
)  NULL;

50 
	`bzîo
(
m©rix
, ()*2*
k
*
w
*w);

54 
i
 = 0; i < 
w
; i++) {

55 
ödex
 = 
i
*
k
*
w
+i;

56 
j
 = 0; j < 
k
; j++) {

57 
m©rix
[
ödex
] = 1;

58 
ödex
 +
w
;

64 
j
 = 0; j < 
k
; j++) {

65 
ödex
 = 
k
*
w
*w+
j
*w;

66 
i
 = 0; i < 
w
; i++) {

67 
m©rix
[
ödex
+(
j
+
i
)%
w
] = 1;

68 
ödex
 +(
k
*
w
);

70 i‡(
j
 > 0) {

71 
i
 = (
j
*((
w
-1)/2))%w;

72 
m©rix
[
k
*
w
*w+
j
*w+
i
*k*w+(i+j-1)%w] = 1;

75  
m©rix
;

76 
	}
}

79 *
	$libî8ti⁄_codög_bôm©rix
(
k
)

81 *
m©rix
, 
i
, 
j
, 
ödex
;

82 
w
;

84 
w
 = 8;

85 i‡(
k
 > 
w
Ë 
NULL
;

86 
m©rix
 = 
	`èŒoc
(, 2*
k
*
w
*w);

87 i‡(
m©rix
 =
NULL
)  NULL;

88 
	`bzîo
(
m©rix
, ()*2*
k
*
w
*w);

92 
i
 = 0; i < 
w
; i++) {

93 
ödex
 = 
i
*
k
*
w
+i;

94 
j
 = 0; j < 
k
; j++) {

95 
m©rix
[
ödex
] = 1;

96 
ödex
 +
w
;

102 
ödex
 = 
k
*
w
*w;

104 i‡(
k
 =0Ë 
m©rix
;

105 
m©rix
[
ödex
+0*
k
*
w
+0*w+0] = 1;

106 
m©rix
[
ödex
+1*
k
*
w
+0*w+1] = 1;

107 
m©rix
[
ödex
+2*
k
*
w
+0*w+2] = 1;

108 
m©rix
[
ödex
+3*
k
*
w
+0*w+3] = 1;

109 
m©rix
[
ödex
+4*
k
*
w
+0*w+4] = 1;

110 
m©rix
[
ödex
+5*
k
*
w
+0*w+5] = 1;

111 
m©rix
[
ödex
+6*
k
*
w
+0*w+6] = 1;

112 
m©rix
[
ödex
+7*
k
*
w
+0*w+7] = 1;

114 i‡(
k
 =1Ë 
m©rix
;

115 
m©rix
[
ödex
+0*
k
*
w
+1*w+7] = 1;

116 
m©rix
[
ödex
+1*
k
*
w
+1*w+3] = 1;

117 
m©rix
[
ödex
+2*
k
*
w
+1*w+0] = 1;

118 
m©rix
[
ödex
+3*
k
*
w
+1*w+2] = 1;

119 
m©rix
[
ödex
+4*
k
*
w
+1*w+6] = 1;

120 
m©rix
[
ödex
+5*
k
*
w
+1*w+1] = 1;

121 
m©rix
[
ödex
+6*
k
*
w
+1*w+5] = 1;

122 
m©rix
[
ödex
+7*
k
*
w
+1*w+4] = 1;

123 
m©rix
[
ödex
+4*
k
*
w
+1*w+7] = 1;

125 i‡(
k
 =2Ë 
m©rix
;

126 
m©rix
[
ödex
+0*
k
*
w
+2*w+6] = 1;

127 
m©rix
[
ödex
+1*
k
*
w
+2*w+2] = 1;

128 
m©rix
[
ödex
+2*
k
*
w
+2*w+4] = 1;

129 
m©rix
[
ödex
+3*
k
*
w
+2*w+0] = 1;

130 
m©rix
[
ödex
+4*
k
*
w
+2*w+7] = 1;

131 
m©rix
[
ödex
+5*
k
*
w
+2*w+3] = 1;

132 
m©rix
[
ödex
+6*
k
*
w
+2*w+1] = 1;

133 
m©rix
[
ödex
+7*
k
*
w
+2*w+5] = 1;

134 
m©rix
[
ödex
+1*
k
*
w
+2*w+3] = 1;

136 i‡(
k
 =3Ë 
m©rix
;

137 
m©rix
[
ödex
+0*
k
*
w
+3*w+2] = 1;

138 
m©rix
[
ödex
+1*
k
*
w
+3*w+5] = 1;

139 
m©rix
[
ödex
+2*
k
*
w
+3*w+7] = 1;

140 
m©rix
[
ödex
+3*
k
*
w
+3*w+6] = 1;

141 
m©rix
[
ödex
+4*
k
*
w
+3*w+0] = 1;

142 
m©rix
[
ödex
+5*
k
*
w
+3*w+3] = 1;

143 
m©rix
[
ödex
+6*
k
*
w
+3*w+4] = 1;

144 
m©rix
[
ödex
+7*
k
*
w
+3*w+1] = 1;

145 
m©rix
[
ödex
+5*
k
*
w
+3*w+4] = 1;

147 i‡(
k
 =4Ë 
m©rix
;

148 
m©rix
[
ödex
+0*
k
*
w
+4*w+5] = 1;

149 
m©rix
[
ödex
+1*
k
*
w
+4*w+6] = 1;

150 
m©rix
[
ödex
+2*
k
*
w
+4*w+1] = 1;

151 
m©rix
[
ödex
+3*
k
*
w
+4*w+7] = 1;

152 
m©rix
[
ödex
+4*
k
*
w
+4*w+2] = 1;

153 
m©rix
[
ödex
+5*
k
*
w
+4*w+4] = 1;

154 
m©rix
[
ödex
+6*
k
*
w
+4*w+3] = 1;

155 
m©rix
[
ödex
+7*
k
*
w
+4*w+0] = 1;

156 
m©rix
[
ödex
+2*
k
*
w
+4*w+0] = 1;

158 i‡(
k
 =5Ë 
m©rix
;

159 
m©rix
[
ödex
+0*
k
*
w
+5*w+1] = 1;

160 
m©rix
[
ödex
+1*
k
*
w
+5*w+2] = 1;

161 
m©rix
[
ödex
+2*
k
*
w
+5*w+3] = 1;

162 
m©rix
[
ödex
+3*
k
*
w
+5*w+4] = 1;

163 
m©rix
[
ödex
+4*
k
*
w
+5*w+5] = 1;

164 
m©rix
[
ödex
+5*
k
*
w
+5*w+6] = 1;

165 
m©rix
[
ödex
+6*
k
*
w
+5*w+7] = 1;

166 
m©rix
[
ödex
+7*
k
*
w
+5*w+0] = 1;

167 
m©rix
[
ödex
+7*
k
*
w
+5*w+2] = 1;

169 i‡(
k
 =6Ë 
m©rix
;

170 
m©rix
[
ödex
+0*
k
*
w
+6*w+3] = 1;

171 
m©rix
[
ödex
+1*
k
*
w
+6*w+0] = 1;

172 
m©rix
[
ödex
+2*
k
*
w
+6*w+6] = 1;

173 
m©rix
[
ödex
+3*
k
*
w
+6*w+5] = 1;

174 
m©rix
[
ödex
+4*
k
*
w
+6*w+1] = 1;

175 
m©rix
[
ödex
+5*
k
*
w
+6*w+7] = 1;

176 
m©rix
[
ödex
+6*
k
*
w
+6*w+4] = 1;

177 
m©rix
[
ödex
+7*
k
*
w
+6*w+2] = 1;

178 
m©rix
[
ödex
+6*
k
*
w
+6*w+5] = 1;

180 i‡(
k
 =7Ë 
m©rix
;

181 
m©rix
[
ödex
+0*
k
*
w
+7*w+4] = 1;

182 
m©rix
[
ödex
+1*
k
*
w
+7*w+7] = 1;

183 
m©rix
[
ödex
+2*
k
*
w
+7*w+1] = 1;

184 
m©rix
[
ödex
+3*
k
*
w
+7*w+5] = 1;

185 
m©rix
[
ödex
+4*
k
*
w
+7*w+3] = 1;

186 
m©rix
[
ödex
+5*
k
*
w
+7*w+2] = 1;

187 
m©rix
[
ödex
+6*
k
*
w
+7*w+0] = 1;

188 
m©rix
[
ödex
+7*
k
*
w
+7*w+6] = 1;

189 
m©rix
[
ödex
+3*
k
*
w
+7*w+1] = 1;

191  
m©rix
;

192 
	}
}

194 *
	$bœum_rŸh_codög_bôm©rix
(
k
, 
w
)

196 *
m©rix
, 
i
, 
j
, 
ödex
, 
l
, 
m
, 
p
;

198 i‡(
k
 > 
w
Ë 
NULL
 ;

200 
m©rix
 = 
	`èŒoc
(, 2*
k
*
w
*w);

201 i‡(
m©rix
 =
NULL
)  NULL;

202 
	`bzîo
(
m©rix
, ()*2*
k
*
w
*w);

206 
i
 = 0; i < 
w
; i++) {

207 
ödex
 = 
i
*
k
*
w
+i;

208 
j
 = 0; j < 
k
; j++) {

209 
m©rix
[
ödex
] = 1;

210 
ödex
 +
w
;

216 
p
 = 
w
+1;

217 
j
 = 0; j < 
k
; j++) {

218 
ödex
 = 
k
*
w
*w+
j
*w;

219 i‡(
j
 == 0) {

220 
l
 = 0;Ü < 
w
;Ü++) {

221 
m©rix
[
ödex
+
l
] = 1;

222 
ödex
 +
k
*
w
;

225 
i
 = 
j
;

226 
l
 = 1;Ü <
w
;Ü++) {

227 i‡(
l
 !
p
-
i
) {

228 
m
 = 
l
+
i
;

229 i‡(
m
 >
p
) m -=Ö;

230 
m
--;

231 
m©rix
[
ödex
+
m
] = 1;

233 
m©rix
[
ödex
+
i
-1] = 1;

234 i‡(
i
%2 == 0) {

235 
m
 = 
i
/2;

237 
m
 = (
p
/2Ë+ 1 + (
i
/2);

239 
m
--;

240 
m©rix
[
ödex
+
m
] = 1;

242 
ödex
 +
k
*
w
;

247  
m©rix
;

248 
	}
}

	@oss/jerasure_lib/liberation.h

33 #i‚de‡
_LIBERATION


35 *
libî©i⁄_codög_bôm©rix
(
k
, 
w
);

36 *
libî8ti⁄_codög_bôm©rix
(
k
);

37 *
bœum_rŸh_codög_bôm©rix
(
k
, 
w
);

	@oss/jerasure_lib/reed_sol.c

33 
	~<°dio.h
>

34 
	~<°dlib.h
>

35 
	~<°rög.h
>

37 
	~"gÆois.h
"

38 
	~"jîasuª.h
"

39 
	~"ªed_sﬁ.h
"

41 
	#èŒoc
(
ty≥
, 
num
Ë—y≥ *Ë
	`mÆloc
(—y≥)*“um))

	)

43 *
	$ªed_sﬁ_r6_codög_m©rix
(
k
, 
w
)

45 *
m©rix
;

46 
i
, 
tmp
;

48 i‡(
w
 !8 && w !16 && w !32Ë 
NULL
;

50 
m©rix
 = 
	`èŒoc
(, 2*
k
);

51 i‡(
m©rix
 =
NULL
)  NULL;

53 
i
 = 0; i < 
k
; i++Ë
m©rix
[i] = 1;

54 
m©rix
[
k
] = 1;

55 
tmp
 = 1;

56 
i
 = 1; i < 
k
; i++) {

57 
tmp
 = 
	`gÆois_sögÀ_mu…ùly
—mp, 2, 
w
);

58 
m©rix
[
k
+
i
] = 
tmp
;

60  
m©rix
;

61 
	}
}

63 *
	$ªed_sﬁ_v™dîm⁄de_codög_m©rix
(
k
, 
m
, 
w
)

65 
tmp
;

66 
i
, 
j
, 
ödex
;

67 *
vdm
, *
di°
;

69 
vdm
 = 
	`ªed_sﬁ_big_v™dîm⁄de_di°ributi⁄_m©rix
(
k
+
m
, k, 
w
);

70 i‡(
vdm
 =
NULL
)  NULL;

71 
di°
 = 
	`èŒoc
(, 
m
*
k
);

72 i‡(
di°
 =
NULL
) {

73 
	`‰ì
(
vdm
);

74  
NULL
;

77 
i
 = 
k
*k;

78 
j
 = 0; j < 
m
*
k
; j++) {

79 
di°
[
j
] = 
vdm
[
i
];

80 
i
++;

82 
	`‰ì
(
vdm
);

83  
di°
;

84 
	}
}

86 
	g¥im32
 = -1;

88 
	#rgw32_mask
(
v
Ë((vË& 0x80000000)

	)

90 
	$ªed_sﬁ_gÆois_w32_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
)

92 *
l1
;

93 *
…›
;

94 *
˘›
;

96 i‡(
¥im32
 =-1Ë¥im32 = 
	`gÆois_sögÀ_mu…ùly
((1 << 31), 2, 32);

98 
˘›
 = 
ªgi⁄
 + 
nbyãs
;

99 
…›
 = (*Ë
˘›
;

100 
l1
 = (*Ë
ªgi⁄
;

102 
l1
 < 
…›
) {

103 *
l1
 = ((*l1Ë<< 1Ë^ ((*l1 & 0x80000000Ë? 
¥im32
 : 0);

104 
l1
++;

106 
	}
}

108 
	g¥im08
 = -1;

109 
	gmask08_1
 = -1;

110 
	gmask08_2
 = -1;

112 
	$ªed_sﬁ_gÆois_w08_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
)

114 *
l1
;

115 *
…›
;

116 *
˘›
;

117 
tmp
, 
tmp2
;

120 i‡(
¥im08
 == -1) {

121 
tmp
 = 
	`gÆois_sögÀ_mu…ùly
((1 << 7), 2, 8);

122 
¥im08
 = 0;

123 
tmp
 != 0) {

124 
¥im08
 |
tmp
;

125 
tmp
 = (tmp << 8);

127 
tmp
 = (1 << 8) - 2;

128 
mask08_1
 = 0;

129 
tmp
 != 0) {

130 
mask08_1
 |
tmp
;

131 
tmp
 = (tmp << 8);

133 
tmp
 = (1 << 7);

134 
mask08_2
 = 0;

135 
tmp
 != 0) {

136 
mask08_2
 |
tmp
;

137 
tmp
 = (tmp << 8);

141 
˘›
 = 
ªgi⁄
 + 
nbyãs
;

142 
…›
 = (*Ë
˘›
;

143 
l1
 = (*Ë
ªgi⁄
;

145 
l1
 < 
…›
) {

146 
tmp
 = ((*
l1
Ë<< 1Ë& 
mask08_1
;

147 
tmp2
 = (*
l1
Ë& 
mask08_2
;

148 
tmp2
 = ((tmp2 << 1) - (tmp2 >> 7));

149 *
l1
 = (
tmp
 ^ (
tmp2
 & 
¥im08
));

150 
l1
++;

152 
	}
}

154 
	g¥im16
 = -1;

155 
	gmask16_1
 = -1;

156 
	gmask16_2
 = -1;

158 
	$ªed_sﬁ_gÆois_w16_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
)

160 *
l1
;

161 *
…›
;

162 *
˘›
;

163 
tmp
, 
tmp2
;

166 i‡(
¥im16
 == -1) {

167 
tmp
 = 
	`gÆois_sögÀ_mu…ùly
((1 << 15), 2, 16);

168 
¥im16
 = 0;

169 
tmp
 != 0) {

170 
¥im16
 |
tmp
;

171 
tmp
 = (tmp << 16);

173 
tmp
 = (1 << 16) - 2;

174 
mask16_1
 = 0;

175 
tmp
 != 0) {

176 
mask16_1
 |
tmp
;

177 
tmp
 = (tmp << 16);

179 
tmp
 = (1 << 15);

180 
mask16_2
 = 0;

181 
tmp
 != 0) {

182 
mask16_2
 |
tmp
;

183 
tmp
 = (tmp << 16);

187 
˘›
 = 
ªgi⁄
 + 
nbyãs
;

188 
…›
 = (*Ë
˘›
;

189 
l1
 = (*Ë
ªgi⁄
;

191 
l1
 < 
…›
) {

192 
tmp
 = ((*
l1
Ë<< 1Ë& 
mask16_1
;

193 
tmp2
 = (*
l1
Ë& 
mask16_2
;

194 
tmp2
 = ((tmp2 << 1) - (tmp2 >> 15));

195 *
l1
 = (
tmp
 ^ (
tmp2
 & 
¥im16
));

196 
l1
++;

198 
	}
}

200 
	$ªed_sﬁ_r6_ícode
(
k
, 
w
, **
d©a_±rs
, **
codög_±rs
, 
size
)

202 
i
;

206 
	`mem˝y
(
codög_±rs
[0], 
d©a_±rs
[0], 
size
);

208 
i
 = 1; i < 
k
; i++Ë
	`gÆois_ªgi⁄_x‹
(
codög_±rs
[0], 
d©a_±rs
[i], codög_±rs[0], 
size
);

212 
	`mem˝y
(
codög_±rs
[1], 
d©a_±rs
[
k
-1], 
size
);

214 
i
 = 
k
-2; i >= 0; i--) {

215 
w
) {

216 8: 
	`ªed_sﬁ_gÆois_w08_ªgi⁄_mu…by_2
(
codög_±rs
[1], 
size
); ;

217 16: 
	`ªed_sﬁ_gÆois_w16_ªgi⁄_mu…by_2
(
codög_±rs
[1], 
size
); ;

218 32: 
	`ªed_sﬁ_gÆois_w32_ªgi⁄_mu…by_2
(
codög_±rs
[1], 
size
); ;

222 
	`gÆois_ªgi⁄_x‹
(
codög_±rs
[1], 
d©a_±rs
[
i
], codög_±rs[1], 
size
);

225 
	}
}

227 *
	$ªed_sﬁ_exãnded_v™dîm⁄de_m©rix
(
rows
, 
cﬁs
, 
w
)

229 *
vdm
;

230 
i
, 
j
, 
k
;

232 i‡(
w
 < 30 && (1 << wË< 
rows
Ë 
NULL
;

233 i‡(
w
 < 30 && (1 << wË< 
cﬁs
Ë 
NULL
;

235 
vdm
 = 
	`èŒoc
(, 
rows
*
cﬁs
);

236 i‡(
vdm
 =
NULL
) {  NULL; }

238 
vdm
[0] = 1;

239 
j
 = 1; j < 
cﬁs
; j++Ë
vdm
[j] = 0;

240 i‡(
rows
 =1Ë 
vdm
;

242 
i
=(
rows
-1)*
cﬁs
;

243 
j
 = 0; j < 
cﬁs
-1; j++Ë
vdm
[
i
+j] = 0;

244 
vdm
[
i
+
j
] = 1;

245 i‡(
rows
 =2Ë 
vdm
;

247 
i
 = 1; i < 
rows
-1; i++) {

248 
k
 = 1;

249 
j
 = 0; j < 
cﬁs
; j++) {

250 
vdm
[
i
*
cﬁs
+
j
] = 
k
;

251 
k
 = 
	`gÆois_sögÀ_mu…ùly
(k, 
i
, 
w
);

254  
vdm
;

255 
	}
}

257 *
	$ªed_sﬁ_big_v™dîm⁄de_di°ributi⁄_m©rix
(
rows
, 
cﬁs
, 
w
)

259 *
di°
;

260 
i
, 
j
, 
k
;

261 
södex
, 
§ödex
, 
siödex
, 
tmp
;

263 i‡(
cﬁs
 >
rows
Ë 
NULL
;

265 
di°
 = 
	`ªed_sﬁ_exãnded_v™dîm⁄de_m©rix
(
rows
, 
cﬁs
, 
w
);

266 i‡(
di°
 =
NULL
)  NULL;

268 
södex
 = 0;

269 
i
 = 1; i < 
cﬁs
; i++) {

270 
södex
 +
cﬁs
;

273 
§ödex
 = 
södex
+
i
;

274 
j
 = 
i
; j < 
rows
 && 
di°
[
§ödex
] =0; j++Ë§ödex +
cﬁs
;

275 i‡(
j
 >
rows
) {

276 
	`Ârötf
(
°dîr
, "reed_sol_big_vandermonde_distribution_matrix(%d,%d,%d) - couldn't make matrix\n",

277 
rows
, 
cﬁs
, 
w
);

278 
	`exô
(1);

282 i‡(
j
 !
i
) {

283 
§ödex
 -
i
;

284 
k
 = 0; k < 
cﬁs
; k++) {

285 
tmp
 = 
di°
[
§ödex
+
k
];

286 
di°
[
§ödex
+
k
] = di°[
södex
+k];

287 
di°
[
södex
+
k
] = 
tmp
;

293 i‡(
di°
[
södex
+
i
] != 1) {

294 
tmp
 = 
	`gÆois_sögÀ_divide
(1, 
di°
[
södex
+
i
], 
w
);

295 
§ödex
 = 
i
;

296 
j
 = 0; j < 
rows
; j++) {

297 
di°
[
§ödex
] = 
	`gÆois_sögÀ_mu…ùly
(
tmp
, di°[§ödex], 
w
);

298 
§ödex
 +
cﬁs
;

308 
j
 = 0; j < 
cﬁs
; j++) {

309 
tmp
 = 
di°
[
södex
+
j
];

310 i‡(
j
 !
i
 && 
tmp
 != 0) {

311 
§ödex
 = 
j
;

312 
siödex
 = 
i
;

313 
k
 = 0; k < 
rows
; k++) {

314 
di°
[
§ödex
] = di°[§ödex] ^ 
	`gÆois_sögÀ_mu…ùly
(
tmp
, di°[
siödex
], 
w
);

315 
§ödex
 +
cﬁs
;

316 
siödex
 +
cﬁs
;

324 
södex
 = 
cﬁs
*cols;

325 
j
 = 0; j < 
cﬁs
; j++) {

326 
tmp
 = 
di°
[
södex
];

327 i‡(
tmp
 != 1) {

328 
tmp
 = 
	`gÆois_sögÀ_divide
(1,Åmp, 
w
);

329 
§ödex
 = 
södex
;

330 
i
 = 
cﬁs
; i < 
rows
; i++) {

331 
di°
[
§ödex
] = 
	`gÆois_sögÀ_mu…ùly
(
tmp
, di°[§ödex], 
w
);

332 
§ödex
 +
cﬁs
;

335 
södex
++;

341 
södex
 = 
cﬁs
*(cols+1);

342 
i
 = 
cﬁs
+1; i < 
rows
; i++) {

343 
tmp
 = 
di°
[
södex
];

344 i‡(
tmp
 != 1) {

345 
tmp
 = 
	`gÆois_sögÀ_divide
(1,Åmp, 
w
);

346 
j
 = 0; j < 
cﬁs
; j++Ë
di°
[
södex
+j] = 
	`gÆois_sögÀ_mu…ùly
(di°[södex+j], 
tmp
, 
w
);

348 
södex
 +
cﬁs
;

351  
di°
;

352 
	}
}

	@oss/jerasure_lib/reed_sol.h

33 *
ªed_sﬁ_v™dîm⁄de_codög_m©rix
(
k
, 
m
, 
w
);

34 *
ªed_sﬁ_exãnded_v™dîm⁄de_m©rix
(
rows
, 
cﬁs
, 
w
);

35 *
ªed_sﬁ_big_v™dîm⁄de_di°ributi⁄_m©rix
(
rows
, 
cﬁs
, 
w
);

37 
ªed_sﬁ_r6_ícode
(
k
, 
w
, **
d©a_±rs
, **
codög_±rs
, 
size
);

38 *
ªed_sﬁ_r6_codög_m©rix
(
k
, 
w
);

40 
ªed_sﬁ_gÆois_w08_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
);

41 
ªed_sﬁ_gÆois_w16_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
);

42 
ªed_sﬁ_gÆois_w32_ªgi⁄_mu…by_2
(*
ªgi⁄
, 
nbyãs
);

	@oss/libmemcached-1.0.17/clients/client_options.h

12 #¥agm®
⁄˚


14 
memˇched_hñp_ãxt_°
 
	tmemˇched_hñp_ãxt_°
;

16 
	ememˇched_›ti⁄s
 {

17 
	mOPT_SERVERS
= 's',

18 
	mOPT_VERSION
= 'V',

19 
	mOPT_HELP
= 'h',

20 
	mOPT_VERBOSE
= 'v',

21 
	mOPT_DEBUG
= 'd',

22 
	mOPT_ANALYZE
= 'a',

23 
	mOPT_FLAG
= 257,

24 
	mOPT_EXPIRE
,

25 
	mOPT_SET
,

26 
	mOPT_REPLACE
,

27 
	mOPT_ADD
,

28 
	mOPT_SLAP_EXECUTE_NUMBER
,

29 
	mOPT_SLAP_INITIAL_LOAD
,

30 
	mOPT_SLAP_TEST
,

31 
	mOPT_SLAP_CONCURRENCY
,

32 
	mOPT_SLAP_NON_BLOCK
,

33 
	mOPT_SLAP_TCP_NODELAY
,

34 
	mOPT_FLUSH
,

35 
	mOPT_HASH
,

36 
	mOPT_BINARY
,

37 
	mOPT_UDP
,

38 
	mOPT_BUFFER
,

39 
	mOPT_USERNAME
,

40 
	mOPT_PASSWD
,

41 
	mOPT_STAT_ARGS
,

42 
	mOPT_SERVER_VERSION
,

43 
	mOPT_QUIET
,

44 
	mOPT_FILE
= 'f'

	@oss/libmemcached-1.0.17/clients/execute.h

12 #¥agm®
⁄˚


14 
	~<°dio.h
>

16 
	~<libmemˇched-1.0/memˇched.h
>

17 
	~"˛õ¡s/gíî©‹.h
"

19 #ifde‡
__˝lu•lus


23 
execuã_£t
(
memˇched_°
 *
memc
, 
∑ús_°
 *
∑ús
, 
numbî_of
);

24 
execuã_gë
(
memˇched_°
 *
memc
, 
∑ús_°
 *
∑ús
, 
numbî_of
);

25 
execuã_mgë
(
memˇched_°
 *
memc
, c⁄° * c⁄° *
keys
, 
size_t
 *
key_Àngth
,

26 
numbî_of
);

28 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/generator.h

16 #¥agm®
⁄˚


18 
∑ús_°
 
	t∑ús_°
;

20 
	s∑ús_°
 {

21 *
	mkey
;

22 
size_t
 
	mkey_Àngth
;

23 *
	mvÆue
;

24 
size_t
 
	mvÆue_Àngth
;

27 #ifde‡
__˝lu•lus


31 
∑ús_°
 *
∑ús_gíî©e
(
uöt64_t
 
numbî_of
, 
size_t
 
vÆue_Àngth
);

32 
∑ús_‰ì
(
∑ús_°
 *
∑ús
);

34 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/memaslap.c

16 
	~"mem_c⁄fig.h
"

18 
	~<°dlib.h
>

19 
	~<gë›t.h
>

20 
	~<limôs.h
>

22 #i‡
deföed
(
HAVE_SYS_TIME_H
)

23 
	~<sys/time.h
>

26 #i‡
deföed
(
HAVE_TIME_H
)

27 
	~<time.h
>

31 
	~"ms_sig£gv.h
"

32 
	~"ms_£âög.h
"

33 
	~"ms_thªad.h
"

35 
	#PROGRAM_NAME
 "mem¶≠"

	)

36 
	#PROGRAM_DESCRIPTION
 \

37 "Gíî©e†w‹klﬂdágaö° memˇched sîvîs."

	)

39 #ifde‡
__sun


43 
	#OPTIONSTRING
 *

	)

45 
	#OPTIONSTRING
 c⁄° *

	)

49 
›ti⁄
 
	gl⁄g_›ti⁄s
[]=

51 { (
OPTIONSTRING
)"£rvîs", 
ªquúed_¨gumít
, 
NULL
,

52 
OPT_SERVERS
 },

53 { (
OPTIONSTRING
)"thªads", 
ªquúed_¨gumít
, 
NULL
,

54 
OPT_THREAD_NUMBER
 },

55 { (
OPTIONSTRING
)"c⁄cuºícy", 
ªquúed_¨gumít
, 
NULL
,

56 
OPT_CONCURRENCY
 },

57 { (
OPTIONSTRING
)"c⁄n_sock", 
ªquúed_¨gumít
, 
NULL
,

58 
OPT_SOCK_PER_CONN
 },

59 { (
OPTIONSTRING
)"execuã_numbî", 
ªquúed_¨gumít
, 
NULL
,

60 
OPT_EXECUTE_NUMBER
 },

61 { (
OPTIONSTRING
)"time", 
ªquúed_¨gumít
, 
NULL
,

62 
OPT_TIME
 },

63 { (
OPTIONSTRING
)"cfg_cmd", 
ªquúed_¨gumít
, 
NULL
,

64 
OPT_CONFIG_CMD
 },

65 { (
OPTIONSTRING
)"wö_size", 
ªquúed_¨gumít
, 
NULL
,

66 
OPT_WINDOW_SIZE
 },

67 { (
OPTIONSTRING
)"fixed_size", 
ªquúed_¨gumít
, 
NULL
,

68 
OPT_FIXED_LTH
 },

69 { (
OPTIONSTRING
)"vîify", 
ªquúed_¨gumít
, 
NULL
,

70 
OPT_VERIFY
 },

71 { (
OPTIONSTRING
)"divisi⁄", 
ªquúed_¨gumít
, 
NULL
,

72 
OPT_GETS_DIVISION
 },

73 { (
OPTIONSTRING
)"°©_‰eq", 
ªquúed_¨gumít
, 
NULL
,

74 
OPT_STAT_FREQ
 },

75 { (
OPTIONSTRING
)"exp_vîify", 
ªquúed_¨gumít
, 
NULL
,

76 
OPT_EXPIRE
 },

77 { (
OPTIONSTRING
)"ovîwrôe", 
ªquúed_¨gumít
, 
NULL
,

78 
OPT_OVERWRITE
 },

79 { (
OPTIONSTRING
)"ªc⁄√˘", 
no_¨gumít
, 
NULL
,

80 
OPT_RECONNECT
 },

81 { (
OPTIONSTRING
)"udp", 
no_¨gumít
, 
NULL
,

82 
OPT_UDP
 },

83 { (
OPTIONSTRING
)"Á˚book", 
no_¨gumít
, 
NULL
,

84 
OPT_FACEBOOK_TEST
 },

85 { (
OPTIONSTRING
)"bö¨y", 
no_¨gumít
, 
NULL
,

86 
OPT_BINARY_PROTOCOL
 },

87 { (
OPTIONSTRING
)"çs", 
ªquúed_¨gumít
, 
NULL
,

88 
OPT_TPS
 },

89 { (
OPTIONSTRING
)"ªp_wrôe", 
ªquúed_¨gumít
, 
NULL
,

90 
OPT_REP_WRITE_SRV
 },

91 { (
OPTIONSTRING
)"vîbo£", 
no_¨gumít
, 
NULL
,

92 
OPT_VERBOSE
 },

93 { (
OPTIONSTRING
)"hñp", 
no_¨gumít
, 
NULL
,

94 
OPT_HELP
 },

95 { (
OPTIONSTRING
)"vîsi⁄", 
no_¨gumít
, 
NULL
,

96 
OPT_VERSION
 },

101 
ms_sync_lock_öô
();

102 
ms_sync_lock_de°roy
();

103 
ms_globÆ_°ru˘_öô
();

104 
ms_globÆ_°ru˘_de°roy
();

105 
ms_vîsi⁄_comm™d
(c⁄° *
comm™d_«me
);

106 c⁄° *
ms_lookup_hñp
(
ms_›ti⁄s_t
 
›ti⁄
);

107 
öt64_t
 
ms_∑r£_time
();

108 
öt64_t
 
ms_∑r£_size
();

109 
ms_›ti⁄s_∑r£
(
¨gc
, *
¨gv
[]);

110 
ms_check_∑ø
();

111 
ms_°©i°ic_öô
();

112 
ms_°©s_öô
();

113 
ms_¥öt_°©i°ics
(
ö_time
);

114 
ms_¥öt_mem¶≠_°©s
(
timevÆ
 *
°¨t_time
,

115 
timevÆ
 *
íd_time
);

116 
ms_m⁄ô‹_¶≠_mode
();

125 
__©åibuã__
((
n‹ëu∫
)Ë
	$ms_hñp_comm™d
(c⁄° *
comm™d_«me
, c⁄° *
des¸ùti⁄
)

127 *
hñp_mesßge

NULL
;

129 
	`¥ötf
("%†v%u.%u\n", 
comm™d_«me
, 1U, 0U);

130 
	`¥ötf
(" %s\n\n", 
des¸ùti⁄
);

131 
	`¥ötf
(

136 
x
0; 
l⁄g_›ti⁄s
[x].
«me
; x++)

138 
	`¥ötf
(" -%c, --%s%c\n", 
l⁄g_›ti⁄s
[
x
].
vÆ
,Ü⁄g_›ti⁄s[x].
«me
,

139 
l⁄g_›ti⁄s
[
x
].
has_¨g
 ? '=' : ' ');

141 i‡((
hñp_mesßge
(*)
	`ms_lookup_hñp
(
l⁄g_›ti⁄s
[
x
].
vÆ
)Ë!
NULL
)

143 
	`¥ötf
(" %s\n", 
hñp_mesßge
);

147 
	`¥ötf
(

157 
	`exô
(0);

158 
	}
}

162 
	$ms_sync_lock_öô
()

164 
ms_globÆ
.
öô_lock
.
cou¡
= 0;

165 
	`±hªad_muãx_öô
(&
ms_globÆ
.
öô_lock
.
lock
, 
NULL
);

166 
	`±hªad_c⁄d_öô
(&
ms_globÆ
.
öô_lock
.
c⁄d
, 
NULL
);

168 
ms_globÆ
.
w¨mup_lock
.
cou¡
 = 0;

169 
	`±hªad_muãx_öô
(&
ms_globÆ
.
w¨mup_lock
.
lock
, 
NULL
);

170 
	`±hªad_c⁄d_öô
(&
ms_globÆ
.
w¨mup_lock
.
c⁄d
, 
NULL
);

172 
ms_globÆ
.
run_lock
.
cou¡
= 0;

173 
	`±hªad_muãx_öô
(&
ms_globÆ
.
run_lock
.
lock
, 
NULL
);

174 
	`±hªad_c⁄d_öô
(&
ms_globÆ
.
run_lock
.
c⁄d
, 
NULL
);

176 
	`±hªad_muãx_öô
(&
ms_globÆ
.
quô_muãx
, 
NULL
);

177 
	`±hªad_muãx_öô
(&
ms_globÆ
.
£q_muãx
, 
NULL
);

178 
	}
}

182 
	$ms_sync_lock_de°roy
()

184 
	`±hªad_muãx_de°roy
(&
ms_globÆ
.
öô_lock
.
lock
);

185 
	`±hªad_c⁄d_de°roy
(&
ms_globÆ
.
öô_lock
.
c⁄d
);

187 
	`±hªad_muãx_de°roy
(&
ms_globÆ
.
w¨mup_lock
.
lock
);

188 
	`±hªad_c⁄d_de°roy
(&
ms_globÆ
.
w¨mup_lock
.
c⁄d
);

190 
	`±hªad_muãx_de°roy
(&
ms_globÆ
.
run_lock
.
lock
);

191 
	`±hªad_c⁄d_de°roy
(&
ms_globÆ
.
run_lock
.
c⁄d
);

193 
	`±hªad_muãx_de°roy
(&
ms_globÆ
.
quô_muãx
);

194 
	`±hªad_muãx_de°roy
(&
ms_globÆ
.
£q_muãx
);

196 i‡(
ms_£âög
.
°©_‰eq
 > 0)

198 
	`±hªad_muãx_de°roy
(&
ms_°©i°ic
.
°©_muãx
);

200 
	}
}

204 
	$ms_globÆ_°ru˘_öô
()

206 
	`ms_sync_lock_öô
();

207 
ms_globÆ
.
föish_w¨mup

Ál£
;

208 
ms_globÆ
.
time_out

Ál£
;

209 
	}
}

213 
	$ms_globÆ_°ru˘_de°roy
()

215 
	`ms_sync_lock_de°roy
();

216 
	}
}

224 
	$ms_vîsi⁄_comm™d
(c⁄° *
comm™d_«me
)

226 
	`¥ötf
("%†v%u.%u\n", 
comm™d_«me
, 1U, 0U);

227 
	`exô
(0);

228 
	}
}

238 c⁄° *
	$ms_lookup_hñp
(
ms_›ti⁄s_t
 
›ti⁄
)

240 
›ti⁄
)

242 
OPT_SERVERS
:

247 
OPT_VERSION
:

250 
OPT_HELP
:

253 
OPT_EXECUTE_NUMBER
:

257 
OPT_THREAD_NUMBER
:

261 
OPT_CONCURRENCY
:

264 
OPT_FIXED_LTH
:

267 
OPT_VERIFY
:

270 
OPT_GETS_DIVISION
:

273 
OPT_TIME
:

278 
OPT_CONFIG_CMD
:

282 
OPT_WINDOW_SIZE
:

287 
OPT_UDP
:

292 
OPT_EXPIRE
:

297 
OPT_OVERWRITE
:

302 
OPT_STAT_FREQ
:

307 
OPT_SOCK_PER_CONN
:

310 
OPT_RECONNECT
:

314 
OPT_VERBOSE
:

318 
OPT_FACEBOOK_TEST
:

322 
OPT_BINARY_PROTOCOL
:

326 
OPT_TPS
:

329 
OPT_REP_WRITE_SRV
:

335 
	}
}

339 
öt64_t
 
	$ms_∑r£_time
()

341 
öt64_t
 
ªt
= 0;

342 
unô

›èrg
[
	`°æí
(optarg) - 1];

344 
›èrg
[
	`°æí
(optarg) - 1]= '\0';

345 
ªt

	`©oi
(
›èrg
);

347 
unô
)

351 
ªt
*= 24;

355 
ªt
*= 60;

359 
ªt
*= 60;

366 
ªt
= -1;

370  
ªt
;

371 
	}
}

375 
öt64_t
 
	$ms_∑r£_size
()

377 
öt64_t
 
ªt
= -1;

378 
unô

›èrg
[
	`°æí
(optarg) - 1];

380 
›èrg
[
	`°æí
(optarg) - 1]= '\0';

381 
î∫o
= 0;

382 
ªt

	`°πﬁl
(
›èrg
, (**)
NULL
, 10);

383 i‡(
î∫o
 != 0)

385 
	`Ârötf
(
°dîr
, "°πﬁl(›èrg,..): %s\n", 
	`°ªº‹
(
î∫o
));

386 
	`exô
(1);

389 
unô
)

393 
ªt
*= 1024;

398 
ªt
*= 1024 * 1024;

403 
ªt
*= 1024 * 1024 * 1024;

407 
ªt
= -1;

411  
ªt
;

412 
	}
}

416 
	$ms_›ti⁄s_∑r£
(
¨gc
, *
¨gv
[])

418 
›ti⁄_ödex
= 0;

419 
›ti⁄_rv
;

421 (
›ti⁄_rv

	`gë›t_l⁄g
(
¨gc
, 
¨gv
, "VhURbaBs:x:T:c:X:v:d:"

423 
l⁄g_›ti⁄s
, &
›ti⁄_ödex
)) != -1)

425 
›ti⁄_rv
)

430 
OPT_VERSION
:

431 
	`ms_vîsi⁄_comm™d
(
PROGRAM_NAME
);

434 
OPT_HELP
:

435 
	`ms_hñp_comm™d
(
PROGRAM_NAME
, 
PROGRAM_DESCRIPTION
);

438 
OPT_SERVERS
:

439 
ms_£âög
.
§v_°r

	`°rdup
(
›èrg
);

442 
OPT_CONCURRENCY
:

443 
î∫o
= 0;

444 
ms_£âög
.
nc⁄ns
(
uöt32_t
)
	`°πoul
(
›èrg
, (**Ë
NULL
, 10);

445 i‡(
ms_£âög
.
nc⁄ns
 <0 || 
î∫o
 != 0)

447 
	`Ârötf
(
°dîr
, "Concurrency must be greaterÅhan 0.:-)\n");

448 
	`exô
(1);

452 
OPT_EXECUTE_NUMBER
:

453 
î∫o
= 0;

454 
ms_£âög
.
exec_num
()
	`°πﬁ
(
›èrg
, (**Ë
NULL
, 10);

455 i‡(
ms_£âög
.
exec_num
 <0 || 
î∫o
 != 0)

457 
	`Ârötf
(
°dîr
, "ExecuteÇumber must be greaterÅhan 0.:-)\n");

458 
	`exô
(1);

462 
OPT_THREAD_NUMBER
:

463 
î∫o
= 0;

464 
ms_£âög
.
¡hªads
(
uöt32_t
)
	`°πoul
(
›èrg
, (**Ë
NULL
, 10);

465 i‡(
ms_£âög
.
¡hªads
 <0 || 
î∫o
 != 0)

467 
	`Ârötf
(
°dîr
, "ThreadsÇumber must be greaterÅhan 0.:-)\n");

468 
	`exô
(1);

472 
OPT_FIXED_LTH
:

473 
î∫o
= 0;

474 
ms_£âög
.
fixed_vÆue_size
(
size_t
)
	`°πouŒ
(
›èrg
, (**Ë
NULL
, 10);

475 i‡((
ms_£âög
.
fixed_vÆue_size
 <0 || 
î∫o
 != 0)

476 || (
ms_£âög
.
fixed_vÆue_size
 > 
MAX_VALUE_SIZE
))

478 
	`Ârötf
(
°dîr
, "Value size must be between 0ánd 1M.:-)\n");

479 
	`exô
(1);

483 
OPT_VERIFY
:

484 
ms_£âög
.
vîify_≥r˚¡

	`©of
(
›èrg
);

485 i‡((
ms_£âög
.
vîify_≥r˚¡
 <= 0)

486 || (
ms_£âög
.
vîify_≥r˚¡
 > 1.0))

488 
	`Ârötf
(
°dîr
, "Data verificationÑate must be "

490 
	`exô
(1);

494 
OPT_GETS_DIVISION
:

495 
î∫o
= 0;

496 
ms_£âög
.
mu…_key_num
()
	`°πﬁ
(
›èrg
, (**Ë
NULL
, 10);

497 i‡(
ms_£âög
.
mu…_key_num
 <0 || 
î∫o
 != 0)

499 
	`Ârötf
(
°dîr
, "Multi-get keyÇumber must be greaterÅhan 0.:-)\n");

500 
	`exô
(1);

504 
OPT_TIME
:

505 
ms_£âög
.
run_time
()
	`ms_∑r£_time
();

506 i‡(
ms_£âög
.
run_time
 == -1)

508 
	`Ârötf
(
°dîr
, "Please specifyÅheÑunÅime. :-)\n"

511 
	`exô
(1);

514 i‡(
ms_£âög
.
run_time
 == 0)

516 
	`Ârötf
(
°dîr
, "RunningÅime canÇot be 0. :-)\n");

517 
	`exô
(1);

521 
OPT_CONFIG_CMD
:

522 
ms_£âög
.
cfg_fûe

	`°rdup
(
›èrg
);

525 
OPT_WINDOW_SIZE
:

526 
ms_£âög
.
wö_size
(
size_t
)
	`ms_∑r£_size
();

527 i‡(
ms_£âög
.
wö_size
 =(
size_t
)-1)

529 
	`Ârötf
(

530 
°dîr
,

533 
	`exô
(1);

537 
OPT_UDP
:

538 
ms_£âög
.
udp

åue
;

541 
OPT_EXPIRE
:

542 
ms_£âög
.
exp_vî_≥r

	`©of
(
›èrg
);

543 i‡((
ms_£âög
.
exp_vî_≥r
 <= 0) || (ms_setting.exp_ver_per > 1.0))

545 
	`Ârötf
(
°dîr
, "ExpireÅime verificationÑate must be "

547 
	`exô
(1);

551 
OPT_OVERWRITE
:

552 
ms_£âög
.
ovîwrôe_≥r˚¡

	`©of
(
›èrg
);

553 i‡((
ms_£âög
.
ovîwrôe_≥r˚¡
 <= 0)

554 || (
ms_£âög
.
ovîwrôe_≥r˚¡
 > 1.0))

556 
	`Ârötf
(
°dîr
, "Objects overwriteÑate must be "

558 
	`exô
(1);

562 
OPT_STAT_FREQ
:

563 
ms_£âög
.
°©_‰eq
()
	`ms_∑r£_time
();

564 i‡(
ms_£âög
.
°©_‰eq
 == -1)

566 
	`Ârötf
(
°dîr
, "Please specifyÅhe frequency of dumping "

570 
	`exô
(1);

573 i‡(
ms_£âög
.
°©_‰eq
 == 0)

575 
	`Ârötf
(
°dîr
, "The frequency of dumping statistic information "

577 
	`exô
(1);

581 
OPT_SOCK_PER_CONN
:

582 
î∫o
= 0;

583 
ms_£âög
.
sock_≥r_c⁄n
(
uöt32_t
)
	`°πoul
(
›èrg
, (**Ë
NULL
, 10);

584 i‡(
ms_£âög
.
sock_≥r_c⁄n
 <0 || 
î∫o
 != 0)

586 
	`Ârötf
(
°dîr
, "Number of socks ofÉach concurrency "

588 
	`exô
(1);

592 
OPT_RECONNECT
:

593 
ms_£âög
.
ªc⁄√˘

åue
;

596 
OPT_VERBOSE
:

597 
ms_£âög
.
vîbo£

åue
;

600 
OPT_FACEBOOK_TEST
:

601 
ms_£âög
.
Á˚book_ã°

åue
;

604 
OPT_BINARY_PROTOCOL
:

605 
ms_£âög
.
bö¨y_¥Ÿ_

åue
;

608 
OPT_TPS
:

609 
ms_£âög
.
ex≥˘ed_çs
()
	`ms_∑r£_size
();

610 i‡(
ms_£âög
.
ex≥˘ed_çs
 == -1)

612 
	`Ârötf
(
°dîr
,

615 
	`exô
(1);

619 
OPT_REP_WRITE_SRV
:

620 
î∫o
= 0;

621 
ms_£âög
.
ªp_wrôe_§v
(
uöt32_t
)
	`°πoul
(
›èrg
, (**Ë
NULL
, 10);

622 i‡(
ms_£âög
.
ªp_wrôe_§v
 <0 || 
î∫o
 != 0)

624 
	`Ârötf
(
°dîr
,

627 
	`exô
(1);

633 
	`exô
(1);

636 
	`ab‹t
();

639 
	}
}

642 
	$ms_check_∑ø
()

644 i‡(
ms_£âög
.
§v_°r
 =
NULL
)

646 *
ãmp
;

648 i‡((
ãmp

	`gëív
("MEMCACHED_SERVERS")))

650 
ms_£âög
.
§v_°r

	`°rdup
(
ãmp
);

654 
	`Ârötf
(
°dîr
, "No ServersÖrovided\n\n");

659 i‡(
ms_£âög
.
nc⁄ns
 % (
uöt32_t
)ms_£âög.
¡hªads
 != 0)

661 
	`Ârötf
(
°dîr
, "Concurrency must beÅhe multiples ofÅhreads count.\n");

665 i‡(
ms_£âög
.
wö_size
 % 
UNIT_ITEMS_COUNT
 != 0)

667 
	`Ârötf
(
°dîr
, "Window size must beÅhe multiples of 1024.\n\n");

671  
EXIT_SUCCESS
;

672 
	}
}

676 
	$ms_°©i°ic_öô
()

678 
	`±hªad_muãx_öô
(&
ms_°©i°ic
.
°©_muãx
, 
NULL
);

679 
	`ms_öô_°©s
(&
ms_°©i°ic
.
gë_°©
, "Get");

680 
	`ms_öô_°©s
(&
ms_°©i°ic
.
£t_°©
, "Set");

681 
	`ms_öô_°©s
(&
ms_°©i°ic
.
tŸÆ_°©
, "Total");

682 
	}
}

686 
	$ms_°©s_öô
()

688 
	`mem£t
(&
ms_°©s
, 0, (
ms_°©s_t
));

689 i‡(
ms_£âög
.
°©_‰eq
 > 0)

691 
	`ms_°©i°ic_öô
();

693 
	}
}

697 
	$ms_¥öt_°©i°ics
(
ö_time
)

699 
obj_size
()(
ms_£âög
.
avg_key_size
 + ms_£âög.
avg_vÆ_size
);

701 
	`¥ötf
("\033[1;1H\033[2J\n");

702 
	`ms_dump_f‹m©_°©s
(&
ms_°©i°ic
.
gë_°©
, 
ö_time
,

703 
ms_£âög
.
°©_‰eq
, 
obj_size
);

704 
	`ms_dump_f‹m©_°©s
(&
ms_°©i°ic
.
£t_°©
, 
ö_time
,

705 
ms_£âög
.
°©_‰eq
, 
obj_size
);

706 
	`ms_dump_f‹m©_°©s
(&
ms_°©i°ic
.
tŸÆ_°©
, 
ö_time
,

707 
ms_£âög
.
°©_‰eq
, 
obj_size
);

708 
	}
}

712 
	$ms_¥öt_mem¶≠_°©s
(
timevÆ
 *
°¨t_time
,

713 
timevÆ
 *
íd_time
)

715 
buf
[1024];

716 *
pos

buf
;

718 
pos
+
	`¢¥ötf
(pos,

719 (
buf
), "cmd_get: %lu\n",

720 (Ë
ms_°©s
.
cmd_gë
);

721 
pos
+
	`¢¥ötf
(pos,

722 (
buf
Ë- (
size_t
)(
pos
 -buf),

724 (Ë
ms_°©s
.
cmd_£t
);

725 
pos
+
	`¢¥ötf
(pos,

726 (
buf
Ë- (
size_t
)(
pos
 -buf),

728 (Ë
ms_°©s
.
gë_mis£s
);

730 i‡(
ms_£âög
.
vîify_≥r˚¡
 > 0)

732 
pos
+
	`¢¥ötf
(pos,

733 (
buf
Ë- (
size_t
)(
pos
 -buf),

735 (Ë
ms_°©s
.
vef_miss
);

736 
pos
+
	`¢¥ötf
(pos,

737 (
buf
Ë- (
size_t
)(
pos
 -buf),

739 (Ë
ms_°©s
.
vef_Áûed
);

742 i‡(
ms_£âög
.
exp_vî_≥r
 > 0)

744 
pos
+
	`¢¥ötf
(pos,

745 (
buf
Ë- (
size_t
)(
pos
 -buf),

747 (Ë
ms_°©s
.
exp_gë
);

748 
pos
+
	`¢¥ötf
(pos,

749 (
buf
Ë- (
size_t
)(
pos
 -buf),

751 (Ë
ms_°©s
.
u√xp_ungë
);

754 
pos
+
	`¢¥ötf
(pos,

755 (
buf
Ë- (
size_t
)(
pos
 -buf),

757 (Ë
ms_°©s
.
byãs_wrôãn
);

758 
pos
+
	`¢¥ötf
(pos,

759 (
buf
Ë- (
size_t
)(
pos
 -buf),

761 (Ë
ms_°©s
.
byãs_ªad
);

762 
pos
+
	`¢¥ötf
(pos,

763 (
buf
Ë- (
size_t
)(
pos
 -buf),

765 (Ë
ms_°©s
.
obj_byãs
);

767 i‡(
ms_£âög
.
udp
 || ms_£âög.
Á˚book_ã°
)

769 
pos
+
	`¢¥ötf
(pos,

770 (
buf
Ë- (
size_t
)(
pos
 -buf),

772 (Ë
ms_°©s
.
pkt_dis‹dî
);

773 
pos
+
	`¢¥ötf
(pos,

774 (
buf
Ë- (
size_t
)(
pos
 -buf),

776 ()
ms_°©s
.
pkt_dr›
);

777 
pos
+
	`¢¥ötf
(pos,

778 (
buf
Ë- (
size_t
)(
pos
 -buf),

780 ()
ms_°©s
.
udp_timeout
);

783 i‡(
ms_£âög
.
°©_‰eq
 > 0)

785 
	`ms_dump_°©s
(&
ms_°©i°ic
.
gë_°©
);

786 
	`ms_dump_°©s
(&
ms_°©i°ic
.
£t_°©
);

787 
	`ms_dump_°©s
(&
ms_°©i°ic
.
tŸÆ_°©
);

790 
öt64_t
 
time_diff

	`ms_time_diff
(
°¨t_time
, 
íd_time
);

791 
pos
+
	`¢¥ötf
(pos,

792 (
buf
Ë- (
size_t
)(
pos
 -buf),

794 ()
time_diff
 / 1000000,

795 ()(
ms_°©s
.
cmd_gë
 + ms_°©s.
cmd_£t
),

796 (
ms_°©s
.
cmd_gë


797 + 
ms_°©s
.
cmd_£t
Ë/ (()
time_diff
 / 1000000),

799 
ms_°©s
.
byãs_wrôãn


800 + 
ms_°©s
.
byãs_ªad
) / 1024 / 1024

801 / (()
time_diff
 / 1000000));

802 
	`as£π
(
pos
 <
buf
);

804 
	`Ârötf
(
°dout
, "%s", 
buf
);

805 
	`fÊush
(
°dout
);

806 
	}
}

810 
	$ms_m⁄ô‹_¶≠_mode
()

812 
timevÆ
 
°¨t_time
, 
íd_time
;

815 
	`±hªad_muãx_lock
(&
ms_globÆ
.
öô_lock
.
lock
);

816 
ms_globÆ
.
öô_lock
.
cou¡
 < 
ms_£âög
.
¡hªads
)

818 
	`±hªad_c⁄d_waô
(&
ms_globÆ
.
öô_lock
.
c⁄d
,

819 &
ms_globÆ
.
öô_lock
.
lock
);

821 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
öô_lock
.
lock
);

824 i‡(
ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
 < 
PROP_ERROR
)

827 
	`±hªad_muãx_lock
(&
ms_globÆ
.
w¨mup_lock
.
lock
);

828 
ms_globÆ
.
w¨mup_lock
.
cou¡
 < 
ms_£âög
.
nc⁄ns
)

830 
	`±hªad_c⁄d_waô
(&
ms_globÆ
.
w¨mup_lock
.
c⁄d
, &ms_globÆ.w¨mup_lock.
lock
);

832 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
w¨mup_lock
.
lock
);

834 
ms_globÆ
.
föish_w¨mup

åue
;

837 i‡(
ms_£âög
.
run_time
 > 0)

839 
£c⁄d
= 0;

840 
	`gëtimeofday
(&
°¨t_time
, 
NULL
);

843 
	`¶ìp
(1);

844 
£c⁄d
++;

846 i‡((
ms_£âög
.
°©_‰eq
 > 0Ë&& (
£c⁄d
 % ms_setting.stat_freq == 0)

847 && (
ms_°©s
.
a˘ive_c⁄ns
 >
ms_£âög
.
nc⁄ns
)

848 && (
ms_°©s
.
a˘ive_c⁄ns
 <
INT_MAX
))

850 
	`ms_¥öt_°©i°ics
(
£c⁄d
);

853 i‡(
ms_£âög
.
run_time
 <
£c⁄d
)

855 
ms_globÆ
.
time_out

åue
;

860 i‡((
£c⁄d
 > 5Ë&& (
ms_°©s
.
a˘ive_c⁄ns
 == 0))

865 
	`gëtimeofday
(&
íd_time
, 
NULL
);

866 
	`¶ìp
(1);

871 
	`gëtimeofday
(&
°¨t_time
, 
NULL
);

876 
	`±hªad_muãx_lock
(&
ms_globÆ
.
run_lock
.
lock
);

877 
ms_globÆ
.
run_lock
.
cou¡
 < 
ms_£âög
.
nc⁄ns
)

879 
	`±hªad_c⁄d_waô
(&
ms_globÆ
.
run_lock
.
c⁄d
, &ms_globÆ.run_lock.
lock
);

881 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
run_lock
.
lock
);

883 
	`gëtimeofday
(&
íd_time
, 
NULL
);

886 
	`ms_¥öt_mem¶≠_°©s
(&
°¨t_time
, &
íd_time
);

887 
	}
}

891 
	$maö
(
¨gc
, *
¨gv
[])

893 
	`§™dom
(()
	`time
(
NULL
));

894 
	`ms_globÆ_°ru˘_öô
();

897 
	`ms_£âög_öô_¥e
();

898 
	`ms_›ti⁄s_∑r£
(
¨gc
, 
¨gv
);

899 i‡(
	`ms_check_∑ø
())

901 
	`ms_hñp_comm™d
(
PROGRAM_NAME
, 
PROGRAM_DESCRIPTION
);

902 
	`exô
(1);

904 
	`ms_£âög_öô_po°
();

905 
	`ms_°©s_öô
();

906 
	`ms_thªad_öô
();

909 
	`ms_m⁄ô‹_¶≠_mode
();

912 
	`ms_thªad_˛ónup
();

913 
	`ms_globÆ_°ru˘_de°roy
();

914 
	`ms_£âög_˛ónup
();

916  
EXIT_SUCCESS
;

917 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_atomic.h

12 #i‚de‡
CLIENTS_MS_ATOMIC_H


13 
	#CLIENTS_MS_ATOMIC_H


	)

15 #i‡
deföed
(
__SUNPRO_C
)

16 
	#_KERNEL


	)

17 
	~<©omic.h
>

18 #i‡
SIZEOF_SIZE_T
 == 8

19 
	#©omic_add_size
(
X
, 
Y
Ë
	`©omic_add_64
((X), (Y))

	)

20 
	#©omic_add_size_nv
(
X
, 
Y
Ë
	`©omic_add_64
((X), (Y))

	)

21 
	#©omic_dec_size
(
X
, 
Y
Ë
	`©omic_add_64
((X), (Y))

	)

22 
	#©omic_dec_size_nv
(
X
, 
Y
Ë
	`©omic_add_64
((X), (Y))

	)

24 
	#©omic_add_size
(
X
, 
Y
Ë
	`©omic_add_32
((X), (Y))

	)

25 
	#©omic_add_size_nv
(
X
, 
Y
Ë
	`©omic_add_32
((X), (Y))

	)

26 
	#©omic_dec_size
(
X
, 
Y
Ë
	`©omic_add_32
((X), (Y))

	)

27 
	#©omic_dec_size_nv
(
X
, 
Y
Ë
	`©omic_add_32
((X), (Y))

	)

29 #unde‡
_KERNEL


30 #ñi‡
HAVE_GCC_ATOMIC_BUILTINS


31 
	#©omic_add_8
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

32 
	#©omic_add_16
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

33 
	#©omic_add_32
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

34 
	#©omic_add_size
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

35 
	#©omic_dec_8
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

36 
	#©omic_dec_16
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

37 
	#©omic_dec_32
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

38 
	#©omic_dec_size
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

40 
	#©omic_add_8_nv
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

41 
	#©omic_add_16_nv
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

42 
	#©omic_add_32_nv
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

43 
	#©omic_add_size_nv
(
X
, 
Y
Ë
	`__sync_„tch_™d_add
((X), (Y))

	)

44 
	#©omic_dec_8_nv
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

45 
	#©omic_dec_16_nv
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

46 
	#©omic_dec_32_nv
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

47 
	#©omic_dec_size_nv
(
X
Ë
	`__sync_„tch_™d_sub
((X), 1)

	)

50 
	#©omic_add_8
(
X
, 
Y
)

	)

51 
	#©omic_add_16
(
X
, 
Y
)

	)

52 
	#©omic_add_32
(
X
, 
Y
)

	)

53 
	#©omic_add_size
(
X
, 
Y
)

	)

54 
	#©omic_dec_8
(
X
)

	)

55 
	#©omic_dec_16
(
X
)

	)

56 
	#©omic_dec_32
(
X
)

	)

57 
	#©omic_dec_size
(
X
)

	)

59 
	#©omic_add_8_nv
(
X
, 
Y
)

	)

60 
	#©omic_add_16_nv
(
X
, 
Y
)

	)

61 
	#©omic_add_32_nv
(
X
, 
Y
)

	)

62 
	#©omic_add_size_nv
(
X
, 
Y
)

	)

63 
	#©omic_dec_8_nv
(
X
)

	)

64 
	#©omic_dec_16_nv
(
X
)

	)

65 
	#©omic_dec_32_nv
(
X
)

	)

66 
	#©omic_dec_size_nv
(
X
)

	)

	@oss/libmemcached-1.0.17/clients/ms_conn.c

12 
	~"mem_c⁄fig.h
"

14 
	~<°dio.h
>

15 
	~<öây≥s.h
>

16 
	~<limôs.h
>

17 
	~<sys/uio.h
>

18 
	~<evít.h
>

19 
	~<f˙é.h
>

20 
	~<√töë/t˝.h
>

21 
	~<√töë/ö.h
>

22 
	~<¨∑/öë.h
>

24 #i‡
deföed
(
HAVE_SYS_TIME_H
)

25 
	~<sys/time.h
>

28 #i‡
deföed
(
HAVE_TIME_H
)

29 
	~<time.h
>

32 
	~"ms_£âög.h
"

33 
	~"ms_thªad.h
"

34 
	~"ms_©omic.h
"

36 #ifde‡
löux


42 #unde‡
¡ohs


43 #unde‡
¡ohl


44 #unde‡
ht⁄s


45 #unde‡
ht⁄l


49 
	#TRANSMIT_COMPLETE
 0

	)

50 
	#TRANSMIT_INCOMPLETE
 1

	)

51 
	#TRANSMIT_SOFT_ERROR
 2

	)

52 
	#TRANSMIT_HARD_ERROR
 3

	)

55 
	#KEY_PREFIX_BASE
 0x1010101010101010

	)

56 
	#KEY_PREFIX_MASK
 0x1010101010101010

	)

59 
	#KEY_TOKEN
 1

	)

60 
	#VALUELEN_TOKEN
 3

	)

63 
uöt64_t
 
	gkey_¥efix_£q

KEY_PREFIX_BASE
;

66 vﬁ©ûê
uöt32_t
 
	gudp_ªque°_id
= 0;

68 
±hªad_key_t
 
ms_thªad_key
;

71 
uöt32_t
 
ms_gë_udp_ªque°_id
();

75 
ms_èsk_öô
(
ms_c⁄n_t
 *
c
);

76 
ms_c⁄n_udp_öô
(
ms_c⁄n_t
 *
c
, c⁄° 
boﬁ
 
is_udp
);

77 
ms_c⁄n_sock_öô
(
ms_c⁄n_t
 *
c
);

78 
ms_c⁄n_evít_öô
(
ms_c⁄n_t
 *
c
);

79 
ms_c⁄n_öô
(
ms_c⁄n_t
 *
c
,

80 c⁄° 
öô_°©e
,

81 c⁄° 
ªad_buf„r_size
,

82 c⁄° 
boﬁ
 
is_udp
);

83 
ms_w¨mup_num_öô
(
ms_c⁄n_t
 *
c
);

84 
ms_ôem_wö_öô
(
ms_c⁄n_t
 *
c
);

88 
ms_c⁄n_‰ì
(
ms_c⁄n_t
 *
c
);

89 
ms_c⁄n_˛o£
(
ms_c⁄n_t
 *
c
);

93 
ms_√w_sockë
(
addröfo
 *
ai
);

94 
ms_maximize_¢dbuf
(c⁄° 
sfd
);

95 
ms_√tw‹k_c⁄√˘
(
ms_c⁄n_t
 *
c
,

96 *
§v_ho°_«me
,

97 c⁄° 
§v_p‹t
,

98 c⁄° 
boﬁ
 
is_udp
,

99 *
ªt_sfd
);

100 
ms_ªc⁄n
(
ms_c⁄n_t
 *
c
);

104 
ms_tokíize_comm™d
(*
comm™d
,

105 
tokí_t
 *
tokís
,

106 c⁄° 
max_tokís
);

107 
ms_ascii_¥o˚ss_löe
(
ms_c⁄n_t
 *
c
, *
comm™d
);

108 
ms_åy_ªad_löe
(
ms_c⁄n_t
 *
c
);

109 
ms_s‹t_udp_∑ckë
(
ms_c⁄n_t
 *
c
, *
buf
, 
rbyãs
);

110 
ms_udp_ªad
(
ms_c⁄n_t
 *
c
, *
buf
, 
Àn
);

111 
ms_åy_ªad_√tw‹k
(
ms_c⁄n_t
 *
c
);

112 
ms_vîify_vÆue
(
ms_c⁄n_t
 *
c
,

113 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem
,

114 *
vÆue
,

115 
vÀn
);

116 
ms_ascii_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
);

117 
ms_bö_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
);

118 
ms_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
);

122 
ms_add_msghdr
(
ms_c⁄n_t
 *
c
);

123 
ms_ísuª_iov_•a˚
(
ms_c⁄n_t
 *
c
);

124 
ms_add_iov
(
ms_c⁄n_t
 *
c
, c⁄° *
buf
, 
Àn
);

125 
ms_buûd_udp_hódîs
(
ms_c⁄n_t
 *
c
);

126 
ms_å™smô
(
ms_c⁄n_t
 *
c
);

130 
ms_c⁄n_shrök
(
ms_c⁄n_t
 *
c
);

131 
ms_c⁄n_£t_°©e
(
ms_c⁄n_t
 *
c
, 
°©e
);

132 
boﬁ
 
ms_upd©e_evít
(
ms_c⁄n_t
 *
c
, c⁄° 
√w_Êags
);

133 
uöt32_t
 
ms_gë_ªp_sock_ödex
(
ms_c⁄n_t
 *
c
, 
cmd
);

134 
uöt32_t
 
ms_gë_√xt_sock_ödex
(
ms_c⁄n_t
 *
c
);

135 
ms_upd©e_c⁄n_sock_evít
(
ms_c⁄n_t
 *
c
);

136 
boﬁ
 
ms_√ed_yõld
(
ms_c⁄n_t
 *
c
);

137 
ms_upd©e_°¨t_time
(
ms_c⁄n_t
 *
c
);

141 
ms_drive_machöe
(
ms_c⁄n_t
 *
c
);

142 
ms_evít_h™dÀr
(c⁄° 
fd
, c⁄° 
which
, *
¨g
);

146 
ms_buûd_ascii_wrôe_buf_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

147 
ms_buûd_ascii_wrôe_buf_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

148 
ms_buûd_ascii_wrôe_buf_mlgë
(
ms_c⁄n_t
 *
c
);

152 
ms_bö_¥o˚ss_ª•⁄£
(
ms_c⁄n_t
 *
c
);

153 
ms_add_bö_hódî
(
ms_c⁄n_t
 *
c
,

154 
uöt8_t
 
›code
,

155 
uöt8_t
 
hdr_Àn
,

156 
uöt16_t
 
key_Àn
,

157 
uöt32_t
 
body_Àn
);

158 
ms_add_key_to_iov
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

159 
ms_buûd_bö_wrôe_buf_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

160 
ms_buûd_bö_wrôe_buf_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

161 
ms_buûd_bö_wrôe_buf_mlgë
(
ms_c⁄n_t
 *
c
);

173 
uöt64_t
 
	$ms_gë_key_¥efix
()

175 
uöt64_t
 
key_¥efix
;

177 
	`±hªad_muãx_lock
(&
ms_globÆ
.
£q_muãx
);

178 
key_¥efix_£q
|
KEY_PREFIX_MASK
;

179 
key_¥efix

key_¥efix_£q
;

180 
key_¥efix_£q
++;

181 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
£q_muãx
);

183  
key_¥efix
;

184 
	}
}

192 
uöt32_t
 
	$ms_gë_udp_ªque°_id
()

194  
	`©omic_add_32_nv
(&
udp_ªque°_id
, 1);

195 
	}
}

203 
	$ms_èsk_öô
(
ms_c⁄n_t
 *
c
)

205 
c
->
cuº_èsk
.
cmd

CMD_NULL
;

206 
c
->
cuº_èsk
.
ôem
= 0;

207 
c
->
cuº_èsk
.
vîify

Ál£
;

208 
c
->
cuº_èsk
.
föish_vîify

åue
;

209 
c
->
cuº_èsk
.
gë_miss

åue
;

211 
c
->
cuº_èsk
.
gë_›t
= 0;

212 
c
->
cuº_èsk
.
£t_›t
= 0;

213 
c
->
cuº_èsk
.
cy˛e_undo_gë
= 0;

214 
c
->
cuº_èsk
.
cy˛e_undo_£t
= 0;

215 
c
->
cuº_èsk
.
vîifõd_gë
= 0;

216 
c
->
cuº_èsk
.
ovîwrôe_£t
= 0;

217 
	}
}

228 
	$ms_c⁄n_udp_öô
(
ms_c⁄n_t
 *
c
, c⁄° 
boﬁ
 
is_udp
)

230 
c
->
hdrbuf
= 0;

231 
c
->
rudpbuf
= 0;

232 
c
->
udµkt
= 0;

234 
c
->
rudpsize

UDP_DATA_BUFFER_SIZE
;

235 
c
->
hdrsize
= 0;

237 
c
->
rudpbyãs
= 0;

238 
c
->
∑ckës
= 0;

239 
c
->
ªcvpkt
= 0;

240 
c
->
pktcuº
= 0;

241 
c
->
‹dcuº
= 0;

243 
c
->
udp

is_udp
;

245 i‡(
c
->
udp
 || (! c->ud∞&& 
ms_£âög
.
Á˚book_ã°
))

247 
c
->
rudpbuf
(*)
	`mÆloc
((
size_t
)c->
rudpsize
);

248 
c
->
udµkt
(
ms_udµkt_t
 *)
	`mÆloc
(
MAX_UDP_PACKET
 * (ms_udppkt_t));

250 i‡((
c
->
rudpbuf
 =
NULL
Ë|| (c->
udµkt
 == NULL))

252 i‡(
c
->
rudpbuf
 !
NULL
)

253 
	`‰ì
(
c
->
rudpbuf
);

254 i‡(
c
->
udµkt
 !
NULL
)

255 
	`‰ì
(
c
->
udµkt
);

256 
	`Ârötf
(
°dîr
, "malloc()\n");

259 
	`mem£t
(
c
->
udµkt
, 0, 
MAX_UDP_PACKET
 * (
ms_udµkt_t
));

262  
EXIT_SUCCESS
;

263 
	}
}

276 
	$ms_c⁄n_öô
(
ms_c⁄n_t
 *
c
,

277 c⁄° 
öô_°©e
,

278 c⁄° 
ªad_buf„r_size
,

279 c⁄° 
boﬁ
 
is_udp
)

281 
	`as£π
(
c
 !
NULL
);

283 
c
->
rbuf
c->
wbuf
= 0;

284 
c
->
iov
= 0;

285 
c
->
msgli°
= 0;

287 
c
->
rsize

ªad_buf„r_size
;

288 
c
->
wsize

WRITE_BUFFER_SIZE
;

289 
c
->
iovsize

IOV_LIST_INITIAL
;

290 
c
->
msgsize

MSG_LIST_INITIAL
;

293 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

295 
c
->
tŸÆ_sfds

ms_£âög
.
§v_˙t
 * ms_£âög.
sock_≥r_c⁄n
;

299 
c
->
tŸÆ_sfds

ms_£âög
.
sock_≥r_c⁄n
;

301 
c
->
Æive_sfds
= 0;

303 
c
->
rbuf
(*)
	`mÆloc
((
size_t
)c->
rsize
);

304 
c
->
wbuf
(*)
	`mÆloc
((
size_t
)c->
wsize
);

305 
c
->
iov
(
iovec
 *)
	`mÆloc
((iovecË* (
size_t
)c->
iovsize
);

306 
c
->
msgli°
(
msghdr
 *)
	`mÆloc
(

307 (
msghdr
Ë* (
size_t
)
c
->
msgsize
);

308 i‡(
ms_£âög
.
mu…_key_num
 > 1)

310 
c
->
mlgë_èsk
.
mlgë_ôem
(
ms_mlgë_èsk_ôem_t
 *)

311 
	`mÆloc
(

312 (
ms_mlgë_èsk_ôem_t
Ë* (
size_t
)
ms_£âög
.
mu…_key_num
);

314 
c
->
t˝sfd
(*)
	`mÆloc
((
size_t
)c->
tŸÆ_sfds
 * ());

316 i‡((
c
->
rbuf
 =
NULL
Ë|| (c->
wbuf
 =NULLË|| (c->
iov
 == NULL)

317 || (
c
->
msgli°
 =
NULL
Ë|| (c->
t˝sfd
 == NULL)

318 || ((
ms_£âög
.
mu…_key_num
 > 1)

319 && (
c
->
mlgë_èsk
.
mlgë_ôem
 =
NULL
)))

321 i‡(
c
->
rbuf
 !
NULL
)

322 
	`‰ì
(
c
->
rbuf
);

323 i‡(
c
->
wbuf
 !
NULL
)

324 
	`‰ì
(
c
->
wbuf
);

325 i‡(
c
->
iov
 !
NULL
)

326 
	`‰ì
(
c
->
iov
);

327 i‡(
c
->
msgli°
 !
NULL
)

328 
	`‰ì
(
c
->
msgli°
);

329 i‡(
c
->
mlgë_èsk
.
mlgë_ôem
 !
NULL
)

330 
	`‰ì
(
c
->
mlgë_èsk
.
mlgë_ôem
);

331 i‡(
c
->
t˝sfd
 !
NULL
)

332 
	`‰ì
(
c
->
t˝sfd
);

333 
	`Ârötf
(
°dîr
, "malloc()\n");

337 
c
->
°©e

öô_°©e
;

338 
c
->
rvbyãs
= 0;

339 
c
->
rbyãs
= 0;

340 
c
->
rcuº
c->
rbuf
;

341 
c
->
wcuº
c->
wbuf
;

342 
c
->
iovu£d
= 0;

343 
c
->
msgcuº
= 0;

344 
c
->
msgu£d
= 0;

345 
c
->
cur_idx
c->
tŸÆ_sfds
;

347 
c
->
˘nwrôe

Ál£
;

348 
c
->
ªadvÆ

Ál£
;

349 
c
->
ch™ge_sfd

Ál£
;

351 
c
->
¥ecmd
.
cmd
c->
cuºcmd
.cmd
CMD_NULL
;

352 
c
->
¥ecmd
.
isföish

åue
;

353 
c
->
cuºcmd
.
isföish

Ál£
;

354 
c
->
¥ecmd
.
ªt°©
c->
cuºcmd
.ªt°©
MCD_FAILURE
;

355 
c
->
¥ecmd
.
key_¥efix
c->
cuºcmd
.key_prefix= 0;

357 
c
->
mlgë_èsk
.
mlgë_num
= 0;

358 
c
->
mlgë_èsk
.
vÆue_ödex
= -1;

360 i‡(
ms_£âög
.
bö¨y_¥Ÿ_
)

362 
c
->
¥Ÿocﬁ

bö¨y_¥Ÿ
;

366 
c
->
¥Ÿocﬁ

ascii_¥Ÿ
;

370 i‡(
	`ms_c⁄n_udp_öô
(
c
, 
is_udp
) != 0)

376 
	`ms_èsk_öô
(
c
);

378 i‡(! (
ms_£âög
.
Á˚book_ã°
 && 
is_udp
))

380 
	`©omic_add_32
(&
ms_°©s
.
a˘ive_c⁄ns
, 1);

383  
EXIT_SUCCESS
;

384 
	}
}

394 
	$ms_w¨mup_num_öô
(
ms_c⁄n_t
 *
c
)

397 i‡(
ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
 < 
PROP_ERROR
)

399 
c
->
w¨mup_num
c->
wö_size
;

400 
c
->
ªmaö_w¨mup_num
c->
w¨mup_num
;

404 
c
->
w¨mup_num
= 0;

405 
c
->
ªmaö_w¨mup_num
c->
w¨mup_num
;

407 
	}
}

418 
	$ms_ôem_wö_öô
(
ms_c⁄n_t
 *
c
)

420 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

421 
exp_˙t
= 0;

423 
c
->
wö_size
()
ms_£âög
.win_size;

424 
c
->
£t_curs‹
= 0;

425 
c
->
exec_num

ms_thªad
->
thªad_˘x
->
exec_num_≥rc⁄n
;

426 
c
->
ªmaö_exec_num
c->
exec_num
;

428 
c
->
ôem_wö
(
ms_èsk_ôem_t
 *)
	`mÆloc
(

429 (
ms_èsk_ôem_t
Ë* (
size_t
)
c
->
wö_size
);

430 i‡(
c
->
ôem_wö
 =
NULL
)

432 
	`Ârötf
(
°dîr
, "Can'tállocateÅask itemárray for conn.\n");

435 
	`mem£t
(
c
->
ôem_wö
, 0, (
ms_èsk_ôem_t
Ë* (
size_t
)c->
wö_size
);

437 
i
0; i < 
c
->
wö_size
; i++)

439 
c
->
ôem_wö
[
i
].
key_size
()
ms_£âög
.
di°r
[i].key_size;

440 
c
->
ôem_wö
[
i
].
key_¥efix

	`ms_gë_key_¥efix
();

441 
c
->
ôem_wö
[
i
].
key_suffix_off£t

ms_£âög
.
di°r
[i].
key_off£t
;

442 
c
->
ôem_wö
[
i
].
vÆue_size
()
ms_£âög
.
di°r
[i].value_size;

443 
c
->
ôem_wö
[
i
].
vÆue_off£t

INVALID_OFFSET
;

444 
c
->
ôem_wö
[
i
].
˛õ¡_time
= 0;

447 i‡(
exp_˙t
 < 
ms_£âög
.
exp_vî_≥r
 * 
i
)

449 
c
->
ôem_wö
[
i
].
exp_time

FIXED_EXPIRE_TIME
;

450 
exp_˙t
++;

454 
c
->
ôem_wö
[
i
].
exp_time
= 0;

458 
	`ms_w¨mup_num_öô
(
c
);

460  
EXIT_SUCCESS
;

461 
	}
}

473 
	$ms_c⁄n_sock_öô
(
ms_c⁄n_t
 *
c
)

475 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

476 
uöt32_t
 
i
;

477 
ªt_sfd
;

478 
uöt32_t
 
§v_idx
= 0;

480 
	`as£π
(
c
 !
NULL
);

481 
	`as£π
(
c
->
t˝sfd
 !
NULL
);

483 
i
0; i < 
c
->
tŸÆ_sfds
; i++)

485 
ªt_sfd
= 0;

486 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

489 
§v_idx

i
 % 
ms_£âög
.
§v_˙t
;

494 
§v_idx

ms_thªad
->
thªad_˘x
->srv_idx;

497 i‡(
	`ms_√tw‹k_c⁄√˘
(
c
, 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

498 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
,

499 
ms_£âög
.
udp
, &
ªt_sfd
) != 0)

504 i‡(
i
 == 0)

506 
c
->
sfd

ªt_sfd
;

509 i‡(! 
ms_£âög
.
udp
)

511 
c
->
t˝sfd
[
i
]
ªt_sfd
;

514 
c
->
Æive_sfds
++;

518 i‡(
ms_£âög
.
Á˚book_ã°
)

520 
ªt_sfd
= 0;

521 i‡(
	`ms_√tw‹k_c⁄√˘
(
c
, 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

522 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
,

523 
åue
, &
ªt_sfd
) != 0)

525 
c
->
udpsfd
= 0;

529 
c
->
udpsfd

ªt_sfd
;

533 i‡((
i
 !
c
->
tŸÆ_sfds
Ë|| (
ms_£âög
.
Á˚book_ã°
 && (c->
udpsfd
 == 0)))

535 i‡(
ms_£âög
.
udp
)

537 
	`˛o£
(
c
->
sfd
);

541 
uöt32_t
 
j
0; j < 
i
; j++)

543 
	`˛o£
(
c
->
t˝sfd
[
j
]);

547 i‡(
c
->
udpsfd
 != 0)

549 
	`˛o£
(
c
->
udpsfd
);

555  
EXIT_SUCCESS
;

556 
	}
}

567 
	$ms_c⁄n_evít_öô
(
ms_c⁄n_t
 *
c
)

569 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

570 
evít_Êags

EV_WRITE
 | 
EV_PERSIST
;

572 
	`evít_£t
(&
c
->
evít
, c->
sfd
, 
evít_Êags
, 
ms_evít_h™dÀr
, (*)c);

573 
	`evít_ba£_£t
(
ms_thªad
->
ba£
, &
c
->
evít
);

574 
c
->
ev_Êags

evít_Êags
;

576 i‡(
	`evít_add
(&
c
->
evít
, 
NULL
) == -1)

581  
EXIT_SUCCESS
;

582 
	}
}

593 
	$ms_£tup_c⁄n
(
ms_c⁄n_t
 *
c
)

595 i‡(
	`ms_ôem_wö_öô
(
c
) != 0)

600 i‡(
	`ms_c⁄n_öô
(
c
, 
c⁄n_wrôe
, 
DATA_BUFFER_SIZE
, 
ms_£âög
.
udp
) != 0)

605 i‡(
	`ms_c⁄n_sock_öô
(
c
) != 0)

610 i‡(
	`ms_c⁄n_evít_öô
(
c
) != 0)

615  
EXIT_SUCCESS
;

616 
	}
}

624 
	$ms_c⁄n_‰ì
(
ms_c⁄n_t
 *
c
)

626 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

627 i‡(
c
 !
NULL
)

629 i‡(
c
->
hdrbuf
 !
NULL
)

630 
	`‰ì
(
c
->
hdrbuf
);

631 i‡(
c
->
msgli°
 !
NULL
)

632 
	`‰ì
(
c
->
msgli°
);

633 i‡(
c
->
rbuf
 !
NULL
)

634 
	`‰ì
(
c
->
rbuf
);

635 i‡(
c
->
wbuf
 !
NULL
)

636 
	`‰ì
(
c
->
wbuf
);

637 i‡(
c
->
iov
 !
NULL
)

638 
	`‰ì
(
c
->
iov
);

639 i‡(
c
->
mlgë_èsk
.
mlgë_ôem
 !
NULL
)

640 
	`‰ì
(
c
->
mlgë_èsk
.
mlgë_ôem
);

641 i‡(
c
->
rudpbuf
 !
NULL
)

642 
	`‰ì
(
c
->
rudpbuf
);

643 i‡(
c
->
udµkt
 !
NULL
)

644 
	`‰ì
(
c
->
udµkt
);

645 i‡(
c
->
ôem_wö
 !
NULL
)

646 
	`‰ì
(
c
->
ôem_wö
);

647 i‡(
c
->
t˝sfd
 !
NULL
)

648 
	`‰ì
(
c
->
t˝sfd
);

650 i‡(--
ms_thªad
->
«˘ive_c⁄n
 == 0)

652 
	`‰ì
(
ms_thªad
->
c⁄n
);

655 
	}
}

663 
	$ms_c⁄n_˛o£
(
ms_c⁄n_t
 *
c
)

665 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

666 
	`as£π
(
c
 !
NULL
);

669 
	`evít_dñ
(&
c
->
evít
);

671 
uöt32_t
 
i
0; i < 
c
->
tŸÆ_sfds
; i++)

673 i‡(
c
->
t˝sfd
[
i
] > 0)

675 
	`˛o£
(
c
->
t˝sfd
[
i
]);

678 
c
->
sfd
= 0;

680 i‡(
ms_£âög
.
Á˚book_ã°
)

682 
	`˛o£
(
c
->
udpsfd
);

685 
	`©omic_dec_32
(&
ms_°©s
.
a˘ive_c⁄ns
);

687 
	`ms_c⁄n_‰ì
(
c
);

689 i‡(
ms_£âög
.
run_time
 == 0)

691 
	`±hªad_muãx_lock
(&
ms_globÆ
.
run_lock
.
lock
);

692 
ms_globÆ
.
run_lock
.
cou¡
++;

693 
	`±hªad_c⁄d_sig«l
(&
ms_globÆ
.
run_lock
.
c⁄d
);

694 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
run_lock
.
lock
);

697 i‡(
ms_thªad
->
«˘ive_c⁄n
 == 0)

699 
	`±hªad_exô
(
NULL
);

701 
	}
}

711 
	$ms_√w_sockë
(
addröfo
 *
ai
)

713 
sfd
;

715 i‡((
sfd

	`sockë
(
ai
->
ai_Ámûy
,ái->
ai_sockty≥
,ái->
ai_¥Ÿocﬁ
)) == -1)

717 
	`Ârötf
(
°dîr
, "sockë(Ëîr‹: %s.\n", 
	`°ªº‹
(
î∫o
));

721  
sfd
;

722 
	}
}

730 
	$ms_maximize_¢dbuf
(c⁄° 
sfd
)

732 
sockÀn_t
 
ötsize
= ();

733 
œ°_good
= 0;

734 
mö
, 
max
, 
avg
;

735 
ﬁd_size
;

738 i‡(
	`gësock›t
(
sfd
, 
SOL_SOCKET
, 
SO_SNDBUF
, &
ﬁd_size
, &
ötsize
) != 0)

740 
	`Ârötf
(
°dîr
, "getsockopt(SO_SNDBUF)\n");

745 
mö

ﬁd_size
;

746 
max

MAX_SENDBUF_SIZE
;

748 
mö
 <
max
)

750 
avg
(()(
mö
 + 
max
)) / 2;

751 i‡(
	`£tsock›t
(
sfd
, 
SOL_SOCKET
, 
SO_SNDBUF
, (*)&
avg
, 
ötsize
) == 0)

753 
œ°_good

avg
;

754 
mö

avg
 + 1;

758 
max

avg
 - 1;

761 ()
œ°_good
;

762 
	}
}

776 
	$ms_√tw‹k_c⁄√˘
(
ms_c⁄n_t
 *
c
,

777 *
§v_ho°_«me
,

778 c⁄° 
§v_p‹t
,

779 c⁄° 
boﬁ
 
is_udp
,

780 *
ªt_sfd
)

782 
sfd
;

783 
lögî
 
lög
=

787 
addröfo
 *
ai
;

788 
addröfo
 *
√xt
;

789 
addröfo
 
höts
;

790 
p‹t_buf
[
NI_MAXSERV
];

791 
îr‹
;

792 
suc˚ss
= 0;

794 
Êags
= 1;

800 
	`mem£t
(&
höts
, 0, (hints));

801 #ifde‡
AI_ADDRCONFIG


802 
höts
.
ai_Êags

AI_PASSIVE
 | 
AI_ADDRCONFIG
;

804 
höts
.
ai_Êags

AI_PASSIVE
;

806 i‡(
is_udp
)

808 
höts
.
ai_¥Ÿocﬁ

IPPROTO_UDP
;

809 
höts
.
ai_sockty≥

SOCK_DGRAM
;

810 
höts
.
ai_Ámûy

AF_INET
;

814 
höts
.
ai_Ámûy

AF_UNSPEC
;

815 
höts
.
ai_¥Ÿocﬁ

IPPROTO_TCP
;

816 
höts
.
ai_sockty≥

SOCK_STREAM
;

819 
	`¢¥ötf
(
p‹t_buf
, 
NI_MAXSERV
, "%d", 
§v_p‹t
);

820 
îr‹

	`gëaddröfo
(
§v_ho°_«me
, 
p‹t_buf
, &
höts
, &
ai
);

821 i‡(
îr‹
 != 0)

823 i‡(
îr‹
 !
EAI_SYSTEM
)

824 
	`Ârötf
(
°dîr
, "gëaddröfo(): %s.\n", 
	`gai_°ªº‹
(
îr‹
));

826 
	`≥º‹
("getaddrinfo()\n");

831 
√xt

ai
;Çext;Çext√xt->
ai_√xt
)

833 i‡((
sfd

	`ms_√w_sockë
(
√xt
)) == -1)

835 
	`‰ìaddröfo
(
ai
);

839 
	`£tsock›t
(
sfd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, (*)&
Êags
, (flags));

840 i‡(
is_udp
)

842 
	`ms_maximize_¢dbuf
(
sfd
);

846 
	`£tsock›t
(
sfd
, 
SOL_SOCKET
, 
SO_KEEPALIVE
, (*)&
Êags
,

847 (
Êags
));

848 
	`£tsock›t
(
sfd
, 
SOL_SOCKET
, 
SO_LINGER
, (*)&
lög
, (ling));

849 
	`£tsock›t
(
sfd
, 
IPPROTO_TCP
, 
TCP_NODELAY
, (*)&
Êags
,

850 (
Êags
));

853 i‡(
is_udp
)

855 
c
->
§v_ªcv_addr_size
(
sockaddr
);

856 
	`mem˝y
(&
c
->
§v_ªcv_addr
, 
√xt
->
ai_addr
, c->
§v_ªcv_addr_size
);

860 i‡(
	`c⁄√˘
(
sfd
, 
√xt
->
ai_addr
,Çext->
ai_addæí
) == -1)

862 
	`˛o£
(
sfd
);

863 
	`‰ìaddröfo
(
ai
);

868 i‡(((
Êags

	`f˙é
(
sfd
, 
F_GETFL
, 0)) < 0)

869 || (
	`f˙é
(
sfd
, 
F_SETFL
, 
Êags
 | 
O_NONBLOCK
) < 0))

871 
	`Ârötf
(
°dîr
, "setting O_NONBLOCK\n");

872 
	`˛o£
(
sfd
);

873 
	`‰ìaddröfo
(
ai
);

877 i‡(
ªt_sfd
 !
NULL
)

879 *
ªt_sfd

sfd
;

882 
suc˚ss
++;

885 
	`‰ìaddröfo
(
ai
);

888  
suc˚ss
 == 0;

889 
	}
}

899 
	$ms_ªc⁄n
(
ms_c⁄n_t
 *
c
)

901 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

902 
uöt32_t
 
§v_idx
= 0;

903 
uöt32_t
 
§v_c⁄n_˙t
= 0;

905 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

907 
§v_idx

c
->
cur_idx
 % 
ms_£âög
.
§v_˙t
;

908 
§v_c⁄n_˙t

ms_£âög
.
sock_≥r_c⁄n
 * ms_£âög.
nc⁄ns
;

912 
§v_idx

ms_thªad
->
thªad_˘x
->srv_idx;

913 
§v_c⁄n_˙t

ms_£âög
.
nc⁄ns
 / ms_£âög.
§v_˙t
;

917 
	`˛o£
(
c
->
sfd
);

918 
c
->
t˝sfd
[c->
cur_idx
]= 0;

920 i‡(
	`©omic_add_32_nv
(&
ms_£âög
.
£rvîs
[
§v_idx
].
disc⁄n_˙t
, 1)

921 % 
§v_c⁄n_˙t
 == 0)

923 
	`gëtimeofday
(&
ms_£âög
.
£rvîs
[
§v_idx
].
disc⁄n_time
, 
NULL
);

924 
	`Ârötf
(
°dîr
, "Server %s:%d disconnect\n",

925 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

926 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
);

929 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

931 
uöt32_t
 
i
= 0;

933 
i
0; i < 
c
->
tŸÆ_sfds
; i++)

935 i‡(
c
->
t˝sfd
[
i
] != 0)

942 i‡(
i
 =
c
->
tŸÆ_sfds
)

952 i‡(
	`ms_√tw‹k_c⁄√˘
(
c
, 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

953 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
,

954 
ms_£âög
.
udp
, &
c
->
sfd
) == 0)

956 
c
->
t˝sfd
[c->
cur_idx
]c->
sfd
;

957 i‡(
	`©omic_add_32_nv
(&
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_˙t
, 1)

958 % (
uöt32_t
)
§v_c⁄n_˙t
 == 0)

960 
	`gëtimeofday
(&
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_time
, 
NULL
);

961 
ªc⁄n_time
=

962 ()(
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_time
.
tv_£c


963 - 
ms_£âög
.
£rvîs
[
§v_idx
].
disc⁄n_time


964 .
tv_£c
);

965 
	`Ârötf
(
°dîr
, "Server %s:%dÑeconnectáfter %ds\n",

966 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

967 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
, 
ªc⁄n_time
);

972 i‡(
ms_£âög
.
ªp_wrôe_§v
 =0 && 
c
->
tŸÆ_sfds
 > 0)

975 
	`¶ìp
(1);

978 
ms_£âög
.
ªp_wrôe_§v
 =0 && 
c
->
tŸÆ_sfds
 > 0);

981 i‡((
c
->
tŸÆ_sfds
 > 1Ë&& (c->
t˝sfd
[c->
cur_idx
] == 0))

983 
c
->
sfd
= 0;

984 
c
->
Æive_sfds
--;

987  
EXIT_SUCCESS
;

988 
	}
}

1001 
	$ms_ªc⁄n_socks
(
ms_c⁄n_t
 *
c
)

1003 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

1004 
uöt32_t
 
§v_idx
= 0;

1005 
ªt_sfd
= 0;

1006 
uöt32_t
 
§v_c⁄n_˙t
= 0;

1007 
timevÆ
 
cur_time
;

1009 
	`as£π
(
c
 !
NULL
);

1011 i‡((
c
->
tŸÆ_sfds
 =1Ë|| (c->tŸÆ_sfd†=c->
Æive_sfds
))

1013  
EXIT_SUCCESS
;

1016 
uöt32_t
 
i
0; i < 
c
->
tŸÆ_sfds
; i++)

1018 i‡(
c
->
t˝sfd
[
i
] == 0)

1020 
	`gëtimeofday
(&
cur_time
, 
NULL
);

1028 i‡(
cur_time
.
tv_£c


1029 - 
ms_£âög
.
£rvîs
[
§v_idx
].
disc⁄n_time
.
tv_£c
 < 5)

1034 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

1036 
§v_idx

i
 % 
ms_£âög
.
§v_˙t
;

1037 
§v_c⁄n_˙t

ms_£âög
.
sock_≥r_c⁄n
 * ms_£âög.
nc⁄ns
;

1041 
§v_idx

ms_thªad
->
thªad_˘x
->srv_idx;

1042 
§v_c⁄n_˙t

ms_£âög
.
nc⁄ns
 / ms_£âög.
§v_˙t
;

1045 i‡(
	`ms_√tw‹k_c⁄√˘
(
c
, 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

1046 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
,

1047 
ms_£âög
.
udp
, &
ªt_sfd
) == 0)

1049 
c
->
t˝sfd
[
i
]
ªt_sfd
;

1050 
c
->
Æive_sfds
++;

1052 i‡(
	`©omic_add_32_nv
(&
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_˙t
, 1)

1053 % (
uöt32_t
)
§v_c⁄n_˙t
 == 0)

1055 
	`gëtimeofday
(&
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_time
, 
NULL
);

1056 
ªc⁄n_time
=

1057 ()(
ms_£âög
.
£rvîs
[
§v_idx
].
ªc⁄n_time
.
tv_£c


1058 - 
ms_£âög
.
£rvîs
[
§v_idx
].
disc⁄n_time


1059 .
tv_£c
);

1060 
	`Ârötf
(
°dîr
, "Server %s:%dÑeconnectáfter %ds\n",

1061 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_ho°_«me
,

1062 
ms_£âög
.
£rvîs
[
§v_idx
].
§v_p‹t
, 
ªc⁄n_time
);

1068  
EXIT_SUCCESS
;

1069 
	}
}

1095 
	$ms_tokíize_comm™d
(*
comm™d
,

1096 
tokí_t
 *
tokís
,

1097 c⁄° 
max_tokís
)

1099 *
s
, *
e
;

1100 
¡okís
= 0;

1102 
	`as£π
(
comm™d
 !
NULL
 && 
tokís
 !NULL && 
max_tokís
 > 1);

1104 
s

e

comm™d
; 
¡okís
 < 
max_tokís
 - 1; ++e)

1106 i‡(*
e
 == ' ')

1108 i‡(
s
 !
e
)

1110 
tokís
[
¡okís
].
vÆue

s
;

1111 
tokís
[
¡okís
].
Àngth
(
size_t
)(
e
 - 
s
);

1112 
¡okís
++;

1113 *
e
= '\0';

1115 
s

e
 + 1;

1117 i‡(*
e
 == '\0')

1119 i‡(
s
 !
e
)

1121 
tokís
[
¡okís
].
vÆue

s
;

1122 
tokís
[
¡okís
].
Àngth
(
size_t
)(
e
 - 
s
);

1123 
¡okís
++;

1130  
¡okís
;

1131 
	}
}

1143 
	$ms_ascii_¥o˚ss_löe
(
ms_c⁄n_t
 *
c
, *
comm™d
)

1145 
ªt
= 0;

1146 
öt64_t
 
vÆue_Àn
;

1147 *
buf„r

comm™d
;

1149 
	`as£π
(
c
 !
NULL
);

1156 
buf„r
[0])

1159 i‡(
buf„r
[1] == 'A')

1161 
tokí_t
 
tokís
[
MAX_TOKENS
];

1162 
	`ms_tokíize_comm™d
(
comm™d
, 
tokís
, 
MAX_TOKENS
);

1163 
î∫o
= 0;

1164 
vÆue_Àn

	`°πﬁ
(
tokís
[
VALUELEN_TOKEN
].
vÆue
, 
NULL
, 10);

1165 i‡(
î∫o
 != 0)

1167 
	`¥ötf
("<%d ERROR %s\n", 
c
->
sfd
, 
	`°ªº‹
(
î∫o
));

1169 
c
->
cuºcmd
.
key_¥efix
*(
uöt64_t
 *)
tokís
[
KEY_TOKEN
].
vÆue
;

1178 
c
->
rvbyãs
()(
vÆue_Àn
 + 2);

1179 
c
->
ªadvÆ

åue
;

1180 
ªt
= -1;

1186 
c
->
cuºcmd
.
ªt°©

MCD_SUCCESS
;

1189 i‡(
buf„r
[2] == 'A')

1191 
c
->
cuºcmd
.
ªt°©

MCD_STAT
;

1193 i‡(
buf„r
[1] == 'E')

1196 
	`¥ötf
("<%d %s\n", 
c
->
sfd
, 
buf„r
);

1198 
c
->
cuºcmd
.
ªt°©

MCD_SERVER_ERROR
;

1200 i‡(
buf„r
[1] == 'T')

1203 
c
->
cuºcmd
.
ªt°©

MCD_STORED
;

1207 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

1212 i‡(
buf„r
[1] == 'E')

1214 
c
->
cuºcmd
.
ªt°©

MCD_DELETED
;

1218 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

1224 i‡(
buf„r
[4] == 'F')

1226 
c
->
cuºcmd
.
ªt°©

MCD_NOTFOUND
;

1228 i‡(
buf„r
[4] == 'S')

1230 
	`¥ötf
("<%d %s\n", 
c
->
sfd
, 
buf„r
);

1231 
c
->
cuºcmd
.
ªt°©

MCD_NOTSTORED
;

1235 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

1240 i‡(
buf„r
[1] == 'N')

1243 
c
->
cuºcmd
.
ªt°©

MCD_END
;

1245 i‡(
buf„r
[1] == 'R')

1247 
	`¥ötf
("<%d ERROR\n", 
c
->
sfd
);

1248 
c
->
cuºcmd
.
ªt°©

MCD_PROTOCOL_ERROR
;

1250 i‡(
buf„r
[1] == 'X')

1252 
c
->
cuºcmd
.
ªt°©

MCD_DATA_EXISTS
;

1253 
	`¥ötf
("<%d %s\n", 
c
->
sfd
, 
buf„r
);

1257 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

1262 
	`¥ötf
("<%d %s\n", 
c
->
sfd
, 
buf„r
);

1263 
c
->
cuºcmd
.
ªt°©

MCD_CLIENT_ERROR
;

1267 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

1271  
ªt
;

1272 
	}
}

1281 
	$ms_ª£t_c⁄n
(
ms_c⁄n_t
 *
c
, 
boﬁ
 
timeout
)

1283 
	`as£π
(
c
 !
NULL
);

1285 i‡(
c
->
udp
)

1287 i‡((
c
->
∑ckës
 > 0Ë&& (c->∑ckë†< 
MAX_UDP_PACKET
))

1289 
	`mem£t
(
c
->
udµkt
, 0, (
ms_udµkt_t
Ë* (
size_t
)c->
∑ckës
);

1292 
c
->
∑ckës
= 0;

1293 
c
->
ªcvpkt
= 0;

1294 
c
->
pktcuº
= 0;

1295 
c
->
‹dcuº
= 0;

1296 
c
->
rudpbyãs
= 0;

1298 
c
->
cuºcmd
.
isföish

åue
;

1299 
c
->
˘nwrôe

Ál£
;

1300 
c
->
rbyãs
= 0;

1301 
c
->
rcuº
c->
rbuf
;

1302 
c
->
msgcuº
 = 0;

1303 
c
->
msgu£d
 = 0;

1304 
c
->
iovu£d
 = 0;

1305 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_wrôe
);

1306 
	`mem˝y
(&
c
->
¥ecmd
, &c->
cuºcmd
, (
ms_cmd°©_t
));

1308 i‡(
timeout
)

1310 
	`ms_drive_machöe
(
c
);

1312 
	}
}

1322 
	$ms_åy_ªad_löe
(
ms_c⁄n_t
 *
c
)

1324 i‡(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
)

1327 i‡((
uöt64_t
)
c
->
rbyãs
 < (c->
bö¨y_hódî
))

1330  
EXIT_SUCCESS
;

1334 #ifde‡
NEED_ALIGN


1335 i‡((()(
c
->
rcuº
)) % 8 != 0)

1338 
	`memmove
(
c
->
rbuf
, c->
rcuº
, c->
rbyãs
);

1339 
c
->
rcuº
c->
rbuf
;

1340 i‡(
£âögs
.
vîbo£
)

1342 
	`Ârötf
(
°dîr
, "%d: Rólig¿öpuàbuf„r.\n", 
c
->
sfd
);

1346 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *
r•
;

1347 
r•
(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *)
c
->
rcuº
;

1349 
c
->
bö¨y_hódî
*
r•
;

1350 
c
->
bö¨y_hódî
.
ª•⁄£
.
exéí

r•
->response.extlen;

1351 
c
->
bö¨y_hódî
.
ª•⁄£
.
keyÀn

	`¡ohs
(
r•
->response.keylen);

1352 
c
->
bö¨y_hódî
.
ª•⁄£
.
bodyÀn

	`¡ohl
(
r•
->response.bodylen);

1353 
c
->
bö¨y_hódî
.
ª•⁄£
.
°©us

	`¡ohs
(
r•
->response.status);

1355 i‡(
c
->
bö¨y_hódî
.
ª•⁄£
.
magic
 !
PROTOCOL_BINARY_RES
)

1357 
	`Ârötf
(
°dîr
, "Invalid magic: %x\n",

1358 
c
->
bö¨y_hódî
.
ª•⁄£
.
magic
);

1359 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

1360  
EXIT_SUCCESS
;

1364 i‡(
	`ms_bö_¥o˚ss_ª•⁄£
(
c
) == 0)

1367 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

1372 
c
->
rbyãs
-(
öt32_t
)(c->
bö¨y_hódî
);

1373 
c
->
rcuº
+(c->
bö¨y_hódî
);

1379 *
ñ
, *
c⁄t
;

1381 
	`as£π
(
c
 !
NULL
);

1382 
	`as£π
(
c
->
rcuº
 <(c->
rbuf
 + c->
rsize
));

1384 i‡(
c
->
rbyãs
 == 0)

1385  
EXIT_SUCCESS
;

1387 
ñ

	`memchr
(
c
->
rcuº
, '\n', (
size_t
)c->
rbyãs
);

1388 i‡(! 
ñ
)

1389  
EXIT_SUCCESS
;

1391 
c⁄t

ñ
 + 1;

1392 i‡(((
ñ
 - 
c
->
rcuº
) > 1) && (*(el - 1) == '\r'))

1394 
ñ
--;

1396 *
ñ
= '\0';

1398 
	`as£π
(
c⁄t
 <(
c
->
rcuº
 + c->
rbyãs
));

1401 i‡(
	`ms_ascii_¥o˚ss_löe
(
c
, c->
rcuº
) == 0)

1404 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

1410 
c
->
rbyãs
-(
öt32_t
)(
c⁄t
 - c->
rcuº
);

1411 
c
->
rcuº

c⁄t
;

1414 
	`as£π
(
c
->
rcuº
 <(c->
rbuf
 + c->
rsize
));

1418 
	}
}

1432 
	$ms_s‹t_udp_∑ckë
(
ms_c⁄n_t
 *
c
, *
buf
, 
rbyãs
)

1434 
Àn
= 0;

1435 
wbyãs
= 0;

1436 
uöt16_t
 
ªq_id
= 0;

1437 
uöt16_t
 
£q_num
= 0;

1438 
uöt16_t
 
∑ckës
= 0;

1439 *
hódî

NULL
;

1442 
	`as£π
(
c
 !
NULL
);

1443 
	`as£π
(
buf
 !
NULL
);

1444 
	`as£π
(
c
->
rudpbyãs
 >
UDP_HEADER_SIZE
);

1447 i‡(
c
->
rudpbyãs
 % 
UDP_MAX_PAYLOAD_SIZE
 >
UDP_HEADER_SIZE
)

1450 
c
->
ªcvpkt
c->
rudpbyãs
 / 
UDP_MAX_PAYLOAD_SIZE
 + 1;

1454 
c
->
ªcvpkt
c->
rudpbyãs
 / 
UDP_MAX_PAYLOAD_SIZE
;

1458 i‡(
c
->
∑ckës
 == 0)

1460 
c
->
∑ckës

	`HEADER_TO_PACKETS
((*)c->
rudpbuf
);

1464 
i

c
->
pktcuº
; i < c->
ªcvpkt
; i++)

1466 
hódî
(*)
c
->
rudpbuf
 + 
i
 * 
UDP_MAX_PAYLOAD_SIZE
;

1467 
ªq_id
(
uöt16_t
)
	`HEADER_TO_REQID
(
hódî
);

1468 
	`as£π
(
ªq_id
 =
c
->
ªque°_id
 % (1 << 16));

1470 
∑ckës
(
uöt16_t
)
	`HEADER_TO_PACKETS
(
hódî
);

1471 
	`as£π
(
c
->
∑ckës
 =
	`HEADER_TO_PACKETS
(
hódî
));

1473 
£q_num
(
uöt16_t
)
	`HEADER_TO_SEQNUM
(
hódî
);

1474 
c
->
udµkt
[
£q_num
].
hódî
= header;

1475 
c
->
udµkt
[
£q_num
].
d©a
(*)
hódî
 + 
UDP_HEADER_SIZE
;

1477 i‡(
i
 =
c
->
ªcvpkt
 - 1)

1480 i‡(
c
->
rudpbyãs
 % 
UDP_MAX_PAYLOAD_SIZE
 == 0)

1482 
c
->
udµkt
[
£q_num
].
rbyãs

UDP_MAX_PAYLOAD_SIZE
 - 
UDP_HEADER_SIZE
;

1483 
c
->
pktcuº
++;

1487 
c
->
udµkt
[
£q_num
].
rbyãs
c->
rudpbyãs
 % 
UDP_MAX_PAYLOAD_SIZE


1488 - 
UDP_HEADER_SIZE
;

1493 
c
->
udµkt
[
£q_num
].
rbyãs

UDP_MAX_PAYLOAD_SIZE
 - 
UDP_HEADER_SIZE
;

1494 
c
->
pktcuº
++;

1498 
i

c
->
‹dcuº
; i < c->
ªcvpkt
; i++)

1501 i‡((
c
->
udµkt
[
i
].
d©a
 !
NULL
)

1502 && (
c
->
udµkt
[
i
].
c›ybyãs
 < c->udµkt[i].
rbyãs
))

1504 
hódî

c
->
udµkt
[
i
].header;

1505 
Àn

c
->
udµkt
[
i
].
rbyãs
 - c->udµkt[i].
c›ybyãs
;

1506 i‡(
Àn
 > 
rbyãs
 - 
wbyãs
)

1508 
Àn

rbyãs
 - 
wbyãs
;

1511 
	`as£π
(
Àn
 <
rbyãs
 - 
wbyãs
);

1512 
	`as£π
(
i
 =
	`HEADER_TO_SEQNUM
(
hódî
));

1514 
	`mem˝y
(
buf
 + 
wbyãs
, 
c
->
udµkt
[
i
].
d©a
 + c->udµkt[i].
c›ybyãs
,

1515 (
size_t
)
Àn
);

1516 
wbyãs
+
Àn
;

1517 
c
->
udµkt
[
i
].
c›ybyãs
+
Àn
;

1519 i‡((
c
->
udµkt
[
i
].
c›ybyãs
 =c->udµkt[i].
rbyãs
)

1520 && (
c
->
udµkt
[
i
].
rbyãs
 =
UDP_MAX_PAYLOAD_SIZE
 - 
UDP_HEADER_SIZE
))

1523 
c
->
‹dcuº
++;

1527 i‡((
c
->
ªcvpkt
 =c->
∑ckës
Ë&& (
i
 == c->recvpkt - 1)

1528 && (
c
->
udµkt
[
i
].
c›ybyãs
 =c->udµkt[i].
rbyãs
))

1534 i‡(
wbyãs
 >
rbyãs
)

1540 i‡((
i
 !
c
->
ªcvpkt
 - 1)

1541 && (
c
->
udµkt
[
i
].
rbyãs
 < 
UDP_MAX_PAYLOAD_SIZE
 - 
UDP_HEADER_SIZE
))

1552 ()
∑ckës
;

1554  
wbyãs
 == 0 ? -1 : wbytes;

1555 
	}
}

1568 
	$ms_udp_ªad
(
ms_c⁄n_t
 *
c
, *
buf
, 
Àn
)

1570 
ªs
= 0;

1571 
avaû
= 0;

1572 
rbyãs
= 0;

1573 
c›ybyãs
= 0;

1575 
	`as£π
(
c
->
udp
);

1579 i‡(
c
->
rudpbyãs
 + 
UDP_MAX_PAYLOAD_SIZE
 > c->
rudpsize
)

1581 *
√w_rbuf

	`ªÆloc
(
c
->
rudpbuf
, (
size_t
)c->
rudpsize
 * 2);

1582 i‡(! 
√w_rbuf
)

1584 
	`Ârötf
(
°dîr
, "Couldn'tÑealloc input buffer.\n");

1585 
c
->
rudpbyãs
= 0;

1588 
c
->
rudpbuf

√w_rbuf
;

1589 
c
->
rudpsize
*= 2;

1592 
avaû

c
->
rudpsize
 - c->
rudpbyãs
;

1594 
ªs
()
	`ªad
(
c
->
sfd
, c->
rudpbuf
 + c->
rudpbyãs
, (
size_t
)
avaû
);

1596 i‡(
ªs
 > 0)

1598 
	`©omic_add_size
(&
ms_°©s
.
byãs_ªad
, 
ªs
);

1599 
c
->
rudpbyãs
+
ªs
;

1600 
rbyãs
+
ªs
;

1601 i‡(
ªs
 =
avaû
)

1611 i‡(
ªs
 == 0)

1614  
ªs
;

1617 i‡(
ªs
 == -1)

1620  
ªs
;

1625 i‡(
rbyãs
 > 0)

1627 
c›ybyãs

	`ms_s‹t_udp_∑ckë
(
c
, 
buf
, 
Àn
);

1630 i‡(
c›ybyãs
 == -1)

1632 
	`©omic_add_size
(&
ms_°©s
.
pkt_dis‹dî
, 1);

1635  
c›ybyãs
;

1636 
	}
}

1659 
	$ms_åy_ªad_√tw‹k
(
ms_c⁄n_t
 *
c
)

1661 
gŸd©a
= 0;

1662 
ªs
;

1663 
öt64_t
 
avaû
;

1665 
	`as£π
(
c
 !
NULL
);

1667 i‡((
c
->
rcuº
 !c->
rbuf
)

1668 && (! 
c
->
ªadvÆ
 || (c->
rvbyãs
 > c->
rsize
 - (c->
rcuº
 - c->
rbuf
))

1669 || (
c
->
ªadvÆ
 && (c->
rcuº
 - c->
rbuf
 > c->
rbyãs
))))

1671 i‡(
c
->
rbyãs
 != 0)

1672 
	`memmove
(
c
->
rbuf
, c->
rcuº
, (
size_t
)c->
rbyãs
);

1673 
c
->
rcuº
c->
rbuf
;

1678 i‡(
c
->
rbyãs
 >c->
rsize
)

1680 *
√w_rbuf

	`ªÆloc
(
c
->
rbuf
, (
size_t
)c->
rsize
 * 2);

1681 i‡(! 
√w_rbuf
)

1683 
	`Ârötf
(
°dîr
, "Couldn'tÑealloc input buffer.\n");

1684 
c
->
rbyãs
= 0;

1687 
c
->
rcuº
c->
rbuf

√w_rbuf
;

1688 
c
->
rsize
*= 2;

1691 
avaû

c
->
rsize
 - c->
rbyãs
 - (c->
rcuº
 - c->
rbuf
);

1692 i‡(
avaû
 == 0)

1697 i‡(
c
->
udp
)

1699 
ªs
(
öt32_t
)
	`ms_udp_ªad
(
c
, c->
rcuº
 + c->
rbyãs
, (öt32_t)
avaû
);

1703 
ªs
()
	`ªad
(
c
->
sfd
, c->
rcuº
 + c->
rbyãs
, (
size_t
)
avaû
);

1706 i‡(
ªs
 > 0)

1708 i‡(! 
c
->
udp
)

1710 
	`©omic_add_size
(&
ms_°©s
.
byãs_ªad
, 
ªs
);

1712 
gŸd©a
= 1;

1713 
c
->
rbyãs
+
ªs
;

1714 i‡(
ªs
 =
avaû
)

1723 i‡(
ªs
 == 0)

1726 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

1729 i‡(
ªs
 == -1)

1731 i‡((
î∫o
 =
EAGAIN
Ë|| (î∫ÿ=
EWOULDBLOCK
))

1734 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

1739  
gŸd©a
;

1740 
	}
}

1752 
	$ms_vîify_vÆue
(
ms_c⁄n_t
 *
c
,

1753 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem
,

1754 *
vÆue
,

1755 
vÀn
)

1757 i‡(
c
->
cuº_èsk
.
vîify
)

1759 
	`as£π
(
c
->
cuº_èsk
.
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
);

1760 *
‹ignvÆ
&
ms_£âög
.
ch¨_block
[
c
->
cuº_èsk
.
ôem
->
vÆue_off£t
];

1761 *
‹ignkey
=

1762 &
ms_£âög
.
ch¨_block
[
c
->
cuº_èsk
.
ôem
->
key_suffix_off£t
];

1765 i‡(
c
->
cuº_èsk
.
ôem
->
exp_time
 > 0)

1767 
timevÆ
 
cuº_time
;

1768 
	`gëtimeofday
(&
cuº_time
, 
NULL
);

1771 i‡(
cuº_time
.
tv_£c
 - 
c
->
cuº_èsk
.
ôem
->
˛õ¡_time


1772 > 
c
->
cuº_èsk
.
ôem
->
exp_time
 + 
EXPIRE_TIME_ERROR
)

1774 
	`©omic_add_size
(&
ms_°©s
.
exp_gë
, 1);

1776 i‡(
ms_£âög
.
vîbo£
)

1778 
£t_time
[64];

1779 
cur_time
[64];

1780 
	`°r·ime
(
£t_time
, 64, "%Y-%m-%d %H:%M:%S",

1781 
	`loˇ…ime
(&
c
->
cuº_èsk
.
ôem
->
˛õ¡_time
));

1782 
	`°r·ime
(
cur_time
, 64, "%Y-%m-%d %H:%M:%S",

1783 
	`loˇ…ime
(&
cuº_time
.
tv_£c
));

1784 
	`Ârötf
(
°dîr
,

1788 "\tkey: %" 
PRIx64
 " %.*s\n"

1794 
c
->
sfd
,

1795 
c
->
cuº_èsk
.
ôem
->
key_size
,

1796 
c
->
cuº_èsk
.
ôem
->
key_¥efix
,

1797 
c
->
cuº_èsk
.
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

1798 
‹ignkey
,

1799 
£t_time
,

1800 
cur_time
,

1801 ()(
cuº_time
.
tv_£c
 - 
c
->
cuº_èsk
.
ôem
->
˛õ¡_time
),

1802 
c
->
cuº_èsk
.
ôem
->
exp_time
,

1803 
vÀn
,

1804 
vÀn
,

1805 
vÆue
);

1806 
	`fÊush
(
°dîr
);

1812 i‡((
c
->
cuº_èsk
.
ôem
->
vÆue_size
 !
vÀn
)

1813 || (
	`memcmp
(
‹ignvÆ
, 
vÆue
, (
size_t
)
vÀn
) != 0))

1815 
	`©omic_add_size
(&
ms_°©s
.
vef_Áûed
, 1);

1817 i‡(
ms_£âög
.
vîbo£
)

1819 
	`Ârötf
(
°dîr
,

1822 "\tkey: %" 
PRIx64
" %.*s\n"

1827 
c
->
sfd
,

1828 
c
->
cuº_èsk
.
ôem
->
key_size
,

1829 
c
->
cuº_èsk
.
ôem
->
key_¥efix
,

1830 
c
->
cuº_èsk
.
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

1831 
‹ignkey
,

1832 
c
->
cuº_èsk
.
ôem
->
vÆue_size
,

1833 
c
->
cuº_èsk
.
ôem
->
vÆue_size
,

1834 
‹ignvÆ
,

1835 
vÀn
,

1836 
vÀn
,

1837 
vÆue
);

1838 
	`fÊush
(
°dîr
);

1843 
c
->
cuº_èsk
.
föish_vîify

åue
;

1845 i‡(
mlgë_ôem
 !
NULL
)

1847 
mlgë_ôem
->
föish_vîify

åue
;

1850 
	}
}

1859 
	$ms_ascii_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
)

1861 
	`as£π
(
c
 !
NULL
);

1862 
	`as£π
(
c
->
rbyãs
 >c->
rvbyãs
);

1863 
	`as£π
(
c
->
¥Ÿocﬁ
 =
ascii_¥Ÿ
);

1864 i‡(
c
->
rvbyãs
 > 2)

1866 
	`as£π
(

1867 
c
->
rcuº
[c->
rvbyãs
 - 1] == '\n' && c->rcurr[c->rvbytes - 2] == '\r');

1871 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem

NULL
;

1872 i‡(((
ms_£âög
.
mu…_key_num
 > 1)

1873 && (
c
->
mlgë_èsk
.
mlgë_num
 >
ms_£âög
.
mu…_key_num
))

1874 || ((
c
->
ªmaö_exec_num
 =0Ë&& (c->
mlgë_èsk
.
mlgë_num
 > 0)))

1876 
c
->
mlgë_èsk
.
vÆue_ödex
++;

1877 
mlgë_ôem
&
c
->
mlgë_èsk
.mlgë_ôem[c->mlgë_èsk.
vÆue_ödex
];

1879 i‡(
mlgë_ôem
->
ôem
->
key_¥efix
 =
c
->
cuºcmd
.key_prefix)

1881 
c
->
cuº_èsk
.
ôem

mlgë_ôem
->item;

1882 
c
->
cuº_èsk
.
vîify

mlgë_ôem
->verify;

1883 
c
->
cuº_èsk
.
föish_vîify

mlgë_ôem
->finish_verify;

1884 
mlgë_ôem
->
gë_miss

Ál£
;

1889 
i
0; i < 
c
->
mlgë_èsk
.
mlgë_num
; i++)

1891 
mlgë_ôem
&
c
->
mlgë_èsk
.mlgë_ôem[
i
];

1892 i‡(
mlgë_ôem
->
ôem
->
key_¥efix
 =
c
->
cuºcmd
.key_prefix)

1894 
c
->
cuº_èsk
.
ôem

mlgë_ôem
->item;

1895 
c
->
cuº_èsk
.
vîify

mlgë_ôem
->verify;

1896 
c
->
cuº_èsk
.
föish_vîify

mlgë_ôem
->finish_verify;

1897 
mlgë_ôem
->
gë_miss

Ál£
;

1905 
	`ms_vîify_vÆue
(
c
, 
mlgë_ôem
, c->
rcuº
, c->
rvbyãs
 - 2);

1907 
c
->
cuº_èsk
.
gë_miss

Ál£
;

1908 
c
->
rbyãs
-c->
rvbyãs
;

1909 
c
->
rcuº
c->rcuº + c->
rvbyãs
;

1910 
	`as£π
(
c
->
rcuº
 <(c->
rbuf
 + c->
rsize
));

1911 
c
->
ªadvÆ

Ál£
;

1912 
c
->
rvbyãs
= 0;

1913 
	}
}

1922 
	$ms_bö_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
)

1924 
	`as£π
(
c
 !
NULL
);

1925 
	`as£π
(
c
->
rbyãs
 >c->
rvbyãs
);

1926 
	`as£π
(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
);

1928 
exéí

c
->
bö¨y_hódî
.
ª•⁄£
.extlen;

1929 
keyÀn

c
->
bö¨y_hódî
.
ª•⁄£
.keylen;

1930 
uöt8_t
 
›code

c
->
bö¨y_hódî
.
ª•⁄£
.opcode;

1933 i‡(((
›code
 !
PROTOCOL_BINARY_CMD_GET
)

1934 && (
›code
 !
PROTOCOL_BINARY_CMD_GETQ
))

1935 || (
c
->
rvbyãs
 <
exéí
 + 
keyÀn
))

1938 i‡(
c
->
bö¨y_hódî
.
ª•⁄£
.
›code
 =
PROTOCOL_BINARY_CMD_GET
)

1940 
c
->
cuºcmd
.
ªt°©

MCD_END
;

1941 
c
->
cuº_èsk
.
gë_miss

åue
;

1944 
c
->
ªadvÆ

Ál£
;

1945 
c
->
rvbyãs
= 0;

1946 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

1951 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem

NULL
;

1952 i‡(((
ms_£âög
.
mu…_key_num
 > 1)

1953 && (
c
->
mlgë_èsk
.
mlgë_num
 >
ms_£âög
.
mu…_key_num
))

1954 || ((
c
->
ªmaö_exec_num
 =0Ë&& (c->
mlgë_èsk
.
mlgë_num
 > 0)))

1956 
c
->
mlgë_èsk
.
vÆue_ödex
++;

1957 
mlgë_ôem
&
c
->
mlgë_èsk
.mlgë_ôem[c->mlgë_èsk.
vÆue_ödex
];

1959 
c
->
cuº_èsk
.
ôem

mlgë_ôem
->item;

1960 
c
->
cuº_èsk
.
vîify

mlgë_ôem
->verify;

1961 
c
->
cuº_èsk
.
föish_vîify

mlgë_ôem
->finish_verify;

1962 
mlgë_ôem
->
gë_miss

Ál£
;

1965 
	`ms_vîify_vÆue
(
c
,

1966 
mlgë_ôem
,

1967 
c
->
rcuº
 + 
exéí
 + 
keyÀn
,

1968 
c
->
rvbyãs
 - 
exéí
 - 
keyÀn
);

1970 
c
->
cuºcmd
.
ªt°©

MCD_END
;

1971 
c
->
cuº_èsk
.
gë_miss

Ál£
;

1972 
c
->
rbyãs
-c->
rvbyãs
;

1973 
c
->
rcuº
c->rcuº + c->
rvbyãs
;

1974 
	`as£π
(
c
->
rcuº
 <(c->
rbuf
 + c->
rsize
));

1975 
c
->
ªadvÆ

Ál£
;

1976 
c
->
rvbyãs
= 0;

1978 i‡(
ms_£âög
.
mu…_key_num
 > 1)

1981 i‡(
c
->
mlgë_èsk
.
vÆue_ödex
 =c->mlgë_èsk.
mlgë_num
 - 1)

1983 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

1989 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

1991 
	}
}

1999 
	$ms_com∂ëe_ƒód
(
ms_c⁄n_t
 *
c
)

2001 
	`as£π
(
c
 !
NULL
);

2002 
	`as£π
(
c
->
rbyãs
 >c->
rvbyãs
);

2003 
	`as£π
(
c
->
¥Ÿocﬁ
 =
ascii_¥Ÿ


2004 || 
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
);

2006 i‡(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
)

2008 
	`ms_bö_com∂ëe_ƒód
(
c
);

2012 
	`ms_ascii_com∂ëe_ƒód
(
c
);

2014 
	}
}

2024 
	$ms_add_msghdr
(
ms_c⁄n_t
 *
c
)

2026 
msghdr
 *
msg
;

2028 
	`as£π
(
c
 !
NULL
);

2030 i‡(
c
->
msgsize
 =c->
msgu£d
)

2032 
msg
=

2033 
	`ªÆloc
(
c
->
msgli°
, (
size_t
)c->
msgsize
 * 2 * (
msghdr
));

2034 i‡(! 
msg
)

2037 
c
->
msgli°

msg
;

2038 
c
->
msgsize
*= 2;

2041 
msg

c
->
msgli°
 + c->
msgu£d
;

2047 
	`mem£t
(
msg
, 0, (
msghdr
));

2049 
msg
->
msg_iov
&
c
->
iov
[c->
iovu£d
];

2051 i‡(
c
->
udp
 && (c->
§v_ªcv_addr_size
 > 0))

2053 
msg
->
msg_«me
&
c
->
§v_ªcv_addr
;

2054 
msg
->
msg_«mñí

c
->
§v_ªcv_addr_size
;

2057 
c
->
msgbyãs
= 0;

2058 
c
->
msgu£d
++;

2060 i‡(
c
->
udp
)

2063  
	`ms_add_iov
(
c
, 
NULL
, 
UDP_HEADER_SIZE
);

2066  
EXIT_SUCCESS
;

2067 
	}
}

2078 
	$ms_ísuª_iov_•a˚
(
ms_c⁄n_t
 *
c
)

2080 
	`as£π
(
c
 !
NULL
);

2082 i‡(
c
->
iovu£d
 >c->
iovsize
)

2084 
i
, 
iovnum
;

2085 
iovec
 *
√w_iov
(iove¯*)
	`ªÆloc
(
c
->
iov
,

2086 ((
size_t
)
c
->
iovsize


2088 * (
iovec
));

2089 i‡(! 
√w_iov
)

2092 
c
->
iov

√w_iov
;

2093 
c
->
iovsize
*= 2;

2096 
i
0, 
iovnum
0; i < 
c
->
msgu£d
; i++)

2098 
c
->
msgli°
[
i
].
msg_iov
&c->
iov
[
iovnum
];

2099 
iovnum
+()
c
->
msgli°
[
i
].
msg_iovÀn
;

2103  
EXIT_SUCCESS
;

2104 
	}
}

2117 
	$ms_add_iov
(
ms_c⁄n_t
 *
c
, c⁄° *
buf
, 
Àn
)

2119 
msghdr
 *
m
;

2120 
À·ovî
;

2121 
boﬁ
 
limô_to_mtu
;

2123 
	`as£π
(
c
 !
NULL
);

2127 
m
&
c
->
msgli°
[c->
msgu£d
 - 1];

2132 
limô_to_mtu

c
->
udp
;

2134 #ifde‡
IOV_MAX


2136 i‡((
m
->
msg_iovÀn
 =
IOV_MAX
)

2137 || (
limô_to_mtu
 && (
c
->
msgbyãs
 >
UDP_MAX_SEND_PAYLOAD_SIZE
)))

2139 
	`ms_add_msghdr
(
c
);

2140 
m
&
c
->
msgli°
[c->
msgu£d
 - 1];

2144 i‡(
	`ms_ísuª_iov_•a˚
(
c
) != 0)

2148 i‡(
limô_to_mtu
 && (
Àn
 + 
c
->
msgbyãs
 > 
UDP_MAX_SEND_PAYLOAD_SIZE
))

2150 
À·ovî

Àn
 + 
c
->
msgbyãs
 - 
UDP_MAX_SEND_PAYLOAD_SIZE
;

2151 
Àn
-
À·ovî
;

2155 
À·ovî
= 0;

2158 
m
&
c
->
msgli°
[c->
msgu£d
 - 1];

2159 
m
->
msg_iov
[m->
msg_iovÀn
].
iov_ba£
(*)
buf
;

2160 
m
->
msg_iov
[m->
msg_iovÀn
].
iov_Àn
(
size_t
)
Àn
;

2162 
c
->
msgbyãs
+
Àn
;

2163 
c
->
iovu£d
++;

2164 
m
->
msg_iovÀn
++;

2166 
buf
((*)bufË+ 
Àn
;

2167 
Àn

À·ovî
;

2169 
À·ovî
 > 0);

2171  
EXIT_SUCCESS
;

2172 
	}
}

2182 
	$ms_buûd_udp_hódîs
(
ms_c⁄n_t
 *
c
)

2184 
i
;

2185 *
hdr
;

2187 
	`as£π
(
c
 !
NULL
);

2189 
c
->
ªque°_id

	`ms_gë_udp_ªque°_id
();

2191 i‡(
c
->
msgu£d
 > c->
hdrsize
)

2193 *
√w_hdrbuf
;

2194 i‡(
c
->
hdrbuf
)

2195 
√w_hdrbuf

	`ªÆloc
(
c
->
hdrbuf
,

2196 (
size_t
)
c
->
msgu£d
 * 2 * 
UDP_HEADER_SIZE
);

2198 
√w_hdrbuf

	`mÆloc
((
size_t
)
c
->
msgu£d
 * 2 * 
UDP_HEADER_SIZE
);

2199 i‡(! 
√w_hdrbuf
)

2202 
c
->
hdrbuf
(*)
√w_hdrbuf
;

2203 
c
->
hdrsize
c->
msgu£d
 * 2;

2207 i‡(
c
->
udp
 && (c->
msgu£d
 > 1))

2209 
	`Ârötf
(
°dîr
, "multi-packetÑequest for UDPÇot supported.\n");

2213 
hdr

c
->
hdrbuf
;

2214 
i
0; i < 
c
->
msgu£d
; i++)

2216 
c
->
msgli°
[
i
].
msg_iov
[0].
iov_ba£
(*)
hdr
;

2217 
c
->
msgli°
[
i
].
msg_iov
[0].
iov_Àn

UDP_HEADER_SIZE
;

2218 *
hdr
++()(
c
->
ªque°_id
 / 256);

2219 *
hdr
++()(
c
->
ªque°_id
 % 256);

2220 *
hdr
++()(
i
 / 256);

2221 *
hdr
++()(
i
 % 256);

2222 *
hdr
++()(
c
->
msgu£d
 / 256);

2223 *
hdr
++()(
c
->
msgu£d
 % 256);

2224 *
hdr
++= ()1;

2225 *
hdr
++= ()0;

2226 
	`as£π
(
hdr
 ==

2227 ((*)
c
->
msgli°
[
i
].
msg_iov
[0].
iov_ba£


2228 + 
UDP_HEADER_SIZE
));

2231  
EXIT_SUCCESS
;

2232 
	}
}

2245 
	$ms_å™smô
(
ms_c⁄n_t
 *
c
)

2247 
	`as£π
(
c
 !
NULL
);

2249 i‡((
c
->
msgcuº
 < c->
msgu£d
)

2250 && (
c
->
msgli°
[c->
msgcuº
].
msg_iovÀn
 == 0))

2253 
c
->
msgcuº
++;

2256 i‡(
c
->
msgcuº
 < c->
msgu£d
)

2258 
ssize_t
 
ªs
;

2259 
msghdr
 *
m
&
c
->
msgli°
[c->
msgcuº
];

2261 
ªs

	`£ndmsg
(
c
->
sfd
, 
m
, 0);

2262 i‡(
ªs
 > 0)

2264 
	`©omic_add_size
(&
ms_°©s
.
byãs_wrôãn
, 
ªs
);

2268 
m
->
msg_iovÀn
 > 0 && 
ªs
 >(
ssize_t
)m->
msg_iov
->
iov_Àn
)

2270 
ªs
-(
ssize_t
)
m
->
msg_iov
->
iov_Àn
;

2271 
m
->
msg_iovÀn
--;

2272 
m
->
msg_iov
++;

2277 i‡(
ªs
 > 0)

2279 
m
->
msg_iov
->
iov_ba£
(*)((*)m->msg_iov->iov_ba£ + 
ªs
);

2280 
m
->
msg_iov
->
iov_Àn
-(
size_t
)
ªs
;

2282  
TRANSMIT_INCOMPLETE
;

2284 i‡((
ªs
 =-1Ë&& ((
î∫o
 =
EAGAIN
Ë|| (î∫ÿ=
EWOULDBLOCK
)))

2286 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_WRITE
 | 
EV_PERSIST
))

2288 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2289 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2290  
TRANSMIT_HARD_ERROR
;

2292  
TRANSMIT_SOFT_ERROR
;

2297 
	`Ârötf
(
°dîr
, "FailedÅo write,ándÇot dueÅo blocking.\n");

2299 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2300  
TRANSMIT_HARD_ERROR
;

2304  
TRANSMIT_COMPLETE
;

2306 
	}
}

2319 
	$ms_c⁄n_shrök
(
ms_c⁄n_t
 *
c
)

2321 
	`as£π
(
c
 !
NULL
);

2323 i‡(
c
->
udp
)

2326 i‡((
c
->
rsize
 > 
READ_BUFFER_HIGHWAT
Ë&& (c->
rbyãs
 < 
DATA_BUFFER_SIZE
))

2328 *
√wbuf
;

2330 i‡(
c
->
rcuº
 !c->
rbuf
)

2331 
	`memmove
(
c
->
rbuf
, c->
rcuº
, (
size_t
)c->
rbyãs
);

2333 
√wbuf
(*)
	`ªÆloc
((*)
c
->
rbuf
, 
DATA_BUFFER_SIZE
);

2335 i‡(
√wbuf
)

2337 
c
->
rbuf

√wbuf
;

2338 
c
->
rsize

DATA_BUFFER_SIZE
;

2340 
c
->
rcuº
c->
rbuf
;

2343 i‡(
c
->
udp
 && (c->
rudpsize
 > 
UDP_DATA_BUFFER_HIGHWAT
)

2344 && (
c
->
rudpbyãs
 + 
UDP_MAX_PAYLOAD_SIZE
 < 
UDP_DATA_BUFFER_SIZE
))

2346 *
√w_rbuf
(*)
	`ªÆloc
(
c
->
rudpbuf
, (
size_t
)c->
rudpsize
 * 2);

2347 i‡(! 
√w_rbuf
)

2349 
c
->
rudpbuf

√w_rbuf
;

2350 
c
->
rudpsize

UDP_DATA_BUFFER_SIZE
;

2355 i‡(
c
->
msgsize
 > 
MSG_LIST_HIGHWAT
)

2357 
msghdr
 *
√wbuf
(msghd∏*)
	`ªÆloc
(

2358 (*)
c
->
msgli°
,

2359 
MSG_LIST_INITIAL


2360 * (
c
->
msgli°
[0]));

2361 i‡(
√wbuf
)

2363 
c
->
msgli°

√wbuf
;

2364 
c
->
msgsize

MSG_LIST_INITIAL
;

2369 i‡(
c
->
iovsize
 > 
IOV_LIST_HIGHWAT
)

2371 
iovec
 *
√wbuf
(iove¯*)
	`ªÆloc
((*)
c
->
iov
,

2372 
IOV_LIST_INITIAL


2373 * (
c
->
iov
[0]));

2374 i‡(
√wbuf
)

2376 
c
->
iov

√wbuf
;

2377 
c
->
iovsize

IOV_LIST_INITIAL
;

2381 
	}
}

2392 
	$ms_c⁄n_£t_°©e
(
ms_c⁄n_t
 *
c
, 
°©e
)

2394 
	`as£π
(
c
 !
NULL
);

2396 i‡(
°©e
 !
c
->state)

2398 i‡(
°©e
 =
c⁄n_ªad
)

2400 
	`ms_c⁄n_shrök
(
c
);

2402 
c
->
°©e
= state;

2404 
	}
}

2417 
boﬁ
 
	$ms_upd©e_evít
(
ms_c⁄n_t
 *
c
, c⁄° 
√w_Êags
)

2419 
	`as£π
(
c
 !
NULL
);

2421 
evít_ba£
 *
ba£

c
->
evít
.
ev_ba£
;

2422 i‡((
c
->
ev_Êags
 =
√w_Êags
Ë&& (
ms_£âög
.
ªp_wrôe_§v
 == 0)

2423 && (! 
ms_£âög
.
Á˚book_ã°
 || (
c
->
tŸÆ_sfds
 == 1)))

2425  
åue
;

2428 i‡(
	`evít_dñ
(&
c
->
evít
) == -1)

2431 i‡(
	`evít_dñ
(&
c
->
evít
) == -1)

2433  
Ál£
;

2437 
	`evít_£t
(&
c
->
evít
,

2438 
c
->
sfd
,

2439 ()
√w_Êags
,

2440 
ms_evít_h™dÀr
,

2441 (*)
c
);

2442 
	`evít_ba£_£t
(
ba£
, &
c
->
evít
);

2443 
c
->
ev_Êags
()
√w_Êags
;

2445 i‡(
	`evít_add
(&
c
->
evít
, 
NULL
) == -1)

2447  
Ál£
;

2450  
åue
;

2451 
	}
}

2464 
boﬁ
 
	$ms_√ed_yõld
(
ms_c⁄n_t
 *
c
)

2466 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

2467 
öt64_t
 
çs
= 0;

2468 
öt64_t
 
time_diff
= 0;

2469 
timevÆ
 
cuº_time
;

2470 
ms_èsk_t
 *
èsk
&
c
->
cuº_èsk
;

2472 i‡(
ms_£âög
.
ex≥˘ed_çs
 > 0)

2474 
	`gëtimeofday
(&
cuº_time
, 
NULL
);

2475 
time_diff

	`ms_time_diff
(&
ms_thªad
->
°¨tup_time
, &
cuº_time
);

2476 
çs
(
öt64_t
)(((
èsk
->
gë_›t
 +Åask->
£t_›t
Ë/ (
uöt64_t
)
time_diff
) * 1000000);

2479 i‡(
çs
 > 
ms_thªad
->
thªad_˘x
->
çs_≥rc⁄n
)

2481  
åue
;

2485  
Ál£
;

2486 
	}
}

2494 
	$ms_upd©e_°¨t_time
(
ms_c⁄n_t
 *
c
)

2496 
ms_èsk_ôem_t
 *
ôem

c
->
cuº_èsk
.item;

2498 i‡((
ms_£âög
.
°©_‰eq
 > 0Ë|| 
c
->
udp


2499 || ((
c
->
cuºcmd
.
cmd
 =
CMD_SET
Ë&& (
ôem
->
exp_time
 > 0)))

2501 
	`gëtimeofday
(&
c
->
°¨t_time
, 
NULL
);

2502 i‡((
c
->
cuºcmd
.
cmd
 =
CMD_SET
Ë&& (
ôem
->
exp_time
 > 0))

2505 
ôem
->
˛õ¡_time

c
->
°¨t_time
.
tv_£c
;

2508 
	}
}

2516 
	$ms_drive_machöe
(
ms_c⁄n_t
 *
c
)

2518 
boﬁ
 
°›

Ál£
;

2520 
	`as£π
(
c
 !
NULL
);

2522 ! 
°›
)

2524 
c
->
°©e
)

2526 
c⁄n_ªad
:

2527 i‡(
c
->
ªadvÆ
)

2529 i‡(
c
->
rbyãs
 >c->
rvbyãs
)

2531 
	`ms_com∂ëe_ƒód
(
c
);

2537 i‡(
	`ms_åy_ªad_löe
(
c
) != 0)

2543 i‡(
	`ms_åy_ªad_√tw‹k
(
c
) != 0)

2549 i‡(! 
c
->
cuºcmd
.
isföish
)

2551 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_READ
 | 
EV_PERSIST
))

2553 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2554 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2557 
°›

åue
;

2562 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_wrôe
);

2563 
	`mem˝y
(&
c
->
¥ecmd
, &c->
cuºcmd
, (
ms_cmd°©_t
));

2567 
c⁄n_wrôe
:

2568 i‡(! 
c
->
˘nwrôe
 && 
	`ms_√ed_yõld
(c))

2570 
	`u¶ìp
(10);

2572 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_WRITE
 | 
EV_PERSIST
))

2574 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2575 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2578 
°›

åue
;

2582 i‡(! 
c
->
˘nwrôe
 && (
	`ms_exec_èsk
(c) != 0))

2584 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2589 i‡(! 
c
->
˘nwrôe
 || (c->
ch™ge_sfd
 && c->ctnwrite))

2591 i‡(
c
->
ch™ge_sfd
)

2593 
c
->
ch™ge_sfd

Ál£
;

2595 
	`ms_upd©e_°¨t_time
(
c
);

2599 i‡(
c
->
ch™ge_sfd
)

2601 
c
->
˘nwrôe

åue
;

2602 
°›

åue
;

2607 i‡(! 
c
->
˘nwrôe
 && (c->
msgcuº
 =c->
msgu£d
))

2609 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_WRITE
 | 
EV_PERSIST
))

2611 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2612 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2615 
°›

åue
;

2619 
	`ms_å™smô
(
c
))

2621 
TRANSMIT_COMPLETE
:

2623 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_READ
 | 
EV_PERSIST
))

2625 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2626 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2627 
c
->
˘nwrôe

Ál£
;

2630 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_ªad
);

2631 
c
->
˘nwrôe

Ál£
;

2632 
°›

åue
;

2635 
TRANSMIT_INCOMPLETE
:

2636 
c
->
˘nwrôe

åue
;

2639 
TRANSMIT_HARD_ERROR
:

2640 
c
->
˘nwrôe

Ál£
;

2643 
TRANSMIT_SOFT_ERROR
:

2644 
c
->
˘nwrôe

åue
;

2645 
°›

åue
;

2654 
c⁄n_˛osög
:

2656 i‡(
ms_£âög
.
ªc⁄√˘
 && (! 
ms_globÆ
.
time_out


2657 || ((
ms_£âög
.
run_time
 == 0)

2658 && (
c
->
ªmaö_exec_num
 > 0))))

2660 i‡(
	`ms_ªc⁄n
(
c
) != 0)

2662 
	`ms_c⁄n_˛o£
(
c
);

2663 
°›

åue
;

2667 
	`ms_ª£t_c⁄n
(
c
, 
Ál£
);

2669 i‡(
c
->
tŸÆ_sfds
 == 1)

2671 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_WRITE
 | 
EV_PERSIST
))

2673 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2674 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2683 
	`ms_c⁄n_˛o£
(
c
);

2684 
°›

åue
;

2689 
	`as£π
(0);

2692 
	}
}

2702 
	$ms_evít_h™dÀr
(c⁄° 
fd
, c⁄° 
which
, *
¨g
)

2704 
ms_c⁄n_t
 *
c
(ms_c⁄n_à*)
¨g
;

2706 
	`as£π
(
c
 !
NULL
);

2708 
c
->
which
= which;

2711 i‡(
fd
 !
c
->
sfd
)

2713 
	`Ârötf
(
°dîr
,

2715 
fd
,

2716 
c
->
sfd
);

2717 
	`ms_c⁄n_˛o£
(
c
);

2718 
	`exô
(1);

2720 
	`as£π
(
fd
 =
c
->
sfd
);

2722 
	`ms_drive_machöe
(
c
);

2725 
	}
}

2736 
uöt32_t
 
	$ms_gë_ªp_sock_ödex
(
ms_c⁄n_t
 *
c
, 
cmd
)

2738 
uöt32_t
 
sock_ödex
= 0;

2739 
uöt32_t
 
i
= 0;

2741 i‡(
c
->
tŸÆ_sfds
 == 1)

2743  
EXIT_SUCCESS
;

2746 i‡(
ms_£âög
.
ªp_wrôe_§v
 == 0)

2748  
sock_ödex
;

2753 i‡(
cmd
 =
CMD_SET
)

2755 
i
0; i < 
ms_£âög
.
ªp_wrôe_§v
; i++)

2757 i‡(
c
->
t˝sfd
[
i
] > 0)

2763 i‡(
i
 =
ms_£âög
.
ªp_wrôe_§v
)

2766 
sock_ödex
(
uöt32_t
)
	`øndom
(Ë% 
c
->
tŸÆ_sfds
;

2771 
sock_ödex
(
uöt32_t
)
	`øndom
(Ë% 
ms_£âög
.
ªp_wrôe_§v
;

2774 i‡(
cmd
 =
CMD_GET
)

2777 
sock_ödex
(
uöt32_t
)
	`øndom
(Ë% 
c
->
tŸÆ_sfds
;

2780 
c
->
t˝sfd
[
sock_ödex
] == 0);

2782  
sock_ödex
;

2783 
	}
}

2793 
uöt32_t
 
	$ms_gë_√xt_sock_ödex
(
ms_c⁄n_t
 *
c
)

2795 
uöt32_t
 
sock_ödex
= 0;

2799 
sock_ödex
(++
c
->
cur_idx
 =c->
tŸÆ_sfds
) ? 0 : c->cur_idx;

2801 
c
->
t˝sfd
[
sock_ödex
] == 0);

2803  
sock_ödex
;

2804 
	}
}

2814 
	$ms_upd©e_c⁄n_sock_evít
(
ms_c⁄n_t
 *
c
)

2816 
	`as£π
(
c
 !
NULL
);

2818 
c
->
cuºcmd
.
cmd
)

2820 
CMD_SET
:

2821 i‡(
ms_£âög
.
Á˚book_ã°
 && 
c
->
udp
)

2823 
c
->
sfd
c->
t˝sfd
[0];

2824 
c
->
udp

Ál£
;

2825 
c
->
ch™ge_sfd

åue
;

2829 
CMD_GET
:

2830 i‡(
ms_£âög
.
Á˚book_ã°
 && ! 
c
->
udp
)

2832 
c
->
sfd
c->
udpsfd
;

2833 
c
->
udp

åue
;

2834 
c
->
ch™ge_sfd

åue
;

2842 i‡(! 
c
->
udp
 && (c->
tŸÆ_sfds
 > 1))

2844 i‡(
c
->
cur_idx
 !c->
tŸÆ_sfds
)

2846 i‡(
ms_£âög
.
ªp_wrôe_§v
 == 0)

2848 
c
->
cur_idx

	`ms_gë_√xt_sock_ödex
(c);

2852 
c
->
cur_idx

	`ms_gë_ªp_sock_ödex
(c, c->
cuºcmd
.
cmd
);

2858 
c
->
cur_idx
= 0;

2861 
c
->
sfd
c->
t˝sfd
[c->
cur_idx
];

2862 
	`as£π
(
c
->
sfd
 != 0);

2863 
c
->
ch™ge_sfd

åue
;

2866 i‡(
c
->
ch™ge_sfd
)

2868 i‡(! 
	`ms_upd©e_evít
(
c
, 
EV_WRITE
 | 
EV_PERSIST
))

2870 
	`Ârötf
(
°dîr
, "Couldn't updateÉvent.\n");

2871 
	`ms_c⁄n_£t_°©e
(
c
, 
c⁄n_˛osög
);

2876  
EXIT_SUCCESS
;

2877 
	}
}

2890 
	$ms_buûd_ascii_wrôe_buf_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

2892 
vÆue_off£t
;

2893 
wrôe_Àn
;

2894 *
buf„r

c
->
wbuf
;

2896 
wrôe_Àn

	`¢¥ötf
(
buf„r
,

2897 
c
->
wsize
,

2900 
ôem
->
exp_time
,

2901 
ôem
->
vÆue_size
);

2903 i‡(
wrôe_Àn
 > 
c
->
wsize
 || write_len < 0)

2906 
	`Ârötf
(
°dîr
, "output commandÜineÅooÜong.\n");

2910 i‡(
ôem
->
vÆue_off£t
 =
INVALID_OFFSET
)

2912 
vÆue_off£t

ôem
->
key_suffix_off£t
;

2916 
vÆue_off£t

ôem
->value_offset;

2919 i‡((
	`ms_add_iov
(
c
, "set ", 4) != 0)

2920 || (
	`ms_add_iov
(
c
, (*)&
ôem
->
key_¥efix
,

2921 ()
KEY_PREFIX_SIZE
) != 0)

2922 || (
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
],

2923 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
) != 0)

2924 || (
	`ms_add_iov
(
c
, 
buf„r
, 
wrôe_Àn
) != 0)

2925 || (
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
vÆue_off£t
],

2926 
ôem
->
vÆue_size
) != 0)

2927 || (
	`ms_add_iov
(
c
, "\r\n", 2) != 0)

2928 || (
c
->
udp
 && (
	`ms_buûd_udp_hódîs
(c) != 0)))

2933  
EXIT_SUCCESS
;

2934 
	}
}

2946 
	$ms_mcd_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

2948 
	`as£π
(
c
 !
NULL
);

2950 
c
->
cuºcmd
.
cmd

CMD_SET
;

2951 
c
->
cuºcmd
.
isföish

Ál£
;

2952 
c
->
cuºcmd
.
ªt°©

MCD_FAILURE
;

2954 i‡(
	`ms_upd©e_c⁄n_sock_evít
(
c
) != 0)

2959 
c
->
msgcuº
= 0;

2960 
c
->
msgu£d
= 0;

2961 
c
->
iovu£d
= 0;

2962 i‡(
	`ms_add_msghdr
(
c
) != 0)

2964 
	`Ârötf
(
°dîr
, "Out of memoryÖreparingÑequest.");

2969 i‡(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
)

2971 i‡(
	`ms_buûd_bö_wrôe_buf_£t
(
c
, 
ôem
) != 0)

2978 i‡(
	`ms_buûd_ascii_wrôe_buf_£t
(
c
, 
ôem
) != 0)

2984 
	`©omic_add_size
(&
ms_°©s
.
obj_byãs
,

2985 
ôem
->
key_size
 + iãm->
vÆue_size
);

2986 
	`©omic_add_size
(&
ms_°©s
.
cmd_£t
, 1);

2988  
EXIT_SUCCESS
;

2989 
	}
}

3002 
	$ms_buûd_ascii_wrôe_buf_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

3004 i‡((
	`ms_add_iov
(
c
, "get ", 4) != 0)

3005 || (
	`ms_add_iov
(
c
, (*)&
ôem
->
key_¥efix
,

3006 ()
KEY_PREFIX_SIZE
) != 0)

3007 || (
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
],

3008 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
) != 0)

3009 || (
	`ms_add_iov
(
c
, "\r\n", 2) != 0)

3010 || (
c
->
udp
 && (
	`ms_buûd_udp_hódîs
(c) != 0)))

3015  
EXIT_SUCCESS
;

3016 
	}
}

3028 
	$ms_mcd_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

3030 
	`as£π
(
c
 !
NULL
);

3032 
c
->
cuºcmd
.
cmd

CMD_GET
;

3033 
c
->
cuºcmd
.
isföish

Ál£
;

3034 
c
->
cuºcmd
.
ªt°©

MCD_FAILURE
;

3036 i‡(
	`ms_upd©e_c⁄n_sock_evít
(
c
) != 0)

3041 
c
->
msgcuº
= 0;

3042 
c
->
msgu£d
= 0;

3043 
c
->
iovu£d
= 0;

3044 i‡(
	`ms_add_msghdr
(
c
) != 0)

3046 
	`Ârötf
(
°dîr
, "Out of memoryÖreparingÑequest.");

3051 i‡(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
)

3053 i‡(
	`ms_buûd_bö_wrôe_buf_gë
(
c
, 
ôem
) != 0)

3060 i‡(
	`ms_buûd_ascii_wrôe_buf_gë
(
c
, 
ôem
) != 0)

3066 
	`©omic_add_size
(&
ms_°©s
.
cmd_gë
, 1);

3068  
EXIT_SUCCESS
;

3069 
	}
}

3080 
	$ms_buûd_ascii_wrôe_buf_mlgë
(
ms_c⁄n_t
 *
c
)

3082 
ms_èsk_ôem_t
 *
ôem
;

3084 i‡(
	`ms_add_iov
(
c
, "get", 3) != 0)

3089 
i
0; i < 
c
->
mlgë_èsk
.
mlgë_num
; i++)

3091 
ôem

c
->
mlgë_èsk
.
mlgë_ôem
[
i
].item;

3092 
	`as£π
(
ôem
 !
NULL
);

3093 i‡((
	`ms_add_iov
(
c
, " ", 1) != 0)

3094 || (
	`ms_add_iov
(
c
, (*)&
ôem
->
key_¥efix
,

3095 ()
KEY_PREFIX_SIZE
) != 0)

3096 || (
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
],

3097 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
) != 0))

3103 i‡((
	`ms_add_iov
(
c
, "\r\n", 2) != 0)

3104 || (
c
->
udp
 && (
	`ms_buûd_udp_hódîs
(c) != 0)))

3109  
EXIT_SUCCESS
;

3110 
	}
}

3120 
	$ms_mcd_mlgë
(
ms_c⁄n_t
 *
c
)

3122 
ms_èsk_ôem_t
 *
ôem
;

3124 
	`as£π
(
c
 !
NULL
);

3125 
	`as£π
(
c
->
mlgë_èsk
.
mlgë_num
 >= 1);

3127 
c
->
cuºcmd
.
cmd

CMD_GET
;

3128 
c
->
cuºcmd
.
isföish

Ál£
;

3129 
c
->
cuºcmd
.
ªt°©

MCD_FAILURE
;

3131 i‡(
	`ms_upd©e_c⁄n_sock_evít
(
c
) != 0)

3136 
c
->
msgcuº
= 0;

3137 
c
->
msgu£d
= 0;

3138 
c
->
iovu£d
= 0;

3139 i‡(
	`ms_add_msghdr
(
c
) != 0)

3141 
	`Ârötf
(
°dîr
, "Out of memoryÖreparingÑequest.");

3146 i‡(
c
->
¥Ÿocﬁ
 =
bö¨y_¥Ÿ
)

3148 i‡(
	`ms_buûd_bö_wrôe_buf_mlgë
(
c
) != 0)

3155 i‡(
	`ms_buûd_ascii_wrôe_buf_mlgë
(
c
) != 0)

3162 
i
0; i < 
c
->
mlgë_èsk
.
mlgë_num
; i++)

3164 
ôem

c
->
mlgë_èsk
.
mlgë_ôem
[
i
].item;

3165 
	`©omic_add_size
(&
ms_°©s
.
cmd_gë
, 1);

3168 ()
ôem
;

3170  
EXIT_SUCCESS
;

3171 
	}
}

3185 
	$ms_bö_¥o˚ss_ª•⁄£
(
ms_c⁄n_t
 *
c
)

3187 c⁄° *
îr°r

NULL
;

3189 
	`as£π
(
c
 !
NULL
);

3191 
uöt32_t
 
bodyÀn

c
->
bö¨y_hódî
.
ª•⁄£
.bodylen;

3192 
uöt8_t
 
›code

c
->
bö¨y_hódî
.
ª•⁄£
.opcode;

3193 
uöt16_t
 
°©us

c
->
bö¨y_hódî
.
ª•⁄£
.status;

3195 i‡(
bodyÀn
 > 0)

3197 
c
->
rvbyãs
(
öt32_t
)
bodyÀn
;

3198 
c
->
ªadvÆ

åue
;

3199  
EXIT_FAILURE
;

3203 
°©us
)

3205 
PROTOCOL_BINARY_RESPONSE_SUCCESS
:

3206 i‡(
›code
 =
PROTOCOL_BINARY_CMD_SET
)

3208 
c
->
cuºcmd
.
ªt°©

MCD_STORED
;

3210 i‡(
›code
 =
PROTOCOL_BINARY_CMD_DELETE
)

3212 
c
->
cuºcmd
.
ªt°©

MCD_DELETED
;

3214 i‡(
›code
 =
PROTOCOL_BINARY_CMD_GET
)

3216 
c
->
cuºcmd
.
ªt°©

MCD_END
;

3220 
PROTOCOL_BINARY_RESPONSE_ENOMEM
:

3221 
îr°r
= "Out of memory";

3222 
c
->
cuºcmd
.
ªt°©

MCD_SERVER_ERROR
;

3225 
PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
:

3226 
îr°r
= "Unknown command";

3227 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

3230 
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
:

3231 
îr°r
= "Not found";

3232 
c
->
cuºcmd
.
ªt°©

MCD_NOTFOUND
;

3235 
PROTOCOL_BINARY_RESPONSE_EINVAL
:

3236 
îr°r
= "Invalidárguments";

3237 
c
->
cuºcmd
.
ªt°©

MCD_PROTOCOL_ERROR
;

3240 
PROTOCOL_BINARY_RESPONSE_KEY_EEXISTS
:

3241 
îr°r
= "DataÉxists for key.";

3244 
PROTOCOL_BINARY_RESPONSE_E2BIG
:

3245 
îr°r
= "TooÜarge.";

3246 
c
->
cuºcmd
.
ªt°©

MCD_SERVER_ERROR
;

3249 
PROTOCOL_BINARY_RESPONSE_NOT_STORED
:

3250 
îr°r
= "Not stored.";

3251 
c
->
cuºcmd
.
ªt°©

MCD_NOTSTORED
;

3255 
îr°r
= "UnknownÉrror";

3256 
c
->
cuºcmd
.
ªt°©

MCD_UNKNOWN_READ_FAILURE
;

3260 i‡(
îr°r
 !
NULL
)

3262 
	`Ârötf
(
°dîr
, "%s\n", 
îr°r
);

3266  
EXIT_SUCCESS
;

3267 
	}
}

3281 
	$ms_add_bö_hódî
(
ms_c⁄n_t
 *
c
,

3282 
uöt8_t
 
›code
,

3283 
uöt8_t
 
hdr_Àn
,

3284 
uöt16_t
 
key_Àn
,

3285 
uöt32_t
 
body_Àn
)

3287 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
;

3289 
	`as£π
(
c
 !
NULL
);

3291 
hódî
(
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *)
c
->
wcuº
;

3293 
hódî
->
ªque°
.
magic
(
uöt8_t
)
PROTOCOL_BINARY_REQ
;

3294 
hódî
->
ªque°
.
›code
(
uöt8_t
)opcode;

3295 
hódî
->
ªque°
.
keyÀn

	`ht⁄s
(
key_Àn
);

3297 
hódî
->
ªque°
.
exéí
(
uöt8_t
)
hdr_Àn
;

3298 
hódî
->
ªque°
.
d©©y≥
(
uöt8_t
)
PROTOCOL_BINARY_RAW_BYTES
;

3299 
hódî
->
ªque°
.
vbuckë
= 0;

3301 
hódî
->
ªque°
.
bodyÀn

	`ht⁄l
(
body_Àn
);

3302 
hódî
->
ªque°
.
›aque
= 0;

3303 
hódî
->
ªque°
.
ˇs
= 0;

3305 
	`ms_add_iov
(
c
, c->
wcuº
, (
hódî
->
ªque°
));

3306 
	}
}

3316 
	$ms_add_key_to_iov
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

3318 
	`ms_add_iov
(
c
, (*)&
ôem
->
key_¥efix
, ()
KEY_PREFIX_SIZE
);

3319 
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
],

3320 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
);

3321 
	}
}

3334 
	$ms_buûd_bö_wrôe_buf_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

3336 
	`as£π
(
c
->
wbuf
 =c->
wcuº
);

3338 
vÆue_off£t
;

3339 
¥Ÿocﬁ_bö¨y_ªque°_£t
 *
ªp
’rŸocﬁ_bö¨y_ªque°_£à*)
c
->
wcuº
;

3340 
uöt16_t
 
keyÀn
(uöt16_t)
ôem
->
key_size
;

3341 
uöt32_t
 
bodyÀn
(uöt32_t)(
ªp
->
mesßge
.
body
)

3342 + (
uöt32_t
)
keyÀn
 + (uöt32_t)
ôem
->
vÆue_size
;

3344 
	`ms_add_bö_hódî
(
c
,

3345 
PROTOCOL_BINARY_CMD_SET
,

3346 (
ªp
->
mesßge
.
body
),

3347 
keyÀn
,

3348 
bodyÀn
);

3349 
ªp
->
mesßge
.
body
.
Êags
= 0;

3350 
ªp
->
mesßge
.
body
.
expú©i⁄

	`ht⁄l
((
uöt32_t
)
ôem
->
exp_time
);

3351 
	`ms_add_iov
(
c
, &
ªp
->
mesßge
.
body
, (rep->message.body));

3352 
	`ms_add_key_to_iov
(
c
, 
ôem
);

3354 i‡(
ôem
->
vÆue_off£t
 =
INVALID_OFFSET
)

3356 
vÆue_off£t

ôem
->
key_suffix_off£t
;

3360 
vÆue_off£t

ôem
->value_offset;

3362 
	`ms_add_iov
(
c
, &
ms_£âög
.
ch¨_block
[
vÆue_off£t
], 
ôem
->
vÆue_size
);

3364  
EXIT_SUCCESS
;

3365 
	}
}

3378 
	$ms_buûd_bö_wrôe_buf_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

3380 
	`as£π
(
c
->
wbuf
 =c->
wcuº
);

3382 
	`ms_add_bö_hódî
(
c
, 
PROTOCOL_BINARY_CMD_GET
, 0, (
uöt16_t
)
ôem
->
key_size
,

3383 (
uöt32_t
)
ôem
->
key_size
);

3384 
	`ms_add_key_to_iov
(
c
, 
ôem
);

3386  
EXIT_SUCCESS
;

3387 
	}
}

3400 
	$ms_buûd_bö_wrôe_buf_mlgë
(
ms_c⁄n_t
 *
c
)

3402 
ms_èsk_ôem_t
 *
ôem
;

3404 
	`as£π
(
c
->
wbuf
 =c->
wcuº
);

3406 
i
0; i < 
c
->
mlgë_èsk
.
mlgë_num
; i++)

3408 
ôem

c
->
mlgë_èsk
.
mlgë_ôem
[
i
].item;

3409 
	`as£π
(
ôem
 !
NULL
);

3411 
	`ms_add_bö_hódî
(
c
,

3412 
PROTOCOL_BINARY_CMD_GET
,

3414 (
uöt16_t
)
ôem
->
key_size
,

3415 (
uöt32_t
)
ôem
->
key_size
);

3416 
	`ms_add_key_to_iov
(
c
, 
ôem
);

3417 
c
->
wcuº
+(
¥Ÿocﬁ_bö¨y_ªque°_gë
);

3420 
c
->
wcuº
c->
wbuf
;

3422  
EXIT_SUCCESS
;

3423 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_conn.h

11 #i‚de‡
MS_CONN_H


12 
	#MS_CONN_H


	)

14 
	~<sys/sockë.h
>

15 
	~<√töë/ö.h
>

16 
	~<evít.h
>

17 
	~<√tdb.h
>

19 
	~"ms_èsk.h
"

20 
	~<libmemˇched/memˇched/¥Ÿocﬁ_bö¨y.h
>

22 #ifde‡
__˝lu•lus


26 
	#DATA_BUFFER_SIZE
 (1024 * 1024 + 2048Ë

	)

27 
	#WRITE_BUFFER_SIZE
 (32 * 1024Ë

	)

28 
	#UDP_DATA_BUFFER_SIZE
 (1 * 1024 * 1024Ë

	)

29 
	#UDP_MAX_PAYLOAD_SIZE
 1400

	)

30 
	#UDP_MAX_SEND_PAYLOAD_SIZE
 1400

	)

31 
	#UDP_HEADER_SIZE
 8

	)

32 
	#MAX_SENDBUF_SIZE
 (256 * 1024 * 1024Ë

	)

33 
	#SOCK_WAIT_TIMEOUT
 30

	)

34 
	#MAX_UDP_PACKET
 (1 << 16Ë

	)

37 
	#IOV_LIST_INITIAL
 400

	)

40 
	#MSG_LIST_INITIAL
 10

	)

43 
	#READ_BUFFER_HIGHWAT
 (2 * 
DATA_BUFFER_SIZE
)

	)

44 
	#UDP_DATA_BUFFER_HIGHWAT
 (4 * 
UDP_DATA_BUFFER_SIZE
)

	)

45 
	#IOV_LIST_HIGHWAT
 600

	)

46 
	#MSG_LIST_HIGHWAT
 100

	)

49 
	#HEADER_TO_REQID
(
±r
Ë((
uöt16_t
)*ptr * 256 \

50 + (
uöt16_t
)*(
±r
 + 1))

	)

51 
	#HEADER_TO_SEQNUM
(
±r
Ë((
uöt16_t
)*(ptr \

53 + (
uöt16_t
)*(
±r
 + 3))

	)

54 
	#HEADER_TO_PACKETS
(
±r
Ë((
uöt16_t
)*(ptr \

56 + (
uöt16_t
)*(
±r
 + 5))

	)

59 
	ec⁄n_°©es


61 
c⁄n_ªad
,

62 
c⁄n_wrôe
,

63 
c⁄n_˛osög


67 
	emcd_ªt


69 
MCD_SUCCESS
,

70 
MCD_FAILURE
,

71 
MCD_UNKNOWN_READ_FAILURE
,

72 
MCD_PROTOCOL_ERROR
,

73 
MCD_CLIENT_ERROR
,

74 
MCD_SERVER_ERROR
,

75 
MCD_DATA_EXISTS
,

76 
MCD_NOTSTORED
,

77 
MCD_STORED
,

78 
MCD_NOTFOUND
,

79 
MCD_END
,

80 
MCD_DELETED
,

81 
MCD_STAT


85 
	scmd°©


87 
cmd
;

88 
ªt°©
;

89 
boﬁ
 
isföish
;

90 
uöt64_t
 
key_¥efix
;

91 } 
	tms_cmd°©_t
;

94 
	sudµkt


96 
uöt8_t
 *
hódî
;

97 *
d©a
;

98 
rbyãs
;

99 
c›ybyãs
;

100 } 
	tms_udµkt_t
;

103 
	e¥Ÿocﬁ


105 
ascii_¥Ÿ
 = 3,

106 
bö¨y_¥Ÿ


118 
	sc⁄n


120 
uöt32_t
 
c⁄n_idx
;

121 
sfd
;

122 
udpsfd
;

123 
°©e
;

124 
evít
Évent;

125 
ev_Êags
;

126 
which
;

127 
boﬁ
 
ch™ge_sfd
;

129 *
t˝sfd
;

130 
uöt32_t
 
tŸÆ_sfds
;

131 
uöt32_t
 
Æive_sfds
;

132 
uöt32_t
 
cur_idx
;

134 
ms_cmd°©_t
 
¥ecmd
;

135 
ms_cmd°©_t
 
cuºcmd
;

137 *
rbuf
;

138 *
rcuº
;

139 
rsize
;

140 
rbyãs
;

142 
boﬁ
 
ªadvÆ
;

143 
rvbyãs
;

145 *
wbuf
;

146 *
wcuº
;

147 
wsize
;

148 
boﬁ
 
˘nwrôe
;

151 
iovec
 *
iov
;

152 
iovsize
;

153 
iovu£d
;

155 
msghdr
 *
msgli°
;

156 
msgsize
;

157 
msgu£d
;

158 
msgcuº
;

159 
msgbyãs
;

162 
boﬁ
 
udp
;

163 
uöt32_t
 
ªque°_id
;

164 
uöt8_t
 *
hdrbuf
;

165 
hdrsize
;

166 
sockaddr
 
§v_ªcv_addr
;

167 
sockÀn_t
 
§v_ªcv_addr_size
;

170 *
rudpbuf
;

171 
rudpsize
;

172 
rudpbyãs
;

175 
ms_udµkt_t
 *
udµkt
;

176 
∑ckës
;

177 
ªcvpkt
;

178 
pktcuº
;

179 
‹dcuº
;

181 
ms_èsk_ôem_t
 *
ôem_wö
;

182 
wö_size
;

183 
uöt64_t
 
£t_curs‹
;

184 
ms_èsk_t
 
cuº_èsk
;

185 
ms_mlgë_èsk_t
 
mlgë_èsk
;

187 
w¨mup_num
;

188 
ªmaö_w¨mup_num
;

189 
öt64_t
 
exec_num
;

190 
öt64_t
 
ªmaö_exec_num
;

193 
timevÆ
 
°¨t_time
;

194 
timevÆ
 
íd_time
;

197 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
bö¨y_hódî
;

198 
¥Ÿocﬁ
Örotocol;

199 } 
	tms_c⁄n_t
;

202 
uöt64_t
 
ms_gë_key_¥efix
();

209 
ms_£tup_c⁄n
(
ms_c⁄n_t
 *
c
);

213 
ms_ª£t_c⁄n
(
ms_c⁄n_t
 *
c
, 
boﬁ
 
timeout
);

222 
ms_ªc⁄n_socks
(
ms_c⁄n_t
 *
c
);

226 
ms_mcd_£t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

230 
ms_mcd_gë
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

234 
ms_mcd_mlgë
(
ms_c⁄n_t
 *
c
);

237 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_memslap.h

11 #i‚de‡
MS_MEMSLAP_H


12 
	#MS_MEMSLAP_H


	)

14 
	~<°dlib.h
>

15 
	~<°dio.h
>

16 
	~<î∫o.h
>

17 
	~<°rög.h
>

18 
	~<as£π.h
>

19 
	~<uni°d.h
>

20 
	~<°döt.h
>

21 
	~<±hªad.h
>

22 #i‡!
deföed
(
__˝lu•lus
)

23 
	~<°dboﬁ.h
>

25 
	~<m©h.h
>

27 
	~"ms_°©s.h
"

29 #ifde‡
__˝lu•lus


36 
OPT_VERSION
= 'V',

37 
OPT_HELP
= 'h',

38 
OPT_UDP
= 'U',

39 
OPT_SERVERS
= 's',

40 
OPT_EXECUTE_NUMBER
= 'x',

41 
OPT_THREAD_NUMBER
= 'T',

42 
OPT_CONCURRENCY
= 'c',

43 
OPT_FIXED_LTH
= 'X',

44 
OPT_VERIFY
= 'v',

45 
OPT_GETS_DIVISION
= 'd',

46 
OPT_TIME
= 't',

47 
OPT_CONFIG_CMD
= 'F',

48 
OPT_WINDOW_SIZE
= 'w',

49 
OPT_EXPIRE
= 'e',

50 
OPT_STAT_FREQ
= 'S',

51 
OPT_RECONNECT
= 'R',

52 
OPT_VERBOSE
= 'b',

53 
OPT_FACEBOOK_TEST
= 'a',

54 
OPT_SOCK_PER_CONN
= 'n',

55 
OPT_BINARY_PROTOCOL
= 'B',

56 
OPT_OVERWRITE
= 'o',

57 
OPT_TPS
= 'P',

58 
OPT_REP_WRITE_SRV
= 'p'

59 } 
	tms_›ti⁄s_t
;

62 
	s°©i°ic


64 
±hªad_muãx_t
 
°©_muãx
;

66 
ms_°©_t
 
gë_°©
;

67 
ms_°©_t
 
£t_°©
;

68 
ms_°©_t
 
tŸÆ_°©
;

69 } 
	tms_°©i°ic_t
;

72 
	s°©s


74 vﬁ©ûê
uöt32_t
 
a˘ive_c⁄ns
;

75 
size_t
 
byãs_ªad
;

76 
size_t
 
byãs_wrôãn
;

77 
size_t
 
obj_byãs
;

78 
size_t
 
¥e_cmd_gë
;

79 
size_t
 
¥e_cmd_£t
;

80 
size_t
 
cmd_gë
;

81 
size_t
 
cmd_£t
;

82 
size_t
 
gë_mis£s
;

83 
size_t
 
vef_miss
;

84 
size_t
 
vef_Áûed
;

85 
size_t
 
u√xp_ungë
;

86 
size_t
 
exp_gë
;

87 vﬁ©ûê
size_t
 
pkt_dis‹dî
;

88 
size_t
 
pkt_dr›
;

89 
size_t
 
udp_timeout
;

90 } 
	tms_°©s_t
;

93 
	ssync_lock


95 
uöt32_t
 
cou¡
;

96 
±hªad_muãx_t
 
lock
;

97 
±hªad_c⁄d_t
 
c⁄d
;

98 } 
	tms_sync_lock_t
;

101 
	sglobÆ


104 
ms_sync_lock_t
 
öô_lock
;

105 
ms_sync_lock_t
 
w¨mup_lock
;

106 
ms_sync_lock_t
 
run_lock
;

109 
±hªad_muãx_t
 
quô_muãx
;

112 
±hªad_muãx_t
 
£q_muãx
;

115 
boﬁ
 
föish_w¨mup
;

116 
boﬁ
 
time_out
;

117 } 
	tms_globÆ_t
;

120 
ms_globÆ_t
 
ms_globÆ
;

123 
ms_°©s_t
 
ms_°©s
;

126 
ms_°©i°ic_t
 
ms_°©i°ic
;

128 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_setting.c

12 
	~"mem_c⁄fig.h
"

14 
	~<libmemˇched/memˇched.h
>

16 
	~<˘y≥.h
>

17 
	~<öây≥s.h
>

18 
	~<limôs.h
>

19 
	~<pwd.h
>

20 
	~<°rögs.h
>

21 
	~<sys/ty≥s.h
>

22 
	~<uni°d.h
>

26 
	~"ms_£âög.h
"

27 
	~"ms_c⁄n.h
"

29 
	#MAX_EXEC_NUM
 0x4000000000000000

	)

30 
	#ADDR_ALIGN
(
addr
Ë(◊dd∏+ 15Ë& ~(16 - 1)Ë

	)

31 
	#RAND_CHAR_SIZE
 (10 * 1024 * 1024Ë

	)

32 
	#RESERVED_RAND_CHAR_SIZE
 (2 * 1024 * 1024Ë

	)

34 
	#DEFAULT_CONFIG_NAME
 ".mem¶≠.˙f"

	)

36 
	#DEFAULT_THREADS_NUM
 1

	)

37 
	#DEFAULT_CONNS_NUM
 16

	)

38 
	#DEFAULT_EXE_NUM
 0

	)

39 
	#DEFAULT_VERIFY_RATE
 0.0

	)

40 
	#DEFAULT_OVERWRITE_RATE
 0.0

	)

41 
	#DEFAULT_DIV
 1

	)

42 
	#DEFAULT_RUN_TIME
 600

	)

43 
	#DEFAULT_WINDOW_SIZE
 (10 * 
UNIT_ITEMS_COUNT
Ë

	)

44 
	#DEFAULT_SOCK_PER_CONN
 1

	)

47 
	#CHAR_COUNT
 64

	)

48 c⁄° 
	gALPHANUMBERICS
[]=

51 
ms_£âög_°
 
	gms_£âög
;

55 
ms_gë_£rvîli°
(*
°r
);

56 
uöt32_t
 
ms_gë_˝u_cou¡
();

57 
ms_c⁄f_ty≥_t
 
ms_gë_c⁄f_ty≥
(*
löe
);

58 
ms_is_löe_d©a
(*
löe
);

59 
ms_ªad_is_d©a
(*
löe
, 
ssize_t
 
ƒód
);

60 
ms_no_c⁄fig_fûe
();

61 
ms_∑r£_cfg_fûe
(*
cfg_fûe
);

65 
ms_öô_øndom_block
();

66 
ms_ˇlc_avg_size
();

67 
ms_shufÊe_di°r
(
ms_di°r_t
 *
di°r
, 
Àngth
);

68 
ms_buûd_di°r
();

69 
ms_¥öt_£âög
();

70 
ms_£âög_¶≠mode_öô_¥e
();

71 
ms_£âög_¶≠mode_öô_po°
();

73 #i‡!
deföed
(
HAVE_GETLINE
)

74 
	~<limôs.h
>

75 
ssize_t
 
	$gëlöe
 (**
löe
, 
size_t
 *
löe_size
, 
FILE
 *
Â
)

77 
dñim
= '\n';

78 
ssize_t
 
ªsu…
= 0;

79 
size_t
 
cur_Àn
= 0;

81 i‡(
löe
 =
NULL
 || 
löe_size
 =NULL || 
Â
 == NULL)

83 
î∫o
 = 
EINVAL
;

87 i‡(*
löe
 =
NULL
 || *
löe_size
 == 0)

89 *
√w_löe
;

90 *
löe_size
 = 120;

91 
√w_löe
(*Ë
	`ªÆloc
 (*
löe
, *
löe_size
);

92 i‡(
√w_löe
 =
NULL
)

94 
ªsu…
= -1;

95  
ªsu…
;

97 *
löe

√w_löe
;

102 
i

	`gëc
(
Â
);

103 i‡(
i
 =
EOF
)

105 
ªsu…
 = -1;

110 i‡(
cur_Àn
 + 1 >*
löe_size
)

112 
size_t
 
√eded_max
=

113 
SSIZE_MAX
 < 
SIZE_MAX
 ? (
size_t
) SSIZE_MAX + 1 : SIZE_MAX;

114 
size_t
 
√eded
(2 * (*
löe_size
)) + 1;

115 *
√w_löe
;

117 i‡(
√eded_max
 < 
√eded
)

118 
√eded

√eded_max
;

119 i‡(
cur_Àn
 + 1 >
√eded
)

121 
ªsu…
= -1;

122 
î∫o

EOVERFLOW
;

123  
ªsu…
;

126 
√w_löe
(*)
	`ªÆloc
(*
löe
, 
√eded
);

127 i‡(
√w_löe
 =
NULL
)

129 
ªsu…
= -1;

130  
ªsu…
;

133 *
löe

√w_löe
;

134 *
löe_size

√eded
;

137 (*
löe
)[
cur_Àn
]()
i
;

138 
cur_Àn
++;

140 i‡(
i
 =
dñim
)

143 (*
löe
)[
cur_Àn
] = '\0';

144 i‡(
cur_Àn
 != 0)

145  (
ssize_t
)
cur_Àn
;

146  
ªsu…
;

147 
	}
}

157 
	$ms_gë_£rvîli°
(*
°r
)

159 
ms_mcd_£rvî_t
 *
§vs

NULL
;

165 
memˇched_£rvî_°
 *
£rvî_poﬁ
;

166 
£rvî_poﬁ
 = 
	`memˇched_£rvîs_∑r£
(
°r
);

168 
uöt32_t
 
lo›
0;Üo› < 
	`memˇched_£rvî_li°_cou¡
(
£rvî_poﬁ
);Üoop++)

170 
	`as£π
(
ms_£âög
.
§v_˙t
 < ms_£âög.
tŸÆ_§v_˙t
);

171 
	`°r˝y
(
ms_£âög
.
£rvîs
[ms_£âög.
§v_˙t
].
§v_ho°_«me
, 
£rvî_poﬁ
[
lo›
].
ho°«me
);

172 
ms_£âög
.
£rvîs
[ms_£âög.
§v_˙t
].
§v_p‹t

£rvî_poﬁ
[
lo›
].
p‹t
;

173 
ms_£âög
.
£rvîs
[ms_£âög.
§v_˙t
].
disc⁄n_˙t
= 0;

174 
ms_£âög
.
£rvîs
[ms_£âög.
§v_˙t
].
ªc⁄n_˙t
= 0;

175 
ms_£âög
.
§v_˙t
++;

177 i‡(
ms_£âög
.
§v_˙t
 >ms_£âög.
tŸÆ_§v_˙t
)

179 
§vs
(
ms_mcd_£rvî_t
 *)
	`ªÆloc
–
ms_£âög
.
£rvîs
,

180 (
size_t
)
ms_£âög
.
tŸÆ_§v_˙t
 * (
ms_mcd_£rvî_t
) * 2);

181 i‡(
§vs
 =
NULL
)

183 
	`Ârötf
(
°dîr
, "Can'tÑeallocate servers structure.\n");

184 
	`exô
(1);

186 
ms_£âög
.
£rvîs

§vs
;

187 
ms_£âög
.
tŸÆ_§v_˙t
*= 2;

191 
	`memˇched_£rvî_‰ì
(
£rvî_poﬁ
);

192 
	}
}

200 
uöt32_t
 
	$ms_gë_˝u_cou¡
()

202 #ifde‡
HAVE__SC_NPROCESSORS_ONLN


203  
	`sysc⁄f
(
_SC_NPROCESSORS_CONF
);

206 #ifde‡
HAVE_CPU_SET_T


207 
˝u_cou¡
= 0;

208 
˝u_£t_t
 
˝u_£t
;

210 
	`sched_gëafföôy
(0, (
˝u_£t_t
), &
˝u_£t
);

212 
i
0; i < ((
˝u_£t_t
) * 8); i++)

214 i‡(
	`CPU_ISSET
(
i
, &
˝u_£t
))

216 
˝u_cou¡
++;

220  
˝u_cou¡
;

226  
EXIT_FAILURE
;

227 
	}
}

238 
ms_c⁄f_ty≥_t
 
	$ms_gë_c⁄f_ty≥
(*
löe
)

240 i‡(! 
	`memcmp
(
löe
, "key", 
	`°æí
("key")))

242  
CONF_KEY
;

244 i‡(! 
	`memcmp
(
löe
, "vÆue", 
	`°æí
("value")))

246  
CONF_VALUE
;

248 i‡(! 
	`memcmp
(
löe
, "cmd", 
	`°æí
("cmd")))

250  
CONF_CMD
;

254  
CONF_NULL
;

256 
	}
}

267 
	$ms_is_löe_d©a
(*
löe
)

269 
	`as£π
(
löe
 !
NULL
);

271 *
begö_±r

löe
;

273 
	`is•a˚
(*
begö_±r
))

275 
begö_±r
++;

277 i‡((
begö_±r
[0] == '\0') || (begin_ptr[0] == '#'))

278  
EXIT_SUCCESS
;

280  
EXIT_FAILURE
;

281 
	}
}

292 
	$ms_ªad_is_d©a
(*
löe
, 
ssize_t
 
ƒód
)

294 i‡((
ƒód
 =
EOF
Ë|| ! 
	`ms_is_löe_d©a
(
löe
))

295  
EXIT_SUCCESS
;

297  
EXIT_FAILURE
;

298 
	}
}

305 
	$ms_no_c⁄fig_fûe
()

307 
u£Ω©h
[
PATH_MAX
];

308 
∑sswd
 *
u§

NULL
;

309 
FILE
 *
fd
;

311 
u§

	`gëpwuid
(
	`gëuid
());

313 
	`¢¥ötf
(
u£Ω©h
, 
PATH_MAX
, "%s/%s", 
u§
->
pw_dú
, 
DEFAULT_CONFIG_NAME
);

315 i‡(
	`ac˚ss
 (
u£Ω©h
, 
F_OK
 | 
R_OK
) == 0)

316 
exô
;

318 
fd

	`f›í
(
u£Ω©h
, "w+");

320 i‡(
fd
 =
NULL
)

322 
	`Ârötf
(
°dîr
, "CouldÇŸ cª©êdeÁu… c⁄figuª fûê%s\n", 
u£Ω©h
);

323 
	`≥º‹
(
	`°ªº‹
(
î∫o
));

324 
	`exô
(1);

326 
	`Ârötf
(
fd
, "%s", 
DEFAULT_CONGIF_STR
);

327 
	`f˛o£
(
fd
);

329 
exô
:

330 
ms_£âög
.
cfg_fûe

	`°rdup
(
u£Ω©h
);

331 
	}
}

339 
	$ms_∑r£_cfg_fûe
(*
cfg_fûe
)

341 
FILE
 *
f
;

342 
size_t
 
°¨t_Àn
, 
íd_Àn
;

343 
¥›‹ti⁄
;

344 *
löe

NULL
;

345 
size_t
 
ªad_Àn
;

346 
ssize_t
 
ƒód
;

347 
cmd_ty≥
;

348 
ms_c⁄f_ty≥_t
 
c⁄f_ty≥
;

349 
íd_of_fûe
= 0;

350 
ms_key_di°r_t
 *
key_di°r

NULL
;

351 
ms_vÆue_di°r_t
 *
vÆ_di°r

NULL
;

353 i‡(
cfg_fûe
 =
NULL
)

355 
	`ms_no_c⁄fig_fûe
();

356 
cfg_fûe

ms_£âög
.cfg_file;

360 i‡((
f

	`f›í
(
cfg_fûe
, "r")Ë=
NULL
)

362 
	`Ârötf
(
°dîr
, "C™ÇŸ o≥¿fûe: '%s'.\n", 
cfg_fûe
);

363 
	`exô
(1);

368 i‡((((
ƒód

	`gëlöe
(&
löe
, &
ªad_Àn
, 
f
)) == 1)

369 || ! 
	`ms_ªad_is_d©a
(
löe
, 
ƒód
)Ë&& (ƒód !
EOF
))

372 i‡(
ƒód
 =
EOF
)

374 
	`Ârötf
(
°dîr
, "Bad configuration file,Ço configuration find.\n");

375 
	`exô
(1);

377 
c⁄f_ty≥

	`ms_gë_c⁄f_ty≥
(
löe
);

381 ! 
íd_of_fûe
)

383 
c⁄f_ty≥
)

385 
CONF_KEY
:

388 i‡((((
ƒód

	`gëlöe
(&
löe
, &
ªad_Àn
, 
f
)) == 1)

389 || ! 
	`ms_ªad_is_d©a
(
löe
, 
ƒód
)Ë&& (ƒód !
EOF
))

392 i‡(
ƒód
 !
EOF
)

394 i‡(
	`ssˇnf
(
löe
, "%zu %zu %l‡", &
°¨t_Àn
,

395 &
íd_Àn
, &
¥›‹ti⁄
) != 3)

397 
c⁄f_ty≥

	`ms_gë_c⁄f_ty≥
(
löe
);

400 
ms_£âög
.
key_di°r
[ms_£âög.
key_∫g_˙t
].
°¨t_Àn
= start_len;

401 
ms_£âög
.
key_di°r
[ms_£âög.
key_∫g_˙t
].
íd_Àn
=Énd_len;

402 
ms_£âög
.
key_di°r
[ms_£âög.
key_∫g_˙t
].
key_¥›

¥›‹ti⁄
;

403 
ms_£âög
.
key_∫g_˙t
++;

405 i‡(
ms_£âög
.
key_∫g_˙t
 >ms_£âög.
tŸÆ_key_∫g_˙t
)

407 
key_di°r
(
ms_key_di°r_t
 *)
	`ªÆloc
(

408 
ms_£âög
.
key_di°r
,

409 (
size_t
)
ms_£âög
.

410 
tŸÆ_key_∫g_˙t
 * (
ms_key_di°r_t
) * 2);

411 i‡(
key_di°r
 =
NULL
)

413 
	`Ârötf
(
°dîr
,

415 
	`exô
(1);

417 
ms_£âög
.
key_di°r
= key_distr;

418 
ms_£âög
.
tŸÆ_key_∫g_˙t
*= 2;

422 
íd_of_fûe
= 1;

427 
CONF_VALUE
:

430 i‡((((
ƒód

	`gëlöe
(&
löe
, &
ªad_Àn
, 
f
)) == 1)

431 || ! 
	`ms_ªad_is_d©a
(
löe
, 
ƒód
)Ë&& (ƒód !
EOF
))

434 i‡(
ƒód
 !
EOF
)

436 i‡(
	`ssˇnf
(
löe
, "%zu %zu %lf", &
°¨t_Àn
, &
íd_Àn
,

437 &
¥›‹ti⁄
) != 3)

439 
c⁄f_ty≥

	`ms_gë_c⁄f_ty≥
(
löe
);

442 
ms_£âög
.
vÆue_di°r
[ms_£âög.
vÆ_∫g_˙t
].
°¨t_Àn
=

443 
°¨t_Àn
;

444 
ms_£âög
.
vÆue_di°r
[ms_£âög.
vÆ_∫g_˙t
].
íd_Àn
=Énd_len;

445 
ms_£âög
.
vÆue_di°r
[ms_£âög.
vÆ_∫g_˙t
].
vÆue_¥›
=

446 
¥›‹ti⁄
;

447 
ms_£âög
.
vÆ_∫g_˙t
++;

449 i‡(
ms_£âög
.
vÆ_∫g_˙t
 >ms_£âög.
tŸÆ_vÆ_∫g_˙t
)

451 
vÆ_di°r
(
ms_vÆue_di°r_t
 *)
	`ªÆloc
(

452 
ms_£âög
.
vÆue_di°r
,

453 (
size_t
)
ms_£âög
.

454 
tŸÆ_vÆ_∫g_˙t
 * (
ms_vÆue_di°r_t
) * 2);

455 i‡(
vÆ_di°r
 =
NULL
)

457 
	`Ârötf
(
°dîr
,

459 
	`exô
(1);

461 
ms_£âög
.
vÆue_di°r

vÆ_di°r
;

462 
ms_£âög
.
tŸÆ_vÆ_∫g_˙t
*= 2;

466 
íd_of_fûe
= 1;

471 
CONF_CMD
:

474 i‡((((
ƒód

	`gëlöe
(&
löe
, &
ªad_Àn
, 
f
)) == 1)

475 || ! 
	`ms_ªad_is_d©a
(
löe
, 
ƒód
)Ë&& (ƒód !
EOF
))

478 i‡(
ƒód
 !
EOF
)

480 i‡(
	`ssˇnf
(
löe
, "%d %lf", &
cmd_ty≥
, &
¥›‹ti⁄
) != 2)

482 
c⁄f_ty≥

	`ms_gë_c⁄f_ty≥
(
löe
);

485 i‡(
cmd_ty≥
 >
CMD_NULL
)

489 
ms_£âög
.
cmd_di°r
[ms_£âög.
cmd_u£d_cou¡
].
cmd_ty≥
=

490 
cmd_ty≥
;

491 
ms_£âög
.
cmd_di°r
[ms_£âög.
cmd_u£d_cou¡
].
cmd_¥›
=

492 
¥›‹ti⁄
;

493 
ms_£âög
.
cmd_u£d_cou¡
++;

496 
íd_of_fûe
= 1;

500 
CONF_NULL
:

503 i‡((((
ƒód

	`gëlöe
(&
löe
, &
ªad_Àn
, 
f
)) == 1)

504 || ! 
	`ms_ªad_is_d©a
(
löe
, 
ƒód
)Ë&& (ƒód !
EOF
))

507 i‡(
ƒód
 !
EOF
)

509 i‡((
c⁄f_ty≥

	`ms_gë_c⁄f_ty≥
(
löe
)Ë!
CONF_NULL
)

515 
íd_of_fûe
= 1;

521 
	`as£π
(0);

526 
	`f˛o£
(
f
);

528 i‡(
löe
 !
NULL
)

530 
	`‰ì
(
löe
);

532 
	}
}

536 
	$ms_ˇlc_avg_size
()

538 
avg_vÆ_size
= 0.0;

539 
avg_key_size
= 0.0;

540 
vÆ_¥o
= 0.0;

541 
key_¥o
= 0.0;

542 
avîge_Àn
= 0.0;

543 
size_t
 
°¨t_Àn
= 0;

544 
size_t
 
íd_Àn
= 0;

546 
j
0; j < 
ms_£âög
.
vÆ_∫g_˙t
; j++)

548 
vÆ_¥o

ms_£âög
.
vÆue_di°r
[
j
].
vÆue_¥›
;

549 
°¨t_Àn

ms_£âög
.
vÆue_di°r
[
j
].start_len;

550 
íd_Àn

ms_£âög
.
vÆue_di°r
[
j
].end_len;

552 
avîge_Àn

vÆ_¥o
 * (()(
°¨t_Àn
 + 
íd_Àn
)) / 2;

553 
avg_vÆ_size
+
avîge_Àn
;

556 
j
0; j < 
ms_£âög
.
key_∫g_˙t
; j++)

558 
key_¥o

ms_£âög
.
key_di°r
[
j
].
key_¥›
;

559 
°¨t_Àn

ms_£âög
.
key_di°r
[
j
].start_len;

560 
íd_Àn

ms_£âög
.
key_di°r
[
j
].end_len;

562 
avîge_Àn

key_¥o
 * (()(
°¨t_Àn
 + 
íd_Àn
)) / 2;

563 
avg_key_size
+
avîge_Àn
;

566 
ms_£âög
.
avg_vÆ_size
(
size_t
)avg_val_size;

567 
ms_£âög
.
avg_key_size
(
size_t
)avg_key_size;

568 
	}
}

580 
	$ms_shufÊe_di°r
(
ms_di°r_t
 *
di°r
, 
Àngth
)

582 
i
, 
j
;

583 
tmp_off£t
;

584 
size_t
 
tmp_size
;

585 
öt64_t
 
∫d
;

587 
i
0; i < 
Àngth
; i++)

589 
∫d

	`øndom
();

590 
j
()(
∫d
 % (
Àngth
 - 
i
)) + i;

592 
∫d
 % 3)

595 
tmp_size

di°r
[
j
].
key_size
;

596 
di°r
[
j
].
key_size
di°r[
i
].key_size;

597 
di°r
[
i
].
key_size

tmp_size
;

601 
tmp_off£t

di°r
[
j
].
key_off£t
;

602 
di°r
[
j
].
key_off£t
di°r[
i
].key_offset;

603 
di°r
[
i
].
key_off£t

tmp_off£t
;

607 
tmp_size

di°r
[
j
].
vÆue_size
;

608 
di°r
[
j
].
vÆue_size
di°r[
i
].value_size;

609 
di°r
[
i
].
vÆue_size

tmp_size
;

617  
EXIT_SUCCESS
;

618 
	}
}

628 
	$ms_buûd_di°r
()

630 
off£t
= 0;

631 
íd
= 0;

632 
key_˙t
= 0;

633 
vÆue_˙t
= 0;

634 
size_t
 
avîage_Àn
= 0;

635 
size_t
 
diff_Àn
= 0;

636 
size_t
 
°¨t_Àn
= 0;

637 
size_t
 
íd_Àn
= 0;

638 
∫d
= 0;

639 
ms_di°r_t
 *
di°r

NULL
;

640 
unôs
()
ms_£âög
.
wö_size
 / 
UNIT_ITEMS_COUNT
;

643 
	`ms_ˇlc_avg_size
();

645 
ms_£âög
.
ch¨_blk_size

RAND_CHAR_SIZE
;

646 
key_sc›e_size
=

647 ()((
ms_£âög
.
ch¨_blk_size
 - 
RESERVED_RAND_CHAR_SIZE
)

648 / 
UNIT_ITEMS_COUNT
);

650 
ms_£âög
.
di°r
(
ms_di°r_t
 *)
	`mÆloc
(

651 (
ms_di°r_t
Ë* 
ms_£âög
.
wö_size
);

652 i‡(
ms_£âög
.
di°r
 =
NULL
)

654 
	`Ârötf
(
°dîr
, "Can'tállocate distributionárray.");

655 
	`exô
(1);

663 
m
0; m < 
unôs
; m++)

665 
i
0; i < 
UNIT_ITEMS_COUNT
; i++)

667 
ms_£âög
.
di°r
[
m
 * 
UNIT_ITEMS_COUNT
 + 
i
].
key_off£t
=

668 
	`ADDR_ALIGN
(
key_sc›e_size
 * 
i
);

673 
m
0; m < 
unôs
; m++)

675 
j
0; j < 
ms_£âög
.
key_∫g_˙t
; j++)

677 
key_˙t
()(
UNIT_ITEMS_COUNT
 * 
ms_£âög
.
key_di°r
[
j
].
key_¥›
);

678 
°¨t_Àn

ms_£âög
.
key_di°r
[
j
].start_len;

679 
íd_Àn

ms_£âög
.
key_di°r
[
j
].end_len;

680 i‡((
°¨t_Àn
 < 
MIN_KEY_SIZE
Ë|| (
íd_Àn
 < MIN_KEY_SIZE))

682 
	`Ârötf
(
°dîr
, "keyÜength must be greaterÅhan 16 bytes.\n");

683 
	`exô
(1);

686 i‡(! 
ms_£âög
.
bö¨y_¥Ÿ_


687 && ((
°¨t_Àn
 > 
MAX_KEY_SIZE
Ë|| (
íd_Àn
 > MAX_KEY_SIZE)))

689 
	`Ârötf
(
°dîr
, "keyÜength must beÜessÅhan 250 bytes.\n");

690 
	`exô
(1);

693 
avîage_Àn
(
°¨t_Àn
 + 
íd_Àn
) / 2;

694 
diff_Àn
(
íd_Àn
 - 
°¨t_Àn
) / 2;

695 
k
0; k < 
key_˙t
; k++)

697 i‡(
off£t
 >(
m
 + 1Ë* 
UNIT_ITEMS_COUNT
)

701 
∫d
()
	`øndom
();

702 i‡(
k
 % 2 == 0)

704 
ms_£âög
.
di°r
[
off£t
].
key_size
=

705 (
diff_Àn
 =0Ë? 
avîage_Àn
 :

706 
avîage_Àn
 + (
size_t
)
∫d


707 % 
diff_Àn
;

711 
ms_£âög
.
di°r
[
off£t
].
key_size
=

712 (
diff_Àn
 =0Ë? 
avîage_Àn
 :

713 
avîage_Àn
 - (
size_t
)
∫d


714 % 
diff_Àn
;

716 
off£t
++;

720 i‡(
off£t
 < (
m
 + 1Ë* 
UNIT_ITEMS_COUNT
)

722 
íd
(
m
 + 1Ë* 
UNIT_ITEMS_COUNT
 - 
off£t
;

723 
i
0; i < 
íd
; i++)

725 
ms_£âög
.
di°r
[
off£t
].
key_size
ms_£âög.
avg_key_size
;

726 
off£t
++;

730 
off£t
= 0;

733 i‡(
ms_£âög
.
fixed_vÆue_size
 != 0)

735 
i
0; i < 
unôs
 * 
UNIT_ITEMS_COUNT
; i++)

737 
ms_£âög
.
di°r
[
i
].
vÆue_size
ms_£âög.
fixed_vÆue_size
;

742 
m
0; m < 
unôs
; m++)

744 
j
0; j < 
ms_£âög
.
vÆ_∫g_˙t
; j++)

746 
vÆue_˙t
=

747 ()(
UNIT_ITEMS_COUNT
 * 
ms_£âög
.
vÆue_di°r
[
j
].
vÆue_¥›
);

748 
°¨t_Àn

ms_£âög
.
vÆue_di°r
[
j
].start_len;

749 
íd_Àn

ms_£âög
.
vÆue_di°r
[
j
].end_len;

750 i‡((
°¨t_Àn
 <0Ë|| (
íd_Àn
 <= 0))

752 
	`Ârötf
(
°dîr
, "valueÜength must be greaterÅhan 0 bytes.\n");

753 
	`exô
(1);

756 i‡((
°¨t_Àn
 > 
MAX_VALUE_SIZE
Ë|| (
íd_Àn
 > MAX_VALUE_SIZE))

758 
	`Ârötf
(
°dîr
, "keyÜength must beÜessÅhan orÉqualÅo 1M.\n");

759 
	`exô
(1);

762 
avîage_Àn
(
°¨t_Àn
 + 
íd_Àn
) / 2;

763 
diff_Àn
(
íd_Àn
 - 
°¨t_Àn
) / 2;

764 
k
0; k < 
vÆue_˙t
; k++)

766 i‡(
off£t
 >(
m
 + 1Ë* 
UNIT_ITEMS_COUNT
)

770 
∫d
()
	`øndom
();

771 i‡(
k
 % 2 == 0)

773 
ms_£âög
.
di°r
[
off£t
].
vÆue_size
=

774 (
diff_Àn
 =0Ë? 
avîage_Àn
 :

775 
avîage_Àn


776 + (
size_t
)
∫d
 % 
diff_Àn
;

780 
ms_£âög
.
di°r
[
off£t
].
vÆue_size
=

781 (
diff_Àn
 =0Ë? 
avîage_Àn
 :

782 
avîage_Àn


783 - (
size_t
)
∫d
 % 
diff_Àn
;

785 
off£t
++;

789 i‡(
off£t
 < (
m
 + 1Ë* 
UNIT_ITEMS_COUNT
)

791 
íd
(
m
 + 1Ë* 
UNIT_ITEMS_COUNT
 - 
off£t
;

792 
i
0; i < 
íd
; i++)

794 
ms_£âög
.
di°r
[
off£t
++].
vÆue_size
ms_£âög.
avg_vÆ_size
;

801 
i
0; i < 
unôs
; i++)

803 
di°r
&
ms_£âög
.di°r[
i
 * 
UNIT_ITEMS_COUNT
];

804 
j
= 0; j < 4; j++)

806 
	`ms_shufÊe_di°r
(
di°r
, 
UNIT_ITEMS_COUNT
);

809 
	}
}

819 
	$ms_öô_øndom_block
()

821 *
±r

NULL
;

823 
	`as£π
(
ms_£âög
.
ch¨_blk_size
 > 0);

825 
ms_£âög
.
ch¨_block
(*)
	`mÆloc
(ms_£âög.
ch¨_blk_size
);

826 i‡(
ms_£âög
.
ch¨_block
 =
NULL
)

828 
	`Ârötf
(
°dîr
, "Can'tállocate global char block.");

829 
	`exô
(1);

831 
±r

ms_£âög
.
ch¨_block
;

833 
i
0; (
size_t
)ò< 
ms_£âög
.
ch¨_blk_size
; i++)

835 *(
±r
++)
ALPHANUMBERICS
[
	`øndom
(Ë% 
CHAR_COUNT
];

837 
	}
}

844 
	$ms_¥öt_£âög
()

846 
	`Ârötf
(
°dout
, "£rvî†: %s\n", 
ms_£âög
.
§v_°r
);

847 
	`Ârötf
(
°dout
, "thªad†cou¡: %d\n", 
ms_£âög
.
¡hªads
);

848 
	`Ârötf
(
°dout
, "c⁄cuºícy: %d\n", 
ms_£âög
.
nc⁄ns
);

849 i‡(
ms_£âög
.
run_time
 > 0)

851 
	`Ârötf
(
°dout
, "ru¿time: %ds\n", 
ms_£âög
.
run_time
);

855 
	`Ârötf
(
°dout
, "execuãÇumbî: %" 
PRId64
 "\n", 
ms_£âög
.
exec_num
);

857 
	`Ârötf
(
°dout
, "wödow†size: %" 
PRId64
 "k\n",

858 (
öt64_t
)(
ms_£âög
.
wö_size
 / 1024));

859 
	`Ârötf
(
°dout
, "setÖroportion: set_prop=%.2f\n",

860 
ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
);

861 
	`Ârötf
(
°dout
, "getÖroportion: get_prop=%.2f\n",

862 
ms_£âög
.
cmd_di°r
[
CMD_GET
].
cmd_¥›
);

863 
	`fÊush
(
°dout
);

864 
	}
}

870 
	$ms_£âög_¶≠mode_öô_¥e
()

872 
ms_£âög
.
exec_num

DEFAULT_EXE_NUM
;

873 
ms_£âög
.
vîify_≥r˚¡

DEFAULT_VERIFY_RATE
;

874 
ms_£âög
.
exp_vî_≥r

DEFAULT_VERIFY_RATE
;

875 
ms_£âög
.
ovîwrôe_≥r˚¡

DEFAULT_OVERWRITE_RATE
;

876 
ms_£âög
.
mu…_key_num

DEFAULT_DIV
;

877 
ms_£âög
.
fixed_vÆue_size
= 0;

878 
ms_£âög
.
wö_size

DEFAULT_WINDOW_SIZE
;

879 
ms_£âög
.
udp

Ál£
;

880 
ms_£âög
.
ªc⁄√˘

Ál£
;

881 
ms_£âög
.
vîbo£

Ál£
;

882 
ms_£âög
.
Á˚book_ã°

Ál£
;

883 
ms_£âög
.
bö¨y_¥Ÿ_

Ál£
;

884 
ms_£âög
.
°©_‰eq
= 0;

885 
ms_£âög
.
§v_°r

NULL
;

886 
ms_£âög
.
cfg_fûe

NULL
;

887 
ms_£âög
.
sock_≥r_c⁄n

DEFAULT_SOCK_PER_CONN
;

888 
ms_£âög
.
ex≥˘ed_çs
= 0;

889 
ms_£âög
.
ªp_wrôe_§v
= 0;

890 
	}
}

896 
	$ms_£âög_öô_¥e
()

898 
	`mem£t
(&
ms_£âög
, 0, (ms_setting));

901 
ms_£âög
.
n˝u

	`ms_gë_˝u_cou¡
();

902 
ms_£âög
.
¡hªads

DEFAULT_THREADS_NUM
;

903 
ms_£âög
.
nc⁄ns

DEFAULT_CONNS_NUM
;

904 
ms_£âög
.
run_time

DEFAULT_RUN_TIME
;

905 
ms_£âög
.
tŸÆ_§v_˙t

MCD_SRVS_NUM_INIT
;

906 
ms_£âög
.
£rvîs
(
ms_mcd_£rvî_t
 *)
	`mÆloc
(

907 (
size_t
)
ms_£âög
.
tŸÆ_§v_˙t


908 * (
ms_mcd_£rvî_t
));

909 i‡(
ms_£âög
.
£rvîs
 =
NULL
)

911 
	`Ârötf
(
°dîr
, "Can'tállocate servers structure.\n");

912 
	`exô
(1);

915 
	`ms_£âög_¶≠mode_öô_¥e
();

916 
	}
}

922 
	$ms_£âög_¶≠mode_öô_po°
()

924 
ms_£âög
.
tŸÆ_key_∫g_˙t

KEY_RANGE_COUNT_INIT
;

925 
ms_£âög
.
key_di°r
=

926 (
ms_key_di°r_t
 *)
	`mÆloc
((
size_t
)
ms_£âög
.
tŸÆ_key_∫g_˙t
 * (ms_key_distr_t));

928 i‡(
ms_£âög
.
key_di°r
 =
NULL
)

930 
	`Ârötf
(
°dîr
, "Can'tállocate key distribution structure.\n");

931 
	`exô
(1);

934 
ms_£âög
.
tŸÆ_vÆ_∫g_˙t

VALUE_RANGE_COUNT_INIT
;

936 
ms_£âög
.
vÆue_di°r
=

937 (
ms_vÆue_di°r_t
 *)
	`mÆloc
((
size_t
)
ms_£âög
.
tŸÆ_vÆ_∫g_˙t
 * ( ms_value_distr_t));

939 i‡(
ms_£âög
.
vÆue_di°r
 =
NULL
)

941 
	`Ârötf
(
°dîr
, "Can'tállocate value distribution structure.\n");

942 
	`exô
(1);

945 
	`ms_∑r£_cfg_fûe
(
ms_£âög
.
cfg_fûe
);

948 i‡((
ms_£âög
.
exec_num
 =0Ë&& (ms_£âög.
run_time
 != 0))

950 
ms_£âög
.
exec_num
(
öt64_t
)
MAX_EXEC_NUM
;

955 
ms_£âög
.
run_time
= 0;

958 i‡(
ms_£âög
.
ªp_wrôe_§v
 > 0)

961 
ms_£âög
.
ªc⁄√˘

åue
;

964 i‡(
ms_£âög
.
Á˚book_ã°
 && (ms_£âög.
mu…_key_num
 < 2))

966 
	`Ârötf
(
°dîr
, "facebookÅest must work with multi-get, "

969 
	`exô
(1);

972 i‡(
ms_£âög
.
Á˚book_ã°
 && ms_£âög.
udp
)

974 
	`Ârötf
(
°dîr
, "facebookÅest couldn't work with UDP.\n");

975 
	`exô
(1);

978 i‡(
ms_£âög
.
udp
 && (ms_£âög.
sock_≥r_c⁄n
 > 1))

980 
	`Ârötf
(
°dîr
, "UDP doesn't support multi-socks "

982 
	`exô
(1);

985 i‡((
ms_£âög
.
ªp_wrôe_§v
 > 0Ë&& (ms_£âög.
§v_˙t
 < 2))

987 
	`Ârötf
(
°dîr
, "Please specify 2 serversátÜeast forÑeplication\n");

988 
	`exô
(1);

991 i‡((
ms_£âög
.
ªp_wrôe_§v
 > 0)

992 && (
ms_£âög
.
§v_˙t
 < ms_£âög.
ªp_wrôe_§v
))

994 
	`Ârötf
(
°dîr
, "ServersÅo doÑeplication writing "

996 
	`exô
(1);

999 i‡(
ms_£âög
.
udp
 && (ms_£âög.
ªp_wrôe_§v
 > 0))

1001 
	`Ârötf
(
°dîr
, "UDP doesn't supportÑeplication.\n");

1002 
	`exô
(1);

1005 i‡(
ms_£âög
.
Á˚book_ã°
 && (ms_£âög.
ªp_wrôe_§v
 > 0))

1007 
	`Ârötf
(
°dîr
, "facebookÅest couldn't work withÑeplication.\n");

1008 
	`exô
(1);

1011 
	`ms_buûd_di°r
();

1014 
	`ms_öô_øndom_block
();

1015 
	`ms_¥öt_£âög
();

1016 
	}
}

1022 
	$ms_£âög_öô_po°
()

1024 
	`ms_gë_£rvîli°
(
ms_£âög
.
§v_°r
);

1025 
	`ms_£âög_¶≠mode_öô_po°
();

1026 
	}
}

1032 
	$ms_£âög_˛ónup
()

1034 i‡(
ms_£âög
.
di°r
 !
NULL
)

1036 
	`‰ì
(
ms_£âög
.
di°r
);

1039 i‡(
ms_£âög
.
ch¨_block
 !
NULL
)

1041 
	`‰ì
(
ms_£âög
.
ch¨_block
);

1044 i‡(
ms_£âög
.
§v_°r
 !
NULL
)

1046 
	`‰ì
(
ms_£âög
.
§v_°r
);

1049 i‡(
ms_£âög
.
cfg_fûe
 !
NULL
)

1051 
	`‰ì
(
ms_£âög
.
cfg_fûe
);

1054 i‡(
ms_£âög
.
£rvîs
 !
NULL
)

1056 
	`‰ì
(
ms_£âög
.
£rvîs
);

1059 i‡(
ms_£âög
.
key_di°r
 !
NULL
)

1061 
	`‰ì
(
ms_£âög
.
key_di°r
);

1064 i‡(
ms_£âög
.
vÆue_di°r
 !
NULL
)

1066 
	`‰ì
(
ms_£âög
.
vÆue_di°r
);

1068 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_setting.h

11 #i‚de‡
MS_SETTING_H


12 
	#MS_SETTING_H


	)

14 
	~"ms_mem¶≠.h
"

16 #ifde‡
__˝lu•lus


20 
	#MCD_SRVS_NUM_INIT
 8

	)

21 
	#MCD_HOST_LENGTH
 64

	)

22 
	#KEY_RANGE_COUNT_INIT
 8

	)

23 
	#VALUE_RANGE_COUNT_INIT
 8

	)

24 
	#PROP_ERROR
 0.001

	)

26 
	#MIN_KEY_SIZE
 16

	)

27 
	#MAX_KEY_SIZE
 250

	)

28 
	#MAX_VALUE_SIZE
 (1024 * 1024)

	)

31 
	#DEFAULT_CONGIF_STR
 \

38 "1 0.9"

	)

41 
	stokí_s


43 *
vÆue
;

44 
size_t
 
Àngth
;

45 } 
	ttokí_t
;

47 
	#MAX_TOKENS
 10

	)

50 
	smcd_£vî


52 
§v_ho°_«me
[
MCD_HOST_LENGTH
];

53 
§v_p‹t
;

56 vﬁ©ûê
uöt32_t
 
disc⁄n_˙t
;

57 vﬁ©ûê
uöt32_t
 
ªc⁄n_˙t
;

58 
timevÆ
 
disc⁄n_time
;

59 
timevÆ
 
ªc⁄n_time
;

60 } 
	tms_mcd_£rvî_t
;

63 
	sdi°r


65 
size_t
 
key_size
;

66 
key_off£t
;

67 
size_t
 
vÆue_size
;

68 } 
	tms_di°r_t
;

71 
	skey_di°r


73 
size_t
 
°¨t_Àn
;

74 
size_t
 
íd_Àn
;

75 
key_¥›
;

76 } 
	tms_key_di°r_t
;

79 
	svÆue_di°r


81 
size_t
 
°¨t_Àn
;

82 
size_t
 
íd_Àn
;

83 
vÆue_¥›
;

84 } 
	tms_vÆue_di°r_t
;

87 
	ecmd_ty≥


89 
CMD_SET
,

90 
CMD_GET
,

91 
CMD_NULL


92 } 
	tms_cmd_ty≥_t
;

95 
	ec⁄f_ty≥


97 
CONF_KEY
,

98 
CONF_VALUE
,

99 
CONF_CMD
,

100 
CONF_NULL


101 } 
	tms_c⁄f_ty≥_t
;

104 
	scmd_di°r


106 
ms_cmd_ty≥_t
 
cmd_ty≥
;

107 
cmd_¥›
;

108 } 
	tms_cmd_di°r_t
;

111 
	s£âög


113 
uöt32_t
 
n˝u
;

114 
uöt32_t
 
¡hªads
;

115 
uöt32_t
 
nc⁄ns
;

116 
öt64_t
 
exec_num
;

117 
run_time
;

119 
uöt32_t
 
ch¨_blk_size
;

120 *
ch¨_block
;

121 
ms_di°r_t
 *
di°r
;

123 *
§v_°r
;

124 *
cfg_fûe
;

126 
ms_mcd_£rvî_t
 *
£rvîs
;

127 
uöt32_t
 
tŸÆ_§v_˙t
;

128 
uöt32_t
 
§v_˙t
;

130 
ms_key_di°r_t
 *
key_di°r
;

131 
tŸÆ_key_∫g_˙t
;

132 
key_∫g_˙t
;

134 
ms_vÆue_di°r_t
 *
vÆue_di°r
;

135 
tŸÆ_vÆ_∫g_˙t
;

136 
vÆ_∫g_˙t
;

138 
ms_cmd_di°r_t
 
cmd_di°r
[
CMD_NULL
];

139 
cmd_u£d_cou¡
;

141 
size_t
 
fixed_vÆue_size
;

142 
size_t
 
avg_vÆ_size
;

143 
size_t
 
avg_key_size
;

145 
vîify_≥r˚¡
;

146 
exp_vî_≥r
;

147 
ovîwrôe_≥r˚¡
;

148 
mu…_key_num
;

149 
size_t
 
wö_size
;

150 
boﬁ
 
udp
;

151 
°©_‰eq
;

152 
boﬁ
 
ªc⁄√˘
;

153 
boﬁ
 
vîbo£
;

154 
boﬁ
 
Á˚book_ã°
;

155 
uöt32_t
 
sock_≥r_c⁄n
;

156 
boﬁ
 
bö¨y_¥Ÿ_
;

157 
ex≥˘ed_çs
;

158 
uöt32_t
 
ªp_wrôe_§v
;

159 } 
	tms_£âög_°
;

161 
ms_£âög_°
 
ms_£âög
;

164 
ms_£âög_öô_¥e
();

168 
ms_£âög_öô_po°
();

172 
ms_£âög_˛ónup
();

175 
	#UNUSED_ARGUMENT
(
x
Ë()
	)
x

177 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_sigsegv.c

15 
	~"mem_c⁄fig.h
"

17 
	~<mem‹y.h
>

18 
	~<°dlib.h
>

19 
	~<°dio.h
>

20 
	~<sig«l.h
>

21 
	~<±hªad.h
>

23 
	~"ms_mem¶≠.h
"

24 
	~"ms_£âög.h
"

27 
ms_£tup_sig£gv
();

28 
ms_£tup_sigpùe
();

29 
ms_£tup_sigöt
();

33 
	$ms_sig«l_£gv
(
signum
, 
sigöfo_t
 *
öfo
, *
±r
)

35 
	`UNUSED_ARGUMENT
(
signum
);

36 
	`UNUSED_ARGUMENT
(
öfo
);

37 
	`UNUSED_ARGUMENT
(
±r
);

39 
	`±hªad_muãx_lock
(&
ms_globÆ
.
quô_muãx
);

40 
	`Ârötf
(
°dîr
, "Segmentation fault occurred.\nStackÅrace:\n");

42 
	`∑nd‹a_¥öt_ˇŒ°ack
(
°dîr
);

44 
	`Ârötf
(
°dîr
, "End of stackÅrace\n");

45 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
quô_muãx
);

46 
	`ab‹t
();

47 
	}
}

50 
	$ms_sig«l_öt
(
signum
, 
sigöfo_t
 *
öfo
, *
±r
)

52 
	`UNUSED_ARGUMENT
(
signum
);

53 
	`UNUSED_ARGUMENT
(
öfo
);

54 
	`UNUSED_ARGUMENT
(
±r
);

56 
	`±hªad_muãx_lock
(&
ms_globÆ
.
quô_muãx
);

57 
	`Ârötf
(
°dîr
, "SIGINT handled.\n");

58 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
quô_muãx
);

59 
	`exô
(1);

60 
	}
}

68 
	$ms_£tup_sig£gv
()

70 
siga˘i⁄
 
a˘i⁄
;

72 
	`mem£t
(&
a˘i⁄
, 0, (action));

73 
a˘i⁄
.
ß_siga˘i⁄

ms_sig«l_£gv
;

74 
a˘i⁄
.
ß_Êags

SA_SIGINFO
;

75 i‡(
	`siga˘i⁄
(
SIGSEGV
, &
a˘i⁄
, 
NULL
) < 0)

77 
	`≥º‹
("sigaction");

78  
EXIT_SUCCESS
;

82 
	}
}

90 
	$ms_£tup_sigpùe
()

93 
	`sig«l
(
SIGPIPE
, 
SIG_IGN
);

96 
	}
}

104 
	$ms_£tup_sigöt
()

106 
siga˘i⁄
 
a˘i⁄_3
;

108 
	`mem£t
(&
a˘i⁄_3
, 0, (action_3));

109 
a˘i⁄_3
.
ß_siga˘i⁄

ms_sig«l_öt
;

110 
a˘i⁄_3
.
ß_Êags

SA_SIGINFO
;

111 i‡(
	`siga˘i⁄
(
SIGINT
, &
a˘i⁄_3
, 
NULL
) < 0)

113 
	`≥º‹
("sigaction");

114  
EXIT_SUCCESS
;

118 
	}
}

121 #i‚de‡
SIGSEGV_NO_AUTO_INIT


122 
__©åibuã
((
c⁄°ru˘‹
)Ë
	$ms_öô
()

124 
	`ms_£tup_sig£gv
();

125 
	`ms_£tup_sigpùe
();

126 
	`ms_£tup_sigöt
();

127 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_sigsegv.h

11 #i‚de‡
MS_SIGSEGV_H


12 
	#MS_SIGSEGV_H


	)

14 #ifde‡
__˝lu•lus


19 
ms_£tup_sig£gv
();

23 
ms_£tup_sigpùe
();

27 
ms_£tup_sigöt
();

30 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_stats.c

12 
	~"mem_c⁄fig.h
"

14 
	~<öây≥s.h
>

15 
	~"ms_°©s.h
"

17 
	#¨øy_size
(
x
Ë((xË/ ((x)[0]))

	)

19 
ms_loˇl_log2
(
uöt64_t
 
vÆue
);

20 
uöt64_t
 
ms_gë_evíts
(
ms_°©_t
 *
°©
);

30 
	$ms_loˇl_log2
(
uöt64_t
 
vÆue
)

32 
ªsu…
= 0;

34 
ªsu…
 <63 && ((
uöt64_t
)1 <<Ñesu…Ë< 
vÆue
)

36 
ªsu…
++;

39  
ªsu…
;

40 
	}
}

49 
	$ms_öô_°©s
(
ms_°©_t
 *
°©
, c⁄° *
«me
)

51 
	`mem£t
(
°©
, 0, (*stat));

53 
°©
->
«me
= (*)name;

54 
°©
->
mö_time
(
uöt64_t
)-1;

55 
°©
->
max_time
= 0;

56 
°©
->
≥riod_mö_time
(
uöt64_t
)-1;

57 
°©
->
≥riod_max_time
= 0;

58 
°©
->
log_¥odu˘
= 0;

59 
°©
->
tŸÆ_time
= 0;

60 
°©
->
¥e_tŸÆ_time
= 0;

61 
°©
->
squ¨es
= 0;

62 
°©
->
¥e_squ¨es
= 0;

63 
°©
->
¥e_evíts
= 0;

64 
°©
->
¥e_log_¥odu˘
= 0;

65 
°©
->
gë_miss
= 0;

66 
°©
->
¥e_gë_miss
= 0;

67 
	}
}

77 
	$ms_ªc‹d_evít
(
ms_°©_t
 *
°©
, 
uöt64_t
 
tŸÆ_time
, 
gë_miss
)

79 
°©
->
tŸÆ_time
+=Åotal_time;

81 i‡(
tŸÆ_time
 < 
°©
->
mö_time
)

83 
°©
->
mö_time

tŸÆ_time
;

86 i‡(
tŸÆ_time
 > 
°©
->
max_time
)

88 
°©
->
max_time

tŸÆ_time
;

91 i‡(
tŸÆ_time
 < 
°©
->
≥riod_mö_time
)

93 
°©
->
≥riod_mö_time

tŸÆ_time
;

96 i‡(
tŸÆ_time
 > 
°©
->
≥riod_max_time
)

98 
°©
->
≥riod_max_time

tŸÆ_time
;

101 i‡(
gë_miss
)

103 
°©
->
gë_miss
++;

106 
°©
->
di°
[
	`ms_loˇl_log2
(
tŸÆ_time
)]++;

107 
°©
->
squ¨es
+()(
tŸÆ_time
 *Åotal_time);

109 i‡(
tŸÆ_time
 != 0)

111 
°©
->
log_¥odu˘
+
	`log
(()
tŸÆ_time
);

113 
	}
}

123 
uöt64_t
 
	$ms_gë_evíts
(
ms_°©_t
 *
°©
)

125 
uöt64_t
 
evíts
= 0;

127 
uöt32_t
 
i
0; i < 
	`¨øy_size
(
°©
->
di°
); i++)

129 
evíts
+
°©
->
di°
[
i
];

132  
evíts
;

133 
	}
}

141 
	$ms_dump_°©s
(
ms_°©_t
 *
°©
)

143 
uöt64_t
 
evíts
= 0;

144 
max_n⁄_zîo
= 0;

145 
mö_n⁄_zîo
= 0;

146 
avîage
= 0;

148 
uöt32_t
 
i
0; i < 
	`¨øy_size
(
°©
->
di°
); i++)

150 
evíts
+
°©
->
di°
[
i
];

151 i‡(
°©
->
di°
[
i
] != 0)

153 
max_n⁄_zîo
()
i
;

157 i‡(
evíts
 == 0)

161 
avîage
()(
°©
->
tŸÆ_time
 / 
evíts
);

163 
	`¥ötf
("%†Sèti°ic†(%ŒdÉvíts)\n", 
°©
->
«me
, ()
evíts
);

164 
	`¥ötf
(" Mö: %8Œd\n", ()
°©
->
mö_time
);

165 
	`¥ötf
(" Max: %8Œd\n", ()
°©
->
max_time
);

166 
	`¥ötf
(" Avg: %8Œd\n", ()(
°©
->
tŸÆ_time
 / 
evíts
));

167 
	`¥ötf
(" Geo: %8.2lf\n", 
	`exp
(
°©
->
log_¥odu˘
 / ()
evíts
));

169 i‡(
evíts
 > 1)

171 
	`¥ötf
(" Std: %8.2lf\n",

172 
	`sqπ
((
°©
->
squ¨es
 - ()
evíts
 * 
avîage


173 * 
avîage
Ë/ (()
evíts
 - 1)));

175 
	`¥ötf
(" Log2 Dist:");

177 
i
0; i <
max_n⁄_zîo
 - 4; i+= 4)

179 i‡((
°©
->
di°
[
i
 + 0] != 0)

180 || (
°©
->
di°
[
i
 + 1] != 0)

181 || (
°©
->
di°
[
i
 + 2] != 0)

182 || (
°©
->
di°
[
i
 + 3] != 0))

184 
mö_n⁄_zîo

i
;

189 
i

mö_n⁄_zîo
; i <
max_n⁄_zîo
; i++)

191 i‡((
i
 % 4) == 0)

193 
	`¥ötf
("\¿ %2d:", ()
i
);

195 
	`¥ötf
(" %6" 
PRIu64
 , 
°©
->
di°
[
i
]);

198 
	`¥ötf
("\n\n");

199 
	}
}

210 
	$ms_dump_f‹m©_°©s
(
ms_°©_t
 *
°©
,

211 
run_time
,

212 
‰eq
,

213 
obj_size
)

215 
uöt64_t
 
evíts
= 0;

216 
globÆ_avîage
= 0;

217 
uöt64_t
 
globÆ_çs
= 0;

218 
globÆ_øã
= 0;

219 
globÆ_°d
= 0;

220 
globÆ_log
= 0;

222 
≥riod_avîage
= 0;

223 
uöt64_t
 
≥riod_çs
= 0;

224 
≥riod_øã
= 0;

225 
≥riod_°d
= 0;

226 
≥riod_log
= 0;

228 i‡((
evíts

	`ms_gë_evíts
(
°©
)) == 0)

233 
globÆ_avîage
()(
°©
->
tŸÆ_time
 / 
evíts
);

234 
globÆ_çs

evíts
 / (
uöt64_t
)
run_time
;

235 
globÆ_øã
()
evíts
 * 
obj_size
 / 1024 / 1024 / 
run_time
;

236 
globÆ_°d

	`sqπ
((
°©
->
squ¨es
 - ()
evíts
 * 
globÆ_avîage


237 * 
globÆ_avîage
Ë/ ()(
evíts
 - 1));

238 
globÆ_log

	`exp
(
°©
->
log_¥odu˘
 / ()
evíts
);

240 
uöt64_t
 
diff_time

°©
->
tŸÆ_time
 - sèt->
¥e_tŸÆ_time
;

241 
uöt64_t
 
diff_evíts

evíts
 - 
°©
->
¥e_evíts
;

242 i‡(
diff_evíts
 >= 1)

244 
≥riod_avîage
()(
diff_time
 / 
diff_evíts
);

245 
≥riod_çs

diff_evíts
 / (
uöt64_t
)
‰eq
;

246 
≥riod_øã
()
diff_evíts
 * 
obj_size
 / 1024 / 1024 / 
‰eq
;

247 
diff_squ¨es
()
°©
->
squ¨es
 - ()°©->
¥e_squ¨es
;

248 
≥riod_°d

	`sqπ
((
diff_squ¨es
 - ()
diff_evíts
 * 
≥riod_avîage


249 * 
≥riod_avîage
Ë/ ()(
diff_evíts
 - 1));

250 
diff_log_¥odu˘

°©
->
log_¥odu˘
 - sèt->
¥e_log_¥odu˘
;

251 
≥riod_log

	`exp
(
diff_log_¥odu˘
 / ()
diff_evíts
);

254 
	`¥ötf
("%†Sèti°ics\n", 
°©
->
«me
);

255 
	`¥ötf
("%-8s %-8s %-12s %-12s %-10s %-10s %-8s %-10s %-10s %-10s %-10s\n",

268 
	`¥ötf
(

271 
‰eq
,

272 ()
diff_evíts
,

273 ()
≥riod_çs
,

274 
globÆ_øã
,

275 ()(
°©
->
gë_miss
 - sèt->
¥e_gë_miss
),

276 ()
°©
->
≥riod_mö_time
,

277 ()
°©
->
≥riod_max_time
,

278 ()
≥riod_avîage
,

279 
≥riod_°d
,

280 
≥riod_log
);

282 
	`¥ötf
(

285 
run_time
,

286 ()
evíts
,

287 ()
globÆ_çs
,

288 
≥riod_øã
,

289 ()
°©
->
gë_miss
,

290 ()
°©
->
mö_time
,

291 ()
°©
->
max_time
,

292 ()
globÆ_avîage
,

293 
globÆ_°d
,

294 
globÆ_log
);

296 
°©
->
¥e_evíts

evíts
;

297 
°©
->
¥e_squ¨es
(
uöt64_t
)°©->
squ¨es
;

298 
°©
->
¥e_tŸÆ_time
°©->
tŸÆ_time
;

299 
°©
->
¥e_log_¥odu˘
°©->
log_¥odu˘
;

300 
°©
->
≥riod_mö_time
(
uöt64_t
)-1;

301 
°©
->
≥riod_max_time
= 0;

302 
°©
->
¥e_gë_miss
°©->
gë_miss
;

303 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_stats.h

11 #i‚de‡
MS_STAT_H


12 
	#MS_STAT_H


	)

14 
	~<m©h.h
>

15 
	~<uni°d.h
>

16 
	~<°dio.h
>

17 
	~<°dlib.h
>

18 
	~<°döt.h
>

19 
	~<°rög.h
>

21 #ifde‡
__˝lu•lus


28 *
«me
;

29 
uöt64_t
 
tŸÆ_time
;

30 
uöt64_t
 
mö_time
;

31 
uöt64_t
 
max_time
;

32 
uöt64_t
 
gë_miss
;

33 
uöt64_t
 
di°
[65];

34 
squ¨es
;

35 
log_¥odu˘
;

37 
uöt64_t
 
≥riod_mö_time
;

38 
uöt64_t
 
≥riod_max_time
;

39 
uöt64_t
 
¥e_gë_miss
;

40 
uöt64_t
 
¥e_evíts
;

41 
uöt64_t
 
¥e_tŸÆ_time
;

42 
uöt64_t
 
¥e_squ¨es
;

43 
¥e_log_¥odu˘
;

44 } 
	tms_°©_t
;

47 
ms_öô_°©s
(
ms_°©_t
 *
°©
, c⁄° *
«me
);

51 
ms_ªc‹d_evít
(
ms_°©_t
 *
°©
, 
uöt64_t
 
time
, 
gë_miss
);

55 
ms_dump_°©s
(
ms_°©_t
 *
°©
);

59 
ms_dump_f‹m©_°©s
(
ms_°©_t
 *
°©
,

60 
run_time
,

61 
‰eq
,

62 
obj_size
);

65 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_task.c

12 
	~"mem_c⁄fig.h
"

14 #i‡
deföed
(
HAVE_SYS_TIME_H
)

15 
	~<sys/time.h
>

18 #i‡
deföed
(
HAVE_TIME_H
)

19 
	~<time.h
>

22 
	~"ms_thªad.h
"

23 
	~"ms_£âög.h
"

24 
	~"ms_©omic.h
"

27 
	#CMD_DISTR_ADJUST_CYCLE
 1000

	)

28 
	#DISADJUST_FACTOR
 0.03

	)

36 
ms_èsk_ôem_t
 *
ms_gë_cur_›t_ôem
(
ms_c⁄n_t
 *
c
);

37 
ms_èsk_ôem_t
 *
ms_gë_√xt_gë_ôem
(
ms_c⁄n_t
 *
c
);

38 
ms_èsk_ôem_t
 *
ms_gë_√xt_£t_ôem
(
ms_c⁄n_t
 *
c
);

39 
ms_èsk_ôem_t
 *
ms_gë_øndom_ovîwrôe_ôem
(
ms_c⁄n_t
 *
c
);

43 
ms_£À˘_›t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_t
 *
èsk
);

47 
boﬁ
 
ms_is_£t_too_Á°
(
ms_èsk_t
 *
èsk
);

48 
boﬁ
 
ms_is_gë_too_Á°
(
ms_èsk_t
 *
èsk
);

49 
ms_kick_out_ôem
(
ms_èsk_ôem_t
 *
ôem
);

53 
boﬁ
 
ms_√ed_ovîwrôe_ôem
(
ms_èsk_t
 *
èsk
);

54 
boﬁ
 
ms_adju°_›t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_t
 *
èsk
);

58 
ms_èsk_d©a_vîify_öô
(
ms_èsk_t
 *
èsk
);

59 
ms_èsk_expúe_vîify_öô
(
ms_èsk_t
 *
èsk
);

63 
ms_èsk_t
 *
ms_gë_èsk
(
ms_c⁄n_t
 *
c
, 
boﬁ
 
w¨mup
);

67 
ms_upd©e_£t_ªsu…
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

68 
ms_upd©e_°©_ªsu…
(
ms_c⁄n_t
 *
c
);

69 
ms_upd©e_mu…i_gë_ªsu…
(
ms_c⁄n_t
 *
c
);

70 
ms_upd©e_sögÀ_gë_ªsu…
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
);

71 
ms_upd©e_èsk_ªsu…
(
ms_c⁄n_t
 *
c
);

72 
ms_sögÀ_gë£t_èsk_sch
(
ms_c⁄n_t
 *
c
);

73 
ms_mu…i_gë£t_èsk_sch
(
ms_c⁄n_t
 *
c
);

74 
ms_£nd_sig«l
(
ms_sync_lock_t
 *
sync_lock
);

75 
ms_w¨mup_£rvî
(
ms_c⁄n_t
 *
c
);

76 
ms_run_gë£t_èsk
(
ms_c⁄n_t
 *
c
);

86 
ms_èsk_ôem_t
 *
	$ms_gë_cur_›t_ôem
(
ms_c⁄n_t
 *
c
)

88  
c
->
cuº_èsk
.
ôem
;

89 
	}
}

100 
ms_èsk_ôem_t
 *
	$ms_gë_√xt_gë_ôem
(
ms_c⁄n_t
 *
c
)

102 
ms_èsk_ôem_t
 *
ôem

NULL
;

104 i‡(
c
->
£t_curs‹
 <= 0)

107 
ôem
&
c
->
ôem_wö
[0];

109 i‡(
c
->
£t_curs‹
 > 0 && c->£t_curs‹ < (
uöt32_t
)c->
wö_size
)

112 
ôem
&
c
->
ôem_wö
[
	`øndom
(Ë% (
öt64_t
)c->
£t_curs‹
];

117 
ôem
&
c
->
ôem_wö
[
	`øndom
(Ë% c->
wö_size
];

120  
ôem
;

121 
	}
}

132 
ms_èsk_ôem_t
 *
	$ms_gë_√xt_£t_ôem
(
ms_c⁄n_t
 *
c
)

139  &
c
->
ôem_wö
[(
öt64_t
)c->
£t_curs‹
 % c->
wö_size
];

140 
	}
}

153 
ms_èsk_ôem_t
 *
	$ms_gë_øndom_ovîwrôe_ôem
(
ms_c⁄n_t
 *
c
)

155  
	`ms_gë_√xt_gë_ôem
(
c
);

156 
	}
}

165 
	$ms_£À˘_›t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_t
 *
èsk
)

167 
gë_¥›

ms_£âög
.
cmd_di°r
[
CMD_GET
].
cmd_¥›
;

168 
£t_¥›

ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
;

171 i‡((
èsk
->
cy˛e_undo_gë
 =0Ë|| (èsk->
cy˛e_undo_£t
 == 0))

173 
èsk
->
cy˛e_undo_gë
+()(
CMD_DISTR_ADJUST_CYCLE
 * 
gë_¥›
);

174 
èsk
->
cy˛e_undo_£t
+()(
CMD_DISTR_ADJUST_CYCLE
 * 
£t_¥›
);

182 i‡((
£t_¥›
 > 
PROP_ERROR
)

183 && (()
èsk
->
gë_›t
 * 
£t_¥›
 >(Èask->
£t_›t


184 * 
gë_¥›
))

186 
èsk
->
cmd

CMD_SET
;

187 
èsk
->
ôem

	`ms_gë_√xt_£t_ôem
(
c
);

191 
èsk
->
cmd

CMD_GET
;

192 
èsk
->
ôem

	`ms_gë_√xt_gë_ôem
(
c
);

194 
	}
}

205 
boﬁ
 
	$ms_is_gë_too_Á°
(
ms_èsk_t
 *
èsk
)

207 
gë_¥›

ms_£âög
.
cmd_di°r
[
CMD_GET
].
cmd_¥›
;

208 
£t_¥›

ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
;

211 i‡(
gë_¥›
 < 
PROP_ERROR
)

213  
Ál£
;

216 
max_undo_£t
()(
£t_¥›
 / 
gë_¥›
 * (1.0 + 
DISADJUST_FACTOR
))

217 * 
èsk
->
cy˛e_undo_gë
;

219 i‡((()
èsk
->
gë_›t
 * 
£t_¥›
 > (Èask->
£t_›t
 * 
gë_¥›
)

220 && (
èsk
->
cy˛e_undo_£t
 > 
max_undo_£t
))

222  
åue
;

225  
Ál£
;

226 
	}
}

237 
boﬁ
 
	$ms_is_£t_too_Á°
(
ms_èsk_t
 *
èsk
)

239 
gë_¥›

ms_£âög
.
cmd_di°r
[
CMD_GET
].
cmd_¥›
;

240 
£t_¥›

ms_£âög
.
cmd_di°r
[
CMD_SET
].
cmd_¥›
;

243 i‡(
£t_¥›
 < 
PROP_ERROR
)

245  
Ál£
;

249 
max_undo_gë
()((
gë_¥›
 / 
£t_¥›
 * (1.0 + 
DISADJUST_FACTOR
))

250 * ()
èsk
->
cy˛e_undo_£t
);

252 i‡((()
èsk
->
gë_›t
 * 
£t_¥›
 < (Èask->
£t_›t
 * 
gë_¥›
)

253 && (
èsk
->
cy˛e_undo_gë
 > 
max_undo_gë
))

255  
åue
;

258  
Ál£
;

259 
	}
}

272 
	$ms_kick_out_ôem
(
ms_èsk_ôem_t
 *
ôem
)

275 
ôem
->
key_¥efix

	`ms_gë_key_¥efix
();

277 
ôem
->
key_suffix_off£t
++;

278 
ôem
->
vÆue_off£t

INVALID_OFFSET
;

279 
ôem
->
˛õ¡_time
= 0;

280 
	}
}

292 
boﬁ
 
	$ms_√ed_ovîwrôe_ôem
(
ms_èsk_t
 *
èsk
)

294 
ms_èsk_ôem_t
 *
ôem

èsk
->item;

296 
	`as£π
(
ôem
 !
NULL
);

297 
	`as£π
(
èsk
->
cmd
 =
CMD_SET
);

303 i‡(
èsk
->
ovîwrôe_£t
 < (Èask->
£t_›t


304 * 
ms_£âög
.
ovîwrôe_≥r˚¡
)

306  
åue
;

309  
Ál£
;

310 
	}
}

324 
boﬁ
 
	$ms_adju°_›t
(
ms_c⁄n_t
 *
c
, 
ms_èsk_t
 *
èsk
)

326 
ms_èsk_ôem_t
 *
ôem

èsk
->item;

328 
	`as£π
(
ôem
 !
NULL
);

330 i‡(
èsk
->
cmd
 =
CMD_SET
)

333 i‡(
	`ms_is_£t_too_Á°
(
èsk
))

336 i‡(
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
)

338 
èsk
->
cmd

CMD_GET
;

339  
åue
;

344 i‡(
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
)

346 i‡(
	`ms_√ed_ovîwrôe_ôem
(
èsk
))

349 
èsk
->
ovîwrôe_£t
++;

354 
	`ms_kick_out_ôem
(
ôem
);

360 i‡(
	`ms_√ed_ovîwrôe_ôem
(
èsk
))

366 
c
->
£t_curs‹
--;

368 
ôem

	`ms_gë_øndom_ovîwrôe_ôem
(
c
);

369 i‡(
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
)

371 
èsk
->
ôem
= item;

372 
èsk
->
ovîwrôe_£t
++;

377 
èsk
->
ôem
= item;

381 
èsk
->
cmd

CMD_SET
;

382  
åue
;

386 i‡(
ôem
->
vÆue_off£t
 =
INVALID_OFFSET
)

388 
èsk
->
cmd

CMD_SET
;

389  
åue
;

396 i‡(
	`ms_is_gë_too_Á°
(
èsk
))

399 i‡(! 
	`ms_is_£t_too_Á°
(
èsk
))

401 
	`ms_kick_out_ôem
(
ôem
);

402 
èsk
->
cmd

CMD_SET
;

403  
åue
;

407  
Ál£
;

411 
	`as£π
(
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
);

413 
èsk
->
cmd

CMD_GET
;

414  
åue
;

416 
	}
}

424 
	$ms_èsk_d©a_vîify_öô
(
ms_èsk_t
 *
èsk
)

426 
ms_èsk_ôem_t
 *
ôem

èsk
->item;

428 
	`as£π
(
ôem
 !
NULL
);

429 
	`as£π
(
èsk
->
cmd
 =
CMD_GET
);

435 i‡(
èsk
->
vîifõd_gë
 < (Èask->
gë_›t


436 * 
ms_£âög
.
vîify_≥r˚¡
)

442 i‡((
èsk
->
ôem
->
vÆue_off£t
 !
INVALID_OFFSET
)

443 && (
ôem
->
exp_time
 == 0))

445 
èsk
->
vîify

åue
;

446 
èsk
->
föish_vîify

Ál£
;

447 
èsk
->
vîifõd_gë
++;

450 
	}
}

458 
	$ms_èsk_expúe_vîify_öô
(
ms_èsk_t
 *
èsk
)

460 
ms_èsk_ôem_t
 *
ôem

èsk
->item;

462 
	`as£π
(
ôem
 !
NULL
);

463 
	`as£π
(
èsk
->
cmd
 =
CMD_GET
);

464 
	`as£π
(
ôem
->
exp_time
 > 0);

466 
èsk
->
vîify

åue
;

467 
èsk
->
föish_vîify

Ál£
;

468 
	}
}

481 
ms_èsk_t
 *
	$ms_gë_èsk
(
ms_c⁄n_t
 *
c
, 
boﬁ
 
w¨mup
)

483 
ms_èsk_t
 *
èsk
&
c
->
cuº_èsk
;

487 
èsk
->
vîify

Ál£
;

488 
èsk
->
föish_vîify

åue
;

489 
èsk
->
gë_miss

åue
;

491 i‡(
w¨mup
)

493 
èsk
->
cmd

CMD_SET
;

494 
èsk
->
ôem

	`ms_gë_√xt_£t_ôem
(
c
);

496  
èsk
;

500 
	`ms_£À˘_›t
(
c
, 
èsk
);

502 i‡(! 
	`ms_adju°_›t
(
c
, 
èsk
))

507 i‡((
ms_£âög
.
vîify_≥r˚¡
 > 0Ë&& (
èsk
->
cmd
 =
CMD_GET
))

509 
	`ms_èsk_d©a_vîify_öô
(
èsk
);

512 i‡((
ms_£âög
.
exp_vî_≥r
 > 0Ë&& (
èsk
->
cmd
 =
CMD_GET
)

513 && (
èsk
->
ôem
->
exp_time
 > 0))

515 
	`ms_èsk_expúe_vîify_öô
(
èsk
);

525 i‡(
èsk
->
cmd
 =
CMD_GET
)

527 
èsk
->
gë_›t
++;

528 
èsk
->
cy˛e_undo_gë
--;

531  
èsk
;

532 
	}
}

540 
	$ms_£nd_sig«l
(
ms_sync_lock_t
 *
sync_lock
)

542 
	`±hªad_muãx_lock
(&
sync_lock
->
lock
);

543 
sync_lock
->
cou¡
++;

544 
	`±hªad_c⁄d_sig«l
(&
sync_lock
->
c⁄d
);

545 
	`±hªad_muãx_u∆ock
(&
sync_lock
->
lock
);

546 
	}
}

556 
	$ms_w¨mup_£rvî
(
ms_c⁄n_t
 *
c
)

558 
ms_èsk_t
 *
èsk
;

559 
ms_èsk_ôem_t
 *
ôem
;

565 i‡((
c
->
ªmaö_w¨mup_num
 >= 0)

566 && (
c
->
ªmaö_w¨mup_num
 !c->
w¨mup_num
))

568 
ôem

	`ms_gë_cur_›t_ôem
(
c
);

570 i‡((
c
->
¥ecmd
.
cmd
 =
CMD_SET
Ë&& (c->¥ecmd.
ªt°©
 =
MCD_STORED
))

572 
ôem
->
vÆue_off£t
ôem->
key_suffix_off£t
;

574 
c
->
£t_curs‹
++;

576 i‡(
c
->
¥ecmd
.
cmd
 =
CMD_SET
 && c->¥ecmd.
ªt°©
 !
MCD_STORED
)

578 
	`¥ötf
("key: %" 
PRIx64
 " didn'à£àsuc˚ss\n", 
ôem
->
key_¥efix
);

583 i‡(
c
->
ªmaö_w¨mup_num
-- > 0)

586 
èsk

	`ms_gë_èsk
(
c
, 
åue
);

587 
ôem

èsk
->item;

588 
	`ms_mcd_£t
(
c
, 
ôem
);

596 i‡(
c
->
ªmaö_w¨mup_num
 == -1)

598 
	`ms_£nd_sig«l
(&
ms_globÆ
.
w¨mup_lock
);

599 
c
->
ªmaö_w¨mup_num
--;

601 
	}
}

609 
	$ms_sögÀ_gë£t_èsk_sch
(
ms_c⁄n_t
 *
c
)

611 
ms_èsk_t
 *
èsk
;

612 
ms_èsk_ôem_t
 *
ôem
;

615 i‡(
c
->
ªmaö_exec_num
-- > 0)

617 
èsk

	`ms_gë_èsk
(
c
, 
Ál£
);

618 
ôem

èsk
->item;

619 i‡(
èsk
->
cmd
 =
CMD_SET
)

621 
	`ms_mcd_£t
(
c
, 
ôem
);

623 i‡(
èsk
->
cmd
 =
CMD_GET
)

625 
	`as£π
(
èsk
->
cmd
 =
CMD_GET
);

626 
	`ms_mcd_gë
(
c
, 
ôem
);

629 
	}
}

637 
	$ms_mu…i_gë£t_èsk_sch
(
ms_c⁄n_t
 *
c
)

639 
ms_èsk_t
 *
èsk
;

640 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem
;

644 i‡(
c
->
ªmaö_exec_num
-- > 0)

646 
èsk

	`ms_gë_èsk
(
c
, 
Ál£
);

647 i‡(
èsk
->
cmd
 =
CMD_SET
)

649 
	`ms_mcd_£t
(
c
, 
èsk
->
ôem
);

654 
	`as£π
(
èsk
->
cmd
 =
CMD_GET
);

655 
mlgë_ôem
&
c
->
mlgë_èsk
.mlgë_ôem[c->mlgë_èsk.
mlgë_num
];

656 
mlgë_ôem
->
ôem

èsk
->item;

657 
mlgë_ôem
->
vîify

èsk
->verify;

658 
mlgë_ôem
->
föish_vîify

èsk
->finish_verify;

659 
mlgë_ôem
->
gë_miss

èsk
->get_miss;

660 
c
->
mlgë_èsk
.
mlgë_num
++;

663 i‡((
c
->
mlgë_èsk
.
mlgë_num
 >
ms_£âög
.
mu…_key_num
)

664 || ((
c
->
ªmaö_exec_num
 =0Ë&& (c->
mlgë_èsk
.
mlgë_num
 > 0)))

666 
	`ms_mcd_mlgë
(
c
);

673 i‡((
c
->
ªmaö_exec_num
 <0Ë&& (c->
mlgë_èsk
.
mlgë_num
 > 0))

675 
	`ms_mcd_mlgë
(
c
);

680 
	}
}

691 
öt64_t
 
	$ms_time_diff
(
timevÆ
 *
°¨t_time
, timevÆ *
íd_time
)

693 
öt64_t
 
ídtime

íd_time
->
tv_£c
 * 1000000 +Énd_time->
tv_u£c
;

694 
öt64_t
 
°¨âime

°¨t_time
->
tv_£c
 * 1000000 + sèπ_time->
tv_u£c
;

696 
	`as£π
(
ídtime
 >
°¨âime
);

698  
ídtime
 - 
°¨âime
;

699 
	}
}

709 
	$ms_upd©e_mu…i_gë_ªsu…
(
ms_c⁄n_t
 *
c
)

711 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem
;

712 
ms_èsk_ôem_t
 *
ôem
;

713 *
‹ignvÆ

NULL
;

714 *
‹ignkey

NULL
;

716 i‡(
c
 =
NULL
)

720 
	`as£π
(
c
 !
NULL
);

722 
i
0; i < 
c
->
mlgë_èsk
.
mlgë_num
; i++)

724 
mlgë_ôem
&
c
->
mlgë_èsk
.mlgë_ôem[
i
];

725 
ôem

mlgë_ôem
->item;

726 
‹ignvÆ
&
ms_£âög
.
ch¨_block
[
ôem
->
vÆue_off£t
];

727 
‹ignkey
&
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
];

730 i‡(
mlgë_ôem
->
gë_miss
)

732 
	`©omic_add_size
(&
ms_°©s
.
gë_mis£s
, 1);

736 i‡(
mlgë_ôem
->
vîify
 && ! mlgë_ôem->
föish_vîify
)

739 i‡(
ôem
->
exp_time
 > 0)

741 
timevÆ
 
cuº_time
;

742 
	`gëtimeofday
(&
cuº_time
, 
NULL
);

745 i‡(
cuº_time
.
tv_£c
 - 
ôem
->
˛õ¡_time


746 < 
ôem
->
exp_time
 - 
EXPIRE_TIME_ERROR
)

748 
	`©omic_add_size
(&
ms_°©s
.
u√xp_ungë
, 1);

750 i‡(
ms_£âög
.
vîbo£
)

752 
£t_time
[64];

753 
cur_time
[64];

754 
	`°r·ime
(
£t_time
, 64, "%Y-%m-%d %H:%M:%S",

755 
	`loˇ…ime
(&
ôem
->
˛õ¡_time
));

756 
	`°r·ime
(
cur_time
, 64, "%Y-%m-%d %H:%M:%S",

757 
	`loˇ…ime
(&
cuº_time
.
tv_£c
));

758 
	`Ârötf
(
°dîr
,

762 "\tkey: %" 
PRIx64
 " %.*s\n"

768 
c
->
sfd
,

769 
ôem
->
key_size
,

770 
ôem
->
key_¥efix
,

771 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

772 
‹ignkey
,

773 
£t_time
,

774 
cur_time
,

775 ()(
cuº_time
.
tv_£c
 - 
ôem
->
˛õ¡_time
),

776 
ôem
->
exp_time
,

777 
ôem
->
vÆue_size
,

778 
ôem
->
vÆue_size
,

779 
‹ignvÆ
);

780 
	`fÊush
(
°dîr
);

786 
	`©omic_add_size
(&
ms_°©s
.
vef_miss
, 1);

788 i‡(
ms_£âög
.
vîbo£
)

790 
	`Ârötf
(
°dîr
, "\n<%d data verification failed\n"

792 "\tkey: %" 
PRIx64
 " %.*s\n"

796 
c
->
sfd
, 
ôem
->
key_size
, iãm->
key_¥efix
,

797 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

798 
‹ignkey
, 
ôem
->
vÆue_size
, iãm->vÆue_size, 
‹ignvÆ
);

799 
	`fÊush
(
°dîr
);

804 
c
->
mlgë_èsk
.
mlgë_num
= 0;

805 
c
->
mlgë_èsk
.
vÆue_ödex

INVALID_OFFSET
;

806 
	}
}

818 
	$ms_upd©e_sögÀ_gë_ªsu…
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

820 *
‹ignvÆ

NULL
;

821 *
‹ignkey

NULL
;

823 i‡((
c
 =
NULL
Ë|| (
ôem
 == NULL))

827 
	`as£π
(
c
 !
NULL
);

828 
	`as£π
(
ôem
 !
NULL
);

830 
‹ignvÆ
&
ms_£âög
.
ch¨_block
[
ôem
->
vÆue_off£t
];

831 
‹ignkey
&
ms_£âög
.
ch¨_block
[
ôem
->
key_suffix_off£t
];

834 i‡((
c
->
¥ecmd
.
cmd
 =
CMD_GET
Ë&& c->
cuº_èsk
.
gë_miss
)

836 
	`©omic_add_size
(&
ms_°©s
.
gë_mis£s
, 1);

840 i‡((
c
->
¥ecmd
.
cmd
 =
CMD_GET
Ë&& c->
cuº_èsk
.
vîify


841 && ! 
c
->
cuº_èsk
.
föish_vîify
)

844 i‡(
ôem
->
exp_time
 > 0)

846 
timevÆ
 
cuº_time
;

847 
	`gëtimeofday
(&
cuº_time
, 
NULL
);

850 i‡(
cuº_time
.
tv_£c
 - 
ôem
->
˛õ¡_time


851 < 
ôem
->
exp_time
 - 
EXPIRE_TIME_ERROR
)

853 
	`©omic_add_size
(&
ms_°©s
.
u√xp_ungë
, 1);

855 i‡(
ms_£âög
.
vîbo£
)

857 
£t_time
[64];

858 
cur_time
[64];

859 
	`°r·ime
(
£t_time
, 64, "%Y-%m-%d %H:%M:%S",

860 
	`loˇ…ime
(&
ôem
->
˛õ¡_time
));

861 
	`°r·ime
(
cur_time
, 64, "%Y-%m-%d %H:%M:%S",

862 
	`loˇ…ime
(&
cuº_time
.
tv_£c
));

863 
	`Ârötf
(
°dîr
,

867 "\tkey: %" 
PRIx64
 " %.*s\n"

873 
c
->
sfd
,

874 
ôem
->
key_size
,

875 
ôem
->
key_¥efix
,

876 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

877 
‹ignkey
,

878 
£t_time
,

879 
cur_time
,

880 ()(
cuº_time
.
tv_£c
 - 
ôem
->
˛õ¡_time
),

881 
ôem
->
exp_time
,

882 
ôem
->
vÆue_size
,

883 
ôem
->
vÆue_size
,

884 
‹ignvÆ
);

885 
	`fÊush
(
°dîr
);

891 
	`©omic_add_size
(&
ms_°©s
.
vef_miss
, 1);

893 i‡(
ms_£âög
.
vîbo£
)

895 
	`Ârötf
(
°dîr
, "\n<%d data verification failed\n"

897 "\tkey: %" 
PRIx64
 " %.*s\n"

901 
c
->
sfd
, 
ôem
->
key_size
, iãm->
key_¥efix
,

902 
ôem
->
key_size
 - ()
KEY_PREFIX_SIZE
,

903 
‹ignkey
, 
ôem
->
vÆue_size
, iãm->vÆue_size, 
‹ignvÆ
);

904 
	`fÊush
(
°dîr
);

908 
	}
}

919 
	$ms_upd©e_£t_ªsu…
(
ms_c⁄n_t
 *
c
, 
ms_èsk_ôem_t
 *
ôem
)

921 i‡((
c
 =
NULL
Ë|| (
ôem
 == NULL))

925 
	`as£π
(
c
 !
NULL
);

926 
	`as£π
(
ôem
 !
NULL
);

928 i‡(
c
->
¥ecmd
.
cmd
 =
CMD_SET
)

930 
c
->
¥ecmd
.
ªt°©
)

932 
MCD_STORED
:

933 i‡(
ôem
->
vÆue_off£t
 =
INVALID_OFFSET
)

936 
ôem
->
vÆue_off£t
ôem->
key_suffix_off£t
;

941 
ôem
->
vÆue_off£t
+= 1;

945 
c
->
£t_curs‹
++;

946 
c
->
cuº_èsk
.
£t_›t
++;

947 
c
->
cuº_èsk
.
cy˛e_undo_£t
--;

950 
MCD_SERVER_ERROR
:

955 
	}
}

963 
	$ms_upd©e_°©_ªsu…
(
ms_c⁄n_t
 *
c
)

965 
boﬁ
 
gë_miss

Ál£
;

967 i‡(
c
 =
NULL
)

971 
	`as£π
(
c
 !
NULL
);

973 
	`gëtimeofday
(&
c
->
íd_time
, 
NULL
);

974 
uöt64_t
 
time_diff
(uöt64_t)
	`ms_time_diff
(&
c
->
°¨t_time
, &c->
íd_time
);

976 
	`±hªad_muãx_lock
(&
ms_°©i°ic
.
°©_muãx
);

978 
c
->
¥ecmd
.
cmd
)

980 
CMD_SET
:

981 
	`ms_ªc‹d_evít
(&
ms_°©i°ic
.
£t_°©
, 
time_diff
, 
Ál£
);

984 
CMD_GET
:

985 i‡(
c
->
cuº_èsk
.
gë_miss
)

987 
gë_miss

åue
;

989 
	`ms_ªc‹d_evít
(&
ms_°©i°ic
.
gë_°©
, 
time_diff
, 
gë_miss
);

996 
	`ms_ªc‹d_evít
(&
ms_°©i°ic
.
tŸÆ_°©
, 
time_diff
, 
gë_miss
);

997 
	`±hªad_muãx_u∆ock
(&
ms_°©i°ic
.
°©_muãx
);

998 
	}
}

1008 
	$ms_upd©e_èsk_ªsu…
(
ms_c⁄n_t
 *
c
)

1010 
ms_èsk_ôem_t
 *
ôem
;

1012 i‡(
c
 =
NULL
)

1016 
	`as£π
(
c
 !
NULL
);

1018 
ôem

	`ms_gë_cur_›t_ôem
(
c
);

1019 i‡(
ôem
 =
NULL
)

1023 
	`as£π
(
ôem
 !
NULL
);

1025 
	`ms_upd©e_£t_ªsu…
(
c
, 
ôem
);

1027 i‡((
ms_£âög
.
°©_‰eq
 > 0)

1028 && ((
c
->
¥ecmd
.
cmd
 =
CMD_SET
Ë|| (c->¥ecmd.cmd =
CMD_GET
)))

1030 
	`ms_upd©e_°©_ªsu…
(
c
);

1034 i‡(((
ms_£âög
.
mu…_key_num
 > 1)

1035 && (
c
->
mlgë_èsk
.
mlgë_num
 >
ms_£âög
.
mu…_key_num
))

1036 || ((
c
->
ªmaö_exec_num
 =0Ë&& (c->
mlgë_èsk
.
mlgë_num
 > 0)))

1038 
	`ms_upd©e_mu…i_gë_ªsu…
(
c
);

1042 
	`ms_upd©e_sögÀ_gë_ªsu…
(
c
, 
ôem
);

1044 
	}
}

1054 
	$ms_run_gë£t_èsk
(
ms_c⁄n_t
 *
c
)

1060 i‡((
c
->
ªmaö_exec_num
 >= 0)

1061 && (
c
->
ªmaö_exec_num
 !c->
exec_num
))

1063 
	`ms_upd©e_èsk_ªsu…
(
c
);

1067 i‡(
ms_£âög
.
mu…_key_num
 > 1)

1070 
	`ms_mu…i_gë£t_èsk_sch
(
c
);

1075 
	`ms_sögÀ_gë£t_èsk_sch
(
c
);

1079 i‡((
c
->
ªmaö_exec_num
 =-1Ë|| 
ms_globÆ
.
time_out
)

1084  
EXIT_SUCCESS
;

1085 
	}
}

1095 
	$ms_exec_èsk
(
c⁄n
 *
c
)

1097 i‡(! 
ms_globÆ
.
föish_w¨mup
)

1099 
	`ms_w¨mup_£rvî
(
c
);

1103 i‡(
	`ms_run_gë£t_èsk
(
c
) != 0)

1109  
EXIT_SUCCESS
;

1110 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_task.h

11 #i‚de‡
MS_TASK_H


12 
	#MS_TASK_H


	)

14 
	~<sys/ty≥s.h
>

15 
	~<°döt.h
>

16 #i‡!
deföed
(
__˝lu•lus
)

17 
	~<°dboﬁ.h
>

19 
	~<time.h
>

21 #ifde‡
__˝lu•lus


25 
	#UNIT_ITEMS_COUNT
 1024

	)

26 
	#KEY_PREFIX_SIZE
 ((
uöt64_t
)Ë

	)

27 
	#INVALID_OFFSET
 (-1Ë

	)

28 
	#FIXED_EXPIRE_TIME
 60

	)

29 
	#EXPIRE_TIME_ERROR
 5

	)

32 
	sèsk_ôem


34 
uöt64_t
 
key_¥efix
;

35 
key_size
;

36 
key_suffix_off£t
;

38 
vÆue_size
;

39 
vÆue_off£t
;

41 
time_t
 
˛õ¡_time
;

42 
exp_time
;

43 } 
	tms_èsk_ôem_t
;

46 
	smlgë_èsk_ôem


48 
ms_èsk_ôem_t
 *
ôem
;

49 
boﬁ
 
vîify
;

50 
boﬁ
 
föish_vîify
;

51 
boﬁ
 
gë_miss
;

52 } 
	tms_mlgë_èsk_ôem_t
;

55 
	smlgë_èsk


57 
ms_mlgë_èsk_ôem_t
 *
mlgë_ôem
;

58 
mlgë_num
;

59 
vÆue_ödex
;

60 } 
	tms_mlgë_èsk_t
;

63 
	sèsk


65 
cmd
;

66 
boﬁ
 
vîify
;

67 
boﬁ
 
föish_vîify
;

68 
boﬁ
 
gë_miss
;

69 
ms_èsk_ôem_t
 *
ôem
;

72 
uöt64_t
 
gë_›t
;

73 
uöt64_t
 
£t_›t
;

74 
cy˛e_undo_gë
;

75 
cy˛e_undo_£t
;

76 
uöt64_t
 
vîifõd_gë
;

77 
uöt64_t
 
ovîwrôe_£t
;

78 } 
	tms_èsk_t
;

80 
c⁄n
;

83 
ms_exec_èsk
(
c⁄n
 *
c
);

87 
öt64_t
 
ms_time_diff
(
timevÆ
 *
°¨t_time
, timevÆ *
íd_time
);

90 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/ms_thread.c

12 
	~"mem_c⁄fig.h
"

14 #i‡
deföed
(
HAVE_SYS_TIME_H
)

15 
	~<sys/time.h
>

18 #i‡
deföed
(
HAVE_TIME_H
)

19 
	~<time.h
>

22 
	~"ms_thªad.h
"

23 
	~"ms_£âög.h
"

24 
	~"ms_©omic.h
"

27 
±hªad_key_t
 
	gms_thªad_key
;

30 
ms_thªad_˘x_t
 *
	gms_thªad_˘x
;

33 
ms_£t_cuºít_time
();

34 
ms_check_sock_timeout
();

35 
ms_˛ock_h™dÀr
(c⁄° 
fd
, c⁄° 
which
, *
¨g
);

36 
uöt32_t
 
ms_£t_thªad_˝u_afföôy
(uöt32_à
˝u
);

37 
ms_£tup_thªad
(
ms_thªad_˘x_t
 *
thªad_˘x
);

38 *
ms_w‹kî_libevít
(*
¨g
);

39 
ms_¸óã_w‹kî
(*(*
func
)(*), *
¨g
);

46 
	$ms_£t_cuºít_time
()

48 
timevÆ
 
timî
;

49 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

51 
	`gëtimeofday
(&
timî
, 
NULL
);

52 
ms_thªad
->
cuº_time
(
ªl_time_t
)
timî
.
tv_£c
;

53 
	}
}

60 
	$ms_check_sock_timeout
()

62 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

63 
ms_c⁄n_t
 *
c

NULL
;

64 
time_diff
= 0;

66 
uöt32_t
 
i
0; i < 
ms_thªad
->
thªad_˘x
->
nc⁄ns
; i++)

68 
c
&
ms_thªad
->
c⁄n
[
i
];

70 i‡(
c
->
udp
)

72 
time_diff
()(
ms_thªad
->
cuº_time
 - (
ªl_time_t
)
c
->
°¨t_time
.
tv_£c
);

75 i‡(
time_diff
 > 
SOCK_WAIT_TIMEOUT
)

78 i‡(
c
->
ªcvpkt
 > 0)

80 
	`©omic_add_size
(&
ms_°©s
.
pkt_dr›
, 
c
->
∑ckës
 - c->
ªcvpkt
);

83 
	`©omic_add_size
(&
ms_°©s
.
udp_timeout
, 1);

84 
	`ms_ª£t_c⁄n
(
c
, 
åue
);

88 
	}
}

92 
	$ms_ªc⁄n_thªad_socks
()

94 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

95 
uöt32_t
 
i
0; i < 
ms_thªad
->
thªad_˘x
->
nc⁄ns
; i++)

97 
	`ms_ªc⁄n_socks
(&
ms_thªad
->
c⁄n
[
i
]);

99 
	}
}

109 
	$ms_˛ock_h™dÀr
(c⁄° 
fd
, c⁄° 
which
, *
¨g
)

111 
ms_thªad_t
 *
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

112 
timevÆ
 
t
=

114 .
tv_£c
1, .
tv_u£c
= 0

117 
	`UNUSED_ARGUMENT
(
fd
);

118 
	`UNUSED_ARGUMENT
(
which
);

119 
	`UNUSED_ARGUMENT
(
¨g
);

121 
	`ms_£t_cuºít_time
();

123 i‡(
ms_thªad
->
öôülized
)

126 
	`evtimî_dñ
(&
ms_thªad
->
˛ock_evít
);

127 
	`ms_check_sock_timeout
();

131 
ms_thªad
->
öôülized

åue
;

134 
	`ms_ªc⁄n_thªad_socks
();

136 
	`evtimî_£t
(&
ms_thªad
->
˛ock_evít
, 
ms_˛ock_h™dÀr
, 0);

137 
	`evít_ba£_£t
(
ms_thªad
->
ba£
, &ms_thªad->
˛ock_evít
);

138 
	`evtimî_add
(&
ms_thªad
->
˛ock_evít
, &
t
);

139 
	}
}

149 
uöt32_t
 
	$ms_£t_thªad_˝u_afföôy
(
uöt32_t
 
˝u
)

151 
uöt32_t
 
ªt
= 0;

153 #ifde‡
HAVE_CPU_SET_T


154 
˝u_£t_t
 
˝u_£t
;

155 
	`CPU_ZERO
(&
˝u_£t
);

156 
	`CPU_SET
(
˝u
, &
˝u_£t
);

158 i‡(
	`sched_£èfföôy
(0, (
˝u_£t_t
), &
˝u_£t
) == -1)

160 
	`Ârötf
(
°dîr
, "WARNING: CouldÇot set CPU Affinity, continuing...\n");

161 
ªt
= 1;

164 
	`UNUSED_ARGUMENT
(
˝u
);

167  
ªt
;

168 
	}
}

178 
	$ms_£tup_thªad
(
ms_thªad_˘x_t
 *
thªad_˘x
)

181 
ms_thªad_t
 *
ms_thªad
(ms_thªad_à*)
	`ˇŒoc
((*ms_thread), 1);

182 
	`±hªad_£t•ecific
(
ms_thªad_key
, (*)
ms_thªad
);

184 
ms_thªad
->
thªad_˘x
=Åhread_ctx;

185 
ms_thªad
->
«˘ive_c⁄n

thªad_˘x
->
nc⁄ns
;

186 
ms_thªad
->
öôülized

Ál£
;

187 vﬁ©ûê
uöt32_t
 
˙t
= 0;

189 
	`gëtimeofday
(&
ms_thªad
->
°¨tup_time
, 
NULL
);

191 
ms_thªad
->
ba£

	`evít_öô
();

192 i‡(
ms_thªad
->
ba£
 =
NULL
)

194 i‡(
	`©omic_add_32_nv
(&
˙t
, 1) == 0)

196 
	`Ârötf
(
°dîr
, "Can'tállocateÉvent base.\n");

202 
ms_thªad
->
c⁄n
=

203 (
ms_c⁄n_t
 *)
	`mÆloc
((
size_t
)
thªad_˘x
->
nc⁄ns
 * (ms_conn_t));

204 i‡(
ms_thªad
->
c⁄n
 =
NULL
)

206 i‡(
	`©omic_add_32_nv
(&
˙t
, 1) == 0)

208 
	`Ârötf
(

209 
°dîr
,

215 
	`mem£t
(
ms_thªad
->
c⁄n
, 0, (
size_t
)
thªad_˘x
->
nc⁄ns
 * (
ms_c⁄n_t
));

217 
uöt32_t
 
i
0; i < 
thªad_˘x
->
nc⁄ns
; i++)

219 
ms_thªad
->
c⁄n
[
i
].
c⁄n_idx
= i;

220 i‡(
	`ms_£tup_c⁄n
(&
ms_thªad
->
c⁄n
[
i
]) != 0)

223 i‡(
	`©omic_add_32_nv
(&
˙t
, 1) == 0)

225 
	`Ârötf
(
°dîr
, "Initializing connection failed.\n");

232  
EXIT_SUCCESS
;

233 
	}
}

243 *
	$ms_w‹kî_libevít
(*
¨g
)

245 
ms_thªad_t
 *
ms_thªad

NULL
;

246 
ms_thªad_˘x_t
 *
thªad_˘x
(ms_thªad_˘x_à*)
¨g
;

252 i‡(
ms_£âög
.
n˝u
 > 1)

254 
	`ms_£t_thªad_˝u_afföôy
(
thªad_˘x
->
thd_idx
 % 
ms_£âög
.
n˝u
);

257 i‡(
	`ms_£tup_thªad
(
thªad_˘x
) != 0)

259 
	`exô
(1);

263 
	`ms_˛ock_h™dÀr
(0, 0, 0);

265 
	`±hªad_muãx_lock
(&
ms_globÆ
.
öô_lock
.
lock
);

266 
ms_globÆ
.
öô_lock
.
cou¡
++;

267 
	`±hªad_c⁄d_sig«l
(&
ms_globÆ
.
öô_lock
.
c⁄d
);

268 
	`±hªad_muãx_u∆ock
(&
ms_globÆ
.
öô_lock
.
lock
);

270 
ms_thªad

	`±hªad_gë•ecific
(
ms_thªad_key
);

271 
	`evít_ba£_lo›
(
ms_thªad
->
ba£
, 0);

273  
NULL
;

274 
	}
}

283 
ms_¸óã_w‹kî
(*(*
func
)(*), *
¨g
)

285 
±hªad_t
 
	gthªad
;

286 
±hªad_©å_t
 
	g©å
;

287 
	gªt
;

289 
±hªad_©å_öô
(&
©å
);

291 i‡((
	gªt

±hªad_¸óã
(&
thªad
, &
©å
, 
func
, 
¨g
)) != 0)

293 
Ârötf
(
°dîr
, "C™'à¸óãÅhªad: %s.\n", 
°ªº‹
(
ªt
));

294 
exô
(1);

300 
	$ms_thªad_öô
()

302 
ms_thªad_˘x
=

303 (
ms_thªad_˘x_t
 *)
	`mÆloc
(

304 (
ms_thªad_˘x_t
Ë* (
size_t
)
ms_£âög
.
¡hªads
);

305 i‡(
ms_thªad_˘x
 =
NULL
)

307 
	`Ârötf
(
°dîr
, "Can'tállocateÅhread descriptors.");

308 
	`exô
(1);

311 
uöt32_t
 
i
0; i < 
ms_£âög
.
¡hªads
; i++)

313 
ms_thªad_˘x
[
i
].
thd_idx
= i;

314 
ms_thªad_˘x
[
i
].
nc⁄ns

ms_£âög
.nc⁄n†/ ms_£âög.
¡hªads
;

321 
ms_thªad_˘x
[
i
].
§v_idx
ò% 
ms_£âög
.
§v_˙t
;

322 
ms_thªad_˘x
[
i
].
çs_≥rc⁄n

ms_£âög
.
ex≥˘ed_çs


323 / ()
ms_£âög
.
nc⁄ns
;

324 
ms_thªad_˘x
[
i
].
exec_num_≥rc⁄n

ms_£âög
.
exec_num


325 / 
ms_£âög
.
nc⁄ns
;

328 i‡(
	`±hªad_key_¸óã
(&
ms_thªad_key
, 
NULL
))

330 
	`Ârötf
(
°dîr
, "Can't createÖthread keys. Major malfunction!\n");

331 
	`exô
(1);

334 
uöt32_t
 
i
0; i < 
ms_£âög
.
¡hªads
; i++)

336 
	`ms_¸óã_w‹kî
(
ms_w‹kî_libevít
, (*)&
ms_thªad_˘x
[
i
]);

338 
	}
}

342 
	$ms_thªad_˛ónup
()

344 i‡(
ms_thªad_˘x
 !
NULL
)

346 
	`‰ì
(
ms_thªad_˘x
);

348 
	`±hªad_key_dñëe
(
ms_thªad_key
);

349 
	}
}

	@oss/libmemcached-1.0.17/clients/ms_thread.h

27 #i‚de‡
MS_THREAD_H


28 
	#MS_THREAD_H


	)

30 
	~<sched.h
>

31 
	~"ms_c⁄n.h
"

33 #ifde‡
__˝lu•lus


38 
	tªl_time_t
;

41 
	sthªad_˘x


43 
uöt32_t
 
thd_idx
;

44 
uöt32_t
 
nc⁄ns
;

45 
uöt32_t
 
§v_idx
;

46 
çs_≥rc⁄n
;

47 
öt64_t
 
exec_num_≥rc⁄n
;

48 } 
	tms_thªad_˘x_t
;

51 
	sthªad


53 
ms_c⁄n_t
 *
c⁄n
;

54 
uöt32_t
 
«˘ive_c⁄n
;

56 
ms_thªad_˘x_t
 *
thªad_˘x
;

57 
evít_ba£
 *
ba£
;

59 
ªl_time_t
 
cuº_time
;

60 
evít
 
˛ock_evít
;

61 
boﬁ
 
öôülized
;

63 
timevÆ
 
°¨tup_time
;

64 } 
	tms_thªad_t
;

67 
ms_thªad_öô
();

71 
ms_thªad_˛ónup
();

74 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/clients/utilities.h

12 #¥agm®
⁄˚


14 
	~<gë›t.h
>

15 
	~<libmemˇched-1.0/memˇched.h
>

16 
	~"˛õ¡s/˛õ¡_›ti⁄s.h
"

18 #i‡
deföed
(
HAVE_SYS_TIME_H
)

19 
	~<sys/time.h
>

22 #i‡
deföed
(
HAVE_TIME_H
)

23 
	~<time.h
>

27 #ifde‡
__sun


31 
	#OPTIONSTRING
 *

	)

33 
	#OPTIONSTRING
 c⁄° *

	)

36 
memˇched_¥ogøms_hñp_°
 
	tmemˇched_¥ogøms_hñp_°
;

38 
	smemˇched_¥ogøms_hñp_°


40 *
	mnŸ_u£d_yë
;

43 #ifde‡
__˝lu•lus


47 *
°rdup_˛ónup
(c⁄° *
°r
);

48 
˛ónup
();

49 
timedif
(
timevÆ
 
a
, timevÆ 
b
);

50 
vîsi⁄_comm™d
(c⁄° *
comm™d_«me
Ë
__©åibuã__
 ((
n‹ëu∫
));

51 
hñp_comm™d
(c⁄° *
comm™d_«me
, c⁄° *
des¸ùti⁄
,

52 c⁄° 
›ti⁄
 *
l⁄g_›ti⁄s
,

53 
memˇched_¥ogøms_hñp_°
 *
›ti⁄s
Ë
__©åibuã__
 ((
n‹ëu∫
));

54 
¥o˚ss_hash_›ti⁄
(
memˇched_°
 *
memc
, *
›t_hash
);

55 
boﬁ
 
öôülize_ß¶
(
memˇched_°
 *
memc
, *
u£r
, *
∑ssw‹d
);

56 
shutdown_ß¶
();

57 
öôülize_sockës
();

58 
˛o£_°dio
();

60 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/example/byteorder.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


43 
uöt64_t
 
exam∂e_¡ohŒ
(uint64_t);

45 
uöt64_t
 
exam∂e_ht⁄Œ
(uint64_t);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/example/memcached_light.h

39 #¥agm®
⁄˚


41 
	~"utû/log.hµ
"

43 
öôülize_öãrÁ˚_v0_h™dÀr
(
d©adif„ª¡ül
::
utû
::
log_öfo_°
&);

44 
öôülize_öãrÁ˚_v1_h™dÀr
(
d©adif„ª¡ül
::
utû
::
log_öfo_°
&);

	@oss/libmemcached-1.0.17/example/storage.h

2 #¥agm®
⁄˚


4 
	sôem
 {

5 
uöt64_t
 
	mˇs
;

6 * 
	mkey
;

7 
size_t
 
	mnkey
;

8 * 
	md©a
;

9 
size_t
 
	msize
;

10 
uöt32_t
 
	mÊags
;

11 
time_t
 
	mexp
;

14 
boﬁ
 
öôülize_°‹age
();

15 
shutdown_°‹age
();

17 
upd©e_ˇs
(
ôem
* item);

18 
put_ôem
(
ôem
* item);

19 
ôem
* 
gë_ôem
(c⁄° * 
key
, 
size_t
 
nkey
);

20 
ôem
* 
¸óã_ôem
(c⁄° * 
key
, 
size_t
 
nkey
, c⁄° *
d©a
,

21 
size_t
 
size
, 
uöt32_t
 
Êags
, 
time_t
 
exp
);

22 
boﬁ
 
dñëe_ôem
(c⁄° * 
key
, 
size_t
 
nkey
);

23 
Êush
(
uöt32_t
 
whí
);

24 
ªÀa£_ôem
(
ôem
* item);

	@oss/libmemcached-1.0.17/libhashkit-1.0/algorithm.h

44 #¥agm®
⁄˚


46 #ifde‡
__˝lu•lus


50 
HASHKIT_API


51 
uöt32_t
 
libhashkô_⁄e_©_a_time
(c⁄° *
key
, 
size_t
 
key_Àngth
);

53 
HASHKIT_API


54 
uöt32_t
 
libhashkô_‚v1_64
(c⁄° *
key
, 
size_t
 
key_Àngth
);

56 
HASHKIT_API


57 
uöt32_t
 
libhashkô_‚v1a_64
(c⁄° *
key
, 
size_t
 
key_Àngth
);

59 
HASHKIT_API


60 
uöt32_t
 
libhashkô_‚v1_32
(c⁄° *
key
, 
size_t
 
key_Àngth
);

62 
HASHKIT_API


63 
uöt32_t
 
libhashkô_‚v1a_32
(c⁄° *
key
, 
size_t
 
key_Àngth
);

65 
HASHKIT_API


66 
uöt32_t
 
libhashkô_¸c32
(c⁄° *
key
, 
size_t
 
key_Àngth
);

68 
HASHKIT_API


69 
uöt32_t
 
libhashkô_hsõh
(c⁄° *
key
, 
size_t
 
key_Àngth
);

71 
HASHKIT_API


72 
uöt32_t
 
libhashkô_murmur
(c⁄° *
key
, 
size_t
 
key_Àngth
);

74 
HASHKIT_API


75 
uöt32_t
 
libhashkô_murmur3
(c⁄° *
key
, 
size_t
 
key_Àngth
);

77 
HASHKIT_API


78 
uöt32_t
 
libhashkô_jíkös
(c⁄° *
key
, 
size_t
 
key_Àngth
);

80 
HASHKIT_API


81 
uöt32_t
 
libhashkô_md5
(c⁄° *
key
, 
size_t
 
key_Àngth
);

83 
HASHKIT_API


84 
libhashkô_md5_sig«tuª
(c⁄° *
key
, 
size_t
 
Àngth
, *
ªsu…
);

86 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/behavior.h

47 #¥agm®
⁄˚


49 #ifde‡
__˝lu•lus


54 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/configure.h

42 #¥agm®
⁄˚


44 
	#LIBHASHKIT_VERSION_STRING
 "1.0.0"

	)

45 
	#LIBHASHKIT_VERSION_HEX
 0x01000000

	)

47 #ifde‡
__˝lu•lus


51 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/digest.h

42 #¥agm®
⁄˚


44 #ifde‡
__˝lu•lus


48 
HASHKIT_API


49 
uöt32_t
 
hashkô_dige°
(c⁄° 
hashkô_°
 *
£lf
, c⁄° *
key
, 
size_t
 
key_Àngth
);

55 
HASHKIT_API


56 
uöt32_t
 
libhashkô_dige°
(c⁄° *
key
, 
size_t
 
key_Àngth
, 
hashkô_hash_Æg‹ôhm_t
 
hash_Æg‹ôhm
);

58 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/function.h

41 #¥agm®
⁄˚


43 #ifde‡
__˝lu•lus


50 
HASHKIT_API


51 
hashkô_ªtu∫_t
 
hashkô_£t_fun˘i⁄
(
hashkô_°
 *
hash
, 
hashkô_hash_Æg‹ôhm_t
 
hash_Æg‹ôhm
);

53 
HASHKIT_API


54 
hashkô_ªtu∫_t
 
hashkô_£t_cu°om_fun˘i⁄
(
hashkô_°
 *
hash
, 
hashkô_hash_‚
 
fun˘i⁄
, *
c⁄ãxt
);

56 
HASHKIT_API


57 
hashkô_hash_Æg‹ôhm_t
 
hashkô_gë_fun˘i⁄
(c⁄° 
hashkô_°
 *
hash
);

62 
HASHKIT_API


63 
hashkô_ªtu∫_t
 
hashkô_£t_di°ributi⁄_fun˘i⁄
(
hashkô_°
 *
hash
, 
hashkô_hash_Æg‹ôhm_t
 
hash_Æg‹ôhm
);

65 
HASHKIT_API


66 
hashkô_ªtu∫_t
 
hashkô_£t_cu°om_di°ributi⁄_fun˘i⁄
(
hashkô_°
 *
£lf
, 
hashkô_hash_‚
 
fun˘i⁄
, *
c⁄ãxt
);

68 
HASHKIT_API


69 
hashkô_hash_Æg‹ôhm_t
 
hashkô_gë_di°ributi⁄_fun˘i⁄
(c⁄° 
hashkô_°
 *
£lf
);

71 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/has.h

41 #¥agm®
⁄˚


43 #ifde‡
__˝lu•lus


47 
HASHKIT_API


48 
boﬁ
 
libhashkô_has_Æg‹ôhm
(c⁄° 
hashkô_hash_Æg‹ôhm_t
);

50 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/hashkit.h

42 #¥agm®
⁄˚


45 #i‡!
deföed
(
__˝lu•lus
)

46 
	~<°dboﬁ.h
>

48 
	~<öây≥s.h
>

49 
	~<sys/ty≥s.h
>

51 
	~<libhashkô-1.0/visibûôy.h
>

52 
	~<libhashkô-1.0/c⁄figuª.h
>

53 
	~<libhashkô-1.0/ty≥s.h
>

54 
	~<libhashkô-1.0/has.h
>

55 
	~<libhashkô-1.0/Æg‹ôhm.h
>

56 
	~<libhashkô-1.0/behavi‹.h
>

57 
	~<libhashkô-1.0/dige°.h
>

58 
	~<libhashkô-1.0/fun˘i⁄.h
>

59 
	~<libhashkô-1.0/°r_Æg‹ôhm.h
>

60 
	~<libhashkô-1.0/°ªº‹.h
>

61 
	~<libhashkô-1.0/°rög.h
>

63 
	shashkô_°


65 
	shashkô_fun˘i⁄_°
 {

66 
hashkô_hash_‚
 
	mfun˘i⁄
;

67 *
	mc⁄ãxt
;

68 } 
	mba£_hash
, 
	mdi°ributi⁄_hash
;

71 
boﬁ
 
	mis_ba£_ßme_di°ribuãd
:1;

72 } 
	mÊags
;

75 
boﬁ
 
	mis_Æloˇãd
:1;

76 } 
	m›ti⁄s
;

78 *
	m_key
;

81 #ifde‡
__˝lu•lus


85 
HASHKIT_API


86 
hashkô_°
 *
hashkô_¸óã
(hashkô_° *
hash
);

88 
HASHKIT_API


89 
hashkô_°
 *
hashkô_˛⁄e
(hashkô_° *
de°ö©i⁄
, c⁄° hashkô_° *
±r
);

91 
HASHKIT_API


92 
boﬁ
 
hashkô_com∑ª
(c⁄° 
hashkô_°
 *
fú°
, c⁄° hashkô_° *
£c⁄d
);

94 
HASHKIT_API


95 
hashkô_‰ì
(
hashkô_°
 *
hash
);

97 
HASHKIT_API


98 
hashkô_°rög_°
 *
hashkô_í¸y±
(
hashkô_°
 *,

99 c⁄° * 
sour˚
, 
size_t
 
sour˚_Àngth
);

101 
HASHKIT_API


102 
hashkô_°rög_°
 *
hashkô_de¸y±
(
hashkô_°
 *,

103 c⁄° * 
sour˚
, 
size_t
 
sour˚_Àngth
);

105 
HASHKIT_API


106 
boﬁ
 
hashkô_key
(
hashkô_°
 *, c⁄° *
key
, c⁄° 
size_t
 
key_Àngth
);

108 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/str_algorithm.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


43 
HASHKIT_API


44 c⁄° *
libhashkô_°rög_hash
(
hashkô_hash_Æg‹ôhm_t
 
ty≥
);

46 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/strerror.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
HASHKIT_API


46 c⁄° *
hashkô_°ªº‹
(
hashkô_°
 *
±r
, 
hashkô_ªtu∫_t
 
rc
);

48 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/string.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


42 
	ghashkô_°rög_°
;

45 #ifde‡
__˝lu•lus


49 
HASHKIT_API


50 
hashkô_°rög_‰ì
(
hashkô_°rög_°
 *
±r
);

53 
HASHKIT_API


54 
size_t
 
hashkô_°rög_Àngth
(c⁄° 
hashkô_°rög_°
 *
£lf
);

56 
HASHKIT_API


57 c⁄° *
hashkô_°rög_c_°r
(c⁄° 
hashkô_°rög_°
* 
£lf
);

59 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/types.h

39 #¥agm®
⁄˚


42 
	mHASHKIT_SUCCESS
,

43 
	mHASHKIT_FAILURE
,

44 
	mHASHKIT_MEMORY_ALLOCATION_FAILURE
,

45 
	mHASHKIT_INVALID_HASH
,

46 
	mHASHKIT_INVALID_ARGUMENT
,

47 
	mHASHKIT_MAXIMUM_RETURN


48 } 
	thashkô_ªtu∫_t
;

50 
ölöe
 
boﬁ
 
	$hashkô_suc˚ss
(c⁄° 
hashkô_ªtu∫_t
 
rc
)

52  (
rc
 =
HASHKIT_SUCCESS
);

53 
	}
}

55 
ölöe
 
boﬁ
 
	$hashkô_Áûed
(c⁄° 
hashkô_ªtu∫_t
 
rc
)

57  (
rc
 !
HASHKIT_SUCCESS
);

58 
	}
}

61 
	mHASHKIT_HASH_DEFAULT
= 0,

62 
	mHASHKIT_HASH_MD5
,

63 
	mHASHKIT_HASH_CRC
,

64 
	mHASHKIT_HASH_FNV1_64
,

65 
	mHASHKIT_HASH_FNV1A_64
,

66 
	mHASHKIT_HASH_FNV1_32
,

67 
	mHASHKIT_HASH_FNV1A_32
,

68 
	mHASHKIT_HASH_HSIEH
,

69 
	mHASHKIT_HASH_MURMUR
,

70 
	mHASHKIT_HASH_JENKINS
,

71 
	mHASHKIT_HASH_MURMUR3
,

72 
	mHASHKIT_HASH_CUSTOM
,

73 
	mHASHKIT_HASH_MAX


74 } 
	thashkô_hash_Æg‹ôhm_t
;

81 
	mHASHKIT_DISTRIBUTION_MODULA
,

82 
	mHASHKIT_DISTRIBUTION_RANDOM
,

83 
	mHASHKIT_DISTRIBUTION_KETAMA
,

84 
	mHASHKIT_DISTRIBUTION_MAX


85 } 
	thashkô_di°ributi⁄_t
;

87 #ifde‡
__˝lu•lus


91 
hashkô_°
 
	thashkô_°
;

92 
hashkô_°rög_°
 
	thashkô_°rög_°
;

94 
uöt32_t
 (*
	thashkô_hash_‚
)(c⁄° *
	tkey
, 
	tsize_t
 
	tkey_Àngth
, *
	tc⁄ãxt
);

96 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit-1.0/visibility.h

16 #¥agm®
⁄˚


26 #i‡
deföed
(
BUILDING_HASHKIT
)

27 #i‡
deföed
(
HAVE_VISIBILITY
) && HAVE_VISIBILITY

28 
	#HASHKIT_API
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

29 
	#HASHKIT_LOCAL
 
	`__©åibuã__
 ((
	`visibûôy
("hiddí")))

	)

30 #ñi‡
deföed
 (
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

31 
	#HASHKIT_API
 
__globÆ


	)

32 
	#HASHKIT_LOCAL
 
__hiddí


	)

33 #ñi‡
deföed
(
_MSC_VER
)

34 
	#HASHKIT_API
 
	`__de˛•ec
(
dŒexp‹t
)

	)

35 
	#HASHKIT_LOCAL


	)

37 
	#HASHKIT_API


	)

38 
	#HASHKIT_LOCAL


	)

41 #i‡
deföed
(
_MSC_VER
)

42 
	#HASHKIT_API
 
	`__de˛•ec
(
dŒimp‹t
)

	)

43 
	#HASHKIT_LOCAL


	)

45 
	#HASHKIT_API


	)

46 
	#HASHKIT_LOCAL


	)

	@oss/libmemcached-1.0.17/libhashkit/aes.h

37 #¥agm®
⁄˚


39 
	g´s_key_t
;

41 
hashkô_°rög_°
* 
´s_í¸y±
(
´s_key_t
* 
_´s_key
,

42 c⁄° * 
sour˚
, 
size_t
 
sour˚_Àngth
);

44 
hashkô_°rög_°
* 
´s_de¸y±
(
´s_key_t
* 
_´s_key
,

45 c⁄° * 
sour˚
, 
size_t
 
sour˚_Àngth
);

47 
´s_key_t
* 
´s_¸óã_key
(c⁄° *
key
, c⁄° 
size_t
 
key_Àngth
);

49 
´s_key_t
* 
´s_˛⁄e_key
◊es_key_t* 
_´s_key
);

	@oss/libmemcached-1.0.17/libhashkit/algorithm.h

44 #¥agm®
⁄˚


46 
uöt32_t
 
hashkô_⁄e_©_a_time
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

48 
uöt32_t
 
hashkô_‚v1_64
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

50 
uöt32_t
 
hashkô_‚v1a_64
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

52 
uöt32_t
 
hashkô_‚v1_32
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

54 
uöt32_t
 
hashkô_‚v1a_32
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

56 
uöt32_t
 
hashkô_¸c32
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

58 
uöt32_t
 
hashkô_hsõh
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

60 
uöt32_t
 
hashkô_murmur
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

62 
uöt32_t
 
hashkô_murmur3
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

64 
uöt32_t
 
hashkô_jíkös
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

66 
uöt32_t
 
hashkô_md5
(c⁄° *
key
, 
size_t
 
key_Àngth
, *
c⁄ãxt
);

	@oss/libmemcached-1.0.17/libhashkit/common.h

38 #¥agm®
⁄˚


40 
	~"libhashkô/hashkôc⁄.h
"

42 
	~<as£π.h
>

43 
	~<î∫o.h
>

44 
	~<°dio.h
>

45 
	~<°dlib.h
>

46 
	~<m©h.h
>

48 #i‚de‡
__WORDSIZE


49 #ifde‡
__MINGW32__


50 
	#__WORDSIZE
 32

	)

54 
	~<libhashkô-1.0/hashkô.h
>

55 
	~"libhashkô/Æg‹ôhm.h
"

56 
	~"libhashkô/is.h
"

57 
	~"libhashkô/°rög.h
"

58 
	~"libhashkô/´s.h
"

60 #ifde‡
__˝lu•lus


64 
md5_sig«tuª
(c⁄° *
key
, 
Àngth
, *
ªsu…
);

66 
upd©e_c⁄töuum
(
hashkô_°
 *
hashkô
);

68 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libhashkit/hashkit.h

38 #¥agm®
⁄˚


40 
	~<libhashkô-1.0/hashkô.h
>

	@oss/libmemcached-1.0.17/libhashkit/hashkitcon.h

38 #¥agm®
⁄˚


40 
	~"mem_c⁄fig.h
"

	@oss/libmemcached-1.0.17/libhashkit/is.h

39 #¥agm®
⁄˚


41 
	#hashkô_is_Æloˇãd
(
__obje˘
Ë((__obje˘)->
›ti⁄s
.
is_Æloˇãd
)

	)

42 
	#hashkô_is_öôülized
(
__obje˘
Ë((__obje˘)->
›ti⁄s
.
is_öôülized
)

	)

	@oss/libmemcached-1.0.17/libhashkit/murmur3.h

6 #¥agm®
⁄˚


10 
MurmurHash3_x86_32
 (c⁄° *
key
, 
Àn
, 
uöt32_t
 
£ed
, *
out
);

12 
MurmurHash3_x86_128
(c⁄° *
key
, 
Àn
, 
uöt32_t
 
£ed
, *
out
);

14 
MurmurHash3_x64_128
(c⁄° *
key
, 
Àn
, 
uöt32_t
 
£ed
, *
out
);

	@oss/libmemcached-1.0.17/libhashkit/string.h

37 #¥agm®
⁄˚


39 
hashkô_°rög_°
 *
hashkô_°rög_¸óã
(
size_t
 
öôül_size
);

41 
boﬁ
 
hashkô_°rög_≠≥nd_ch¨a˘î
(
hashkô_°rög_°
 *
°rög
, 
ch¨a˘î
);

43 
boﬁ
 
hashkô_°rög_≠≥nd
(
hashkô_°rög_°
 *
°rög
, c⁄° *
vÆue
, 
size_t
 
Àngth
);

45 *
hashkô_°rög_c_c›y
(
hashkô_°rög_°
 *
°rög
);

47 
hashkô_°rög_ª£t
(
hashkô_°rög_°
 *
°rög
);

49 
boﬁ
 
hashkô_°rög_ªsize
(
hashkô_°rög_°
& 
°rög
, c⁄° 
size_t
 
√ed
);

51 
size_t
 
hashkô_°rög_max_size
(c⁄° 
hashkô_°rög_°
 *
£lf
);

53 *
hashkô_°rög_èke
(
hashkô_°rög_°
 *
£lf
);

55 *
hashkô_°rög_c_°r_muèbÀ
(
hashkô_°rög_°
 *
£lf
);

57 
hashkô_°rög_£t_Àngth
(
hashkô_°rög_°
 *
£lf
, 
size_t
 
Àngth
);

	@oss/libmemcached-1.0.17/libmemcached-1.0/alloc.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


47 (*
memˇched_‰ì_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, *
	tmem
, *
	tc⁄ãxt
);

48 *(*
	tmemˇched_mÆloc_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, c⁄° 
	tsize_t
 
	tsize
, *
	tc⁄ãxt
);

49 *(*
	tmemˇched_ªÆloc_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, *
	tmem
, c⁄° 
	tsize_t
 
	tsize
, *
	tc⁄ãxt
);

50 *(*
	tmemˇched_ˇŒoc_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, 
	tsize_t
 
	t√Àm
, c⁄° size_à
	tñsize
, *
	tc⁄ãxt
);

52 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/allocators.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_£t_mem‹y_Æloˇt‹s
(
memˇched_°
 *
±r
,

46 
memˇched_mÆloc_‚
 
mem_mÆloc
,

47 
memˇched_‰ì_‚
 
mem_‰ì
,

48 
memˇched_ªÆloc_‚
 
mem_ªÆloc
,

49 
memˇched_ˇŒoc_‚
 
mem_ˇŒoc
,

50 *
c⁄ãxt
);

52 
LIBMEMCACHED_API


53 
memˇched_gë_mem‹y_Æloˇt‹s
(c⁄° 
memˇched_°
 *
±r
,

54 
memˇched_mÆloc_‚
 *
mem_mÆloc
,

55 
memˇched_‰ì_‚
 *
mem_‰ì
,

56 
memˇched_ªÆloc_‚
 *
mem_ªÆloc
,

57 
memˇched_ˇŒoc_‚
 *
mem_ˇŒoc
);

59 
LIBMEMCACHED_API


60 *
memˇched_gë_mem‹y_Æloˇt‹s_c⁄ãxt
(c⁄° 
memˇched_°
 *
±r
);

62 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/analyze.h

38 
	~<libmemˇched-1.0/°ru˘/™Æysis.h
>

40 #¥agm®
⁄˚


42 #ifde‡
__˝lu•lus


46 
LIBMEMCACHED_API


47 
memˇched_™Æysis_°
 *
memˇched_™Æyze
(
memˇched_°
 *
memc
,

48 
memˇched_°©_°
 *
memc_°©
,

49 
memˇched_ªtu∫_t
 *
îr‹
);

51 
LIBMEMCACHED_API


52 
memˇched_™Æyze_‰ì
(
memˇched_™Æysis_°
 *);

54 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/auto.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_ö¸emít
(
memˇched_°
 *
±r
,

46 c⁄° *
key
, 
size_t
 
key_Àngth
,

47 
uöt32_t
 
off£t
,

48 
uöt64_t
 *
vÆue
);

49 
LIBMEMCACHED_API


50 
memˇched_ªtu∫_t
 
memˇched_de¸emít
(
memˇched_°
 *
±r
,

51 c⁄° *
key
, 
size_t
 
key_Àngth
,

52 
uöt32_t
 
off£t
,

53 
uöt64_t
 *
vÆue
);

55 
LIBMEMCACHED_API


56 
memˇched_ªtu∫_t
 
memˇched_ö¸emít_by_key
(
memˇched_°
 *
±r
,

57 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

58 c⁄° *
key
, 
size_t
 
key_Àngth
,

59 
uöt64_t
 
off£t
,

60 
uöt64_t
 *
vÆue
);

62 
LIBMEMCACHED_API


63 
memˇched_ªtu∫_t
 
memˇched_de¸emít_by_key
(
memˇched_°
 *
±r
,

64 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

65 c⁄° *
key
, 
size_t
 
key_Àngth
,

66 
uöt64_t
 
off£t
,

67 
uöt64_t
 *
vÆue
);

69 
LIBMEMCACHED_API


70 
memˇched_ªtu∫_t
 
memˇched_ö¸emít_wôh_öôül
(
memˇched_°
 *
±r
,

71 c⁄° *
key
,

72 
size_t
 
key_Àngth
,

73 
uöt64_t
 
off£t
,

74 
uöt64_t
 
öôül
,

75 
time_t
 
expú©i⁄
,

76 
uöt64_t
 *
vÆue
);

78 
LIBMEMCACHED_API


79 
memˇched_ªtu∫_t
 
memˇched_de¸emít_wôh_öôül
(
memˇched_°
 *
±r
,

80 c⁄° *
key
,

81 
size_t
 
key_Àngth
,

82 
uöt64_t
 
off£t
,

83 
uöt64_t
 
öôül
,

84 
time_t
 
expú©i⁄
,

85 
uöt64_t
 *
vÆue
);

87 
LIBMEMCACHED_API


88 
memˇched_ªtu∫_t
 
memˇched_ö¸emít_wôh_öôül_by_key
(
memˇched_°
 *
±r
,

89 c⁄° *
group_key
,

90 
size_t
 
group_key_Àngth
,

91 c⁄° *
key
,

92 
size_t
 
key_Àngth
,

93 
uöt64_t
 
off£t
,

94 
uöt64_t
 
öôül
,

95 
time_t
 
expú©i⁄
,

96 
uöt64_t
 *
vÆue
);

98 
LIBMEMCACHED_API


99 
memˇched_ªtu∫_t
 
memˇched_de¸emít_wôh_öôül_by_key
(
memˇched_°
 *
±r
,

100 c⁄° *
group_key
,

101 
size_t
 
group_key_Àngth
,

102 c⁄° *
key
,

103 
size_t
 
key_Àngth
,

104 
uöt64_t
 
off£t
,

105 
uöt64_t
 
öôül
,

106 
time_t
 
expú©i⁄
,

107 
uöt64_t
 *
vÆue
);

109 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/basic_string.h

37 #¥agm®
⁄˚


41 
	smemˇched_°rög_t
 {

42 c⁄° *
	mc_°r
;

43 
size_t
 
	msize
;

46 
	#memˇched_size
(
X
Ë(X).
size
;

	)

47 
	#memˇched_c_°r
(
X
Ë(X).
c_°r
;

	)

48 
	#memˇched_°rög_∑øm
(
X
Ë(X).
c_°r
, (X).
size


	)

50 #ifde‡
__˝lu•lus


51 
	#memˇched_°rög_¥ötf
(
X
Ë((X).
size
), (X).
c_°r


	)

53 
	#memˇched_°rög_¥ötf
(
X
Ë()((X).
size
), (X).
c_°r


	)

	@oss/libmemcached-1.0.17/libmemcached-1.0/behavior.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_behavi‹_£t
(
memˇched_°
 *
±r
, c⁄° 
memˇched_behavi‹_t
 
Êag
, 
uöt64_t
 
d©a
);

47 
LIBMEMCACHED_API


48 
uöt64_t
 
memˇched_behavi‹_gë
(
memˇched_°
 *
±r
, c⁄° 
memˇched_behavi‹_t
 
Êag
);

50 
LIBMEMCACHED_API


51 
memˇched_ªtu∫_t
 
memˇched_behavi‹_£t_di°ributi⁄
(
memˇched_°
 *
±r
, 
memˇched_£rvî_di°ributi⁄_t
 
ty≥
);

53 
LIBMEMCACHED_API


54 
memˇched_£rvî_di°ributi⁄_t
 
memˇched_behavi‹_gë_di°ributi⁄
(
memˇched_°
 *
±r
);

56 
LIBMEMCACHED_API


57 
memˇched_ªtu∫_t
 
memˇched_behavi‹_£t_key_hash
(
memˇched_°
 *
±r
, 
memˇched_hash_t
 
ty≥
);

59 
LIBMEMCACHED_API


60 
memˇched_hash_t
 
memˇched_behavi‹_gë_key_hash
(
memˇched_°
 *
±r
);

62 
LIBMEMCACHED_API


63 
memˇched_ªtu∫_t
 
memˇched_behavi‹_£t_di°ributi⁄_hash
(
memˇched_°
 *
±r
, 
memˇched_hash_t
 
ty≥
);

65 
LIBMEMCACHED_API


66 
memˇched_hash_t
 
memˇched_behavi‹_gë_di°ributi⁄_hash
(
memˇched_°
 *
±r
);

68 
LIBMEMCACHED_API


69 c⁄° *
libmemˇched_°rög_behavi‹
(c⁄° 
memˇched_behavi‹_t
 
Êag
);

71 
LIBMEMCACHED_API


72 c⁄° *
libmemˇched_°rög_di°ributi⁄
(c⁄° 
memˇched_£rvî_di°ributi⁄_t
 
Êag
);

74 
LIBMEMCACHED_API


75 
memˇched_ªtu∫_t
 
memˇched_buckë_£t
(
memˇched_°
 *
£lf
,

76 c⁄° 
uöt32_t
 *
ho°_m≠
,

77 c⁄° 
uöt32_t
 *
f‹w¨d_m≠
,

78 c⁄° 
uöt32_t
 
buckës
,

79 c⁄° 
uöt32_t
 
ª∂iˇs
);

81 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/callback.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_ˇŒback_£t
(
memˇched_°
 *
±r
,

46 c⁄° 
memˇched_ˇŒback_t
 
Êag
,

47 c⁄° *
d©a
);

48 
LIBMEMCACHED_API


49 *
memˇched_ˇŒback_gë
(
memˇched_°
 *
±r
,

50 c⁄° 
memˇched_ˇŒback_t
 
Êag
,

51 
memˇched_ªtu∫_t
 *
îr‹
);

53 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/callbacks.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
memˇched_ªtu∫_t
 (*
	tmemˇched_execuã_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, 
	tmemˇched_ªsu…_°
 *
	tªsu…
, *
	tc⁄ãxt
);

45 
memˇched_ªtu∫_t
 (*
	tmemˇched_£rvî_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
, c⁄° 
	tmemˇched_ö°™˚_°
 * 
	t£rvî
, *
	tc⁄ãxt
);

46 
memˇched_ªtu∫_t
 (*
	tmemˇched_°©_‚
)(c⁄° 
	tmemˇched_ö°™˚_°
 * 
	t£rvî
,

47 c⁄° *
	tkey
, 
	tsize_t
 
	tkey_Àngth
,

48 c⁄° *
	tvÆue
, 
	tsize_t
 
	tvÆue_Àngth
,

49 *
	tc⁄ãxt
);

51 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/configure.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


45 
	#LIBMEMCACHED_WITH_SASL_SUPPORT
 0

	)

47 
	#LIBMEMCACHED_VERSION_STRING
 "1.0.17"

	)

48 
	#LIBMEMCACHED_VERSION_HEX
 0x01000017

	)

50 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/defaults.h

39 #¥agm®
⁄˚


42 
	#MEMCACHED_DEFAULT_PORT
 11211

	)

43 
	#MEMCACHED_POINTS_PER_SERVER
 100

	)

44 
	#MEMCACHED_POINTS_PER_SERVER_KETAMA
 160

	)

45 
	#MEMCACHED_CONTINUUM_SIZE
 
MEMCACHED_POINTS_PER_SERVER
*100

	)

46 
	#MEMCACHED_STRIDE
 4

	)

47 
	#MEMCACHED_DEFAULT_TIMEOUT
 5000

	)

48 
	#MEMCACHED_DEFAULT_CONNECT_TIMEOUT
 4000

	)

49 
	#MEMCACHED_CONTINUUM_ADDITION
 10

	)

50 
	#MEMCACHED_EXPIRATION_NOT_ADD
 0xffffffffU

	)

51 
	#MEMCACHED_SERVER_FAILURE_LIMIT
 5

	)

52 
	#MEMCACHED_SERVER_FAILURE_RETRY_TIMEOUT
 2

	)

53 
	#MEMCACHED_SERVER_FAILURE_DEAD_TIMEOUT
 0

	)

	@oss/libmemcached-1.0.17/libmemcached-1.0/delete.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
memˇched_ªtu∫_t
 
memˇched_dñëe
(
memˇched_°
 *
±r
, c⁄° *
key
, 
size_t
 
key_Àngth
,

47 
time_t
 
expú©i⁄
);

49 
LIBMEMCACHED_API


50 
memˇched_ªtu∫_t
 
memˇched_dñëe_by_key
(
memˇched_°
 *
±r
,

51 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

52 c⁄° *
key
, 
size_t
 
key_Àngth
,

53 
time_t
 
expú©i⁄
);

55 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/deprecated_types.h

42 #¥agm®
⁄˚


47 
memˇched_ªtu∫_t
 
	tmemˇched_ªtu∫
;

48 
memˇched_£rvî_di°ributi⁄_t
 
	tmemˇched_£rvî_di°ributi⁄
;

49 
memˇched_behavi‹_t
 
	tmemˇched_behavi‹
;

50 
memˇched_ˇŒback_t
 
	tmemˇched_ˇŒback
;

51 
memˇched_hash_t
 
	tmemˇched_hash
;

52 
memˇched_c⁄√˘i⁄_t
 
	tmemˇched_c⁄√˘i⁄
;

53 
memˇched_˛⁄e_‚
 
	tmemˇched_˛⁄e_func
;

54 
memˇched_˛ónup_‚
 
	tmemˇched_˛ónup_func
;

55 
memˇched_execuã_‚
 
	tmemˇched_execuã_fun˘i⁄
;

56 
memˇched_£rvî_‚
 
	tmemˇched_£rvî_fun˘i⁄
;

57 
memˇched_åiggî_key_‚
 
	tmemˇched_åiggî_key
;

58 
memˇched_åiggî_dñëe_key_‚
 
	tmemˇched_åiggî_dñëe_key
;

59 
memˇched_dump_‚
 
	tmemˇched_dump_func
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/dump.h

38 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
memˇched_ªtu∫_t
 
memˇched_dump
(
memˇched_°
 *
±r
, 
memˇched_dump_‚
 *
fun˘i⁄
, *
c⁄ãxt
, 
uöt32_t
 
numbî_of_ˇŒbacks
);

49 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/encoding_key.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_£t_ícodög_key
(
memˇched_°
*, c⁄° *
°r
, 
size_t
 
Àngth
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/error.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 c⁄° *
memˇched_îr‹
(c⁄° 
memˇched_°
 *);

47 
LIBMEMCACHED_API


48 c⁄° *
memˇched_œ°_îr‹_mesßge
(c⁄° 
memˇched_°
 *);

50 
LIBMEMCACHED_API


51 
memˇched_îr‹_¥öt
(c⁄° 
memˇched_°
 *);

53 
LIBMEMCACHED_API


54 
memˇched_ªtu∫_t
 
memˇched_œ°_îr‹
(c⁄° 
memˇched_°
 *);

56 
LIBMEMCACHED_API


57 
memˇched_œ°_îr‹_î∫o
(c⁄° 
memˇched_°
 *);

59 
LIBMEMCACHED_API


60 c⁄° *
memˇched_£rvî_îr‹
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

62 
LIBMEMCACHED_API


63 
memˇched_ªtu∫_t
 
memˇched_£rvî_îr‹_ªtu∫
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

65 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/exist.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


43 
LIBMEMCACHED_API


44 
memˇched_ªtu∫_t
 
memˇched_exi°
(
memˇched_°
 *
memc
, c⁄° *
key
, 
size_t
 
key_Àngth
);

46 
LIBMEMCACHED_API


47 
memˇched_ªtu∫_t
 
memˇched_exi°_by_key
(
memˇched_°
 *
memc
,

48 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

49 c⁄° *
key
, 
size_t
 
key_Àngth
);

50 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/fetch.h

38 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
memˇched_ªtu∫_t
 
memˇched_„tch_execuã
(
memˇched_°
 *
±r
,

47 
memˇched_execuã_‚
 *
ˇŒback
,

48 *
c⁄ãxt
,

49 
uöt32_t
 
numbî_of_ˇŒbacks
);

51 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/flush.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_Êush
(
memˇched_°
 *
±r
, 
time_t
 
expú©i⁄
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/flush_buffers.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_Êush_buf„rs
(
memˇched_°
 *
mem
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/get.h

38 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


46 
LIBMEMCACHED_API


47 *
memˇched_gë
(
memˇched_°
 *
±r
,

48 c⁄° *
key
, 
size_t
 
key_Àngth
,

49 
size_t
 *
vÆue_Àngth
,

50 
uöt32_t
 *
Êags
,

51 
memˇched_ªtu∫_t
 *
îr‹
);

53 
LIBMEMCACHED_API


54 
memˇched_ªtu∫_t
 
memˇched_mgë
(
memˇched_°
 *
±r
,

55 c⁄° * c⁄° *
keys
,

56 c⁄° 
size_t
 *
key_Àngth
,

57 
size_t
 
numbî_of_keys
);

59 
LIBMEMCACHED_API


60 *
memˇched_gë_by_key
(
memˇched_°
 *
±r
,

61 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

62 c⁄° *
key
, 
size_t
 
key_Àngth
,

63 
size_t
 *
vÆue_Àngth
,

64 
uöt32_t
 *
Êags
,

65 
memˇched_ªtu∫_t
 *
îr‹
);

67 
LIBMEMCACHED_API


68 
memˇched_ªtu∫_t
 
memˇched_mgë_by_key
(
memˇched_°
 *
±r
,

69 c⁄° *
group_key
,

70 
size_t
 
group_key_Àngth
,

71 c⁄° * c⁄° *
keys
,

72 c⁄° 
size_t
 *
key_Àngth
,

73 c⁄° 
size_t
 
numbî_of_keys
);

75 
LIBMEMCACHED_API


76 *
memˇched_„tch
(
memˇched_°
 *
±r
,

77 *
key
,

78 
size_t
 *
key_Àngth
,

79 
size_t
 *
vÆue_Àngth
,

80 
uöt32_t
 *
Êags
,

81 
memˇched_ªtu∫_t
 *
îr‹
);

83 
LIBMEMCACHED_API


84 
memˇched_ªsu…_°
 *
memˇched_„tch_ªsu…
(
memˇched_°
 *
±r
,

85 
memˇched_ªsu…_°
 *
ªsu…
,

86 
memˇched_ªtu∫_t
 *
îr‹
);

88 
LIBMEMCACHED_API


89 
memˇched_ªtu∫_t
 
memˇched_mgë_execuã
(
memˇched_°
 *
±r
,

90 c⁄° * c⁄° *
keys
,

91 c⁄° 
size_t
 *
key_Àngth
,

92 c⁄° 
size_t
 
numbî_of_keys
,

93 
memˇched_execuã_‚
 *
ˇŒback
,

94 *
c⁄ãxt
,

95 c⁄° 
uöt32_t
 
numbî_of_ˇŒbacks
);

97 
LIBMEMCACHED_API


98 
memˇched_ªtu∫_t
 
memˇched_mgë_execuã_by_key
(
memˇched_°
 *
±r
,

99 c⁄° *
group_key
,

100 
size_t
 
group_key_Àngth
,

101 c⁄° * c⁄° *
keys
,

102 c⁄° 
size_t
 *
key_Àngth
,

103 
size_t
 
numbî_of_keys
,

104 
memˇched_execuã_‚
 *
ˇŒback
,

105 *
c⁄ãxt
,

106 c⁄° 
uöt32_t
 
numbî_of_ˇŒbacks
);

108 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/hash.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
uöt32_t
 
memˇched_gíî©e_hash_vÆue
(c⁄° *
key
, 
size_t
 
key_Àngth
, 
memˇched_hash_t
 
hash_Æg‹ôhm
);

48 
LIBMEMCACHED_API


49 c⁄° 
hashkô_°
 *
memˇched_gë_hashkô
(c⁄° 
memˇched_°
 *
±r
);

51 
LIBMEMCACHED_API


52 
memˇched_ªtu∫_t
 
memˇched_£t_hashkô
(
memˇched_°
 *
±r
, 
hashkô_°
 *
hashk
);

54 
LIBMEMCACHED_API


55 
uöt32_t
 
memˇched_gíî©e_hash
(c⁄° 
memˇched_°
 *
±r
, c⁄° *
key
, 
size_t
 
key_Àngth
);

57 
LIBMEMCACHED_API


58 
memˇched_aut€je˘
(
memˇched_°
 *
±r
);

60 
LIBMEMCACHED_API


61 c⁄° * 
libmemˇched_°rög_hash
(
memˇched_hash_t
 
ty≥
);

63 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/limits.h

39 #¥agm®
⁄˚


41 
	#MEMCACHED_MAXIMUM_INTEGER_DISPLAY_LENGTH
 20

	)

42 
	#MEMCACHED_MAX_BUFFER
 8196

	)

43 
	#MEMCACHED_MAX_HOST_SORT_LENGTH
 86

	)

44 
	#MEMCACHED_MAX_KEY
 251

	)

45 
	#MEMCACHED_PREFIX_KEY_MAX_SIZE
 128

	)

46 
	#MEMCACHED_VERSION_STRING_LENGTH
 24

	)

	@oss/libmemcached-1.0.17/libmemcached-1.0/memcached.h

38 #¥agm®
⁄˚


41 #i‚de‡
__STDC_FORMAT_MACROS


42 
	#__STDC_FORMAT_MACROS


	)

45 #ifde‡
__˝lu•lus


46 
	~<å1/cöây≥s
>

47 
	~<c°ddef
>

48 
	~<c°dlib
>

50 
	~<öây≥s.h
>

51 
	~<°ddef.h
>

52 
	~<°dlib.h
>

53 
	~<°dboﬁ.h
>

56 
	~<sys/ty≥s.h
>

58 
	~<libmemˇched-1.0/visibûôy.h
>

59 
	~<libmemˇched-1.0/c⁄figuª.h
>

60 
	~<libmemˇched-1.0/∂©f‹m.h
>

62 
	~<libmemˇched-1.0/limôs.h
>

63 
	~<libmemˇched-1.0/deÁu…s.h
>

65 
	~<libmemˇched-1.0/ty≥s/behavi‹.h
>

66 
	~<libmemˇched-1.0/ty≥s/ˇŒback.h
>

67 
	~<libmemˇched-1.0/ty≥s/c⁄√˘i⁄.h
>

68 
	~<libmemˇched-1.0/ty≥s/hash.h
>

69 
	~<libmemˇched-1.0/ty≥s/ªtu∫.h
>

70 
	~<libmemˇched-1.0/ty≥s/£rvî_di°ributi⁄.h
>

72 
	~<libmemˇched-1.0/ªtu∫.h
>

74 
	~<libmemˇched-1.0/ty≥s.h
>

75 
	~<libmemˇched-1.0/ˇŒbacks.h
>

76 
	~<libmemˇched-1.0/Æloc.h
>

77 
	~<libmemˇched-1.0/åiggîs.h
>

79 
	~<libhashkô-1.0/hashkô.h
>

81 
	~<libmemˇched-1.0/°ru˘/ˇŒback.h
>

82 
	~<libmemˇched-1.0/°ru˘/°rög.h
>

83 
	~<libmemˇched-1.0/°ru˘/ªsu….h
>

84 
	~<libmemˇched-1.0/°ru˘/Æloˇt‹.h
>

85 
	~<libmemˇched-1.0/°ru˘/ß¶.h
>

86 
	~<libmemˇched-1.0/°ru˘/memˇched.h
>

87 
	~<libmemˇched-1.0/°ru˘/£rvî.h
>

88 
	~<libmemˇched-1.0/°ru˘/°©.h
>

90 
	~<libmemˇched-1.0/basic_°rög.h
>

91 
	~<libmemˇched-1.0/îr‹.h
>

92 
	~<libmemˇched-1.0/°©s.h
>

95 
	~<libmemˇched-1.0/Æloˇt‹s.h
>

96 
	~<libmemˇched-1.0/™Æyze.h
>

97 
	~<libmemˇched-1.0/auto.h
>

98 
	~<libmemˇched-1.0/behavi‹.h
>

99 
	~<libmemˇched-1.0/ˇŒback.h
>

100 
	~<libmemˇched-1.0/dñëe.h
>

101 
	~<libmemˇched-1.0/dump.h
>

102 
	~<libmemˇched-1.0/ícodög_key.h
>

103 
	~<libmemˇched-1.0/exi°.h
>

104 
	~<libmemˇched-1.0/„tch.h
>

105 
	~<libmemˇched-1.0/Êush.h
>

106 
	~<libmemˇched-1.0/Êush_buf„rs.h
>

107 
	~<libmemˇched-1.0/gë.h
>

108 
	~<libmemˇched-1.0/hash.h
>

109 
	~<libmemˇched-1.0/›ti⁄s.h
>

110 
	~<libmemˇched-1.0/∑r£.h
>

111 
	~<libmemˇched-1.0/quô.h
>

112 
	~<libmemˇched-1.0/ªsu….h
>

113 
	~<libmemˇched-1.0/£rvî.h
>

114 
	~<libmemˇched-1.0/£rvî_li°.h
>

115 
	~<libmemˇched-1.0/°‹age.h
>

116 
	~<libmemˇched-1.0/°ªº‹.h
>

117 
	~<libmemˇched-1.0/touch.h
>

118 
	~<libmemˇched-1.0/vîbosôy.h
>

119 
	~<libmemˇched-1.0/vîsi⁄.h
>

120 
	~<libmemˇched-1.0/ß¶.h
>

122 
	~<libmemˇched-1.0/dïªˇãd_ty≥s.h
>

124 #ifde‡
__˝lu•lus


128 
LIBMEMCACHED_API


129 
memˇched_£rvîs_ª£t
(
memˇched_°
 *
±r
);

131 
LIBMEMCACHED_API


132 
memˇched_°
 *
memˇched_¸óã
(memˇched_° *
±r
);

134 
LIBMEMCACHED_API


135 
memˇched_°
 *
memˇched
(c⁄° *
°rög
, 
size_t
 
°rög_Àngth
);

137 
LIBMEMCACHED_API


138 
memˇched_‰ì
(
memˇched_°
 *
±r
);

140 
LIBMEMCACHED_API


141 
memˇched_ªtu∫_t
 
memˇched_ª£t
(
memˇched_°
 *
±r
);

143 
LIBMEMCACHED_API


144 
memˇched_ª£t_œ°_disc⁄√˘ed_£rvî
(
memˇched_°
 *
±r
);

146 
LIBMEMCACHED_API


147 
memˇched_°
 *
memˇched_˛⁄e
(memˇched_° *
˛⁄e
, c⁄° memˇched_° *
±r
);

149 
LIBMEMCACHED_API


150 *
memˇched_gë_u£r_d©a
(c⁄° 
memˇched_°
 *
±r
);

152 
LIBMEMCACHED_API


153 *
memˇched_£t_u£r_d©a
(
memˇched_°
 *
±r
, *
d©a
);

155 
LIBMEMCACHED_API


156 
memˇched_ªtu∫_t
 
memˇched_push
(
memˇched_°
 *
de°ö©i⁄
, c⁄° memˇched_° *
sour˚
);

158 
LIBMEMCACHED_API


159 c⁄° 
memˇched_ö°™˚_°
 * 
memˇched_£rvî_ö°™˚_by_posôi⁄
(c⁄° 
memˇched_°
 *
±r
, 
uöt32_t
 
£rvî_key
);

161 
LIBMEMCACHED_API


162 
uöt32_t
 
memˇched_£rvî_cou¡
(c⁄° 
memˇched_°
 *);

164 
LIBMEMCACHED_API


165 
uöt64_t
 
memˇched_quîy_id
(c⁄° 
memˇched_°
 *);

167 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/options.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
libmemˇched_check_c⁄figuøti⁄
(c⁄° *
›ti⁄_°rög
, 
size_t
 
Àngth
, *
îr‹_buf„r
, size_à
îr‹_buf„r_size
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/parse.h

12 #¥agm®
⁄˚


14 #ifde‡
__˝lu•lus


18 
LIBMEMCACHED_API


19 
memˇched_£rvî_li°_°
 
memˇched_£rvîs_∑r£
(c⁄° *
£rvî_°rögs
);

21 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/platform.h

38 #¥agm®
⁄˚


41 #i‡
deföed
(
_WIN32
)

42 
	~<wösock2.h
>

43 
	~<ws2t˝ù.h
>

45 #i‚de‡
HAVE_IN_PORT_T


46 
	tö_p‹t_t
;

47 
	#HAVE_IN_PORT_T
 1

	)

50 
SOCKET
 
	tmemˇched_sockë_t
;

53 
	~<sys/sockë.h
>

54 
	~<√töë/ö.h
>

55 
	~<¨∑/öë.h
>

56 
	~<√tdb.h
>

57 
	~<sys/un.h
>

58 
	~<√töë/t˝.h
>

60 
	tmemˇched_sockë_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/quit.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_quô
(
memˇched_°
 *
±r
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/result.h

38 
	~<libmemˇched-1.0/°ru˘/ªsu….h
>

40 #¥agm®
⁄˚


42 #ifde‡
__˝lu•lus


47 
LIBMEMCACHED_API


48 
memˇched_ªsu…_‰ì
(
memˇched_ªsu…_°
 *
ªsu…
);

50 
LIBMEMCACHED_API


51 
memˇched_ªsu…_ª£t
(
memˇched_ªsu…_°
 *
±r
);

53 
LIBMEMCACHED_API


54 
memˇched_ªsu…_°
 *
memˇched_ªsu…_¸óã
(c⁄° 
memˇched_°
 *
±r
,

55 
memˇched_ªsu…_°
 *
ªsu…
);

57 
LIBMEMCACHED_API


58 c⁄° *
memˇched_ªsu…_key_vÆue
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

60 
LIBMEMCACHED_API


61 
size_t
 
memˇched_ªsu…_key_Àngth
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

63 
LIBMEMCACHED_API


64 c⁄° *
memˇched_ªsu…_vÆue
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

66 
LIBMEMCACHED_API


67 *
memˇched_ªsu…_èke_vÆue
(
memˇched_ªsu…_°
 *
£lf
);

69 
LIBMEMCACHED_API


70 
size_t
 
memˇched_ªsu…_Àngth
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

72 
LIBMEMCACHED_API


73 
uöt32_t
 
memˇched_ªsu…_Êags
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

75 
LIBMEMCACHED_API


76 
uöt64_t
 
memˇched_ªsu…_ˇs
(c⁄° 
memˇched_ªsu…_°
 *
£lf
);

78 
LIBMEMCACHED_API


79 
memˇched_ªtu∫_t
 
memˇched_ªsu…_£t_vÆue
(
memˇched_ªsu…_°
 *
±r
, c⁄° *
vÆue
, 
size_t
 
Àngth
);

81 
LIBMEMCACHED_API


82 
memˇched_ªsu…_£t_Êags
(
memˇched_ªsu…_°
 *
£lf
, 
uöt32_t
 
Êags
);

84 
LIBMEMCACHED_API


85 
memˇched_ªsu…_£t_expú©i⁄
(
memˇched_ªsu…_°
 *
£lf
, 
time_t
 
expú©i⁄
);

87 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/return.h

37 #¥agm®
⁄˚


39 
ölöe
 
boﬁ
 
	$memˇched_suc˚ss
(
memˇched_ªtu∫_t
 
rc
)

41  (
rc
 =
MEMCACHED_BUFFERED
 ||

42 
rc
 =
MEMCACHED_DELETED
 ||

43 
rc
 =
MEMCACHED_END
 ||

44 
rc
 =
MEMCACHED_ITEM
 ||

45 
rc
 =
MEMCACHED_STAT
 ||

46 
rc
 =
MEMCACHED_STORED
 ||

47 
rc
 =
MEMCACHED_SUCCESS
 ||

48 
rc
 =
MEMCACHED_VALUE
);

49 
	}
}

51 
ölöe
 
boﬁ
 
	$memˇched_Áûed
(
memˇched_ªtu∫_t
 
rc
)

53  (
rc
 !
MEMCACHED_SUCCESS
 &&

54 
rc
 !
MEMCACHED_END
 &&

55 
rc
 !
MEMCACHED_STORED
 &&

56 
rc
 !
MEMCACHED_STAT
 &&

57 
rc
 !
MEMCACHED_DELETED
 &&

58 
rc
 !
MEMCACHED_BUFFERED
 &&

59 
rc
 !
MEMCACHED_VALUE
);

60 
	}
}

62 
ölöe
 
boﬁ
 
	$memˇched_Áèl
(
memˇched_ªtu∫_t
 
rc
)

65 
rc
 !
MEMCACHED_BUFFERED
 &&

66 
rc
 !
MEMCACHED_CLIENT_ERROR
 &&

67 
rc
 !
MEMCACHED_DATA_EXISTS
 &&

68 
rc
 !
MEMCACHED_DELETED
 &&

69 
rc
 !
MEMCACHED_E2BIG
 &&

70 
rc
 !
MEMCACHED_END
 &&

71 
rc
 !
MEMCACHED_ITEM
 &&

72 
rc
 !
MEMCACHED_ERROR
 &&

73 
rc
 !
MEMCACHED_NOTFOUND
 &&

74 
rc
 !
MEMCACHED_NOTSTORED
 &&

75 
rc
 !
MEMCACHED_SERVER_MEMORY_ALLOCATION_FAILURE
 &&

76 
rc
 !
MEMCACHED_STAT
 &&

77 
rc
 !
MEMCACHED_STORED
 &&

78 
rc
 !
MEMCACHED_SUCCESS
 &&

79 
rc
 !
MEMCACHED_VALUE
);

80 
	}
}

82 
	#memˇched_c⁄töue
(
__memˇched_ªtu∫_t
Ë((__memˇched_ªtu∫_tË=
MEMCACHED_IN_PROGRESS
)

	)

	@oss/libmemcached-1.0.17/libmemcached-1.0/sasl.h

38 #¥agm®
⁄˚


40 #i‡
deföed
(
LIBMEMCACHED_WITH_SASL_SUPPORT
) && LIBMEMCACHED_WITH_SASL_SUPPORT

41 
	~<ß¶/ß¶.h
>

43 
	#ß¶_ˇŒback_t
 

	)

46 #ifde‡
__˝lu•lus


50 
LIBMEMCACHED_API


51 
memˇched_£t_ß¶_ˇŒbacks
(
memˇched_°
 *
±r
,

52 c⁄° 
ß¶_ˇŒback_t
 *
ˇŒbacks
);

54 
LIBMEMCACHED_API


55 
memˇched_ªtu∫_t
 
memˇched_£t_ß¶_auth_d©a
(
memˇched_°
 *
±r
,

56 c⁄° *
u£∫ame
,

57 c⁄° *
∑ssw‹d
);

59 
LIBMEMCACHED_API


60 
memˇched_ªtu∫_t
 
memˇched_de°roy_ß¶_auth_d©a
(
memˇched_°
 *
±r
);

63 
LIBMEMCACHED_API


64 
ß¶_ˇŒback_t
 *
memˇched_gë_ß¶_ˇŒbacks
(
memˇched_°
 *
±r
);

66 #ifde‡
__˝lu•lus


70 
	~<libmemˇched-1.0/°ru˘/ß¶.h
>

	@oss/libmemcached-1.0.17/libmemcached-1.0/server.h

39 #¥agm®
⁄˚


41 
	~<libmemˇched-1.0/°ru˘/£rvî.h
>

43 #ifde‡
__˝lu•lus


47 
LIBMEMCACHED_API


48 
memˇched_ªtu∫_t
 
memˇched_£rvî_curs‹
(c⁄° 
memˇched_°
 *
±r
,

49 c⁄° 
memˇched_£rvî_‚
 *
ˇŒback
,

50 *
c⁄ãxt
,

51 
uöt32_t
 
numbî_of_ˇŒbacks
);

53 
LIBMEMCACHED_API


54 c⁄° 
memˇched_ö°™˚_°
 * 
memˇched_£rvî_by_key
(
memˇched_°
 *
±r
,

55 c⁄° *
key
,

56 
size_t
 
key_Àngth
,

57 
memˇched_ªtu∫_t
 *
îr‹
);

59 
LIBMEMCACHED_API


60 
memˇched_£rvî_îr‹_ª£t
(
memˇched_£rvî_°
 *
±r
);

62 
LIBMEMCACHED_API


63 
memˇched_£rvî_‰ì
(
memˇched_£rvî_°
 *
±r
);

65 
LIBMEMCACHED_API


66 c⁄° 
memˇched_ö°™˚_°
 * 
memˇched_£rvî_gë_œ°_disc⁄√˘
(c⁄° 
memˇched_°
 *
±r
);

69 
LIBMEMCACHED_API


70 
memˇched_ªtu∫_t
 
memˇched_£rvî_add_udp
(
memˇched_°
 *
±r
,

71 c⁄° *
ho°«me
,

72 
ö_p‹t_t
 
p‹t
);

73 
LIBMEMCACHED_API


74 
memˇched_ªtu∫_t
 
memˇched_£rvî_add_unix_sockë
(
memˇched_°
 *
±r
,

75 c⁄° *
fûíame
);

76 
LIBMEMCACHED_API


77 
memˇched_ªtu∫_t
 
memˇched_£rvî_add
(
memˇched_°
 *
±r
,

78 c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
);

80 
LIBMEMCACHED_API


81 
memˇched_ªtu∫_t
 
memˇched_£rvî_add_udp_wôh_weight
(
memˇched_°
 *
±r
,

82 c⁄° *
ho°«me
,

83 
ö_p‹t_t
 
p‹t
,

84 
uöt32_t
 
weight
);

85 
LIBMEMCACHED_API


86 
memˇched_ªtu∫_t
 
memˇched_£rvî_add_unix_sockë_wôh_weight
(
memˇched_°
 *
±r
,

87 c⁄° *
fûíame
,

88 
uöt32_t
 
weight
);

89 
LIBMEMCACHED_API


90 
memˇched_ªtu∫_t
 
memˇched_£rvî_add_wôh_weight
(
memˇched_°
 *
±r
, c⁄° *
ho°«me
,

91 
ö_p‹t_t
 
p‹t
,

92 
uöt32_t
 
weight
);

97 
LIBMEMCACHED_API


98 
uöt32_t
 
memˇched_£rvî_ª•⁄£_cou¡
(c⁄° 
memˇched_ö°™˚_°
 * 
£lf
);

100 
LIBMEMCACHED_API


101 c⁄° *
memˇched_£rvî_«me
(c⁄° 
memˇched_ö°™˚_°
 * 
£lf
);

103 
LIBMEMCACHED_API


104 
ö_p‹t_t
 
memˇched_£rvî_p‹t
(c⁄° 
memˇched_ö°™˚_°
 * 
£lf
);

106 
LIBMEMCACHED_API


107 
memˇched_ö°™˚_√xt_ªåy
(c⁄° 
memˇched_ö°™˚_°
 * 
£lf
, c⁄° 
time_t
 
absﬁuã_time
);

109 
LIBMEMCACHED_API


110 c⁄° *
memˇched_£rvî_ty≥
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

112 
LIBMEMCACHED_API


113 
uöt8_t
 
memˇched_£rvî_maj‹_vîsi⁄
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

115 
LIBMEMCACHED_API


116 
uöt8_t
 
memˇched_£rvî_mö‹_vîsi⁄
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

118 
LIBMEMCACHED_API


119 
uöt8_t
 
memˇched_£rvî_mi¸o_vîsi⁄
(c⁄° 
memˇched_ö°™˚_°
 * 
±r
);

121 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/server_list.h

38 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


46 
LIBMEMCACHED_API


47 
memˇched_£rvî_li°_‰ì
(
memˇched_£rvî_li°_°
 
±r
);

49 
LIBMEMCACHED_API


50 
memˇched_ªtu∫_t
 
memˇched_£rvî_push
(
memˇched_°
 *
±r
, c⁄° 
memˇched_£rvî_li°_°
 
li°
);

52 
LIBMEMCACHED_API


53 
memˇched_£rvî_li°_°
 
memˇched_£rvî_li°_≠≥nd
(memˇched_£rvî_li°_° 
±r
,

54 c⁄° *
ho°«me
,

55 
ö_p‹t_t
 
p‹t
,

56 
memˇched_ªtu∫_t
 *
îr‹
);

57 
LIBMEMCACHED_API


58 
memˇched_£rvî_li°_°
 
memˇched_£rvî_li°_≠≥nd_wôh_weight
(memˇched_£rvî_li°_° 
±r
,

59 c⁄° *
ho°«me
,

60 
ö_p‹t_t
 
p‹t
,

61 
uöt32_t
 
weight
,

62 
memˇched_ªtu∫_t
 *
îr‹
);

63 
LIBMEMCACHED_API


64 
uöt32_t
 
memˇched_£rvî_li°_cou¡
(c⁄° 
memˇched_£rvî_li°_°
 
±r
);

66 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/stats.h

38 
	~<libmemˇched-1.0/°ru˘/°©.h
>

40 #¥agm®
⁄˚


42 #ifde‡
__˝lu•lus


46 
LIBMEMCACHED_API


47 
memˇched_°©_‰ì
(c⁄° 
memˇched_°
 *, 
memˇched_°©_°
 *);

49 
LIBMEMCACHED_API


50 
memˇched_°©_°
 *
memˇched_°©
(
memˇched_°
 *
±r
, *
¨gs
, 
memˇched_ªtu∫_t
 *
îr‹
);

52 
LIBMEMCACHED_API


53 
memˇched_ªtu∫_t
 
memˇched_°©_£rvî«me
(
memˇched_°©_°
 *
memc_°©
, *
¨gs
,

54 c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
);

56 
LIBMEMCACHED_API


57 *
memˇched_°©_gë_vÆue
(c⁄° 
memˇched_°
 *
±r
, 
memˇched_°©_°
 *
memc_°©
,

58 c⁄° *
key
, 
memˇched_ªtu∫_t
 *
îr‹
);

60 
LIBMEMCACHED_API


61 ** 
memˇched_°©_gë_keys
(
memˇched_°
 *
±r
, 
memˇched_°©_°
 *
memc_°©
,

62 
memˇched_ªtu∫_t
 *
îr‹
);

64 
LIBMEMCACHED_API


65 
memˇched_ªtu∫_t
 
memˇched_°©_execuã
(
memˇched_°
 *
memc
, c⁄° *
¨gs
, 
memˇched_°©_‚
 
func
, *
c⁄ãxt
);

67 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/storage.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
memˇched_ªtu∫_t
 
memˇched_£t
(
memˇched_°
 *
±r
, c⁄° *
key
, 
size_t
 
key_Àngth
,

47 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

48 
time_t
 
expú©i⁄
,

49 
uöt32_t
 
Êags
);

50 
LIBMEMCACHED_API


51 
memˇched_ªtu∫_t
 
memˇched_add
(
memˇched_°
 *
±r
, c⁄° *
key
, 
size_t
 
key_Àngth
,

52 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

53 
time_t
 
expú©i⁄
,

54 
uöt32_t
 
Êags
);

55 
LIBMEMCACHED_API


56 
memˇched_ªtu∫_t
 
memˇched_ª∂a˚
(
memˇched_°
 *
±r
, c⁄° *
key
, 
size_t
 
key_Àngth
,

57 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

58 
time_t
 
expú©i⁄
,

59 
uöt32_t
 
Êags
);

60 
LIBMEMCACHED_API


61 
memˇched_ªtu∫_t
 
memˇched_≠≥nd
(
memˇched_°
 *
±r
,

62 c⁄° *
key
, 
size_t
 
key_Àngth
,

63 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

64 
time_t
 
expú©i⁄
,

65 
uöt32_t
 
Êags
);

66 
LIBMEMCACHED_API


67 
memˇched_ªtu∫_t
 
memˇched_¥ïíd
(
memˇched_°
 *
±r
,

68 c⁄° *
key
, 
size_t
 
key_Àngth
,

69 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

70 
time_t
 
expú©i⁄
,

71 
uöt32_t
 
Êags
);

72 
LIBMEMCACHED_API


73 
memˇched_ªtu∫_t
 
memˇched_ˇs
(
memˇched_°
 *
±r
,

74 c⁄° *
key
, 
size_t
 
key_Àngth
,

75 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

76 
time_t
 
expú©i⁄
,

77 
uöt32_t
 
Êags
,

78 
uöt64_t
 
ˇs
);

80 
LIBMEMCACHED_API


81 
memˇched_ªtu∫_t
 
memˇched_£t_by_key
(
memˇched_°
 *
±r
,

82 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

83 c⁄° *
key
, 
size_t
 
key_Àngth
,

84 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

85 
time_t
 
expú©i⁄
,

86 
uöt32_t
 
Êags
);

88 
LIBMEMCACHED_API


89 
memˇched_ªtu∫_t
 
memˇched_add_by_key
(
memˇched_°
 *
±r
,

90 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

91 c⁄° *
key
, 
size_t
 
key_Àngth
,

92 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

93 
time_t
 
expú©i⁄
,

94 
uöt32_t
 
Êags
);

96 
LIBMEMCACHED_API


97 
memˇched_ªtu∫_t
 
memˇched_ª∂a˚_by_key
(
memˇched_°
 *
±r
,

98 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

99 c⁄° *
key
, 
size_t
 
key_Àngth
,

100 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

101 
time_t
 
expú©i⁄
,

102 
uöt32_t
 
Êags
);

104 
LIBMEMCACHED_API


105 
memˇched_ªtu∫_t
 
memˇched_¥ïíd_by_key
(
memˇched_°
 *
±r
,

106 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

107 c⁄° *
key
, 
size_t
 
key_Àngth
,

108 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

109 
time_t
 
expú©i⁄
,

110 
uöt32_t
 
Êags
);

112 
LIBMEMCACHED_API


113 
memˇched_ªtu∫_t
 
memˇched_≠≥nd_by_key
(
memˇched_°
 *
±r
,

114 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

115 c⁄° *
key
, 
size_t
 
key_Àngth
,

116 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

117 
time_t
 
expú©i⁄
,

118 
uöt32_t
 
Êags
);

120 
LIBMEMCACHED_API


121 
memˇched_ªtu∫_t
 
memˇched_ˇs_by_key
(
memˇched_°
 *
±r
,

122 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

123 c⁄° *
key
, 
size_t
 
key_Àngth
,

124 c⁄° *
vÆue
, 
size_t
 
vÆue_Àngth
,

125 
time_t
 
expú©i⁄
,

126 
uöt32_t
 
Êags
,

127 
uöt64_t
 
ˇs
);

129 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/strerror.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 c⁄° *
memˇched_°ªº‹
(c⁄° 
memˇched_°
 *
±r
, 
memˇched_ªtu∫_t
 
rc
);

48 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/allocator.h

38 #¥agm®
⁄˚


40 
	smemˇched_Æloˇt‹_t
 {

41 
memˇched_ˇŒoc_‚
 
	mˇŒoc
;

42 
memˇched_‰ì_‚
 
	m‰ì
;

43 
memˇched_mÆloc_‚
 
	mmÆloc
;

44 
memˇched_ªÆloc_‚
 
	mªÆloc
;

45 *
	mc⁄ãxt
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/analysis.h

38 #¥agm®
⁄˚


40 
	smemˇched_™Æysis_°
 {

41 
memˇched_°
 *
	mroŸ
;

42 
uöt32_t
 
	mavîage_ôem_size
;

43 
uöt32_t
 
	ml⁄ge°_u±ime
;

44 
uöt32_t
 
	mÀa°_‰ì_£rvî
;

45 
uöt32_t
 
	mmo°_c⁄sumed_£rvî
;

46 
uöt32_t
 
	mﬁde°_£rvî
;

47 
	mpoﬁ_hô_øtio
;

48 
uöt64_t
 
	mmo°_u£d_byãs
;

49 
uöt64_t
 
	mÀa°_ªmaöög_byãs
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/callback.h

38 #¥agm®
⁄˚


40 
	smemˇched_ˇŒback_°
 {

41 
memˇched_execuã_‚
 *
	mˇŒback
;

42 *
	mc⁄ãxt
;

43 
uöt32_t
 
	mnumbî_of_ˇŒback
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/memcached.h

38 #¥agm®
⁄˚


40 
	smemˇched_°
 {

45 
boﬁ
 
	mis_purgög
:1;

46 
boﬁ
 
	mis_¥o˚ssög_öput
:1;

47 
boﬁ
 
	mis_time_f‹_ªbuûd
:1;

48 
boﬁ
 
	mis_∑rsög
:1;

49 } 
	m°©e
;

53 
boﬁ
 
	mauto_eje˘_ho°s
:1;

54 
boﬁ
 
	mbö¨y_¥Ÿocﬁ
:1;

55 
boﬁ
 
	mbuf„r_ªque°s
:1;

56 
boﬁ
 
	mhash_wôh_«me•a˚
:1;

57 
boﬁ
 
	mno_block
:1;

58 
boﬁ
 
	mª∂y
:1;

59 
boﬁ
 
	møndomize_ª∂iˇ_ªad
:1;

60 
boﬁ
 
	msuµ‹t_ˇs
:1;

61 
boﬁ
 
	mt˝_nodñay
:1;

62 
boﬁ
 
	mu£_s‹t_ho°s
:1;

63 
boﬁ
 
	mu£_udp
:1;

64 
boﬁ
 
	mvîify_key
:1;

65 
boﬁ
 
	mt˝_kì∑live
:1;

66 
boﬁ
 
	mis_´s
:1;

67 
boﬁ
 
	mis_„tchög_vîsi⁄
:1;

68 
boﬁ
 
	mnŸ_u£d
:1;

69 } 
	mÊags
;

71 
memˇched_£rvî_di°ributi⁄_t
 
	mdi°ributi⁄
;

72 
hashkô_°
 
	mhashkô
;

74 
	mvîsi⁄
;

75 } 
	m£rvî_öfo
;

76 
uöt32_t
 
	mnumbî_of_ho°s
;

77 
memˇched_ö°™˚_°
 *
	m£rvîs
;

78 
memˇched_ö°™˚_°
 *
	mœ°_disc⁄√˘ed_£rvî
;

79 
öt32_t
 
	m¢d_timeout
;

80 
öt32_t
 
	mrcv_timeout
;

81 
uöt32_t
 
	m£rvî_Áûuª_limô
;

82 
uöt32_t
 
	mio_msg_w©îm¨k
;

83 
uöt32_t
 
	mio_byãs_w©îm¨k
;

84 
uöt32_t
 
	mio_key_¥e„tch
;

85 
uöt32_t
 
	mt˝_kìpidÀ
;

86 
öt32_t
 
	mpﬁl_timeout
;

87 
öt32_t
 
	mc⁄√˘_timeout
;

88 
öt32_t
 
	mªåy_timeout
;

89 
öt32_t
 
	mdód_timeout
;

90 
	m£nd_size
;

91 
	mªcv_size
;

92 *
	mu£r_d©a
;

93 
uöt64_t
 
	mquîy_id
;

94 
uöt32_t
 
	mnumbî_of_ª∂iˇs
;

95 
memˇched_ªsu…_°
 
	mªsu…
;

98 
boﬁ
 
	mweighãd_
;

99 
uöt32_t
 
	mc⁄töuum_cou¡
;

100 
uöt32_t
 
	mc⁄töuum_poöts_cou¡î
;

101 
time_t
 
	m√xt_di°ributi⁄_ªbuûd
;

102 
memˇched_c⁄töuum_ôem_°
 *
	mc⁄töuum
;

103 } 
	mkëama
;

105 
memˇched_vútuÆ_buckë_t
 *
	mvútuÆ_buckë
;

107 
memˇched_Æloˇt‹_t
 
	mÆloˇt‹s
;

109 
memˇched_˛⁄e_‚
 
	m⁄_˛⁄e
;

110 
memˇched_˛ónup_‚
 
	m⁄_˛ónup
;

111 
memˇched_åiggî_key_‚
 
	mgë_key_Áûuª
;

112 
memˇched_åiggî_dñëe_key_‚
 
	mdñëe_åiggî
;

113 
memˇched_ˇŒback_°
 *
	mˇŒbacks
;

114 
memˇched_ß¶_°
 
	mß¶
;

115 
memˇched_îr‹_t
 *
	mîr‹_mesßges
;

116 
memˇched_¨øy_°
 *
	m_«me•a˚
;

118 
uöt32_t
 
	möôül_poﬁ_size
;

119 
uöt32_t
 
	mmax_poﬁ_size
;

120 
öt32_t
 
	mvîsi⁄
;

121 
memˇched_¨øy_°
 *
	mfûíame
;

122 } 
	mc⁄figuª
;

124 
boﬁ
 
	mis_Æloˇãd
:1;

125 } 
	m›ti⁄s
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/result.h

38 #¥agm®
⁄˚


40 
	smemˇched_ªsu…_°
 {

41 
uöt32_t
 
	môem_Êags
;

42 
time_t
 
	môem_expú©i⁄
;

43 
size_t
 
	mkey_Àngth
;

44 
uöt64_t
 
	môem_ˇs
;

45 
memˇched_°
 *
	mroŸ
;

46 
memˇched_°rög_°
 
	mvÆue
;

47 
uöt64_t
 
	mnumîic_vÆue
;

48 
uöt64_t
 
	mcou¡
;

49 
	môem_key
[
MEMCACHED_MAX_KEY
];

51 
boﬁ
 
	mis_Æloˇãd
:1;

52 
boﬁ
 
	mis_öôülized
:1;

53 } 
	m›ti⁄s
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/sasl.h

38 #i‡
deföed
(
LIBMEMCACHED_WITH_SASL_SUPPORT
) && LIBMEMCACHED_WITH_SASL_SUPPORT

39 
	~<ß¶/ß¶.h
>

41 
	#ß¶_ˇŒback_t
 

	)

44 #¥agm®
⁄˚


46 
	smemˇched_ß¶_°
 {

47 
ß¶_ˇŒback_t
 *
	mˇŒbacks
;

52 
boﬁ
 
	mis_Æloˇãd
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/server.h

39 #¥agm®
⁄˚


41 #ifde‡
HAVE_NETDB_H


42 
	~<√tdb.h
>

45 #ifde‡
NI_MAXHOST


46 
	#MEMCACHED_NI_MAXHOST
 
NI_MAXHOST


	)

48 
	#MEMCACHED_NI_MAXHOST
 1025

	)

51 #ifde‡
NI_MAXSERV


52 
	#MEMCACHED_NI_MAXSERV
 
NI_MAXSERV


	)

54 
	#MEMCACHED_NI_MAXSERV
 32

	)

57 
	ememˇched_£rvî_°©e_t
 {

58 
	mMEMCACHED_SERVER_STATE_NEW
,

59 
	mMEMCACHED_SERVER_STATE_ADDRINFO
,

60 
	mMEMCACHED_SERVER_STATE_IN_PROGRESS
,

61 
	mMEMCACHED_SERVER_STATE_CONNECTED
,

62 
	mMEMCACHED_SERVER_STATE_IN_TIMEOUT
,

63 
	mMEMCACHED_SERVER_STATE_DISABLED


66 
	smemˇched_£rvî_°
 {

68 
boﬁ
 
	mis_Æloˇãd
:1;

69 
boﬁ
 
	mis_öôülized
:1;

70 
boﬁ
 
	mis_shuâög_down
:1;

71 
boﬁ
 
	mis_dód
:1;

72 } 
	m›ti⁄s
;

73 
uöt32_t
 
	mnumbî_of_ho°s
;

74 
uöt32_t
 
	mcurs‹_a˘ive
;

75 
ö_p‹t_t
 
	mp‹t
;

76 
uöt32_t
 
	mio_byãs_£¡
;

77 
uöt32_t
 
	mªque°_id
;

78 
uöt32_t
 
	m£rvî_Áûuª_cou¡î
;

79 
uöt64_t
 
	m£rvî_Áûuª_cou¡î_quîy_id
;

80 
uöt32_t
 
	mweight
;

81 
uöt32_t
 
	mvîsi⁄
;

82 
memˇched_£rvî_°©e_t
 
	m°©e
;

84 
uöt32_t
 
	mªad
;

85 
uöt32_t
 
	mwrôe
;

86 
uöt32_t
 
	mtimeouts
;

87 
size_t
 
	m_byãs_ªad
;

88 } 
	mio_waô_cou¡
;

89 
uöt8_t
 
	mmaj‹_vîsi⁄
;

90 
uöt8_t
 
	mmi¸o_vîsi⁄
;

91 
uöt8_t
 
	mmö‹_vîsi⁄
;

92 
memˇched_c⁄√˘i⁄_t
 
	mty≥
;

93 
time_t
 
	m√xt_ªåy
;

94 
memˇched_°
 *
	mroŸ
;

95 
uöt64_t
 
	mlimô_maxbyãs
;

96 
memˇched_îr‹_t
 *
	mîr‹_mesßges
;

97 
	mho°«me
[
MEMCACHED_NI_MAXHOST
];

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/stat.h

38 #¥agm®
⁄˚


40 
	smemˇched_°©_°
 {

41 
	mc⁄√˘i⁄_°ru˘uªs
;

42 
	mcuº_c⁄√˘i⁄s
;

43 
	mcuº_ôems
;

44 
pid_t
 
	mpid
;

45 
	mpoöãr_size
;

46 
	mrußge_sy°em_mi¸o£c⁄ds
;

47 
	mrußge_sy°em_£c⁄ds
;

48 
	mrußge_u£r_mi¸o£c⁄ds
;

49 
	mrußge_u£r_£c⁄ds
;

50 
	mthªads
;

51 
	mtime
;

52 
	mtŸÆ_c⁄√˘i⁄s
;

53 
	mtŸÆ_ôems
;

54 
	mu±ime
;

55 
	mbyãs
;

56 
	mbyãs_ªad
;

57 
	mbyãs_wrôãn
;

58 
	mcmd_gë
;

59 
	mcmd_£t
;

60 
	mevi˘i⁄s
;

61 
	mgë_hôs
;

62 
	mgë_mis£s
;

63 
	mlimô_maxbyãs
;

64 
	mvîsi⁄
[
MEMCACHED_VERSION_STRING_LENGTH
];

65 *
	m__futuª
;

66 
memˇched_°
 *
	mroŸ
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/struct/string.h

38 #¥agm®
⁄˚


50 
	smemˇched_°rög_°
 {

51 *
	míd
;

52 *
	m°rög
;

53 
size_t
 
	mcuºít_size
;

54 
memˇched_°
 *
	mroŸ
;

56 
boﬁ
 
	mis_Æloˇãd
:1;

57 
boﬁ
 
	mis_öôülized
:1;

58 } 
	m›ti⁄s
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/t/c_sasl_test.c

41 
	~<°dlib.h
>

43 #ifde‡
HAVE_SASL_SASL_H


44 
	~<ß¶/ß¶.h
>

47 
	~<libmemˇched-1.0/memˇched.h
>

49 
	$maö
()

51 
memˇched_°
 *
memc

	`memˇched_¸óã
(
NULL
);

53 i‡(
memc
 =
NULL
)

55  
EXIT_FAILURE
;

57 
	`memˇched_‰ì
(
memc
);

59  
EXIT_SUCCESS
;

60 
	}
}

	@oss/libmemcached-1.0.17/libmemcached-1.0/t/c_test.c

41 
	~<°dlib.h
>

43 
	~<libmemˇched-1.0/memˇched.h
>

45 
	$maö
()

47 ()
	`memˇched_suc˚ss
(
MEMCACHED_SUCCESS
);

48 ()
	`memˇched_Áûed
(
MEMCACHED_SUCCESS
);

49 ()
	`memˇched_c⁄töue
(
MEMCACHED_SUCCESS
);

51 
memˇched_°
 *
memc

	`memˇched_¸óã
(
NULL
);

53 i‡(
memc
 =
NULL
)

55  
EXIT_FAILURE
;

57 
	`memˇched_‰ì
(
memc
);

59  
EXIT_SUCCESS
;

60 
	}
}

	@oss/libmemcached-1.0.17/libmemcached-1.0/touch.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


46 
LIBMEMCACHED_API


47 
memˇched_ªtu∫_t
 
memˇched_touch
(
memˇched_°
 *
±r
,

48 c⁄° *
key
, 
size_t
 
key_Àngth
,

49 
time_t
 
expú©i⁄
);

51 
LIBMEMCACHED_API


52 
memˇched_ªtu∫_t
 
memˇched_touch_by_key
(
memˇched_°
 *
±r
,

53 c⁄° *
group_key
, 
size_t
 
group_key_Àngth
,

54 c⁄° *
key
, 
size_t
 
key_Àngth
,

55 
time_t
 
expú©i⁄
);

57 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/triggers.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
memˇched_ªtu∫_t
 (*
	tmemˇched_˛⁄e_‚
)(
	tmemˇched_°
 *
	tde°ö©i⁄
, c⁄° memˇched_° *
	tsour˚
);

46 
memˇched_ªtu∫_t
 (*
	tmemˇched_˛ónup_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
);

51 
memˇched_ªtu∫_t
 (*
	tmemˇched_åiggî_key_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
,

52 c⁄° *
	tkey
, 
	tsize_t
 
	tkey_Àngth
,

53 
	tmemˇched_ªsu…_°
 *
	tªsu…
);

54 
memˇched_ªtu∫_t
 (*
	tmemˇched_åiggî_dñëe_key_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
,

55 c⁄° *
	tkey
, 
	tsize_t
 
	tkey_Àngth
);

57 
memˇched_ªtu∫_t
 (*
	tmemˇched_dump_‚
)(c⁄° 
	tmemˇched_°
 *
	t±r
,

58 c⁄° *
	tkey
,

59 
	tsize_t
 
	tkey_Àngth
,

60 *
	tc⁄ãxt
);

62 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/types.h

39 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


43 
	gmemˇched_°
;

44 
	gmemˇched_°©_°
;

45 
	gmemˇched_™Æysis_°
;

46 
	gmemˇched_ªsu…_°
;

47 
	gmemˇched_¨øy_°
;

48 
	gmemˇched_îr‹_t
;

51 
	gmemˇched_£rvî_°
;

52 
	gmemˇched_ö°™˚_°
;

53 
memˇched_ö°™˚_°
 
	tmemˇched_ö°™˚_°
;

54 
memˇched_£rvî_°
 *
	tmemˇched_£rvî_li°_°
;

56 
	gmemˇched_ˇŒback_°
;

59 
	gmemˇched_°rög_°
;

60 
	gmemˇched_°rög_t
;

61 
	gmemˇched_c⁄töuum_ôem_°
;

65 
memˇched_°
 
	tmemˇched_°
;

66 
memˇched_°©_°
 
	tmemˇched_°©_°
;

67 
memˇched_™Æysis_°
 
	tmemˇched_™Æysis_°
;

68 
memˇched_ªsu…_°
 
	tmemˇched_ªsu…_°
;

69 
memˇched_¨øy_°
 
	tmemˇched_¨øy_°
;

70 
memˇched_îr‹_t
 
	tmemˇched_îr‹_t
;

73 
memˇched_£rvî_°
 
	tmemˇched_£rvî_°
;

74 
memˇched_ö°™˚_°
 
	tmemˇched_ö°™˚_°
;

75 
memˇched_£rvî_°
 *
	tmemˇched_£rvî_li°_°
;

77 
memˇched_ˇŒback_°
 
	tmemˇched_ˇŒback_°
;

80 
memˇched_°rög_°
 
	tmemˇched_°rög_°
;

81 
memˇched_°rög_t
 
	tmemˇched_°rög_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/behavior.h

39 #¥agm®
⁄˚


41 
	ememˇched_behavi‹_t
 {

42 
	mMEMCACHED_BEHAVIOR_NO_BLOCK
,

43 
	mMEMCACHED_BEHAVIOR_TCP_NODELAY
,

44 
	mMEMCACHED_BEHAVIOR_HASH
,

45 
	mMEMCACHED_BEHAVIOR_KETAMA
,

46 
	mMEMCACHED_BEHAVIOR_SOCKET_SEND_SIZE
,

47 
	mMEMCACHED_BEHAVIOR_SOCKET_RECV_SIZE
,

48 
	mMEMCACHED_BEHAVIOR_CACHE_LOOKUPS
,

49 
	mMEMCACHED_BEHAVIOR_SUPPORT_CAS
,

50 
	mMEMCACHED_BEHAVIOR_POLL_TIMEOUT
,

51 
	mMEMCACHED_BEHAVIOR_DISTRIBUTION
,

52 
	mMEMCACHED_BEHAVIOR_BUFFER_REQUESTS
,

53 
	mMEMCACHED_BEHAVIOR_USER_DATA
,

54 
	mMEMCACHED_BEHAVIOR_SORT_HOSTS
,

55 
	mMEMCACHED_BEHAVIOR_VERIFY_KEY
,

56 
	mMEMCACHED_BEHAVIOR_CONNECT_TIMEOUT
,

57 
	mMEMCACHED_BEHAVIOR_RETRY_TIMEOUT
,

58 
	mMEMCACHED_BEHAVIOR_KETAMA_WEIGHTED
,

59 
	mMEMCACHED_BEHAVIOR_KETAMA_HASH
,

60 
	mMEMCACHED_BEHAVIOR_BINARY_PROTOCOL
,

61 
	mMEMCACHED_BEHAVIOR_SND_TIMEOUT
,

62 
	mMEMCACHED_BEHAVIOR_RCV_TIMEOUT
,

63 
	mMEMCACHED_BEHAVIOR_SERVER_FAILURE_LIMIT
,

64 
	mMEMCACHED_BEHAVIOR_IO_MSG_WATERMARK
,

65 
	mMEMCACHED_BEHAVIOR_IO_BYTES_WATERMARK
,

66 
	mMEMCACHED_BEHAVIOR_IO_KEY_PREFETCH
,

67 
	mMEMCACHED_BEHAVIOR_HASH_WITH_PREFIX_KEY
,

68 
	mMEMCACHED_BEHAVIOR_NOREPLY
,

69 
	mMEMCACHED_BEHAVIOR_USE_UDP
,

70 
	mMEMCACHED_BEHAVIOR_AUTO_EJECT_HOSTS
,

71 
	mMEMCACHED_BEHAVIOR_NUMBER_OF_REPLICAS
,

72 
	mMEMCACHED_BEHAVIOR_RANDOMIZE_REPLICA_READ
,

73 
	mMEMCACHED_BEHAVIOR_CORK
,

74 
	mMEMCACHED_BEHAVIOR_TCP_KEEPALIVE
,

75 
	mMEMCACHED_BEHAVIOR_TCP_KEEPIDLE
,

76 
	mMEMCACHED_BEHAVIOR_LOAD_FROM_FILE
,

77 
	mMEMCACHED_BEHAVIOR_REMOVE_FAILED_SERVERS
,

78 
	mMEMCACHED_BEHAVIOR_DEAD_TIMEOUT
,

79 
	mMEMCACHED_BEHAVIOR_MAX


82 #i‚de‡
__˝lu•lus


83 
memˇched_behavi‹_t
 
	tmemˇched_behavi‹_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/callback.h

39 #¥agm®
⁄˚


41 
	ememˇched_ˇŒback_t
 {

42 
	mMEMCACHED_CALLBACK_PREFIX_KEY
 = 0,

43 
	mMEMCACHED_CALLBACK_USER_DATA
 = 1,

44 
	mMEMCACHED_CALLBACK_CLEANUP_FUNCTION
 = 2,

45 
	mMEMCACHED_CALLBACK_CLONE_FUNCTION
 = 3,

46 
	mMEMCACHED_CALLBACK_GET_FAILURE
 = 7,

47 
	mMEMCACHED_CALLBACK_DELETE_TRIGGER
 = 8,

48 
	mMEMCACHED_CALLBACK_MAX
,

49 
	mMEMCACHED_CALLBACK_NAMESPACE

MEMCACHED_CALLBACK_PREFIX_KEY


52 #i‚de‡
__˝lu•lus


53 
memˇched_ˇŒback_t
 
	tmemˇched_ˇŒback_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/connection.h

39 #¥agm®
⁄˚


41 
	ememˇched_c⁄√˘i⁄_t
 {

42 
	mMEMCACHED_CONNECTION_TCP
,

43 
	mMEMCACHED_CONNECTION_UDP
,

44 
	mMEMCACHED_CONNECTION_UNIX_SOCKET


47 #i‚de‡
__˝lu•lus


48 
memˇched_c⁄√˘i⁄_t
 
	tmemˇched_c⁄√˘i⁄_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/hash.h

39 #¥agm®
⁄˚


41 
	ememˇched_hash_t
 {

42 
	mMEMCACHED_HASH_DEFAULT
= 0,

43 
	mMEMCACHED_HASH_MD5
,

44 
	mMEMCACHED_HASH_CRC
,

45 
	mMEMCACHED_HASH_FNV1_64
,

46 
	mMEMCACHED_HASH_FNV1A_64
,

47 
	mMEMCACHED_HASH_FNV1_32
,

48 
	mMEMCACHED_HASH_FNV1A_32
,

49 
	mMEMCACHED_HASH_HSIEH
,

50 
	mMEMCACHED_HASH_MURMUR
,

51 
	mMEMCACHED_HASH_JENKINS
,

52 
	mMEMCACHED_HASH_MURMUR3
,

53 
	mMEMCACHED_HASH_CUSTOM
,

54 
	mMEMCACHED_HASH_MAX


57 #i‚de‡
__˝lu•lus


58 
memˇched_hash_t
 
	tmemˇched_hash_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/return.h

37 #¥agm®
⁄˚


39 
	ememˇched_ªtu∫_t
 {

40 
	mMEMCACHED_SUCCESS
,

41 
	mMEMCACHED_FAILURE
,

42 
	mMEMCACHED_HOST_LOOKUP_FAILURE
,

43 
	mMEMCACHED_CONNECTION_FAILURE
,

44 
	mMEMCACHED_CONNECTION_BIND_FAILURE
,

45 
	mMEMCACHED_WRITE_FAILURE
,

46 
	mMEMCACHED_READ_FAILURE
,

47 
	mMEMCACHED_UNKNOWN_READ_FAILURE
,

48 
	mMEMCACHED_PROTOCOL_ERROR
,

49 
	mMEMCACHED_CLIENT_ERROR
,

50 
	mMEMCACHED_SERVER_ERROR
,

51 
	mMEMCACHED_ERROR
,

52 
	mMEMCACHED_DATA_EXISTS
,

53 
	mMEMCACHED_DATA_DOES_NOT_EXIST
,

54 
	mMEMCACHED_NOTSTORED
,

55 
	mMEMCACHED_STORED
,

56 
	mMEMCACHED_NOTFOUND
,

57 
	mMEMCACHED_MEMORY_ALLOCATION_FAILURE
,

58 
	mMEMCACHED_PARTIAL_READ
,

59 
	mMEMCACHED_SOME_ERRORS
,

60 
	mMEMCACHED_NO_SERVERS
,

61 
	mMEMCACHED_END
,

62 
	mMEMCACHED_DELETED
,

63 
	mMEMCACHED_VALUE
,

64 
	mMEMCACHED_STAT
,

65 
	mMEMCACHED_ITEM
,

66 
	mMEMCACHED_ERRNO
,

67 
	mMEMCACHED_FAIL_UNIX_SOCKET
,

68 
	mMEMCACHED_NOT_SUPPORTED
,

69 
	mMEMCACHED_NO_KEY_PROVIDED
,

70 
	mMEMCACHED_FETCH_NOTFINISHED
,

71 
	mMEMCACHED_TIMEOUT
,

72 
	mMEMCACHED_BUFFERED
,

73 
	mMEMCACHED_BAD_KEY_PROVIDED
,

74 
	mMEMCACHED_INVALID_HOST_PROTOCOL
,

75 
	mMEMCACHED_SERVER_MARKED_DEAD
,

76 
	mMEMCACHED_UNKNOWN_STAT_KEY
,

77 
	mMEMCACHED_E2BIG
,

78 
	mMEMCACHED_INVALID_ARGUMENTS
,

79 
	mMEMCACHED_KEY_TOO_BIG
,

80 
	mMEMCACHED_AUTH_PROBLEM
,

81 
	mMEMCACHED_AUTH_FAILURE
,

82 
	mMEMCACHED_AUTH_CONTINUE
,

83 
	mMEMCACHED_PARSE_ERROR
,

84 
	mMEMCACHED_PARSE_USER_ERROR
,

85 
	mMEMCACHED_DEPRECATED
,

86 
	mMEMCACHED_IN_PROGRESS
,

87 
	mMEMCACHED_SERVER_TEMPORARILY_DISABLED
,

88 
	mMEMCACHED_SERVER_MEMORY_ALLOCATION_FAILURE
,

89 
	mMEMCACHED_MAXIMUM_RETURN
,

90 
	mMEMCACHED_CONNECTION_SOCKET_CREATE_FAILURE

MEMCACHED_ERROR


93 #i‚de‡
__˝lu•lus


94 
memˇched_ªtu∫_t
 
	tmemˇched_ªtu∫_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/types/server_distribution.h

39 #¥agm®
⁄˚


41 
	ememˇched_£rvî_di°ributi⁄_t
 {

42 
	mMEMCACHED_DISTRIBUTION_MODULA
,

43 
	mMEMCACHED_DISTRIBUTION_CONSISTENT
,

44 
	mMEMCACHED_DISTRIBUTION_CONSISTENT_KETAMA
,

45 
	mMEMCACHED_DISTRIBUTION_RANDOM
,

46 
	mMEMCACHED_DISTRIBUTION_CONSISTENT_KETAMA_SPY
,

47 
	mMEMCACHED_DISTRIBUTION_CONSISTENT_WEIGHTED
,

48 
	mMEMCACHED_DISTRIBUTION_VIRTUAL_BUCKET
,

49 
	mMEMCACHED_DISTRIBUTION_CONSISTENT_MAX


52 #i‚de‡
__˝lu•lus


53 
memˇched_£rvî_di°ributi⁄_t
 
	tmemˇched_£rvî_di°ributi⁄_t
;

	@oss/libmemcached-1.0.17/libmemcached-1.0/verbosity.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_vîbosôy
(
memˇched_°
 *
±r
, 
uöt32_t
 
vîbosôy
);

48 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/version.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
memˇched_ªtu∫_t
 
memˇched_vîsi⁄
(
memˇched_°
 *
±r
);

47 
LIBMEMCACHED_API


48 c⁄° * 
memˇched_lib_vîsi⁄
();

50 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached-1.0/visibility.h

19 #¥agm®
⁄˚


29 #i‡
deföed
(
BUILDING_LIBMEMCACHEDINTERNAL
)

30 #i‡
deföed
(
HAVE_VISIBILITY
) && HAVE_VISIBILITY

31 
	#LIBMEMCACHED_API
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

32 
	#LIBMEMCACHED_LOCAL
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

33 #ñi‡
deföed
 (
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

34 
	#LIBMEMCACHED_API
 
__globÆ


	)

35 
	#LIBMEMCACHED_LOCAL
 
__globÆ


	)

36 #ñi‡
deföed
(
_MSC_VER
)

37 
	#LIBMEMCACHED_API
 
	`__de˛•ec
(
dŒexp‹t
)

	)

38 
	#LIBMEMCACHED_LOCAL
 
	`__de˛•ec
(
dŒexp‹t
)

	)

40 
	#LIBMEMCACHED_API


	)

41 
	#LIBMEMCACHED_LOCAL


	)

44 #i‡
deföed
(
BUILDING_LIBMEMCACHED
)

45 #i‡
deföed
(
HAVE_VISIBILITY
) && HAVE_VISIBILITY

46 
	#LIBMEMCACHED_API
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

47 
	#LIBMEMCACHED_LOCAL
 
	`__©åibuã__
 ((
	`visibûôy
("hiddí")))

	)

48 #ñi‡
deföed
 (
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

49 
	#LIBMEMCACHED_API
 
__globÆ


	)

50 
	#LIBMEMCACHED_LOCAL
 
__hiddí


	)

51 #ñi‡
deföed
(
_MSC_VER
)

52 
	#LIBMEMCACHED_API
 
	`__de˛•ec
(
dŒexp‹t
)

	)

53 
	#LIBMEMCACHED_LOCAL


	)

55 
	#LIBMEMCACHED_API


	)

56 
	#LIBMEMCACHED_LOCAL


	)

59 #i‡
deföed
(
_MSC_VER
)

60 
	#LIBMEMCACHED_API
 
	`__de˛•ec
(
dŒimp‹t
)

	)

61 
	#LIBMEMCACHED_LOCAL


	)

63 
	#LIBMEMCACHED_API


	)

64 
	#LIBMEMCACHED_LOCAL


	)

	@oss/libmemcached-1.0.17/libmemcached/array.c

38 
	~<libmemˇched/comm⁄.h
>

39 
	~<as£π.h
>

40 
	~<iso646.h
>

42 
	smemˇched_¨øy_°


44 
Memˇched
 *
	mroŸ
;

45 
size_t
 
	msize
;

46 
	mc_°r
[];

50 
memˇched_¨øy_°
 *
	$memˇched_¨øy_˛⁄e
(
Memˇched
 *
memc
, c⁄° 
memˇched_¨øy_°
 *
‹igöÆ
)

52 i‡(
‹igöÆ
)

54  
	`memˇched_°r˝y
(
memc
, 
‹igöÆ
->
c_°r
, origöÆ->
size
);

57  
NULL
;

58 
	}
}

60 
memˇched_¨øy_°
 *
	$memˇched_°r˝y
(
Memˇched
 *
memc
, c⁄° *
°r
, 
size_t
 
°r_Àngth
)

62 
	`as£π
(
memc
);

63 
	`as£π
(
°r
);

64 
	`as£π
(
°r_Àngth
);

66 
memˇched_¨øy_°
 *
¨øy
(memˇched_¨øy_° *)
	`libmemˇched_mÆloc
(
memc
, (memˇched_¨øy_°Ë+
°r_Àngth
 +1);

68 i‡(
¨øy
)

70 
¨øy
->
roŸ

memc
;

71 
¨øy
->
size

°r_Àngth
;

72 
	`mem˝y
(
¨øy
->
c_°r
, 
°r
, 
°r_Àngth
);

73 
¨øy
->
c_°r
[
°r_Àngth
]= 0;

76  
¨øy
;

77 
	}
}

79 
boﬁ
 
	$memˇched_¨øy_is_nuŒ
(
memˇched_¨øy_°
 *
¨øy
)

81 i‡(
¨øy
)

83  
Ál£
;

86  
åue
;

87 
	}
}

89 
memˇched_°rög_t
 
	$memˇched_¨øy_to_°rög
(
memˇched_¨øy_°
 *
¨øy
)

91 
	`as£π
(
¨øy
);

92 
	`as£π
(
¨øy
->
c_°r
);

93 
	`as£π
(
¨øy
->
size
);

94 
memˇched_°rög_t
 
tmp
;

95 
tmp
.
c_°r

¨øy
->c_str;

96 
tmp
.
size

¨øy
->size;

98  
tmp
;

99 
	}
}

101 
	$memˇched_¨øy_‰ì
(
memˇched_¨øy_°
 *
¨øy
)

103 i‡(
¨øy
)

105 
	`WATCHPOINT_ASSERT
(
¨øy
->
roŸ
);

106 
	`libmemˇched_‰ì
(
¨øy
->
roŸ
,árray);

108 
	}
}

110 
size_t
 
	$memˇched_¨øy_size
(
memˇched_¨øy_°
 *
¨øy
)

112 i‡(
¨øy
)

114  
¨øy
->
size
;

118 
	}
}

120 c⁄° *
	$memˇched_¨øy_°rög
(
memˇched_¨øy_°
 *
¨øy
)

122 i‡(
¨øy
)

124  
¨øy
->
c_°r
;

127  
NULL
;

128 
	}
}

	@oss/libmemcached-1.0.17/libmemcached/array.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
memˇched_¨øy_°
 *
memˇched_¨øy_˛⁄e
(
Memˇched
* 
memc
, c⁄° memˇched_¨øy_° *
‹igöÆ
);

46 
memˇched_¨øy_°
 *
memˇched_°r˝y
(
Memˇched
* 
memc
, c⁄° *
°r
, 
size_t
 
°r_Àngth
);

48 
memˇched_¨øy_‰ì
(
memˇched_¨øy_°
 *
¨øy
);

50 
size_t
 
memˇched_¨øy_size
(
memˇched_¨øy_°
 *
¨øy
);

52 c⁄° *
memˇched_¨øy_°rög
(
memˇched_¨øy_°
 *
¨øy
);

54 
memˇched_°rög_t
 
memˇched_¨øy_to_°rög
(
memˇched_¨øy_°
 *
¨øy
);

56 
boﬁ
 
memˇched_¨øy_is_nuŒ
(
memˇched_¨øy_°
 *
¨øy
);

58 #ifde‡
__˝lu•lus


62 #ifde‡
__˝lu•lus


63 
	#memˇched_¥öt_¨øy
(
X
Ë
°©ic_ˇ°
<>(
	`memˇched_¨øy_size
(X)), 
	`memˇched_¨øy_°rög
(X)

	)

64 
	#memˇched_∑øm_¨øy
(
X
Ë
	`memˇched_¨øy_°rög
(X), 
	`memˇched_¨øy_size
(X)

	)

66 
	#memˇched_¥öt_¨øy
(
X
Ë()
	`memˇched_¨øy_size
((X)), 
	`memˇched_¨øy_°rög
((X))

	)

67 
	#memˇched_∑øm_¨øy
(
X
Ë
	`memˇched_¨øy_°rög
(X), 
	`memˇched_¨øy_size
(X)

	)

	@oss/libmemcached-1.0.17/libmemcached/byteorder.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
uöt64_t
 
memˇched_¡ohŒ
(uint64_t);

46 
uöt64_t
 
memˇched_ht⁄Œ
(uint64_t);

48 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/common.h

43 #¥agm®
⁄˚


45 
	~<mem_c⁄fig.h
>

47 #ifde‡
__˝lu•lus


48 
	~<c°ddef
>

49 
	~<c°dio
>

50 
	~<c°dlib
>

51 
	~<c°rög
>

52 
	~<˘ime
>

53 
	~<c˘y≥
>

54 
	~<˚ºno
>

55 
	~<˛imôs
>

57 #ifde‡
HAVE_STDDEF_H


58 
	~<°ddef.h
>

60 #ifde‡
HAVE_STDLIB_H


61 
	~<°dio.h
>

63 #ifde‡
HAVE_STDLIB_H


64 
	~<°dlib.h
>

66 
	~<°rög.h
>

67 #ifde‡
HAVE_TIME_H


68 
	~<time.h
>

70 #ifde‡
HAVE_ERRNO_H


71 
	~<î∫o.h
>

73 #ifde‡
HAVE_LIMITS_H


74 
	~<limôs.h
>

78 #ifde‡
HAVE_SYS_UN_H


79 
	~<sys/un.h
>

82 #ifde‡
HAVE_SYS_TIME_H


83 
	~<sys/time.h
>

86 #ifde‡
HAVE_FCNTL_H


87 
	~<f˙é.h
>

90 #ifde‡
HAVE_SYS_TYPES_H


91 
	~<sys/ty≥s.h
>

94 #ifde‡
HAVE_UNISTD_H


95 
	~<uni°d.h
>

98 #ifde‡
HAVE_SYS_SOCKET_H


99 
	~<sys/sockë.h
>

102 #ifde‡
HAVE_STRINGS_H


103 
	~<°rögs.h
>

106 #ifde‡
HAVE_DLFCN_H


107 
	~<dlf˙.h
>

110 #i‡
deföed
(
_WIN32
)

111 
	~"libmemˇched/wödows.hµ
"

114 
	~<libmemˇched-1.0/memˇched.h
>

115 
	~"libmemˇched/w©chpoöt.h
"

116 
	~"libmemˇched/is.h
"

117 
memˇched_°
 
	tMemˇched
;

119 #ifde‡
HAVE_POLL_H


120 
	~<pﬁl.h
>

122 
	~"libmemˇched/pﬁl.h
"

125 #ifde‡
__˝lu•lus


126 
memˇched_ö°™˚_°
* 
memˇched_ö°™˚_„tch
(
memˇched_°
 *
±r
, 
uöt32_t
 
£rvî_key
);

130 
	~"libmemˇched/îr‹.hµ
"

131 
	~"libmemˇched/mem‹y.h
"

132 
	~"libmemˇched/io.h
"

133 #ifde‡
__˝lu•lus


134 
	~"libmemˇched/°rög.hµ
"

135 
	~"libmemˇched/memˇched/¥Ÿocﬁ_bö¨y.h
"

136 
	~"libmemˇched/io.hµ
"

137 
	~"libmemˇched/udp.hµ
"

138 
	~"libmemˇched/do.hµ
"

139 
	~"libmemˇched/sockë.hµ
"

140 
	~"libmemˇched/c⁄√˘.hµ
"

141 
	~"libmemˇched/Æloˇt‹s.hµ
"

142 
	~"libmemˇched/hash.hµ
"

143 
	~"libmemˇched/quô.hµ
"

144 
	~"libmemˇched/ö°™˚.hµ
"

145 
	~"libmemˇched/£rvî_ö°™˚.h
"

146 
	~"libmemˇched/£rvî.hµ
"

147 
	~"libmemˇched/Êag.hµ
"

148 
	~"libmemˇched/behavi‹.hµ
"

149 
	~"libmemˇched/ß¶.hµ
"

150 
	~"libmemˇched/£rvî_li°.hµ
"

153 
	~"libmemˇched/öã∫Æ.h
"

154 
	~"libmemˇched/¨øy.h
"

155 
	~"libmemˇched/libmemˇched_¥obes.h
"

156 
	~"libmemˇched/byã‹dî.h
"

157 
	~"libmemˇched/öôülize_quîy.h
"

159 #ifde‡
__˝lu•lus


160 
	~"libmemˇched/ª•⁄£.h
"

161 
	~"libmemˇched/«me•a˚.h
"

163 
	~"libmemˇched/vútuÆ_buckë.h
"

166 #ifde‡
__˝lu•lus


167 
	~"libmemˇched/backåa˚.hµ
"

168 
	~"libmemˇched/as£π.hµ
"

169 
	~"libmemˇched/£rvî.hµ
"

170 
	~"libmemˇched/key.hµ
"

171 
	~"libmemˇched/ícodög_key.h
"

172 
	~"libmemˇched/ªsu….h
"

173 
	~"libmemˇched/vîsi⁄.hµ
"

176 
	~"libmemˇched/c⁄töuum.hµ
"

178 #i‡!
deföed
(
__GNUC__
Ë|| (__GNUC__ =2 && 
__GNUC_MINOR__
 < 96)

180 
	#likñy
(
x
Ëif((x))

	)

181 
	#u∆ikñy
(
x
Ëif((x))

	)

185 
	#likñy
(
x
Ëif(
	`__buûtö_ex≥˘
((xË!0, 1))

	)

186 
	#u∆ikñy
(
x
Ëif(
	`__buûtö_ex≥˘
((xË!0, 0))

	)

189 
	#MEMCACHED_BLOCK_SIZE
 1024

	)

190 
	#MEMCACHED_DEFAULT_COMMAND_SIZE
 350

	)

191 
	#SMALL_STRING_LEN
 1024

	)

192 
	#HUGE_STRING_LEN
 8196

	)

194 #ifde‡
__˝lu•lus


198 
memˇched_ªtu∫_t
 
run_di°ributi⁄
(
memˇched_°
 *
±r
);

200 #ifde‡
__˝lu•lus


201 
ölöe
 
memˇched_£rvî_ª•⁄£_ö¸emít
(
memˇched_ö°™˚_°
* 
ö°™˚
)

203 
ö°™˚
->
evíts
(
POLLIN
);

204 
ö°™˚
->
curs‹_a˘ive_
++;

208 
	#memˇched_£rvî_ª•⁄£_de¸emít
(
A
Ë(A)->
curs‹_a˘ive_
--

	)

209 
	#memˇched_£rvî_ª•⁄£_ª£t
(
A
Ë(A)->
curs‹_a˘ive_
=0

	)

211 
	#memˇched_ö°™˚_ª•⁄£_ö¸emít
(
A
Ë(A)->
curs‹_a˘ive_
++

	)

212 
	#memˇched_ö°™˚_ª•⁄£_de¸emít
(
A
Ë(A)->
curs‹_a˘ive_
--

	)

213 
	#memˇched_ö°™˚_ª•⁄£_ª£t
(
A
Ë(A)->
curs‹_a˘ive_
=0

	)

215 #ifde‡
__˝lu•lus


219 #ifde‡
__˝lu•lus


220 
boﬁ
 
memˇched_purge
(
memˇched_ö°™˚_°
*);

221 
memˇched_ö°™˚_°
* 
memˇched_ö°™˚_by_posôi⁄
(c⁄° 
memˇched_°
 *
±r
, 
uöt32_t
 
£rvî_key
);

	@oss/libmemcached-1.0.17/libmemcached/csl/common.h

38 #¥agm®
⁄˚


41 #i‚de‡
YY_EXTRA_TYPE


42 
	#YY_EXTRA_TYPE
 
C⁄ãxt
*

	)

45 #i‚de‡
YY_TYPEDEF_YY_SCANNER_T


46 
	#YY_TYPEDEF_YY_SCANNER_T


	)

47 * 
	tyysˇn_t
;

50 
	~<libmemˇched/comm⁄.h
>

51 
	~<libmemˇched/c¶/£rvî.h
>

	@oss/libmemcached-1.0.17/libmemcached/csl/context.h

38 #¥agm®
⁄˚


40 
	~"libmemˇched/c¶/comm⁄.h
"

41 
	~"libmemˇched/c¶/∑r£r.h
"

43 ˛as†
	cC⁄ãxt


45 
	mpublic
:

46 
	$C⁄ãxt
(c⁄° *
›ti⁄_°rög
, 
size_t
 
›ti⁄_°rög_Àngth
, 
memˇched_°
 *
memc_
,

47 
memˇched_ªtu∫_t
 &
rc_¨g
) :

48 
	`¥evious_tokí
(
END
),

49 
	`sˇ¬î
(
NULL
),

50 
	`buf
(
›ti⁄_°rög
),

51 
	`begö
(
NULL
),

52 
	`pos
(0),

53 
	`Àngth
(
›ti⁄_°rög_Àngth
),

54 
	`memc
(
memc_
),

55 
	`rc
(
rc_¨g
),

56 
	`_is_£rvî
(
Ál£
),

57 
	`_íd
(
Ál£
),

58 
	$_has_hash
(
Ál£
)

60 
_ho°«me
[0]= 0;

61 
	`öô_sˇ¬î
();

62 
rc

MEMCACHED_SUCCESS
;

64 
memc
->
°©e
.
is_∑rsög

åue
;

65 
	`memˇched_°rög_¸óã
(
memc
,

66 &
_°rög_buf„r
,

70 
boﬁ
 
	$íd
()

72  
_íd
;

73 
	}
}

75 
°¨t
();

77 
	$£t_íd
()

79 
rc

MEMCACHED_SUCCESS
;

80 
_íd

åue
;

81 
	}
}

83 
boﬁ
 
£t_hash
(
memˇched_hash_t
 
hash
);

85 
	$£t_£rvî
()

87 
_is_£rvî

åue
;

88 
	}
}

90 
	$un£t_£rvî
()

92 
_is_£rvî

Ál£
;

93 
	}
}

95 
boﬁ
 
	$is_£rvî
() const

97  
_is_£rvî
;

98 
	}
}

100 
ho°«me
(c⁄° *, 
size_t
, 
£rvî_t
&);

102 
boﬁ
 
°rög_buf„r
(c⁄° *, 
size_t
, 
memˇched_°rög_t
&);

104 c⁄° *
	$ho°«me
() const

106  
_ho°«me
;

107 
	}
}

109 
ab‹t
(c⁄° *, 
yytokíty≥
, const *);

110 
îr‹
(c⁄° *, 
yytokíty≥
, const * );

112 ~
	$C⁄ãxt
()

114 
	`memˇched_°rög_‰ì
(&
_°rög_buf„r
);

115 
	`de°roy_sˇ¬î
();

116 
memc
->
°©e
.
is_∑rsög

Ál£
;

117 
	}
}

119 
yytokíty≥
 
	g¥evious_tokí
;

120 *
	gsˇ¬î
;

121 c⁄° *
	gbuf
;

122 c⁄° *
	gbegö
;

123 
size_t
 
	gpos
;

124 
size_t
 
	gÀngth
;

125 
memˇched_°
 *
	gmemc
;

126 
	gmemˇched_ªtu∫_t
 &
	grc
;

128 
	g¥Ÿe˘ed
:

129 
öô_sˇ¬î
();

130 
de°roy_sˇ¬î
();

132 
	g¥iv©e
:

133 
boﬁ
 
_is_£rvî
;

134 
boﬁ
 
	g_íd
;

135 
	g_ho°«me
[
NI_MAXHOST
];

136 
boﬁ
 
	g_has_hash
;

137 
memˇched_°rög_°
 
	g_°rög_buf„r
;

	@oss/libmemcached-1.0.17/libmemcached/csl/parser.h

33 #i‚de‡
CONFIG_LIBMEMCACHED_CSL_PARSER_H


34 
	#CONFIG_LIBMEMCACHED_CSL_PARSER_H


	)

36 #i‚de‡
YYDEBUG


37 
	#YYDEBUG
 1

	)

39 #i‡
YYDEBUG


40 
c⁄fig_debug
;

44 #i‚de‡
YYTOKENTYPE


45 
	#YYTOKENTYPE


	)

48 
	eyytokíty≥
 {

49 
	mCOMMENT
 = 258,

50 
	mEND
 = 259,

51 
	mCSL_ERROR
 = 260,

52 
	mRESET
 = 261,

53 
	mPARSER_DEBUG
 = 262,

54 
	mINCLUDE
 = 263,

55 
	mCONFIGURE_FILE
 = 264,

56 
	mEMPTY_LINE
 = 265,

57 
	mSERVER
 = 266,

58 
	mCSL_SOCKET
 = 267,

59 
	mSERVERS
 = 268,

60 
	mSERVERS_OPTION
 = 269,

61 
	mUNKNOWN_OPTION
 = 270,

62 
	mUNKNOWN
 = 271,

63 
	mBINARY_PROTOCOL
 = 272,

64 
	mBUFFER_REQUESTS
 = 273,

65 
	mCONNECT_TIMEOUT
 = 274,

66 
	mDISTRIBUTION
 = 275,

67 
	mHASH
 = 276,

68 
	mHASH_WITH_NAMESPACE
 = 277,

69 
	mIO_BYTES_WATERMARK
 = 278,

70 
	mIO_KEY_PREFETCH
 = 279,

71 
	mIO_MSG_WATERMARK
 = 280,

72 
	mKETAMA_HASH
 = 281,

73 
	mKETAMA_WEIGHTED
 = 282,

74 
	mNOREPLY
 = 283,

75 
	mNUMBER_OF_REPLICAS
 = 284,

76 
	mPOLL_TIMEOUT
 = 285,

77 
	mRANDOMIZE_REPLICA_READ
 = 286,

78 
	mRCV_TIMEOUT
 = 287,

79 
	mREMOVE_FAILED_SERVERS
 = 288,

80 
	mRETRY_TIMEOUT
 = 289,

81 
	mSND_TIMEOUT
 = 290,

82 
	mSOCKET_RECV_SIZE
 = 291,

83 
	mSOCKET_SEND_SIZE
 = 292,

84 
	mSORT_HOSTS
 = 293,

85 
	mSUPPORT_CAS
 = 294,

86 
	mUSER_DATA
 = 295,

87 
	mUSE_UDP
 = 296,

88 
	mVERIFY_KEY
 = 297,

89 
	m_TCP_KEEPALIVE
 = 298,

90 
	m_TCP_KEEPIDLE
 = 299,

91 
	m_TCP_NODELAY
 = 300,

92 
	mFETCH_VERSION
 = 301,

93 
	mNAMESPACE
 = 302,

94 
	mPOOL_MIN
 = 303,

95 
	mPOOL_MAX
 = 304,

96 
	mMD5
 = 305,

97 
	mCRC
 = 306,

98 
	mFNV1_64
 = 307,

99 
	mFNV1A_64
 = 308,

100 
	mFNV1_32
 = 309,

101 
	mFNV1A_32
 = 310,

102 
	mHSIEH
 = 311,

103 
	mMURMUR
 = 312,

104 
	mJENKINS
 = 313,

105 
	mCONSISTENT
 = 314,

106 
	mMODULA
 = 315,

107 
	mRANDOM
 = 316,

108 
	mCSL_TRUE
 = 317,

109 
	mCSL_FALSE
 = 318,

110 
	mCSL_FLOAT
 = 319,

111 
	mNUMBER
 = 320,

112 
	mPORT
 = 321,

113 
	mWEIGHT_START
 = 322,

114 
	mIPADDRESS
 = 323,

115 
	mHOSTNAME
 = 324,

116 
	mSTRING
 = 325,

117 
	mQUOTED_STRING
 = 326,

118 
	mFILE_PATH
 = 327

123 #i‡! 
deföed
 
YYSTYPE
 && ! deföed 
YYSTYPE_IS_DECLARED


125 
	#yy°y≥
 
YYSTYPE


	)

126 
	#YYSTYPE_IS_DECLARED
 1

	)

130 #ifde‡
YYPARSE_PARAM


131 #i‡
deföed
 
__STDC__
 || deföed 
__˝lu•lus


132 
c⁄fig_∑r£
 (*
YYPARSE_PARAM
);

134 
c⁄fig_∑r£
 ();

137 #i‡
deföed
 
__STDC__
 || deföed 
__˝lu•lus


138 
c⁄fig_∑r£
 (
˛ass
 
C⁄ãxt
 *
c⁄ãxt
, 
yysˇn_t
 *
sˇ¬î
);

140 
c⁄fig_∑r£
 ();

	@oss/libmemcached-1.0.17/libmemcached/csl/scanner.h

1 #i‚de‡
c⁄fig_HEADER_H


2 
	#c⁄fig_HEADER_H
 1

	)

3 
	#c⁄fig_IN_HEADER
 1

	)

8 
	~<libmemˇched/c¶/comm⁄.h
>

9 
	~<libmemˇched/c¶/c⁄ãxt.h
>

10 
	~<libmemˇched/c¶/∑r£r.h
>

11 
	~<libmemˇched/c¶/symbﬁ.h
>

13 #i‚de‡
__INTEL_COMPILER


14 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wold-style-cast"

15 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wsign-compare"

16 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wunused-parameter"

17 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wmissing-declarations"

18 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wunused-result"

19 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wmissing-noreturn"

22 #ifde‡
__˛™g__


23 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wshorten-64-to-32"

26 #i‚de‡
__INTEL_COMPILER


27 #i‚de‡
__˛™g__


28 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wlogical-op"

37 
	#YY_INT_ALIGNED
 

	)

41 
	#FLEX_SCANNER


	)

42 
	#YY_FLEX_MAJOR_VERSION
 2

	)

43 
	#YY_FLEX_MINOR_VERSION
 5

	)

44 
	#YY_FLEX_SUBMINOR_VERSION
 36

	)

45 #i‡
YY_FLEX_SUBMINOR_VERSION
 > 0

46 
	#FLEX_BETA


	)

52 
	~<°dio.h
>

53 
	~<°rög.h
>

54 
	~<î∫o.h
>

55 
	~<°dlib.h
>

61 #i‚de‡
FLEXINT_H


62 
	#FLEXINT_H


	)

66 #i‡
deföed
 (
__STDC_VERSION__
) && __STDC_VERSION__ >= 199901L

71 #i‚de‡
__STDC_LIMIT_MACROS


72 
	#__STDC_LIMIT_MACROS
 1

	)

75 
	~<öây≥s.h
>

76 
öt8_t
 
	tÊex_öt8_t
;

77 
uöt8_t
 
	tÊex_uöt8_t
;

78 
öt16_t
 
	tÊex_öt16_t
;

79 
uöt16_t
 
	tÊex_uöt16_t
;

80 
öt32_t
 
	tÊex_öt32_t
;

81 
uöt32_t
 
	tÊex_uöt32_t
;

83 sig√d 
	tÊex_öt8_t
;

84 
	tÊex_öt16_t
;

85 
	tÊex_öt32_t
;

86 
	tÊex_uöt8_t
;

87 
	tÊex_uöt16_t
;

88 
	tÊex_uöt32_t
;

91 #i‚de‡
INT8_MIN


92 
	#INT8_MIN
 (-128)

	)

94 #i‚de‡
INT16_MIN


95 
	#INT16_MIN
 (-32767-1)

	)

97 #i‚de‡
INT32_MIN


98 
	#INT32_MIN
 (-2147483647-1)

	)

100 #i‚de‡
INT8_MAX


101 
	#INT8_MAX
 (127)

	)

103 #i‚de‡
INT16_MAX


104 
	#INT16_MAX
 (32767)

	)

106 #i‚de‡
INT32_MAX


107 
	#INT32_MAX
 (2147483647)

	)

109 #i‚de‡
UINT8_MAX


110 
	#UINT8_MAX
 (255U)

	)

112 #i‚de‡
UINT16_MAX


113 
	#UINT16_MAX
 (65535U)

	)

115 #i‚de‡
UINT32_MAX


116 
	#UINT32_MAX
 (4294967295U)

	)

123 #ifde‡
__˝lu•lus


126 
	#YY_USE_CONST


	)

131 #i‡
deföed
 (
__STDC__
)

133 
	#YY_USE_CONST


	)

138 #ifde‡
YY_USE_CONST


139 
	#yyc⁄°
 c⁄°

	)

141 
	#yyc⁄°


	)

145 #i‚de‡
YY_TYPEDEF_YY_SCANNER_T


146 
	#YY_TYPEDEF_YY_SCANNER_T


	)

147 * 
	tyysˇn_t
;

152 
	#yyö
 
yyg
->
yyö_r


	)

153 
	#yyout
 
yyg
->
yyout_r


	)

154 
	#yyexåa
 
yyg
->
yyexåa_r


	)

155 
	#yyÀng
 
yyg
->
yyÀng_r


	)

156 
	#yyãxt
 
yyg
->
yyãxt_r


	)

157 
	#yylöío
 (
YY_CURRENT_BUFFER_LVALUE
->
yy_bs_löío
)

	)

158 
	#yycﬁumn
 (
YY_CURRENT_BUFFER_LVALUE
->
yy_bs_cﬁumn
)

	)

159 
	#yy_Êex_debug
 
yyg
->
yy_Êex_debug_r


	)

162 #i‚de‡
YY_BUF_SIZE


163 
	#YY_BUF_SIZE
 16384

	)

166 #i‚de‡
YY_TYPEDEF_YY_BUFFER_STATE


167 
	#YY_TYPEDEF_YY_BUFFER_STATE


	)

168 
yy_buf„r_°©e
 *
	tYY_BUFFER_STATE
;

171 #i‚de‡
YY_TYPEDEF_YY_SIZE_T


172 
	#YY_TYPEDEF_YY_SIZE_T


	)

173 
size_t
 
	tyy_size_t
;

176 #i‚de‡
YY_STRUCT_YY_BUFFER_STATE


177 
	#YY_STRUCT_YY_BUFFER_STATE


	)

178 
	syy_buf„r_°©e


180 
FILE
 *
	myy_öput_fûe
;

182 *
	myy_ch_buf
;

183 *
	myy_buf_pos
;

188 
yy_size_t
 
	myy_buf_size
;

193 
yy_size_t
 
	myy_n_ch¨s
;

199 
	myy_is_our_buf„r
;

206 
	myy_is_öãø˘ive
;

212 
	myy_©_bﬁ
;

214 
	myy_bs_löío
;

215 
	myy_bs_cﬁumn
;

220 
	myy_fûl_buf„r
;

222 
	myy_buf„r_°©us
;

227 
c⁄fig_ª°¨t
 (
FILE
 *
öput_fûe
 ,
yysˇn_t
 
yysˇ¬î
 );

228 
c⁄fig__swôch_to_buf„r
 (
YY_BUFFER_STATE
 
√w_buf„r
 ,
yysˇn_t
 
yysˇ¬î
 );

229 
YY_BUFFER_STATE
 
c⁄fig__¸óã_buf„r
 (
FILE
 *
fûe
,
size
 ,
yysˇn_t
 
yysˇ¬î
 );

230 
c⁄fig__dñëe_buf„r
 (
YY_BUFFER_STATE
 
b
 ,
yysˇn_t
 
yysˇ¬î
 );

231 
c⁄fig__Êush_buf„r
 (
YY_BUFFER_STATE
 
b
 ,
yysˇn_t
 
yysˇ¬î
 );

232 
c⁄fig_push_buf„r_°©e
 (
YY_BUFFER_STATE
 
√w_buf„r
 ,
yysˇn_t
 
yysˇ¬î
 );

233 
c⁄fig_p›_buf„r_°©e
 (
yysˇn_t
 
yysˇ¬î
 );

235 
YY_BUFFER_STATE
 
c⁄fig__sˇn_buf„r
 (*
ba£
,
yy_size_t
 
size
 ,
yysˇn_t
 
yysˇ¬î
 );

236 
YY_BUFFER_STATE
 
c⁄fig__sˇn_°rög
 (
yyc⁄°
 *
yy_°r
 ,
yysˇn_t
 
yysˇ¬î
 );

237 
YY_BUFFER_STATE
 
c⁄fig__sˇn_byãs
 (
yyc⁄°
 *
byãs
,
yy_size_t
 
Àn
 ,
yysˇn_t
 
yysˇ¬î
 );

239 *
c⁄fig_Æloc
 (
yy_size_t
 ,
yysˇn_t
 
yysˇ¬î
 );

240 *
c⁄fig_ªÆloc
 (*,
yy_size_t
 ,
yysˇn_t
 
yysˇ¬î
 );

241 
c⁄fig_‰ì
 (* ,
yysˇn_t
 
yysˇ¬î
 );

245 
	#c⁄fig_wøp
(
yysˇ¬î
Ë1

	)

246 
	#YY_SKIP_YYWRAP


	)

248 
	#yyãxt_±r
 
yyãxt_r


	)

250 #ifde‡
YY_HEADER_EXPORT_START_CONDITIONS


251 
	#INITIAL
 0

	)

255 #i‚de‡
YY_NO_UNISTD_H


260 
	~<uni°d.h
>

263 #i‚de‡
YY_EXTRA_TYPE


264 
	#YY_EXTRA_TYPE
 *

	)

267 
c⁄fig_Àx_öô
 (
yysˇn_t
* 
sˇ¬î
);

269 
c⁄fig_Àx_öô_exåa
 (
YY_EXTRA_TYPE
 
u£r_deföed
,
yysˇn_t
* 
sˇ¬î
);

274 
c⁄fig_Àx_de°roy
 (
yysˇn_t
 
yysˇ¬î
 );

276 
c⁄fig_gë_debug
 (
yysˇn_t
 
yysˇ¬î
 );

278 
c⁄fig_£t_debug
 (
debug_Êag
 ,
yysˇn_t
 
yysˇ¬î
 );

280 
YY_EXTRA_TYPE
 
c⁄fig_gë_exåa
 (
yysˇn_t
 
yysˇ¬î
 );

282 
c⁄fig_£t_exåa
 (
YY_EXTRA_TYPE
 
u£r_deföed
 ,
yysˇn_t
 
yysˇ¬î
 );

284 
FILE
 *
c⁄fig_gë_ö
 (
yysˇn_t
 
yysˇ¬î
 );

286 
c⁄fig_£t_ö
 (
FILE
 * 
ö_°r
 ,
yysˇn_t
 
yysˇ¬î
 );

288 
FILE
 *
c⁄fig_gë_out
 (
yysˇn_t
 
yysˇ¬î
 );

290 
c⁄fig_£t_out
 (
FILE
 * 
out_°r
 ,
yysˇn_t
 
yysˇ¬î
 );

292 
yy_size_t
 
c⁄fig_gë_Àng
 (
yysˇn_t
 
yysˇ¬î
 );

294 *
c⁄fig_gë_ãxt
 (
yysˇn_t
 
yysˇ¬î
 );

296 
c⁄fig_gë_löío
 (
yysˇn_t
 
yysˇ¬î
 );

298 
c⁄fig_£t_löío
 (
löe_numbî
 ,
yysˇn_t
 
yysˇ¬î
 );

300 
c⁄fig_gë_cﬁumn
 (
yysˇn_t
 
yysˇ¬î
 );

302 
c⁄fig_£t_cﬁumn
 (
cﬁumn_no
 ,
yysˇn_t
 
yysˇ¬î
 );

304 
YYSTYPE
 * 
c⁄fig_gë_lvÆ
 (
yysˇn_t
 
yysˇ¬î
 );

306 
c⁄fig_£t_lvÆ
 (
YYSTYPE
 * 
yylvÆ_∑øm
 ,
yysˇn_t
 
yysˇ¬î
 );

312 #i‚de‡
YY_SKIP_YYWRAP


313 #ifde‡
__˝lu•lus


314 "C" 
c⁄fig_wøp
 (
yysˇn_t
 
yysˇ¬î
 );

316 
c⁄fig_wøp
 (
yysˇn_t
 
yysˇ¬î
 );

320 #i‚de‡
yyãxt_±r


321 
yy_Êex_°∫˝y
 (*,
yyc⁄°
 *,,
yysˇn_t
 
yysˇ¬î
);

324 #ifde‡
YY_NEED_STRLEN


325 
yy_Êex_°æí
 (
yyc⁄°
 * ,
yysˇn_t
 
yysˇ¬î
);

328 #i‚de‡
YY_NO_INPUT


333 #i‚de‡
YY_READ_BUF_SIZE


334 
	#YY_READ_BUF_SIZE
 8192

	)

338 #i‚de‡
YY_START_STACK_INCR


339 
	#YY_START_STACK_INCR
 25

	)

345 #i‚de‡
YY_DECL


346 
	#YY_DECL_IS_OURS
 1

	)

348 
c⁄fig_Àx
 \

349 (
YYSTYPE
 * 
yylvÆ_∑øm
 ,
yysˇn_t
 
yysˇ¬î
);

351 
	#YY_DECL
 
c⁄fig_Àx
 \

352 (
YYSTYPE
 * 
yylvÆ_∑øm
 , 
yysˇn_t
 
yysˇ¬î
)

	)

357 #unde‡
YY_NEW_FILE


358 #unde‡
YY_FLUSH_BUFFER


359 #unde‡
yy_£t_bﬁ


360 #unde‡
yy_√w_buf„r


361 #unde‡
yy_£t_öãø˘ive


362 #unde‡
YY_DO_BEFORE_ACTION


364 #ifde‡
YY_DECL_IS_OURS


365 #unde‡
YY_DECL_IS_OURS


366 #unde‡
YY_DECL


373 #unde‡
c⁄fig_IN_HEADER


	@oss/libmemcached-1.0.17/libmemcached/csl/server.h

38 #¥agm®
⁄˚


40 
	~<c°dlib
>

42 #ifde‡
HAVE_ARPA_INET_H


43 
	~<¨∑/öë.h
>

46 
	s£rvî_t


48 c⁄° *
	mc_°r
;

49 
size_t
 
	msize
;

50 
ö_p‹t_t
 
	mp‹t
;

51 
uöt32_t
 
	mweight
;

	@oss/libmemcached-1.0.17/libmemcached/csl/symbol.h

38 #¥agm®
⁄˚


40 
	~<libmemˇched/c¶/comm⁄.h
>

42 
	uYYSTYPE


44 
	mnumbî
;

45 
memˇched_°rög_t
 
	m°rög
;

46 
memˇched_°rög_t
 
	m›ti⁄
;

47 
	mdoubÀ_numbî
;

48 
memˇched_£rvî_di°ributi⁄_t
 
	mdi°ributi⁄
;

49 
memˇched_hash_t
 
	mhash
;

50 
memˇched_behavi‹_t
 
	mbehavi‹
;

51 
boﬁ
 
	mboﬁón
;

52 
£rvî_t
 
	m£rvî
;

55 
YYSTYPE
 
	tYYSTYPE
;

	@oss/libmemcached-1.0.17/libmemcached/encoding_key.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
memˇched_°rög_t
 
memˇched_ícodög_key
(
Memˇched
&);

46 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/initialize_query.h

37 #¥agm®
⁄˚


39 
memˇched_ªtu∫_t
 
öôülize_quîy
(
Memˇched
 *
£lf
, 
boﬁ
 
ö¸emít_quîy_id
);

41 
memˇched_ªtu∫_t
 
öôülize_c⁄°_quîy
(c⁄° 
Memˇched
 *
£lf
);

	@oss/libmemcached-1.0.17/libmemcached/internal.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/io.h

39 #¥agm®
⁄˚


41 
	slibmemˇched_io_ve˘‹_°


43 c⁄° *
	mbuf„r
;

44 
size_t
 
	mÀngth
;

	@oss/libmemcached-1.0.17/libmemcached/is.h

38 #¥agm®
⁄˚


41 
	#memˇched_is_Æloˇãd
(
__obje˘
Ë((__obje˘)->
›ti⁄s
.
is_Æloˇãd
)

	)

42 
	#memˇched_is_í¸y±ed
(
__obje˘
Ë((__obje˘)->
hashkô
.
_key
)

	)

43 
	#memˇched_is_öôülized
(
__obje˘
Ë((__obje˘)->
›ti⁄s
.
is_öôülized
)

	)

44 
	#memˇched_is_purgög
(
__obje˘
Ë((__obje˘)->
°©e
.
is_purgög
)

	)

45 
	#memˇched_is_¥o˚ssög_öput
(
__obje˘
Ë((__obje˘)->
°©e
.
is_¥o˚ssög_öput
)

	)

47 
	#memˇched_is_´s
(
__obje˘
Ë((__obje˘)->
Êags
.
is_´s
)

	)

48 
	#memˇched_is_udp
(
__obje˘
Ë((__obje˘)->
Êags
.
u£_udp
)

	)

49 
	#memˇched_is_vîify_key
(
__obje˘
Ë((__obje˘)->
Êags
.
vîify_key
)

	)

50 
	#memˇched_is_bö¨y
(
__obje˘
Ë((__obje˘)->
Êags
.
bö¨y_¥Ÿocﬁ
)

	)

51 
	#memˇched_is_„tchög_vîsi⁄
(
__obje˘
Ë((__obje˘)->
Êags
.
is_„tchög_vîsi⁄
)

	)

52 
	#memˇched_is_buf„rög
(
__obje˘
Ë((__obje˘)->
Êags
.
buf„r_ªque°s
)

	)

53 
	#memˇched_is_ª∂yög
(
__obje˘
Ë((__obje˘)->
Êags
.
ª∂y
)

	)

54 
	#memˇched_is_ˇs
(
__obje˘
Ë((__obje˘)->
Êags
.
ª∂y
)

	)

55 
	#memˇched_is_øndomize_ª∂iˇ_ªad
(
__obje˘
Ë((__obje˘)->
Êags
.
øndomize_ª∂iˇ_ªad
)

	)

56 
	#memˇched_is_no_block
(
__obje˘
Ë((__obje˘)->
Êags
.
no_block
)

	)

57 
	#memˇched_is_hash_wôh_«me•a˚
(
__obje˘
Ë((__obje˘)->
Êags
.
hash_wôh_«me•a˚
)

	)

58 
	#memˇched_is_t˝_nodñay
(
__obje˘
Ë((__obje˘)->
Êags
.
t˝_nodñay
)

	)

59 
	#memˇched_is_auto_eje˘_ho°s
(
__obje˘
Ë((__obje˘)->
Êags
.
auto_eje˘_ho°s
)

	)

60 
	#memˇched_is_u£_s‹t_ho°s
(
__obje˘
Ë((__obje˘)->
Êags
.
u£_s‹t_ho°s
)

	)

62 
	#memˇched_is_ªady
(
__obje˘
Ë((__obje˘)->
›ti⁄s
.
ªady
)

	)

64 
	#memˇched_is_weighãd_këama
(
__obje˘
Ë((__obje˘)->
këama
.
weighãd_
)

	)

66 
	#memˇched_£t_ªady
(
__obje˘
, 
__Êag
Ë((__obje˘)->
›ti⁄s
.
ªady
(__Êag))

	)

68 
	#memˇched_£t_´s
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
is_´s
__Êag)

	)

69 
	#memˇched_£t_udp
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
u£_udp
__Êag)

	)

70 
	#memˇched_£t_vîify_key
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
vîify_key
__Êag)

	)

71 
	#memˇched_£t_bö¨y
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
bö¨y_¥Ÿocﬁ
__Êag)

	)

72 
	#memˇched_£t_„tchög_vîsi⁄
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
is_„tchög_vîsi⁄
__Êag)

	)

73 
	#memˇched_£t_buf„rög
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
buf„r_ªque°s
__Êag)

	)

74 
	#memˇched_£t_ª∂yög
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
ª∂y
__Êag)

	)

75 
	#memˇched_£t_ˇs
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
ª∂y
__Êag)

	)

76 
	#memˇched_£t_øndomize_ª∂iˇ_ªad
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
øndomize_ª∂iˇ_ªad
__Êag)

	)

77 
	#memˇched_£t_no_block
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
no_block
__Êag)

	)

78 
	#memˇched_£t_hash_wôh_«me•a˚
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
hash_wôh_«me•a˚
__Êag)

	)

79 
	#memˇched_£t_t˝_nodñay
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
t˝_nodñay
__Êag)

	)

80 
	#memˇched_£t_auto_eje˘_ho°s
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
auto_eje˘_ho°s
__Êag)

	)

81 
	#memˇched_£t_u£_s‹t_ho°s
(
__obje˘
, 
__Êag
Ë((__obje˘).
Êags
.
u£_s‹t_ho°s
__Êag)

	)

83 
	#memˇched_has_roŸ
(
__obje˘
Ë((__obje˘)->
roŸ
)

	)

85 
	#memˇched_has_îr‹
(
__obje˘
Ë((__obje˘)->
îr‹_mesßges
)

	)

87 
	#memˇched_has_ª∂iˇs
(
__obje˘
Ë((__obje˘)->
roŸ
->
numbî_of_ª∂iˇs
)

	)

89 
	#memˇched_£t_¥o˚ssög_öput
(
__obje˘
, 
__vÆue
Ë((__obje˘)->
°©e
.
is_¥o˚ssög_öput
(__vÆue))

	)

90 
	#memˇched_£t_öôülized
(
__obje˘
, 
__vÆue
Ë((__obje˘)->
›ti⁄s
.
is_öôülized
(__vÆue))

	)

91 
	#memˇched_£t_Æloˇãd
(
__obje˘
, 
__vÆue
Ë((__obje˘)->
›ti⁄s
.
is_Æloˇãd
(__vÆue))

	)

93 
	#memˇched_£t_weighãd_këama
(
__obje˘
, 
__vÆue
Ë((__obje˘)->
këama
.
weighãd_
(__vÆue))

	)

95 
	#memˇched2Memˇched
(
__obj
Ë(__obj)

	)

	@oss/libmemcached-1.0.17/libmemcached/libmemcached_probes.h

38 #¥agm®
⁄˚


48 #ifde‡
HAVE_DTRACE


53 
	~"libmemˇched/dåa˚_¥obes.h
"

61 
	#LIBMEMCACHED_MEMCACHED_ADD_END
()

	)

62 
	#LIBMEMCACHED_MEMCACHED_ADD_END_ENABLED
(Ë(0)

	)

63 
	#LIBMEMCACHED_MEMCACHED_ADD_START
()

	)

64 
	#LIBMEMCACHED_MEMCACHED_ADD_START_ENABLED
(Ë(0)

	)

65 
	#LIBMEMCACHED_MEMCACHED_CONNECT_END
()

	)

66 
	#LIBMEMCACHED_MEMCACHED_CONNECT_END_ENABLED
(Ë(0)

	)

67 
	#LIBMEMCACHED_MEMCACHED_CONNECT_START
()

	)

68 
	#LIBMEMCACHED_MEMCACHED_CONNECT_START_ENABLED
(Ë(0)

	)

69 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_END
()

	)

70 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_END_ENABLED
(Ë(0)

	)

71 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_START
()

	)

72 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_START_ENABLED
(Ë(0)

	)

73 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_WITH_INITIAL_END
()

	)

74 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_WITH_INITIAL_END_ENABLED
(Ë(0)

	)

75 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_WITH_INITIAL_START
()

	)

76 
	#LIBMEMCACHED_MEMCACHED_DECREMENT_WITH_INITIAL_START_ENABLED
(Ë(0)

	)

77 
	#LIBMEMCACHED_MEMCACHED_DELETE_END
()

	)

78 
	#LIBMEMCACHED_MEMCACHED_DELETE_END_ENABLED
(Ë(0)

	)

79 
	#LIBMEMCACHED_MEMCACHED_DELETE_START
()

	)

80 
	#LIBMEMCACHED_MEMCACHED_DELETE_START_ENABLED
(Ë(0)

	)

81 
	#LIBMEMCACHED_MEMCACHED_FLUSH_END
()

	)

82 
	#LIBMEMCACHED_MEMCACHED_FLUSH_END_ENABLED
(Ë(0)

	)

83 
	#LIBMEMCACHED_MEMCACHED_FLUSH_START
()

	)

84 
	#LIBMEMCACHED_MEMCACHED_FLUSH_START_ENABLED
(Ë(0)

	)

85 
	#LIBMEMCACHED_MEMCACHED_GET_END
()

	)

86 
	#LIBMEMCACHED_MEMCACHED_GET_END_ENABLED
(Ë(0)

	)

87 
	#LIBMEMCACHED_MEMCACHED_GET_START
()

	)

88 
	#LIBMEMCACHED_MEMCACHED_GET_START_ENABLED
(Ë(0)

	)

89 
	#LIBMEMCACHED_MEMCACHED_TOUCH_END
()

	)

90 
	#LIBMEMCACHED_MEMCACHED_TOUCH_END_ENABLED
(Ë(0)

	)

91 
	#LIBMEMCACHED_MEMCACHED_TOUCH_START
()

	)

92 
	#LIBMEMCACHED_MEMCACHED_TOUCH_START_ENABLED
(Ë(0)

	)

93 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_END
()

	)

94 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_END_ENABLED
(Ë(0)

	)

95 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_START
()

	)

96 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_START_ENABLED
(Ë(0)

	)

97 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_WITH_INITIAL_END
()

	)

98 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_WITH_INITIAL_END_ENABLED
(Ë(0)

	)

99 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_WITH_INITIAL_START
()

	)

100 
	#LIBMEMCACHED_MEMCACHED_INCREMENT_WITH_INITIAL_START_ENABLED
(Ë(0)

	)

101 
	#LIBMEMCACHED_MEMCACHED_MGET_END
()

	)

102 
	#LIBMEMCACHED_MEMCACHED_MGET_END_ENABLED
(Ë(0)

	)

103 
	#LIBMEMCACHED_MEMCACHED_MGET_START
()

	)

104 
	#LIBMEMCACHED_MEMCACHED_MGET_START_ENABLED
(Ë(0)

	)

105 
	#LIBMEMCACHED_MEMCACHED_REPLACE_END
()

	)

106 
	#LIBMEMCACHED_MEMCACHED_REPLACE_END_ENABLED
(Ë(0)

	)

107 
	#LIBMEMCACHED_MEMCACHED_REPLACE_START
()

	)

108 
	#LIBMEMCACHED_MEMCACHED_REPLACE_START_ENABLED
(Ë(0)

	)

109 
	#LIBMEMCACHED_MEMCACHED_SERVER_ADD_END
()

	)

110 
	#LIBMEMCACHED_MEMCACHED_SERVER_ADD_END_ENABLED
(Ë(0)

	)

111 
	#LIBMEMCACHED_MEMCACHED_SERVER_ADD_START
()

	)

112 
	#LIBMEMCACHED_MEMCACHED_SERVER_ADD_START_ENABLED
(Ë(0)

	)

113 
	#LIBMEMCACHED_MEMCACHED_SET_END
()

	)

114 
	#LIBMEMCACHED_MEMCACHED_SET_END_ENABLED
(Ë(0)

	)

115 
	#LIBMEMCACHED_MEMCACHED_SET_START
()

	)

116 
	#LIBMEMCACHED_MEMCACHED_SET_START_ENABLED
(Ë(0)

	)

	@oss/libmemcached-1.0.17/libmemcached/memcached.h

37 #¥agm®
⁄˚


39 
	~<libmemˇched-1.0/memˇched.h
>

	@oss/libmemcached-1.0.17/libmemcached/memcached/protocol_binary.h

36 #i‚de‡
PROTOCOL_BINARY_H


37 
	#PROTOCOL_BINARY_H


	)

39 
	~<libmemˇched¥Ÿocﬁ-0.0/vbuckë.h
>

52 #ifde‡
__˝lu•lus


62 
PROTOCOL_BINARY_REQ
 = 0x80,

63 
PROTOCOL_BINARY_RES
 = 0x81

64 } 
	t¥Ÿocﬁ_bö¨y_magic
;

71 
PROTOCOL_BINARY_RESPONSE_SUCCESS
 = 0x00,

72 
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
 = 0x01,

73 
PROTOCOL_BINARY_RESPONSE_KEY_EEXISTS
 = 0x02,

74 
PROTOCOL_BINARY_RESPONSE_E2BIG
 = 0x03,

75 
PROTOCOL_BINARY_RESPONSE_EINVAL
 = 0x04,

76 
PROTOCOL_BINARY_RESPONSE_NOT_STORED
 = 0x05,

77 
PROTOCOL_BINARY_RESPONSE_DELTA_BADVAL
 = 0x06,

78 
PROTOCOL_BINARY_RESPONSE_NOT_MY_VBUCKET
 = 0x07,

79 
PROTOCOL_BINARY_RESPONSE_AUTH_ERROR
 = 0x20,

80 
PROTOCOL_BINARY_RESPONSE_AUTH_CONTINUE
 = 0x21,

81 
PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
 = 0x81,

82 
PROTOCOL_BINARY_RESPONSE_ENOMEM
 = 0x82,

83 
PROTOCOL_BINARY_RESPONSE_NOT_SUPPORTED
 = 0x83,

84 
PROTOCOL_BINARY_RESPONSE_EINTERNAL
 = 0x84,

85 
PROTOCOL_BINARY_RESPONSE_EBUSY
 = 0x85,

86 
PROTOCOL_BINARY_RESPONSE_ETMPFAIL
 = 0x86

87 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
;

94 
PROTOCOL_BINARY_CMD_GET
 = 0x00,

95 
PROTOCOL_BINARY_CMD_SET
 = 0x01,

96 
PROTOCOL_BINARY_CMD_ADD
 = 0x02,

97 
PROTOCOL_BINARY_CMD_REPLACE
 = 0x03,

98 
PROTOCOL_BINARY_CMD_DELETE
 = 0x04,

99 
PROTOCOL_BINARY_CMD_INCREMENT
 = 0x05,

100 
PROTOCOL_BINARY_CMD_DECREMENT
 = 0x06,

101 
PROTOCOL_BINARY_CMD_QUIT
 = 0x07,

102 
PROTOCOL_BINARY_CMD_FLUSH
 = 0x08,

103 
PROTOCOL_BINARY_CMD_GETQ
 = 0x09,

104 
PROTOCOL_BINARY_CMD_NOOP
 = 0x0a,

105 
PROTOCOL_BINARY_CMD_VERSION
 = 0x0b,

106 
PROTOCOL_BINARY_CMD_GETK
 = 0x0c,

107 
PROTOCOL_BINARY_CMD_GETKQ
 = 0x0d,

108 
PROTOCOL_BINARY_CMD_APPEND
 = 0x0e,

109 
PROTOCOL_BINARY_CMD_PREPEND
 = 0x0f,

110 
PROTOCOL_BINARY_CMD_STAT
 = 0x10,

111 
PROTOCOL_BINARY_CMD_SETQ
 = 0x11,

112 
PROTOCOL_BINARY_CMD_ADDQ
 = 0x12,

113 
PROTOCOL_BINARY_CMD_REPLACEQ
 = 0x13,

114 
PROTOCOL_BINARY_CMD_DELETEQ
 = 0x14,

115 
PROTOCOL_BINARY_CMD_INCREMENTQ
 = 0x15,

116 
PROTOCOL_BINARY_CMD_DECREMENTQ
 = 0x16,

117 
PROTOCOL_BINARY_CMD_QUITQ
 = 0x17,

118 
PROTOCOL_BINARY_CMD_FLUSHQ
 = 0x18,

119 
PROTOCOL_BINARY_CMD_APPENDQ
 = 0x19,

120 
PROTOCOL_BINARY_CMD_PREPENDQ
 = 0x1a,

121 
PROTOCOL_BINARY_CMD_VERBOSITY
 = 0x1b,

122 
PROTOCOL_BINARY_CMD_TOUCH
 = 0x1c,

123 
PROTOCOL_BINARY_CMD_GAT
 = 0x1d,

124 
PROTOCOL_BINARY_CMD_GATQ
 = 0x1e,

125 
PROTOCOL_BINARY_CMD_GATK
 = 0x23,

126 
PROTOCOL_BINARY_CMD_GATKQ
 = 0x24,

128 
PROTOCOL_BINARY_CMD_SASL_LIST_MECHS
 = 0x20,

129 
PROTOCOL_BINARY_CMD_SASL_AUTH
 = 0x21,

130 
PROTOCOL_BINARY_CMD_SASL_STEP
 = 0x22,

136 
PROTOCOL_BINARY_CMD_RGET
 = 0x30,

137 
PROTOCOL_BINARY_CMD_RSET
 = 0x31,

138 
PROTOCOL_BINARY_CMD_RSETQ
 = 0x32,

139 
PROTOCOL_BINARY_CMD_RAPPEND
 = 0x33,

140 
PROTOCOL_BINARY_CMD_RAPPENDQ
 = 0x34,

141 
PROTOCOL_BINARY_CMD_RPREPEND
 = 0x35,

142 
PROTOCOL_BINARY_CMD_RPREPENDQ
 = 0x36,

143 
PROTOCOL_BINARY_CMD_RDELETE
 = 0x37,

144 
PROTOCOL_BINARY_CMD_RDELETEQ
 = 0x38,

145 
PROTOCOL_BINARY_CMD_RINCR
 = 0x39,

146 
PROTOCOL_BINARY_CMD_RINCRQ
 = 0x3a,

147 
PROTOCOL_BINARY_CMD_RDECR
 = 0x3b,

148 
PROTOCOL_BINARY_CMD_RDECRQ
 = 0x3c,

152 
PROTOCOL_BINARY_CMD_SET_VBUCKET
 = 0x3d,

153 
PROTOCOL_BINARY_CMD_GET_VBUCKET
 = 0x3e,

154 
PROTOCOL_BINARY_CMD_DEL_VBUCKET
 = 0x3f,

158 
PROTOCOL_BINARY_CMD_TAP_CONNECT
 = 0x40,

159 
PROTOCOL_BINARY_CMD_TAP_MUTATION
 = 0x41,

160 
PROTOCOL_BINARY_CMD_TAP_DELETE
 = 0x42,

161 
PROTOCOL_BINARY_CMD_TAP_FLUSH
 = 0x43,

162 
PROTOCOL_BINARY_CMD_TAP_OPAQUE
 = 0x44,

163 
PROTOCOL_BINARY_CMD_TAP_VBUCKET_SET
 = 0x45,

164 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_START
 = 0x46,

165 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_END
 = 0x47,

168 
PROTOCOL_BINARY_CMD_LAST_RESERVED
 = 0xef,

171 
PROTOCOL_BINARY_CMD_SCRUB
 = 0xf0

172 } 
	t¥Ÿocﬁ_bö¨y_comm™d
;

179 
PROTOCOL_BINARY_RAW_BYTES
 = 0x00

180 } 
	t¥Ÿocﬁ_bö¨y_d©©y≥s
;

188 
uöt8_t
 
magic
;

189 
uöt8_t
 
›code
;

190 
uöt16_t
 
keyÀn
;

191 
uöt8_t
 
exéí
;

192 
uöt8_t
 
d©©y≥
;

193 
uöt16_t
 
vbuckë
;

194 
uöt32_t
 
bodyÀn
;

195 
uöt32_t
 
›aque
;

196 
uöt64_t
 
ˇs
;

197 } 
ªque°
;

198 
uöt8_t
 
byãs
[24];

199 } 
	t¥Ÿocﬁ_bö¨y_ªque°_hódî
;

207 
uöt8_t
 
magic
;

208 
uöt8_t
 
›code
;

209 
uöt16_t
 
keyÀn
;

210 
uöt8_t
 
exéí
;

211 
uöt8_t
 
d©©y≥
;

212 
uöt16_t
 
°©us
;

213 
uöt32_t
 
bodyÀn
;

214 
uöt32_t
 
›aque
;

215 
uöt64_t
 
ˇs
;

216 } 
ª•⁄£
;

217 
uöt8_t
 
byãs
[24];

218 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
;

223 
	u¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 {

225 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

226 } 
mesßge
;

227 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
)];

229 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_no_exåas
;

236 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

237 } 
mesßge
;

238 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
)];

239 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
;

245 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gë
;

246 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëq
;

247 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëk
;

248 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëkq
;

257 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

259 
uöt32_t
 
Êags
;

260 } 
body
;

261 } 
mesßge
;

262 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
) + 4];

263 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gë
;

265 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëq
;

266 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëk
;

267 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëkq
;

273 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_dñëe
;

279 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_dñëe
;

289 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

291 
uöt32_t
 
expú©i⁄
;

292 } 
body
;

293 } 
mesßge
;

294 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

295 } 
	t¥Ÿocﬁ_bö¨y_ªque°_Êush
;

301 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_Êush
;

309 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

311 
uöt32_t
 
Êags
;

312 
uöt32_t
 
expú©i⁄
;

313 } 
body
;

314 } 
mesßge
;

315 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 8];

316 } 
	t¥Ÿocﬁ_bö¨y_ªque°_£t
;

317 
¥Ÿocﬁ_bö¨y_ªque°_£t
 
	t¥Ÿocﬁ_bö¨y_ªque°_add
;

318 
¥Ÿocﬁ_bö¨y_ªque°_£t
 
	t¥Ÿocﬁ_bö¨y_ªque°_ª∂a˚
;

324 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_£t
;

325 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_add
;

326 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_ª∂a˚
;

332 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_no›
;

338 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_no›
;

347 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

349 
uöt64_t
 
dñè
;

350 
uöt64_t
 
öôül
;

351 
uöt32_t
 
expú©i⁄
;

352 } 
body
;

353 } 
mesßge
;

354 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 20];

355 } 
	t¥Ÿocﬁ_bö¨y_ªque°_ö¸
;

356 
¥Ÿocﬁ_bö¨y_ªque°_ö¸
 
	t¥Ÿocﬁ_bö¨y_ªque°_de¸
;

365 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

367 
uöt64_t
 
vÆue
;

368 } 
body
;

369 } 
mesßge
;

370 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
) + 8];

371 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_ö¸
;

372 
¥Ÿocﬁ_bö¨y_ª•⁄£_ö¸
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_de¸
;

378 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_quô
;

384 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_quô
;

390 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_≠≥nd
;

391 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_¥ïíd
;

397 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_≠≥nd
;

398 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_¥ïíd
;

404 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_vîsi⁄
;

410 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_vîsi⁄
;

417 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_°©s
;

423 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_°©s
;

430 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

432 
uöt32_t
 
Àvñ
;

433 } 
body
;

434 } 
mesßge
;

435 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

436 } 
	t¥Ÿocﬁ_bö¨y_ªque°_vîbosôy
;

441 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_vîbosôy
;

448 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

450 
uöt32_t
 
expú©i⁄
;

451 } 
body
;

452 } 
mesßge
;

453 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

454 } 
	t¥Ÿocﬁ_bö¨y_ªque°_touch
;

459 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_touch
;

466 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

468 
uöt32_t
 
expú©i⁄
;

469 } 
body
;

470 } 
mesßge
;

471 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

472 } 
	t¥Ÿocﬁ_bö¨y_ªque°_g©
;

474 
¥Ÿocﬁ_bö¨y_ªque°_g©
 
	t¥Ÿocﬁ_bö¨y_ªque°_g©q
;

479 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_g©
;

480 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_g©q
;

493 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

495 
uöt16_t
 
size
;

496 
uöt8_t
 
ª£rved
;

497 
uöt8_t
 
Êags
;

498 
uöt32_t
 
max_ªsu…s
;

499 } 
body
;

500 } 
mesßge
;

501 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

502 } 
	t¥Ÿocﬁ_bö¨y_ªque°_ønge›
;

504 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rgë
;

505 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_r£t
;

506 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_r£tq
;

507 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_øµíd
;

508 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_øµídq
;

509 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_Ωª≥nd
;

510 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_Ωª≥ndq
;

511 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rdñëe
;

512 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rdñëeq
;

513 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rö¸
;

514 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rö¸q
;

515 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rde¸
;

516 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rde¸q
;

527 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

542 
uöt32_t
 
Êags
;

557 
	#TAP_CONNECT_FLAG_BACKFILL
 0x01

	)

563 
	#TAP_CONNECT_FLAG_DUMP
 0x02

	)

570 
	#TAP_CONNECT_FLAG_LIST_VBUCKETS
 0x04

	)

575 
	#TAP_CONNECT_FLAG_TAKEOVER_VBUCKETS
 0x08

	)

579 
	#TAP_CONNECT_SUPPORT_ACK
 0x10

	)

586 
	#TAP_CONNECT_REQUEST_KEYS_ONLY
 0x20

	)

593 
	#TAP_CONNECT_CHECKPOINT
 0x40

	)

598 
	#TAP_CONNECT_REGISTERED_CLIENT
 0x80

	)

599 } 
body
;

600 } 
mesßge
;

601 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

602 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_c⁄√˘
;

606 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

609 
uöt16_t
 
ígöe•ecific_Àngth
;

618 
	#TAP_FLAG_ACK
 0x01

	)

622 
	#TAP_FLAG_NO_VALUE
 0x02

	)

623 
uöt16_t
 
Êags
;

624 
uöt8_t
 
âl
;

625 
uöt8_t
 
ªs1
;

626 
uöt8_t
 
ªs2
;

627 
uöt8_t
 
ªs3
;

628 } 
èp
;

630 
uöt32_t
 
Êags
;

631 
uöt32_t
 
expú©i⁄
;

632 } 
ôem
;

633 } 
body
;

634 } 
mesßge
;

635 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 16];

636 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_muèti⁄
;

640 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

643 
uöt16_t
 
ígöe•ecific_Àngth
;

649 
uöt16_t
 
Êags
;

650 
uöt8_t
 
âl
;

651 
uöt8_t
 
ªs1
;

652 
uöt8_t
 
ªs2
;

653 
uöt8_t
 
ªs3
;

654 } 
èp
;

655 } 
body
;

656 } 
mesßge
;

657 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 8];

658 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
;

660 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_dñëe
;

661 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_Êush
;

662 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_›aque
;

663 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_vbuckë_£t
;

669 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_s¸ub
;

674 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_s¸ub
;

682 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

684 
vbuckë_°©e_t
 
°©e
;

685 } 
body
;

686 } 
mesßge
;

687 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
Ë+ (
vbuckë_°©e_t
)];

688 } 
	t¥Ÿocﬁ_bö¨y_ªque°_£t_vbuckë
;

692 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_£t_vbuckë
;

696 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_dñ_vbuckë
;

700 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_dñ_vbuckë
;

705 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gë_vbuckë
;

712 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

714 
vbuckë_°©e_t
 
°©e
;

715 } 
body
;

716 } 
mesßge
;

717 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
Ë+ (
vbuckë_°©e_t
)];

718 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gë_vbuckë
;

725 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/memcached/vbucket.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


45 
vbuckë_°©e_a˘ive
 = 1,

46 
vbuckë_°©e_ª∂iˇ
,

47 
vbuckë_°©e_≥ndög
,

48 
vbuckë_°©e_dód


49 } 
	tvbuckë_°©e_t
;

51 
	#is_vÆid_vbuckë_°©e_t
(
°©e
) \

52 (
°©e
 =
vbuckë_°©e_a˘ive
 || \

53 
°©e
 =
vbuckë_°©e_ª∂iˇ
 || \

54 
°©e
 =
vbuckë_°©e_≥ndög
 || \

55 
°©e
 =
vbuckë_°©e_dód
)

	)

57 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/memory.h

37 #¥agm®
⁄˚


39 
	~<mem_c⁄fig.h
>

41 
	~<libmemˇched/comm⁄.h
>

43 #ifde‡
__˝lu•lus


44 
	~<c°ddef
>

45 
	~<c°dlib
>

47 
	~<°ddef.h
>

48 
	~<°dlib.h
>

51 
ölöe
 
	$libmemˇched_‰ì
(c⁄° 
memˇched_°
 *
£lf
, *
mem
)

53 i‡(
£lf
)

55 
£lf
->
Æloˇt‹s
.
	`‰ì
(£lf, 
mem
, sñf->Æloˇt‹s.
c⁄ãxt
);

57 i‡(
mem
)

59 #ifde‡
__˝lu•lus


60 
°d
::
	`‰ì
(
mem
);

62 
	`‰ì
(
mem
);

65 
	}
}

67 
ölöe
 *
	$libmemˇched_mÆloc
(c⁄° 
memˇched_°
 *
£lf
, c⁄° 
size_t
 
size
)

69 i‡(
£lf
)

71  
£lf
->
Æloˇt‹s
.
	`mÆloc
(£lf, 
size
, sñf->Æloˇt‹s.
c⁄ãxt
);

74 #ifde‡
__˝lu•lus


75  
°d
::
	`mÆloc
(
size
);

77  
	`mÆloc
(
size
);

79 
	}
}

80 
	#libmemˇched_xmÆloc
(
__memˇchd_°
, 
__ty≥
Ë((__ty≥ *)
	`libmemˇched_mÆloc
((__memˇchd_°), (__ty≥)))

	)

82 
ölöe
 *
	$libmemˇched_ªÆloc
(c⁄° 
memˇched_°
 *
£lf
, *
mem
, 
size_t
 
nmemb
, c⁄° size_à
size
)

84 i‡(
£lf
)

86  
£lf
->
Æloˇt‹s
.
	`ªÆloc
(£lf, 
mem
, 
nmemb
 * 
size
, sñf->Æloˇt‹s.
c⁄ãxt
);

89 #ifde‡
__˝lu•lus


90  
°d
::
	`ªÆloc
(
mem
, 
size
);

92  
	`ªÆloc
(
mem
, 
size
);

94 
	}
}

95 
	#libmemˇched_xªÆloc
(
__memˇchd_°
, 
__mem
, 
__√Àm
, 
__ty≥
Ë((__ty≥ *)
	`libmemˇched_ªÆloc
((__memˇchd_°), (__mem), (__√Àm), (__ty≥)))

	)

96 
	#libmemˇched_xvÆloc
(
__memˇchd_°
, 
__√Àm
, 
__ty≥
Ë((__ty≥ *)
	`libmemˇched_ªÆloc
((__memˇchd_°), 
NULL
, (__√Àm), (__ty≥)))

	)

98 
ölöe
 *
	$libmemˇched_ˇŒoc
(c⁄° 
memˇched_°
 *
£lf
, 
size_t
 
√Àm
, size_à
size
)

100 i‡(
£lf
)

102  
£lf
->
Æloˇt‹s
.
	`ˇŒoc
(£lf, 
√Àm
, 
size
, sñf->Æloˇt‹s.
c⁄ãxt
);

105 #ifde‡
__˝lu•lus


106  
°d
::
	`ˇŒoc
(
√Àm
, 
size
);

108  
	`ˇŒoc
(
√Àm
, 
size
);

110 
	}
}

111 
	#libmemˇched_xˇŒoc
(
__memˇchd_°
, 
__√Àm
, 
__ty≥
Ë((__ty≥ *)
	`libmemˇched_ˇŒoc
((__memˇchd_°), (__√Àm), (__ty≥)))

	)

	@oss/libmemcached-1.0.17/libmemcached/namespace.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


42 
memˇched_ªtu∫_t
 
memˇched_£t_«me•a˚
(
Memˇched
&, c⁄° *
°r
, 
size_t
 
Àngth
);

44 c⁄° * 
memˇched_gë_«me•a˚
(
Memˇched
&);

	@oss/libmemcached-1.0.17/libmemcached/poll.h

13 #¥agm®
⁄˚


15 #i‡
deföed
(
_WIN32
)

17 
	~<wösock2.h
>

19 #ifde‡
__˝lu•lus


23 
	spﬁlfd


25 #i‡
deföed
(
_WIN32
)

26 
SOCKET
 
fd
;

28 
fd
;

30 
evíts
;

31 
ªvíts
;

32 } 
	tpﬁlfd_t
;

34 
	tnfds_t
;

36 
	#POLLIN
 0x0001

	)

37 
	#POLLOUT
 0x0004

	)

38 
	#POLLERR
 0x0008

	)

39 
	#POLLHUP
 0x010

	)

40 
	#POLLNVAL
 0x020

	)

42 
pﬁl
(
pﬁlfd
 
fds
[], 
nfds_t
 
nfds
, 
tmo
);

44 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/response.h

38 #¥agm®
⁄˚


41 
memˇched_ªtu∫_t
 
memˇched_ªad_⁄e_ª•⁄£
(
memˇched_ö°™˚_°
* 
±r
,

42 
memˇched_ªsu…_°
 *
ªsu…
);

44 
memˇched_ªtu∫_t
 
memˇched_ª•⁄£
(
memˇched_ö°™˚_°
* 
±r
,

45 
memˇched_ªsu…_°
 *
ªsu…
);

47 
memˇched_ªtu∫_t
 
memˇched_ª•⁄£
(
memˇched_ö°™˚_°
* 
±r
,

48 *
buf„r
, 
size_t
 
buf„r_Àngth
,

49 
memˇched_ªsu…_°
 *
ªsu…
);

	@oss/libmemcached-1.0.17/libmemcached/result.h

38 #¥agm®
⁄˚


39 
memˇched_ªsu…_ª£t_vÆue
(
memˇched_ªsu…_°
 *
±r
);

	@oss/libmemcached-1.0.17/libmemcached/server_instance.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


41 
memˇched_ö°™˚_°
* 
	tmemˇched_£rvî_wrôe_ö°™˚_°
;

43 * 
	tmemˇched_£rvî_wrôe_ö°™˚_°
;

46 #ifde‡
__˝lu•lus


50 
memˇched_ªtu∫_t
 (*
	tmemˇched_£rvî_execuã_‚
)(
	tmemˇched_°
 *
	t±r
, 
	tmemˇched_£rvî_wrôe_ö°™˚_°
 
	t£rvî
, *
	tc⁄ãxt
);

52 
memˇched_ªtu∫_t
 
memˇched_£rvî_execuã
(
memˇched_°
 *
±r
,

53 
memˇched_£rvî_execuã_‚
 
ˇŒback
,

54 *
c⁄ãxt
);

56 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/util.h

37 #¥agm®
⁄˚


39 
	~<libmemˇchedutû-1.0/utû.h
>

	@oss/libmemcached-1.0.17/libmemcached/virtual_bucket.c

38 
	~<libmemˇched/comm⁄.h
>

40 
	sbuckë_t
 {

41 
uöt32_t
 
	mma°î
;

42 
uöt32_t
 
	mf‹w¨d
;

45 
	smemˇched_vútuÆ_buckë_t
 {

46 
boﬁ
 
	mhas_f‹w¨d
;

47 
uöt32_t
 
	msize
;

48 
uöt32_t
 
	mª∂iˇs
;

49 
buckë_t
 
	mbuckës
[];

52 
memˇched_ªtu∫_t
 
	$memˇched_vútuÆ_buckë_¸óã
(
memˇched_°
 *
£lf
,

53 c⁄° 
uöt32_t
 *
ho°_m≠
,

54 c⁄° 
uöt32_t
 *
f‹w¨d_m≠
,

55 c⁄° 
uöt32_t
 
buckës
,

56 c⁄° 
uöt32_t
 
ª∂iˇs
)

58 i‡(
£lf
 =
NULL
 || 
ho°_m≠
 =NULL || 
buckës
 == 0U)

60  
MEMCACHED_INVALID_ARGUMENTS
;

63 
	`memˇched_vútuÆ_buckë_‰ì
(
£lf
);

65 
memˇched_vútuÆ_buckë_t
 *
vútuÆ_buckë
(memˇched_vútuÆ_buckë_à*)
	`mÆloc
((memˇched_vútuÆ_buckë_tË+ (
buckë_t
Ë*
buckës
);

67 i‡(
vútuÆ_buckë
 =
NULL
)

69  
MEMCACHED_MEMORY_ALLOCATION_FAILURE
;

73 
vútuÆ_buckë
->
size

buckës
;

74 
vútuÆ_buckë
->
ª∂iˇs
=Ñeplicas;

75 
£lf
->
vútuÆ_buckë
= virtual_bucket;

77 
uöt32_t
 
x
= 0;

78 ; 
x
 < 
buckës
; x++)

80 
vútuÆ_buckë
->
buckës
[
x
].
ma°î

ho°_m≠
[x];

81 i‡(
f‹w¨d_m≠
)

83 
vútuÆ_buckë
->
buckës
[
x
].
f‹w¨d

f‹w¨d_m≠
[x];

87 
vútuÆ_buckë
->
buckës
[
x
].
f‹w¨d
= 0;

91  
MEMCACHED_SUCCESS
;

92 
	}
}

94 
	$memˇched_vútuÆ_buckë_‰ì
(
memˇched_°
 *
£lf
)

96 i‡(
£lf
)

98 i‡(
£lf
->
vútuÆ_buckë
)

100 
	`‰ì
(
£lf
->
vútuÆ_buckë
);

101 
£lf
->
vútuÆ_buckë

NULL
;

104 
	}
}

106 
uöt32_t
 
	$memˇched_vútuÆ_buckë_gë
(c⁄° 
memˇched_°
 *
£lf
, 
uöt32_t
 
dige°
)

108 i‡(
£lf
)

110 i‡(
£lf
->
vútuÆ_buckë
)

112 i‡(
£lf
->
vútuÆ_buckë
)

114 
uöt32_t
 
ªsu…
(uöt32_tË(
dige°
 & (
£lf
->
vútuÆ_buckë
->
size
 -1));

115  
£lf
->
vútuÆ_buckë
->
buckës
[
ªsu…
].
ma°î
;

118  (
uöt32_t
Ë(
dige°
 & (
£lf
->
numbî_of_ho°s
 -1));

123 
	}
}

	@oss/libmemcached-1.0.17/libmemcached/virtual_bucket.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
memˇched_ªtu∫_t
 
memˇched_vútuÆ_buckë_¸óã
(
memˇched_°
 *
£lf
,

45 c⁄° 
uöt32_t
 *
ho°_m≠
,

46 c⁄° 
uöt32_t
 *
f‹w¨d_m≠
,

47 c⁄° 
uöt32_t
 
buckës
,

48 c⁄° 
uöt32_t
 
ª∂iˇs
);

50 
uöt32_t
 
memˇched_vútuÆ_buckë_gë
(c⁄° 
memˇched_°
 *
£lf
, uöt32_à
dige°
);

52 
memˇched_vútuÆ_buckë_‰ì
(
memˇched_°
 *
£lf
);

54 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcached/watchpoint.h

38 #¥agm®
⁄˚


40 
	#WATCHPOINT


	)

41 
	#WATCHPOINT_ERROR
(
A
)

	)

42 
	#WATCHPOINT_IFERROR
(
__memˇched_ªtu∫_t
Ë()(__memˇched_ªtu∫_t)

	)

43 
	#WATCHPOINT_STRING
(
A
)

	)

44 
	#WATCHPOINT_NUMBER
(
A
)

	)

45 
	#WATCHPOINT_LABELED_NUMBER
(
A
,
B
)

	)

46 
	#WATCHPOINT_IF_LABELED_NUMBER
(
A
,
B
,
C
)

	)

47 
	#WATCHPOINT_ERRNO
(
A
)

	)

48 
	#WATCHPOINT_ASSERT_PRINT
(
A
,
B
,
C
)

	)

49 
	#WATCHPOINT_ASSERT
(
A
Ë()(A)

	)

50 
	#WATCHPOINT_ASSERT_INITIALIZED
(
A
)

	)

51 
	#WATCHPOINT_SET
(
A
)

	)

	@oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/binary.h

36 #i‚de‡
PROTOCOL_BINARY_H


37 
	#PROTOCOL_BINARY_H


	)

39 
	~<libmemˇched¥Ÿocﬁ-0.0/vbuckë.h
>

52 #ifde‡
__˝lu•lus


62 
PROTOCOL_BINARY_REQ
 = 0x80,

63 
PROTOCOL_BINARY_RES
 = 0x81

64 } 
	t¥Ÿocﬁ_bö¨y_magic
;

71 
PROTOCOL_BINARY_RESPONSE_SUCCESS
 = 0x00,

72 
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
 = 0x01,

73 
PROTOCOL_BINARY_RESPONSE_KEY_EEXISTS
 = 0x02,

74 
PROTOCOL_BINARY_RESPONSE_E2BIG
 = 0x03,

75 
PROTOCOL_BINARY_RESPONSE_EINVAL
 = 0x04,

76 
PROTOCOL_BINARY_RESPONSE_NOT_STORED
 = 0x05,

77 
PROTOCOL_BINARY_RESPONSE_DELTA_BADVAL
 = 0x06,

78 
PROTOCOL_BINARY_RESPONSE_NOT_MY_VBUCKET
 = 0x07,

79 
PROTOCOL_BINARY_RESPONSE_AUTH_ERROR
 = 0x20,

80 
PROTOCOL_BINARY_RESPONSE_AUTH_CONTINUE
 = 0x21,

81 
PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
 = 0x81,

82 
PROTOCOL_BINARY_RESPONSE_ENOMEM
 = 0x82,

83 
PROTOCOL_BINARY_RESPONSE_NOT_SUPPORTED
 = 0x83,

84 
PROTOCOL_BINARY_RESPONSE_EINTERNAL
 = 0x84,

85 
PROTOCOL_BINARY_RESPONSE_EBUSY
 = 0x85,

86 
PROTOCOL_BINARY_RESPONSE_ETMPFAIL
 = 0x86

87 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
;

94 
PROTOCOL_BINARY_CMD_GET
 = 0x00,

95 
PROTOCOL_BINARY_CMD_SET
 = 0x01,

96 
PROTOCOL_BINARY_CMD_ADD
 = 0x02,

97 
PROTOCOL_BINARY_CMD_REPLACE
 = 0x03,

98 
PROTOCOL_BINARY_CMD_DELETE
 = 0x04,

99 
PROTOCOL_BINARY_CMD_INCREMENT
 = 0x05,

100 
PROTOCOL_BINARY_CMD_DECREMENT
 = 0x06,

101 
PROTOCOL_BINARY_CMD_QUIT
 = 0x07,

102 
PROTOCOL_BINARY_CMD_FLUSH
 = 0x08,

103 
PROTOCOL_BINARY_CMD_GETQ
 = 0x09,

104 
PROTOCOL_BINARY_CMD_NOOP
 = 0x0a,

105 
PROTOCOL_BINARY_CMD_VERSION
 = 0x0b,

106 
PROTOCOL_BINARY_CMD_GETK
 = 0x0c,

107 
PROTOCOL_BINARY_CMD_GETKQ
 = 0x0d,

108 
PROTOCOL_BINARY_CMD_APPEND
 = 0x0e,

109 
PROTOCOL_BINARY_CMD_PREPEND
 = 0x0f,

110 
PROTOCOL_BINARY_CMD_STAT
 = 0x10,

111 
PROTOCOL_BINARY_CMD_SETQ
 = 0x11,

112 
PROTOCOL_BINARY_CMD_ADDQ
 = 0x12,

113 
PROTOCOL_BINARY_CMD_REPLACEQ
 = 0x13,

114 
PROTOCOL_BINARY_CMD_DELETEQ
 = 0x14,

115 
PROTOCOL_BINARY_CMD_INCREMENTQ
 = 0x15,

116 
PROTOCOL_BINARY_CMD_DECREMENTQ
 = 0x16,

117 
PROTOCOL_BINARY_CMD_QUITQ
 = 0x17,

118 
PROTOCOL_BINARY_CMD_FLUSHQ
 = 0x18,

119 
PROTOCOL_BINARY_CMD_APPENDQ
 = 0x19,

120 
PROTOCOL_BINARY_CMD_PREPENDQ
 = 0x1a,

121 
PROTOCOL_BINARY_CMD_VERBOSITY
 = 0x1b,

122 
PROTOCOL_BINARY_CMD_TOUCH
 = 0x1c,

123 
PROTOCOL_BINARY_CMD_GAT
 = 0x1d,

124 
PROTOCOL_BINARY_CMD_GATQ
 = 0x1e,

125 
PROTOCOL_BINARY_CMD_GATK
 = 0x23,

126 
PROTOCOL_BINARY_CMD_GATKQ
 = 0x24,

128 
PROTOCOL_BINARY_CMD_SASL_LIST_MECHS
 = 0x20,

129 
PROTOCOL_BINARY_CMD_SASL_AUTH
 = 0x21,

130 
PROTOCOL_BINARY_CMD_SASL_STEP
 = 0x22,

136 
PROTOCOL_BINARY_CMD_RGET
 = 0x30,

137 
PROTOCOL_BINARY_CMD_RSET
 = 0x31,

138 
PROTOCOL_BINARY_CMD_RSETQ
 = 0x32,

139 
PROTOCOL_BINARY_CMD_RAPPEND
 = 0x33,

140 
PROTOCOL_BINARY_CMD_RAPPENDQ
 = 0x34,

141 
PROTOCOL_BINARY_CMD_RPREPEND
 = 0x35,

142 
PROTOCOL_BINARY_CMD_RPREPENDQ
 = 0x36,

143 
PROTOCOL_BINARY_CMD_RDELETE
 = 0x37,

144 
PROTOCOL_BINARY_CMD_RDELETEQ
 = 0x38,

145 
PROTOCOL_BINARY_CMD_RINCR
 = 0x39,

146 
PROTOCOL_BINARY_CMD_RINCRQ
 = 0x3a,

147 
PROTOCOL_BINARY_CMD_RDECR
 = 0x3b,

148 
PROTOCOL_BINARY_CMD_RDECRQ
 = 0x3c,

152 
PROTOCOL_BINARY_CMD_SET_VBUCKET
 = 0x3d,

153 
PROTOCOL_BINARY_CMD_GET_VBUCKET
 = 0x3e,

154 
PROTOCOL_BINARY_CMD_DEL_VBUCKET
 = 0x3f,

158 
PROTOCOL_BINARY_CMD_TAP_CONNECT
 = 0x40,

159 
PROTOCOL_BINARY_CMD_TAP_MUTATION
 = 0x41,

160 
PROTOCOL_BINARY_CMD_TAP_DELETE
 = 0x42,

161 
PROTOCOL_BINARY_CMD_TAP_FLUSH
 = 0x43,

162 
PROTOCOL_BINARY_CMD_TAP_OPAQUE
 = 0x44,

163 
PROTOCOL_BINARY_CMD_TAP_VBUCKET_SET
 = 0x45,

164 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_START
 = 0x46,

165 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_END
 = 0x47,

168 
PROTOCOL_BINARY_CMD_LAST_RESERVED
 = 0xef,

171 
PROTOCOL_BINARY_CMD_SCRUB
 = 0xf0

172 } 
	t¥Ÿocﬁ_bö¨y_comm™d
;

179 
PROTOCOL_BINARY_RAW_BYTES
 = 0x00

180 } 
	t¥Ÿocﬁ_bö¨y_d©©y≥s
;

188 
uöt8_t
 
magic
;

189 
uöt8_t
 
›code
;

190 
uöt16_t
 
keyÀn
;

191 
uöt8_t
 
exéí
;

192 
uöt8_t
 
d©©y≥
;

193 
uöt16_t
 
vbuckë
;

194 
uöt32_t
 
bodyÀn
;

195 
uöt32_t
 
›aque
;

196 
uöt64_t
 
ˇs
;

197 } 
ªque°
;

198 
uöt8_t
 
byãs
[24];

199 } 
	t¥Ÿocﬁ_bö¨y_ªque°_hódî
;

207 
uöt8_t
 
magic
;

208 
uöt8_t
 
›code
;

209 
uöt16_t
 
keyÀn
;

210 
uöt8_t
 
exéí
;

211 
uöt8_t
 
d©©y≥
;

212 
uöt16_t
 
°©us
;

213 
uöt32_t
 
bodyÀn
;

214 
uöt32_t
 
›aque
;

215 
uöt64_t
 
ˇs
;

216 } 
ª•⁄£
;

217 
uöt8_t
 
byãs
[24];

218 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
;

223 
	u¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 {

225 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

226 } 
mesßge
;

227 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
)];

229 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_no_exåas
;

236 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

237 } 
mesßge
;

238 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
)];

239 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
;

245 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gë
;

246 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëq
;

247 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëk
;

248 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gëkq
;

257 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

259 
uöt32_t
 
Êags
;

260 } 
body
;

261 } 
mesßge
;

262 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
) + 4];

263 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gë
;

265 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëq
;

266 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëk
;

267 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gëkq
;

273 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_dñëe
;

279 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_dñëe
;

289 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

291 
uöt32_t
 
expú©i⁄
;

292 } 
body
;

293 } 
mesßge
;

294 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

295 } 
	t¥Ÿocﬁ_bö¨y_ªque°_Êush
;

301 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_Êush
;

309 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

311 
uöt32_t
 
Êags
;

312 
uöt32_t
 
expú©i⁄
;

313 } 
body
;

314 } 
mesßge
;

315 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 8];

316 } 
	t¥Ÿocﬁ_bö¨y_ªque°_£t
;

317 
¥Ÿocﬁ_bö¨y_ªque°_£t
 
	t¥Ÿocﬁ_bö¨y_ªque°_add
;

318 
¥Ÿocﬁ_bö¨y_ªque°_£t
 
	t¥Ÿocﬁ_bö¨y_ªque°_ª∂a˚
;

324 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_£t
;

325 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_add
;

326 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_ª∂a˚
;

332 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_no›
;

338 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_no›
;

347 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

349 
uöt64_t
 
dñè
;

350 
uöt64_t
 
öôül
;

351 
uöt32_t
 
expú©i⁄
;

352 } 
body
;

353 } 
mesßge
;

354 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 20];

355 } 
	t¥Ÿocﬁ_bö¨y_ªque°_ö¸
;

356 
¥Ÿocﬁ_bö¨y_ªque°_ö¸
 
	t¥Ÿocﬁ_bö¨y_ªque°_de¸
;

365 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

367 
uöt64_t
 
vÆue
;

368 } 
body
;

369 } 
mesßge
;

370 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
) + 8];

371 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_ö¸
;

372 
¥Ÿocﬁ_bö¨y_ª•⁄£_ö¸
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_de¸
;

378 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_quô
;

384 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_quô
;

390 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_≠≥nd
;

391 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_¥ïíd
;

397 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_≠≥nd
;

398 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_¥ïíd
;

404 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_vîsi⁄
;

410 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_vîsi⁄
;

417 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_°©s
;

423 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_°©s
;

430 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

432 
uöt32_t
 
Àvñ
;

433 } 
body
;

434 } 
mesßge
;

435 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

436 } 
	t¥Ÿocﬁ_bö¨y_ªque°_vîbosôy
;

441 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_vîbosôy
;

448 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

450 
uöt32_t
 
expú©i⁄
;

451 } 
body
;

452 } 
mesßge
;

453 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

454 } 
	t¥Ÿocﬁ_bö¨y_ªque°_touch
;

459 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_touch
;

466 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

468 
uöt32_t
 
expú©i⁄
;

469 } 
body
;

470 } 
mesßge
;

471 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

472 } 
	t¥Ÿocﬁ_bö¨y_ªque°_g©
;

474 
¥Ÿocﬁ_bö¨y_ªque°_g©
 
	t¥Ÿocﬁ_bö¨y_ªque°_g©q
;

479 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_g©
;

480 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_g©q
;

493 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

495 
uöt16_t
 
size
;

496 
uöt8_t
 
ª£rved
;

497 
uöt8_t
 
Êags
;

498 
uöt32_t
 
max_ªsu…s
;

499 } 
body
;

500 } 
mesßge
;

501 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

502 } 
	t¥Ÿocﬁ_bö¨y_ªque°_ønge›
;

504 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rgë
;

505 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_r£t
;

506 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_r£tq
;

507 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_øµíd
;

508 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_øµídq
;

509 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_Ωª≥nd
;

510 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_Ωª≥ndq
;

511 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rdñëe
;

512 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rdñëeq
;

513 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rö¸
;

514 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rö¸q
;

515 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rde¸
;

516 
¥Ÿocﬁ_bö¨y_ªque°_ønge›
 
	t¥Ÿocﬁ_bö¨y_ªque°_rde¸q
;

527 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

542 
uöt32_t
 
Êags
;

557 
	#TAP_CONNECT_FLAG_BACKFILL
 0x01

	)

563 
	#TAP_CONNECT_FLAG_DUMP
 0x02

	)

570 
	#TAP_CONNECT_FLAG_LIST_VBUCKETS
 0x04

	)

575 
	#TAP_CONNECT_FLAG_TAKEOVER_VBUCKETS
 0x08

	)

579 
	#TAP_CONNECT_SUPPORT_ACK
 0x10

	)

586 
	#TAP_CONNECT_REQUEST_KEYS_ONLY
 0x20

	)

593 
	#TAP_CONNECT_CHECKPOINT
 0x40

	)

598 
	#TAP_CONNECT_REGISTERED_CLIENT
 0x80

	)

599 } 
body
;

600 } 
mesßge
;

601 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 4];

602 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_c⁄√˘
;

606 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

609 
uöt16_t
 
ígöe•ecific_Àngth
;

618 
	#TAP_FLAG_ACK
 0x01

	)

622 
	#TAP_FLAG_NO_VALUE
 0x02

	)

623 
uöt16_t
 
Êags
;

624 
uöt8_t
 
âl
;

625 
uöt8_t
 
ªs1
;

626 
uöt8_t
 
ªs2
;

627 
uöt8_t
 
ªs3
;

628 } 
èp
;

630 
uöt32_t
 
Êags
;

631 
uöt32_t
 
expú©i⁄
;

632 } 
ôem
;

633 } 
body
;

634 } 
mesßge
;

635 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 16];

636 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_muèti⁄
;

640 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

643 
uöt16_t
 
ígöe•ecific_Àngth
;

649 
uöt16_t
 
Êags
;

650 
uöt8_t
 
âl
;

651 
uöt8_t
 
ªs1
;

652 
uöt8_t
 
ªs2
;

653 
uöt8_t
 
ªs3
;

654 } 
èp
;

655 } 
body
;

656 } 
mesßge
;

657 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
) + 8];

658 } 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
;

660 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_dñëe
;

661 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_Êush
;

662 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_›aque
;

663 
¥Ÿocﬁ_bö¨y_ªque°_èp_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_èp_vbuckë_£t
;

669 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_s¸ub
;

674 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_s¸ub
;

682 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 
hódî
;

684 
vbuckë_°©e_t
 
°©e
;

685 } 
body
;

686 } 
mesßge
;

687 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ªque°_hódî
Ë+ (
vbuckë_°©e_t
)];

688 } 
	t¥Ÿocﬁ_bö¨y_ªque°_£t_vbuckë
;

692 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_£t_vbuckë
;

696 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_dñ_vbuckë
;

700 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_dñ_vbuckë
;

705 
¥Ÿocﬁ_bö¨y_ªque°_no_exåas
 
	t¥Ÿocﬁ_bö¨y_ªque°_gë_vbuckë
;

712 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 
hódî
;

714 
vbuckë_°©e_t
 
°©e
;

715 } 
body
;

716 } 
mesßge
;

717 
uöt8_t
 
byãs
[(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
Ë+ (
vbuckë_°©e_t
)];

718 } 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_gë_vbuckë
;

725 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/callback.h

9 #¥agm®
⁄˚


23 
	g¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


24 (*
	tmemˇched_bö¨y_¥Ÿocﬁ_gë_ª•⁄£_h™dÀr
)(c⁄° *
	tcookõ
,

25 c⁄° *
	tkey
,

26 
	tuöt16_t
 
	tkeyÀn
,

27 c⁄° *
	tbody
,

28 
	tuöt32_t
 
	tbodyÀn
,

29 
	tuöt32_t
 
	tÊags
,

30 
	tuöt64_t
 
	tˇs
);

40 
	g¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


41 (*
	tmemˇched_bö¨y_¥Ÿocﬁ_°©_ª•⁄£_h™dÀr
)(c⁄° *
	tcookõ
,

42 c⁄° *
	tkey
,

43 
	tuöt16_t
 
	tkeyÀn
,

44 c⁄° *
	tbody
,

45 
	tuöt32_t
 
	tbodyÀn
);

53 
	g¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


54 (*
	tmemˇched_bö¨y_¥Ÿocﬁ_vîsi⁄_ª•⁄£_h™dÀr
)(c⁄° *
	tcookõ
,

55 c⁄° *
	tãxt
,

56 
	tuöt32_t
 
	tÀngth
);

68 
	$¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
	tmemˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
)(c⁄° *
	tcookõ
,

69 
	t¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
	tªque°
,

70 
	t¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *
	tª•⁄£
);

81 
	$¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
	tmemˇched_bö¨y_¥Ÿocﬁ_comm™d_h™dÀr
)(c⁄° *
	tcookõ
,

82 
	t¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
	thódî
,

83 
	tmemˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
	tª•⁄£_h™dÀr
);

91 
memˇched_bö¨y_¥Ÿocﬁ_comm™d_h™dÀr
 
comcode
[256];

92 } 
	tmemˇched_bö¨y_¥Ÿocﬁ_ˇŒback_v0_°
;

115 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
add
)(c⁄° *
cookõ
,

116 c⁄° *
key
,

117 
uöt16_t
 
keyÀn
,

118 c⁄° * 
vÆ
,

119 
uöt32_t
 
vÆÀn
,

120 
uöt32_t
 
Êags
,

121 
uöt32_t
 
ex±ime
,

122 
uöt64_t
 *
ˇs
);

136 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
≠≥nd
)(c⁄° *
cookõ
,

137 c⁄° *
key
,

138 
uöt16_t
 
keyÀn
,

139 c⁄° * 
vÆ
,

140 
uöt32_t
 
vÆÀn
,

141 
uöt64_t
 
ˇs
,

142 
uöt64_t
 *
ªsu…_ˇs
);

158 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
de¸emít
)(c⁄° *
cookõ
,

159 c⁄° *
key
,

160 
uöt16_t
 
keyÀn
,

161 
uöt64_t
 
dñè
,

162 
uöt64_t
 
öôül
,

163 
uöt32_t
 
expú©i⁄
,

164 
uöt64_t
 *
ªsu…
,

165 
uöt64_t
 *
ªsu…_ˇs
);

175 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
dñëe_obje˘
)(c⁄° *
cookõ
,

176 c⁄° *
key
,

177 
uöt16_t
 
keyÀn
,

178 
uöt64_t
 
ˇs
);

187 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
Êush_obje˘
)(c⁄° *
cookõ
,

188 
uöt32_t
 
whí
);

200 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
gë
)(c⁄° *
cookõ
,

201 c⁄° *
key
,

202 
uöt16_t
 
keyÀn
,

203 
memˇched_bö¨y_¥Ÿocﬁ_gë_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
);

219 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
ö¸emít
)(c⁄° *
cookõ
,

220 c⁄° *
key
,

221 
uöt16_t
 
keyÀn
,

222 
uöt64_t
 
dñè
,

223 
uöt64_t
 
öôül
,

224 
uöt32_t
 
expú©i⁄
,

225 
uöt64_t
 *
ªsu…
,

226 
uöt64_t
 *
ªsu…_ˇs
);

234 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
no›
)(c⁄° *
cookõ
);

248 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
¥ïíd
)(c⁄° *
cookõ
,

249 c⁄° *
key
,

250 
uöt16_t
 
keyÀn
,

251 c⁄° * 
vÆ
,

252 
uöt32_t
 
vÆÀn
,

253 
uöt64_t
 
ˇs
,

254 
uöt64_t
 *
ªsu…_ˇs
);

262 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
quô
)(c⁄° *
cookõ
);

278 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
ª∂a˚
)(c⁄° *
cookõ
,

279 c⁄° *
key
,

280 
uöt16_t
 
keyÀn
,

281 c⁄° * 
vÆ
,

282 
uöt32_t
 
vÆÀn
,

283 
uöt32_t
 
Êags
,

284 
uöt32_t
 
ex±ime
,

285 
uöt64_t
 
ˇs
,

286 
uöt64_t
 *
ªsu…_ˇs
);

302 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
£t
)(c⁄° *
cookõ
,

303 c⁄° *
key
,

304 
uöt16_t
 
keyÀn
,

305 c⁄° * 
vÆ
,

306 
uöt32_t
 
vÆÀn
,

307 
uöt32_t
 
Êags
,

308 
uöt32_t
 
ex±ime
,

309 
uöt64_t
 
ˇs
,

310 
uöt64_t
 *
ªsu…_ˇs
);

324 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
°©
)(c⁄° *
cookõ
,

325 c⁄° *
key
,

326 
uöt16_t
 
keyÀn
,

327 
memˇched_bö¨y_¥Ÿocﬁ_°©_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
);

337 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
vîsi⁄
)(c⁄° *
cookõ
,

338 
memˇched_bö¨y_¥Ÿocﬁ_vîsi⁄_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
);

339 } 
	tmemˇched_bö¨y_¥Ÿocﬁ_ˇŒback_v1_°
;

347 
MEMCACHED_PROTOCOL_HANDLER_V0
= 0,

352 
MEMCACHED_PROTOCOL_HANDLER_V1
= 1

353 } 
	tmemˇched_¥Ÿocﬁ_öãrÁ˚_vîsi⁄_t
;

362 
memˇched_¥Ÿocﬁ_öãrÁ˚_vîsi⁄_t
 
öãrÁ˚_vîsi⁄
;

372 (*
¥e_execuã
)(c⁄° *
cookõ
,

373 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
);

384 (*
po°_execuã
)(c⁄° *
cookõ
,

385 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
);

397 
	`¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
unknown
)(c⁄° *
cookõ
,

398 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

399 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
);

407 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_v0_°
 
v0
;

414 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_v1_°
 
v1
;

415 } 
öãrÁ˚
;

416 } 
	tmemˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
;

	@oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/handler.h

14 #¥agm®
⁄˚


16 
	~<sys/ty≥s.h
>

17 #i‡!
deföed
(
__˝lu•lus
)

18 
	~<°dboﬁ.h
>

21 
	~<libmemˇched-1.0/visibûôy.h
>

22 
	~<libmemˇched-1.0/∂©f‹m.h
>

23 
	~<libmemˇched¥Ÿocﬁ-0.0/bö¨y.h
>

24 
	~<libmemˇched¥Ÿocﬁ-0.0/ˇŒback.h
>

32 
memˇched_¥Ÿocﬁ_°
 
	tmemˇched_¥Ÿocﬁ_°
;

33 
memˇched_¥Ÿocﬁ_˛õ¡_°
 
	tmemˇched_¥Ÿocﬁ_˛õ¡_°
;

35 #ifde‡
__˝lu•lus


50 
ssize_t
 (*
	tmemˇched_¥Ÿocﬁ_ªcv_func
)(c⁄° *
	tcookõ
,

51 
	tmemˇched_sockë_t
 
	tfd
,

52 *
	tbuf
,

53 
	tsize_t
 
	tnbuf
);

66 
ssize_t
 (*
	tmemˇched_¥Ÿocﬁ_£nd_func
)(c⁄° *
	tcookõ
,

67 
	tmemˇched_sockë_t
 
	tfd
,

68 c⁄° *
	tbuf
,

69 
	tsize_t
 
	tnbuf
);

76 
LIBMEMCACHED_API


77 
memˇched_¥Ÿocﬁ_°
 *
memˇched_¥Ÿocﬁ_¸óã_ö°™˚
();

83 
LIBMEMCACHED_API


84 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
 *
memˇched_bö¨y_¥Ÿocﬁ_gë_ˇŒbacks
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
);

91 
LIBMEMCACHED_API


92 
memˇched_bö¨y_¥Ÿocﬁ_£t_ˇŒbacks
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
 *
ˇŒback
);

102 
LIBMEMCACHED_API


103 
memˇched_bö¨y_¥Ÿocﬁ_£t_≥d™tic
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
boﬁ
 
íabÀ
);

110 
LIBMEMCACHED_API


111 
boﬁ
 
memˇched_bö¨y_¥Ÿocﬁ_gë_≥d™tic
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
);

118 
LIBMEMCACHED_API


119 
memˇched_¥Ÿocﬁ_de°roy_ö°™˚
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
);

129 
LIBMEMCACHED_API


130 
memached_¥Ÿocﬁ_£t_io_fun˘i⁄s
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
,

131 
memˇched_¥Ÿocﬁ_ªcv_func
 
ªcv
,

132 
memˇched_¥Ÿocﬁ_£nd_func
 
£nd
);

141 
LIBMEMCACHED_API


142 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
memˇched_¥Ÿocﬁ_¸óã_˛õ¡
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
memˇched_sockë_t
 
sock
);

152 
LIBMEMCACHED_API


153 
memˇched_¥Ÿocﬁ_˛õ¡_de°roy
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
);

155 
LIBMEMCACHED_API


156 
memˇched_¥Ÿocﬁ_˛õ¡_£t_vîbo£
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
boﬁ
 
¨g
);

162 
	#MEMCACHED_PROTOCOL_ERROR_EVENT
 1

	)

166 
	#MEMCACHED_PROTOCOL_READ_EVENT
 2

	)

170 
	#MEMCACHED_PROTOCOL_WRITE_EVENT
 4

	)

174 
	#MEMCACHED_PROTOCOL_PAUSE_EVENT
 8

	)

180 
uöt32_t
 
	tmemˇched_¥Ÿocﬁ_evít_t
;

188 
LIBMEMCACHED_API


189 
memˇched_¥Ÿocﬁ_evít_t
 
memˇched_¥Ÿocﬁ_˛õ¡_w‹k
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
);

196 
LIBMEMCACHED_API


197 
memˇched_sockë_t
 
memˇched_¥Ÿocﬁ_˛õ¡_gë_sockë
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
);

204 
LIBMEMCACHED_API


205 
memˇched_¥Ÿocﬁ_˛õ¡_gë_î∫o
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
);

213 
LIBMEMCACHED_API


214 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
memˇched_bö¨y_¥Ÿocﬁ_gë_øw_ª•⁄£_h™dÀr
(c⁄° *
cookõ
);

216 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/vbucket.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


45 
vbuckë_°©e_a˘ive
 = 1,

46 
vbuckë_°©e_ª∂iˇ
,

47 
vbuckë_°©e_≥ndög
,

48 
vbuckë_°©e_dód


49 } 
	tvbuckë_°©e_t
;

51 
	#is_vÆid_vbuckë_°©e_t
(
°©e
) \

52 (
°©e
 =
vbuckë_°©e_a˘ive
 || \

53 
°©e
 =
vbuckë_°©e_ª∂iˇ
 || \

54 
°©e
 =
vbuckë_°©e_≥ndög
 || \

55 
°©e
 =
vbuckë_°©e_dód
)

	)

57 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedprotocol/ascii_handler.c

37 
	~<libmemˇched¥Ÿocﬁ/comm⁄.h
>

39 
	~<˘y≥.h
>

40 
	~<°dio.h
>

41 
	~<°dlib.h
>

42 
	~<°rög.h
>

43 
	~<î∫o.h
>

46 
	$¥öt_ascii_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

48 i‡(
˛õ¡
->
is_vîbo£
)

50 
˛õ¡
->
ascii_comm™d
)

52 
SET_CMD
:

53 
	`Ârötf
(
°dîr
, "%s:%d SET_CMD\n", 
__FILE__
, 
__LINE__
);

56 
ADD_CMD
:

57 
	`Ârötf
(
°dîr
, "%s:%d ADD_CMD\n", 
__FILE__
, 
__LINE__
);

60 
REPLACE_CMD
:

61 
	`Ârötf
(
°dîr
, "%s:%d REPLACE_CMD\n", 
__FILE__
, 
__LINE__
);

64 
CAS_CMD
:

65 
	`Ârötf
(
°dîr
, "%s:%d CAS_CMD\n", 
__FILE__
, 
__LINE__
);

68 
APPEND_CMD
:

69 
	`Ârötf
(
°dîr
, "%s:%d APPEND_CMD\n", 
__FILE__
, 
__LINE__
);

72 
PREPEND_CMD
:

73 
	`Ârötf
(
°dîr
, "%s:%d PREPEND_CMD\n", 
__FILE__
, 
__LINE__
);

76 
DELETE_CMD
:

77 
	`Ârötf
(
°dîr
, "%s:%d DELETE_CMD\n", 
__FILE__
, 
__LINE__
);

80 
INCR_CMD
:

81 
	`Ârötf
(
°dîr
, "%s:%d INCR_CMD\n", 
__FILE__
, 
__LINE__
);

84 
DECR_CMD
:

85 
	`Ârötf
(
°dîr
, "%s:%d DECR_CMD\n", 
__FILE__
, 
__LINE__
);

88 
STATS_CMD
:

89 
	`Ârötf
(
°dîr
, "%s:%d STATS_CMD\n", 
__FILE__
, 
__LINE__
);

92 
FLUSH_ALL_CMD
:

93 
	`Ârötf
(
°dîr
, "%s:%d FLUSH_ALL_CMD\n", 
__FILE__
, 
__LINE__
);

96 
VERSION_CMD
:

97 
	`Ârötf
(
°dîr
, "%s:%d VERSION_CMD\n", 
__FILE__
, 
__LINE__
);

100 
QUIT_CMD
:

101 
	`Ârötf
(
°dîr
, "%s:%d QUIT_CMD\n", 
__FILE__
, 
__LINE__
);

104 
VERBOSITY_CMD
:

105 
	`Ârötf
(
°dîr
, "%s:%d VERBOSITY_CMD\n", 
__FILE__
, 
__LINE__
);

108 
GET_CMD
:

109 
	`Ârötf
(
°dîr
, "%s:%d GET_CMD\n", 
__FILE__
, 
__LINE__
);

112 
GETS_CMD
:

113 
	`Ârötf
(
°dîr
, "%s:%d GETS_CMD\n", 
__FILE__
, 
__LINE__
);

117 
UNKNOWN_CMD
:

118 
	`Ârötf
(
°dîr
, "%s:%d UNKNOWN_CMD\n", 
__FILE__
, 
__LINE__
);

123 
	}
}

132 
uöt16_t
 
	$∑r£_ascii_key
(**
°¨t
)

134 
uöt16_t
 
Àn
= 0;

135 *
c
*
°¨t
;

137 
	`is•a˚
(*
c
))

139 ++
c
;

142 *
°¨t

c
;

144 *
c
 !'\0' && !
	`is•a˚
(*cË&& !
	`is˙ål
(*c))

146 ++
c
;

147 ++
Àn
;

151 i‡(
Àn
 =0 ||Üí > 240 || (*
c
 !'\0' && *¯!'\r' && 
	`is˙ål
(*c)))

156  
Àn
;

157 
	}
}

165 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$øw_ª•⁄£_h™dÀr
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, c⁄° *
ãxt
)

167 i‡(
˛õ¡
->
is_vîbo£
)

169 
	`Ârötf
(
°dîr
, "%s:%d %s\n", 
__FILE__
, 
__LINE__
, 
ãxt
);

172 i‡(
˛õ¡
->
roŸ
->
	`døö
(˛õ¡Ë=
Ál£
)

174  
PROTOCOL_BINARY_RESPONSE_EINTERNAL
;

177 
	`as£π
(
˛õ¡
->
ouçut
 !
NULL
);

179 i‡(
˛õ¡
->
ouçut
 =
NULL
)

184 
size_t
 
num_byãs

Àn
 -
off£t
;

185 
ssize_t
 
nw

˛õ¡
->
roŸ
->
	`£nd
(client,

186 
˛õ¡
->
sock
,

187 
±r
 + 
off£t
,

188 
num_byãs
);

189 i‡(
nw
 == -1)

191 i‡(
	`gë_sockë_î∫o
(Ë=
EWOULDBLOCK
)

195 i‡(
	`gë_sockë_î∫o
(Ë!
EINTR
)

197 
˛õ¡
->
îr‹

î∫o
;

198  
PROTOCOL_BINARY_RESPONSE_EINTERNAL
;

203 
off£t
 +(
size_t
)
nw
;

205 } 
off£t
 < 
Àn
);

209  
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ãxt
, 
	`°æí
(text));

210 
	}
}

217 
	$£nd_comm™d_ußge
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

219 c⁄° *
îrmsg
[]= {

220 [
GET_CMD
]= "CLIENT_ERROR: SyntaxÉrror: get <key>*\r\n",

221 [
GETS_CMD
]= "CLIENT_ERROR: SyntaxÉrror: gets <key>*\r\n",

222 [
SET_CMD
]= "CLIENT_ERROR: SyntaxÉrror: set <key> <flags> <exptime> <bytes> [noreply]\r\n",

223 [
ADD_CMD
]= "CLIENT_ERROR: SyntaxÉrror:ádd <key> <flags> <exptime> <bytes> [noreply]\r\n",

224 [
REPLACE_CMD
]= "CLIENT_ERROR: SyntaxÉrror:Ñeplace <key> <flags> <exptime> <bytes> [noreply]\r\n",

225 [
CAS_CMD
]= "CLIENT_ERROR: SyntaxÉrror: cas <key> <flags> <exptime> <bytes> <casid> [noreply]\r\n",

226 [
APPEND_CMD
]= "CLIENT_ERROR: SyntaxÉrror:áppend <key> <flags> <exptime> <bytes> [noreply]\r\n",

227 [
PREPEND_CMD
]= "CLIENT_ERROR: SyntaxÉrror:Örepend <key> <flags> <exptime> <bytes> [noreply]\r\n",

228 [
DELETE_CMD
]= "CLIENT_ERROR: SyntaxÉrror: delete_object <key> [noreply]\r\n",

229 [
INCR_CMD
]= "CLIENT_ERROR: SyntaxÉrror: incr <key> <value> [noreply]\r\n",

230 [
DECR_CMD
]= "CLIENT_ERROR: SyntaxÉrror: decr <key> <value> [noreply]\r\n",

231 [
STATS_CMD
]= "CLIENT_ERROR: SyntaxÉrror: stats [key]\r\n",

232 [
FLUSH_ALL_CMD
]= "CLIENT_ERROR: SyntaxÉrror: flush_all [timeout] [noreply]\r\n",

233 [
VERSION_CMD
]= "CLIENT_ERROR: SyntaxÉrror: version\r\n",

234 [
QUIT_CMD
]="CLIENT_ERROR: SyntaxÉrror: quit\r\n",

236 [
VERBOSITY_CMD
]= "CLIENT_ERROR: SyntaxÉrror: verbosity <num>\r\n",

237 [
UNKNOWN_CMD
]= "CLIENT_ERROR: Unknown command\r\n",

240 
˛õ¡
->
muã
 = 
Ál£
;

241 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, 
îrmsg
[˛õ¡->
ascii_comm™d
]);

242 
	}
}

250 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$ascii_vîsi⁄_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

251 c⁄° *
ãxt
,

252 
uöt32_t
 
ãxéí
)

254 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(memˇched_¥Ÿocﬁ_˛õ¡_°*)
cookõ
;

255 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "VERSION ");

256 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ãxt
, 
ãxéí
);

257 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "\r\n");

258  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

259 
	}
}

271 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


272 
	$ascii_gë_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

273 c⁄° *
key
,

274 
uöt16_t
 
keyÀn
,

275 c⁄° *
body
,

276 
uöt32_t
 
bodyÀn
,

277 
uöt32_t
 
Êags
,

278 
uöt64_t
 
ˇs
)

280 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

281 
buf„r
[300];

282 
	`°r˝y
(
buf„r
, "VALUE ");

283 c⁄° *
sour˚

key
;

284 *
de°

buf„r
 + 6;

286 
x
0; x < 
keyÀn
; ++x)

288 i‡(*
sour˚
 !'\0' && !
	`is•a˚
(*sour˚Ë&& !
	`is˙ål
(*source))

290 *
de°
*
sour˚
;

294  
PROTOCOL_BINARY_RESPONSE_EINVAL
;

297 ++
de°
;

298 ++
sour˚
;

301 
size_t
 
u£d
(size_t)(
de°
 - 
buf„r
);

303 i‡(
˛õ¡
->
ascii_comm™d
 =
GETS_CMD
)

305 
	`¢¥ötf
(
de°
, (
buf„r
Ë- 
u£d
, " %u %u %" 
PRIu64
 "\r\n", 
Êags
,

306 
bodyÀn
, 
ˇs
);

310 
	`¢¥ötf
(
de°
, (
buf„r
Ë- 
u£d
, " %u %u\r\n", 
Êags
, 
bodyÀn
);

313 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
buf„r
, 
	`°æí
(buffer));

314 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
body
, 
bodyÀn
);

315 
˛õ¡
->
roŸ
->
	`•oﬁ
(client, "\r\n", 2);

317  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

318 
	}
}

328 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$ascii_°©_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

329 c⁄° *
key
,

330 
uöt16_t
 
keyÀn
,

331 c⁄° *
body
,

332 
uöt32_t
 
bodyÀn
)

335 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

337 i‡(
key
 !
NULL
)

339 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "STAT ");

340 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
key
, 
keyÀn
);

341 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, " ");

342 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
body
, 
bodyÀn
);

343 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "\r\n");

347 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "END\r\n");

350  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

351 
	}
}

359 
	$ascii_¥o˚ss_gës
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

360 *
buf„r
, *
íd
)

362 *
key

buf„r
;

365 
key
 +(
˛õ¡
->
ascii_comm™d
 =
GETS_CMD
) ? 5 : 4;

367 
num_keys
= 0;

368 
key
 < 
íd
)

370 
uöt16_t
 
nkey

	`∑r£_ascii_key
(&
key
);

371 i‡(
nkey
 == 0)

376 ()
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`gë
(˛õ¡, 
key
, 
nkey
,

377 
ascii_gë_ª•⁄£_h™dÀr
);

378 
key
 +
nkey
;

379 ++
num_keys
;

382 i‡(
num_keys
 == 0)

384 
	`£nd_comm™d_ußge
(
˛õ¡
);

388 
˛õ¡
->
roŸ
->
	`•oﬁ
(client, "END\r\n", 5);

390 
	}
}

401 
	$ascii_tokíize_comm™d
(*
°r
, *
íd
, **
vec
, 
size
)

403 
ñem
= 0;

405 
°r
 < 
íd
)

408 
°r
 < 
íd
 && 
	`is•a˚
(*str))

410 ++
°r
;

413 i‡(
°r
 =
íd
)

415  
ñem
;

418 
vec
[
ñem
++]
°r
;

420 
°r
 < 
íd
 && !
	`is•a˚
(*str))

422 ++
°r
;

426 *
°r
= '\0';

427 ++
°r
;

430 i‡(
ñem
 =
size
)

436  
ñem
;

437 
	}
}

448 
	$ªcovî_tokíize_comm™d
(*
°¨t
, *
íd
)

450 
°¨t
 < 
íd
)

452 i‡(*
°¨t
 == '\0')

453 *
°¨t
= ' ';

454 ++
°¨t
;

457 *
íd
= '\n';

458 
	}
}

463 
ascii_cmd
 
	$ascii_to_cmd
(*
°¨t
, 
size_t
 
Àngth
)

466 c⁄° *
cmd
;

467 
size_t
 
Àn
;

468 
ascii_cmd
 
cc
;

469 } 
comm™ds
[]= {

470 { .
cmd
"gë", .
Àn
3, .
cc

GET_CMD
 },

471 { .
cmd
"gës", .
Àn
4, .
cc

GETS_CMD
 },

472 { .
cmd
"£t", .
Àn
3, .
cc

SET_CMD
 },

473 { .
cmd
"add", .
Àn
3, .
cc

ADD_CMD
 },

474 { .
cmd
"ª∂a˚", .
Àn
7, .
cc

REPLACE_CMD
 },

475 { .
cmd
"ˇs", .
Àn
3, .
cc

CAS_CMD
 },

476 { .
cmd
"≠≥nd", .
Àn
6, .
cc

APPEND_CMD
 },

477 { .
cmd
"¥ïíd", .
Àn
7, .
cc

PREPEND_CMD
 },

478 { .
cmd
"dñëe_obje˘", .
Àn
6, .
cc

DELETE_CMD
 },

479 { .
cmd
"ö¸", .
Àn
4, .
cc

INCR_CMD
 },

480 { .
cmd
"de¸", .
Àn
4, .
cc

DECR_CMD
 },

481 { .
cmd
"°©s", .
Àn
5, .
cc

STATS_CMD
 },

482 { .
cmd
"Êush_Æl", .
Àn
9, .
cc

FLUSH_ALL_CMD
 },

483 { .
cmd
"vîsi⁄", .
Àn
7, .
cc

VERSION_CMD
 },

484 { .
cmd
"quô", .
Àn
4, .
cc

QUIT_CMD
 },

485 { .
cmd
"vîbosôy", .
Àn
9, .
cc

VERBOSITY_CMD
 },

486 { .
cmd

NULL
, .
Àn
0, .
cc

UNKNOWN_CMD
 }};

488 
x
= 0;

489 
comm™ds
[
x
].
Àn
 > 0) {

490 i‡(
Àngth
 >
comm™ds
[
x
].
Àn
)

492 i‡(
	`°∫cmp
(
°¨t
, 
comm™ds
[
x
].
cmd
, comm™ds[x].
Àn
) == 0)

495 i‡(
Àngth
 =
comm™ds
[
x
].
Àn
 || 
	`is•a˚
(*(
°¨t
 + commands[x].len)))

497  
comm™ds
[
x
].
cc
;

501 ++
x
;

504  
UNKNOWN_CMD
;

505 
	}
}

514 
	$¥o˚ss_dñëe
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

515 **
tokís
, 
¡okís
)

517 *
key

tokís
[1];

518 
uöt16_t
 
nkey
;

520 i‡(
¡okís
 !2 || (
nkey

	`∑r£_ascii_key
(&
key
)) == 0)

522 
	`£nd_comm™d_ußge
(
˛õ¡
);

526 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
dñëe_obje˘
 =
NULL
)

528 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

532 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`dñëe_obje˘
(˛õ¡, 
key
, 
nkey
, 0);

534 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
)

536 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "DELETED\r\n");

538 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
)

540 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "NOT_FOUND\r\n");

544 
msg
[80];

545 
	`¢¥ötf
(
msg
, (msg), "SERVER_ERROR: dñëe_obje˘ faûed %u\r\n",(
uöt32_t
)
rvÆ
);

546 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, 
msg
);

548 
	}
}

550 
	$¥o˚ss_¨ôhmëic
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

551 **
tokís
, 
¡okís
)

553 *
key

tokís
[1];

554 
uöt16_t
 
nkey
;

556 i‡(
¡okís
 !3 || (
nkey

	`∑r£_ascii_key
(&
key
)) == 0)

558 
	`£nd_comm™d_ußge
(
˛õ¡
);

562 
uöt64_t
 
ˇs
;

563 
uöt64_t
 
ªsu…
;

564 
î∫o
= 0;

565 
uöt64_t
 
dñè

	`°πouŒ
(
tokís
[2], 
NULL
, 10);

566 i‡(
î∫o
 != 0)

571 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

572 i‡(
˛õ¡
->
ascii_comm™d
 =
INCR_CMD
)

574 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
ö¸emít
 =
NULL
)

576 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

579 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`ö¸emít
(client,

580 
key
, 
nkey
,

581 
dñè
, 0,

583 &
ªsu…
,

584 &
ˇs
);

588 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
de¸emít
 =
NULL
)

590 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

593 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`de¸emít
(client,

594 
key
, 
nkey
,

595 
dñè
, 0,

597 &
ªsu…
,

598 &
ˇs
);

601 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
)

603 
buf„r
[80];

604 
	`¢¥ötf
(
buf„r
, (buf„r), "%"
PRIu64
"\r\n", 
ªsu…
);

605 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, 
buf„r
);

609 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "NOT_FOUND\r\n");

611 
	}
}

618 
	$¥o˚ss_°©s
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

619 *
key
, *
íd
)

621 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
°©
 =
NULL
)

623 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

627 
	`is•a˚
(*
key
))

629 
key
++;

632 
uöt16_t
 
nkey
(uöt16_t)(
íd
 - 
key
);

633 ()
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`°©
(˛õ¡, 
key
, 
nkey
,

634 
ascii_°©_ª•⁄£_h™dÀr
);

635 
	}
}

637 
	$¥o˚ss_vîsi⁄
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

638 **
tokís
, 
¡okís
)

640 ()
tokís
;

641 i‡(
¡okís
 != 1)

643 
	`£nd_comm™d_ußge
(
˛õ¡
);

647 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
vîsi⁄
 =
NULL
)

649 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

653 
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`vîsi⁄
(client,

654 
ascii_vîsi⁄_ª•⁄£_h™dÀr
);

655 
	}
}

657 
	$¥o˚ss_Êush
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

658 **
tokís
, 
¡okís
)

660 i‡(
¡okís
 > 2)

662 
	`£nd_comm™d_ußge
(
˛õ¡
);

666 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
Êush_obje˘
 =
NULL
)

668 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

672 
uöt32_t
 
timeout
= 0;

673 i‡(
¡okís
 == 2)

675 
î∫o
= 0;

676 
timeout
(
uöt32_t
)
	`°πoul
(
tokís
[1], 
NULL
, 10);

677 i‡(
î∫o
 != 0)

683 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

684 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`Êush_obje˘
(˛õ¡, 
timeout
);

685 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
)

686 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "OK\r\n");

688 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: internalÉrror\r\n");

689 
	}
}

705 
ölöe
 
	$¥o˚ss_°‹age_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

706 **
tokís
, 
¡okís
, *
°¨t
,

707 **
íd
, 
ssize_t
 
Àngth
)

709 ()
¡okís
;

710 *
key

tokís
[1];

711 
uöt16_t
 
nkey

	`∑r£_ascii_key
(&
key
);

712 i‡(
nkey
 == 0)

715 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "CLIENT_ERROR: bad key\r\n");

719 
î∫o
= 0;

720 
uöt32_t
 
Êags
(uöt32_t)
	`°πoul
(
tokís
[2], 
NULL
, 10);

721 i‡(
î∫o
 != 0)

724 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "CLIENT_ERROR: bad key\r\n");

728 
uöt32_t
 
timeout
(uöt32_t)
	`°πoul
(
tokís
[3], 
NULL
, 10);

729 i‡(
î∫o
 != 0)

732 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "CLIENT_ERROR: bad key\r\n");

736 
nbyãs

	`°πoul
(
tokís
[4], 
NULL
, 10);

737 i‡(
î∫o
 != 0)

740 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "CLIENT_ERROR: bad key\r\n");

745 
√ed

nbyãs
 + ()((*
íd
 - 
°¨t
) + 1) + 2;

746 i‡((
ssize_t
)
√ed
 > 
Àngth
)

749 
	`ªcovî_tokíize_comm™d
(
°¨t
, *
íd
);

753 *
d©a
(*
íd
) + 1;

754 
uöt64_t
 
ˇs
= 0;

755 
uöt64_t
 
ªsu…_ˇs
;

756 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

757 
˛õ¡
->
ascii_comm™d
)

759 
SET_CMD
:

760 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`£t
(˛õ¡, 
key
,

761 (
uöt16_t
)
nkey
,

762 
d©a
,

763 (
uöt32_t
)
nbyãs
,

764 
Êags
,

765 
timeout
, 
ˇs
,

766 &
ªsu…_ˇs
);

768 
ADD_CMD
:

769 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`add
(˛õ¡, 
key
,

770 (
uöt16_t
)
nkey
,

771 
d©a
,

772 (
uöt32_t
)
nbyãs
,

773 
Êags
,

774 
timeout
, &
ªsu…_ˇs
);

776 
CAS_CMD
:

777 
î∫o
= 0;

778 
ˇs

	`°πouŒ
(
tokís
[5], 
NULL
, 10);

779 i‡(
î∫o
 != 0)

782 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "CLIENT_ERROR: bad key\r\n");

786 
REPLACE_CMD
:

787 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`ª∂a˚
(˛õ¡, 
key
,

788 (
uöt16_t
)
nkey
,

789 
d©a
,

790 (
uöt32_t
)
nbyãs
,

791 
Êags
,

792 
timeout
, 
ˇs
,

793 &
ªsu…_ˇs
);

795 
APPEND_CMD
:

796 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`≠≥nd
(˛õ¡, 
key
,

797 (
uöt16_t
)
nkey
,

798 
d©a
,

799 (
uöt32_t
)
nbyãs
,

800 
ˇs
,

801 &
ªsu…_ˇs
);

803 
PREPEND_CMD
:

804 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`¥ïíd
(˛õ¡, 
key
,

805 (
uöt16_t
)
nkey
,

806 
d©a
,

807 (
uöt32_t
)
nbyãs
,

808 
ˇs
,

809 &
ªsu…_ˇs
);

813 
GET_CMD
:

814 
GETS_CMD
:

815 
DELETE_CMD
:

816 
DECR_CMD
:

817 
INCR_CMD
:

818 
STATS_CMD
:

819 
FLUSH_ALL_CMD
:

820 
VERSION_CMD
:

821 
QUIT_CMD
:

822 
VERBOSITY_CMD
:

823 
UNKNOWN_CMD
:

825 
	`ab‹t
();

828 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
)

830 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "STORED\r\n");

834 i‡(
˛õ¡
->
ascii_comm™d
 =
CAS_CMD
)

836 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_KEY_EEXISTS
)

838 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "EXISTS\r\n");

840 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
)

842 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "NOT_FOUND\r\n");

846 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "NOT_STORED\r\n");

851 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "NOT_STORED\r\n");

855 *
íd
 +
nbyãs
 + 2;

858 
	}
}

860 
	$¥o˚ss_ˇs_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

861 **
tokís
, 
¡okís
, *
°¨t
,

862 **
íd
, 
ssize_t
 
Àngth
)

864 i‡(
¡okís
 != 6)

866 
	`£nd_comm™d_ußge
(
˛õ¡
);

867  
Ál£
;

870 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
ª∂a˚
 =
NULL
)

872 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

873  
Ál£
;

876  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

877 
	}
}

879 
	$¥o˚ss_£t_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

880 **
tokís
, 
¡okís
, *
°¨t
,

881 **
íd
, 
ssize_t
 
Àngth
)

883 i‡(
¡okís
 != 5)

885 
	`£nd_comm™d_ußge
(
˛õ¡
);

886  
Ál£
;

889 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
£t
 =
NULL
)

891 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

892  
Ál£
;

895  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

896 
	}
}

898 
	$¥o˚ss_add_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

899 **
tokís
, 
¡okís
, *
°¨t
,

900 **
íd
, 
ssize_t
 
Àngth
)

902 i‡(
¡okís
 != 5)

904 
	`£nd_comm™d_ußge
(
˛õ¡
);

905  
Ál£
;

908 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
add
 =
NULL
)

910 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

911  
Ál£
;

914  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

915 
	}
}

917 
	$¥o˚ss_ª∂a˚_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

918 **
tokís
, 
¡okís
, *
°¨t
,

919 **
íd
, 
ssize_t
 
Àngth
)

921 i‡(
¡okís
 != 5)

923 
	`£nd_comm™d_ußge
(
˛õ¡
);

924  
Ál£
;

927 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
ª∂a˚
 =
NULL
)

929 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

930  
Ál£
;

933  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

934 
	}
}

936 
	$¥o˚ss_≠≥nd_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

937 **
tokís
, 
¡okís
, *
°¨t
,

938 **
íd
, 
ssize_t
 
Àngth
)

940 i‡(
¡okís
 != 5)

942 
	`£nd_comm™d_ußge
(
˛õ¡
);

943  
Ál£
;

946 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
≠≥nd
 =
NULL
)

948 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

949  
Ál£
;

952  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

953 
	}
}

955 
	$¥o˚ss_¥ïíd_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

956 **
tokís
, 
¡okís
, *
°¨t
,

957 **
íd
, 
ssize_t
 
Àngth
)

959 i‡(
¡okís
 != 5)

961 
	`£nd_comm™d_ußge
(
˛õ¡
);

962  
Ál£
;

965 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
¥ïíd
 =
NULL
)

967 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: callbackÇot implemented\r\n");

968  
Ál£
;

971  
	`¥o˚ss_°‹age_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
°¨t
, 
íd
, 
Àngth
);

972 
	}
}

979 
memˇched_¥Ÿocﬁ_evít_t
 
	$memˇched_ascii_¥Ÿocﬁ_¥o˚ss_d©a
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
ssize_t
 *
Àngth
, **
íd±r
)

981 *
±r
(*)
˛õ¡
->
roŸ
->
öput_buf„r
;

982 *
íd±r

±r
;

986 *
íd

	`memchr
(
±r
, '\n', (
size_t
)*
Àngth
);

987 i‡(
íd
 =
NULL
)

989 *
íd±r

±r
;

990  
MEMCACHED_PROTOCOL_READ_EVENT
;

993 
˛õ¡
->
ascii_comm™d

	`ascii_to_cmd
(
±r
, (
size_t
)(*
Àngth
));

996 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
¥e_execuã
 !
NULL
)

998 
˛õ¡
->
roŸ
->
ˇŒback
->
	`¥e_execuã
(˛õ¡, 
NULL
);

1006 i‡(
˛õ¡
->
ascii_comm™d
 =
GET_CMD
 ||

1007 
˛õ¡
->
ascii_comm™d
 =
GETS_CMD
)

1009 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
gë
 !
NULL
)

1011 
	`ascii_¥o˚ss_gës
(
˛õ¡
, 
±r
, 
íd
);

1015 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "SERVER_ERROR: CommandÇot implemented\n");

1023 *
tokís
[10];

1024 
¡okís

	`ascii_tokíize_comm™d
(
±r
, 
íd
, 
tokís
, 10);

1026 i‡(
¡okís
 < 10)

1028 
˛õ¡
->
muã

	`°rcmp
(
tokís
[
¡okís
 - 1], "noreply") == 0;

1029 i‡(
˛õ¡
->
muã
)

1031 --
¡okís
;

1035 
îr‹
= 0;

1037 
	`¥öt_ascii_comm™d
(
˛õ¡
);

1038 
˛õ¡
->
ascii_comm™d
)

1040 
SET_CMD
:

1041 
îr‹

	`¥o˚ss_£t_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1044 
ADD_CMD
:

1045 
îr‹

	`¥o˚ss_add_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1048 
REPLACE_CMD
:

1049 
îr‹

	`¥o˚ss_ª∂a˚_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1052 
CAS_CMD
:

1053 
îr‹

	`¥o˚ss_ˇs_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1056 
APPEND_CMD
:

1057 
îr‹

	`¥o˚ss_≠≥nd_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1060 
PREPEND_CMD
:

1061 
îr‹

	`¥o˚ss_¥ïíd_comm™d
(
˛õ¡
, 
tokís
, 
¡okís
, 
±r
, &
íd
, *
Àngth
);

1064 
DELETE_CMD
:

1065 
	`¥o˚ss_dñëe
(
˛õ¡
, 
tokís
, 
¡okís
);

1068 
INCR_CMD
:

1069 
DECR_CMD
:

1070 
	`¥o˚ss_¨ôhmëic
(
˛õ¡
, 
tokís
, 
¡okís
);

1073 
STATS_CMD
:

1074 i‡(
˛õ¡
->
muã
)

1076 
	`£nd_comm™d_ußge
(
˛õ¡
);

1080 
	`ªcovî_tokíize_comm™d
(
±r
, 
íd
);

1081 
	`¥o˚ss_°©s
(
˛õ¡
, 
±r
 + 6, 
íd
);

1085 
FLUSH_ALL_CMD
:

1086 
	`¥o˚ss_Êush
(
˛õ¡
, 
tokís
, 
¡okís
);

1089 
VERSION_CMD
:

1090 i‡(
˛õ¡
->
muã
)

1092 
	`£nd_comm™d_ußge
(
˛õ¡
);

1096 
	`¥o˚ss_vîsi⁄
(
˛õ¡
, 
tokís
, 
¡okís
);

1100 
QUIT_CMD
:

1101 i‡(
¡okís
 !1 || 
˛õ¡
->
muã
)

1103 
	`£nd_comm™d_ußge
(
˛õ¡
);

1107 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
quô
 !
NULL
)

1109 
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`quô
(client);

1112  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

1116 
VERBOSITY_CMD
:

1117 i‡(
¡okís
 != 2)

1119 
	`£nd_comm™d_ußge
(
˛õ¡
);

1123 
	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, "OK\r\n");

1127 
UNKNOWN_CMD
:

1128 
	`£nd_comm™d_ußge
(
˛õ¡
);

1131 
GET_CMD
:

1132 
GETS_CMD
:

1135 
	`ab‹t
();

1138 i‡(
îr‹
 == -1)

1140  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

1142 i‡(
îr‹
 == 1)

1144  
MEMCACHED_PROTOCOL_READ_EVENT
;

1148 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
po°_execuã
 !
NULL
)

1150 
˛õ¡
->
roŸ
->
ˇŒback
->
	`po°_execuã
(˛õ¡, 
NULL
);

1154 ++
íd
;

1155 *
Àngth
 -
íd
 - 
±r
;

1156 
±r

íd
;

1157 } *
Àngth
 > 0);

1159 *
íd±r

±r
;

1160  
MEMCACHED_PROTOCOL_READ_EVENT
;

1161 
	}
}

	@oss/libmemcached-1.0.17/libmemcachedprotocol/ascii_handler.h

37 #¥agm®
⁄˚


39 
LIBMEMCACHED_LOCAL


40 
memˇched_¥Ÿocﬁ_evít_t
 
memˇched_ascii_¥Ÿocﬁ_¥o˚ss_d©a
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
ssize_t
 *
Àngth
, **
íd±r
);

	@oss/libmemcached-1.0.17/libmemcachedprotocol/binary_handler.c

37 
	~<libmemˇched¥Ÿocﬁ/comm⁄.h
>

39 
	~<°dlib.h
>

40 
	~<sys/ty≥s.h
>

41 
	~<î∫o.h
>

42 
	~<°dboﬁ.h
>

43 
	~<°rög.h
>

44 
	~<°dio.h
>

62 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$øw_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

63 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
ªque°
,

64 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *
ª•⁄£
)

66 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

68 i‡(
˛õ¡
->
roŸ
->
≥d™tic
 &&

69 !
	`memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ª•⁄£
(
ªque°
, 
ª•⁄£
))

71  
PROTOCOL_BINARY_RESPONSE_EINVAL
;

74 i‡(
˛õ¡
->
roŸ
->
	`døö
(˛õ¡Ë=
Ál£
)

76  
PROTOCOL_BINARY_RESPONSE_EINTERNAL
;

79 
size_t
 
Àn
(
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
Ë+ 
	`ht⁄l
(
ª•⁄£
->ª•⁄£.
bodyÀn
);

80 
size_t
 
off£t
= 0;

81 *
±r
(*)
ª•⁄£
;

83 i‡(
˛õ¡
->
ouçut
 =
NULL
)

88 
size_t
 
num_byãs

Àn
 - 
off£t
;

89 
ssize_t
 
nw

˛õ¡
->
roŸ
->
	`£nd
(client,

90 
˛õ¡
->
sock
,

91 
±r
 + 
off£t
,

92 
num_byãs
);

93 i‡(
nw
 == -1)

95 i‡(
	`gë_sockë_î∫o
(Ë=
EWOULDBLOCK
)

99 i‡(
	`gë_sockë_î∫o
(Ë!
EINTR
)

101 
˛õ¡
->
îr‹

î∫o
;

102  
PROTOCOL_BINARY_RESPONSE_EINTERNAL
;

107 
off£t
 +(
size_t
)
nw
;

109 } 
off£t
 < 
Àn
);

112  
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
±r
, 
Àn
 - 
off£t
);

113 
	}
}

115 
	$¥öt_cmd
(
¥Ÿocﬁ_bö¨y_comm™d
 
cmd
)

117 
cmd
)

119 
PROTOCOL_BINARY_CMD_GET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GET\n", 
__FILE__
, 
__LINE__
); ;

120 
PROTOCOL_BINARY_CMD_SET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SET\n", 
__FILE__
, 
__LINE__
); ;

121 
PROTOCOL_BINARY_CMD_ADD
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_ADD\n", 
__FILE__
, 
__LINE__
); ;

122 
PROTOCOL_BINARY_CMD_REPLACE
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_REPLACE\n", 
__FILE__
, 
__LINE__
); ;

123 
PROTOCOL_BINARY_CMD_DELETE
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_DELETE\n", 
__FILE__
, 
__LINE__
); ;

124 
PROTOCOL_BINARY_CMD_INCREMENT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_INCREMENT\n", 
__FILE__
, 
__LINE__
); ;

125 
PROTOCOL_BINARY_CMD_DECREMENT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_DECREMENT\n", 
__FILE__
, 
__LINE__
); ;

126 
PROTOCOL_BINARY_CMD_QUIT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_QUIT\n", 
__FILE__
, 
__LINE__
); ;

127 
PROTOCOL_BINARY_CMD_FLUSH
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_FLUSH\n", 
__FILE__
, 
__LINE__
); ;

128 
PROTOCOL_BINARY_CMD_GETQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GETQ\n", 
__FILE__
, 
__LINE__
); ;

129 
PROTOCOL_BINARY_CMD_NOOP
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_NOOP\n", 
__FILE__
, 
__LINE__
); ;

130 
PROTOCOL_BINARY_CMD_VERSION
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_VERSION\n", 
__FILE__
, 
__LINE__
); ;

131 
PROTOCOL_BINARY_CMD_GETK
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GETK\n", 
__FILE__
, 
__LINE__
); ;

132 
PROTOCOL_BINARY_CMD_GETKQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GETKQ\n", 
__FILE__
, 
__LINE__
); ;

133 
PROTOCOL_BINARY_CMD_APPEND
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_APPEND\n", 
__FILE__
, 
__LINE__
); ;

134 
PROTOCOL_BINARY_CMD_PREPEND
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_PREPEND\n", 
__FILE__
, 
__LINE__
); ;

135 
PROTOCOL_BINARY_CMD_STAT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_STAT\n", 
__FILE__
, 
__LINE__
); ;

136 
PROTOCOL_BINARY_CMD_SETQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SETQ\n", 
__FILE__
, 
__LINE__
); ;

137 
PROTOCOL_BINARY_CMD_ADDQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_ADDQ\n", 
__FILE__
, 
__LINE__
); ;

138 
PROTOCOL_BINARY_CMD_REPLACEQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_REPLACEQ\n", 
__FILE__
, 
__LINE__
); ;

139 
PROTOCOL_BINARY_CMD_DELETEQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_DELETEQ\n", 
__FILE__
, 
__LINE__
); ;

140 
PROTOCOL_BINARY_CMD_INCREMENTQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_INCREMENTQ\n", 
__FILE__
, 
__LINE__
); ;

141 
PROTOCOL_BINARY_CMD_DECREMENTQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_DECREMENTQ\n", 
__FILE__
, 
__LINE__
); ;

142 
PROTOCOL_BINARY_CMD_QUITQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_QUITQ\n", 
__FILE__
, 
__LINE__
); ;

143 
PROTOCOL_BINARY_CMD_FLUSHQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_FLUSHQ\n", 
__FILE__
, 
__LINE__
); ;

144 
PROTOCOL_BINARY_CMD_APPENDQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_APPENDQ\n", 
__FILE__
, 
__LINE__
); ;

145 
PROTOCOL_BINARY_CMD_PREPENDQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_PREPENDQ\n", 
__FILE__
, 
__LINE__
); ;

146 
PROTOCOL_BINARY_CMD_VERBOSITY
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_VERBOSITY\n", 
__FILE__
, 
__LINE__
); ;

147 
PROTOCOL_BINARY_CMD_TOUCH
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TOUCH\n", 
__FILE__
, 
__LINE__
); ;

148 
PROTOCOL_BINARY_CMD_GAT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GAT\n", 
__FILE__
, 
__LINE__
); ;

149 
PROTOCOL_BINARY_CMD_GATQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GATQ\n", 
__FILE__
, 
__LINE__
); ;

150 
PROTOCOL_BINARY_CMD_SASL_LIST_MECHS
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SASL_LIST_MECHS\n", 
__FILE__
, 
__LINE__
); ;

151 
PROTOCOL_BINARY_CMD_SASL_AUTH
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SASL_AUTH\n", 
__FILE__
, 
__LINE__
); ;

152 
PROTOCOL_BINARY_CMD_SASL_STEP
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SASL_STEP\n", 
__FILE__
, 
__LINE__
); ;

153 
PROTOCOL_BINARY_CMD_RGET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RGET\n", 
__FILE__
, 
__LINE__
); ;

154 
PROTOCOL_BINARY_CMD_RSET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RSET\n", 
__FILE__
, 
__LINE__
); ;

155 
PROTOCOL_BINARY_CMD_RSETQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RSETQ\n", 
__FILE__
, 
__LINE__
); ;

156 
PROTOCOL_BINARY_CMD_RAPPEND
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RAPPEND\n", 
__FILE__
, 
__LINE__
); ;

157 
PROTOCOL_BINARY_CMD_RAPPENDQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RAPPENDQ\n", 
__FILE__
, 
__LINE__
); ;

158 
PROTOCOL_BINARY_CMD_RPREPEND
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RPREPEND\n", 
__FILE__
, 
__LINE__
); ;

159 
PROTOCOL_BINARY_CMD_RPREPENDQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RPREPENDQ\n", 
__FILE__
, 
__LINE__
); ;

160 
PROTOCOL_BINARY_CMD_RDELETE
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RDELETE\n", 
__FILE__
, 
__LINE__
); ;

161 
PROTOCOL_BINARY_CMD_RDELETEQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RDELETEQ\n", 
__FILE__
, 
__LINE__
); ;

162 
PROTOCOL_BINARY_CMD_RINCR
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RINCR\n", 
__FILE__
, 
__LINE__
); ;

163 
PROTOCOL_BINARY_CMD_RINCRQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RINCRQ\n", 
__FILE__
, 
__LINE__
); ;

164 
PROTOCOL_BINARY_CMD_RDECR
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RDECR\n", 
__FILE__
, 
__LINE__
); ;

165 
PROTOCOL_BINARY_CMD_RDECRQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_RDECRQ\n", 
__FILE__
, 
__LINE__
); ;

166 
PROTOCOL_BINARY_CMD_SET_VBUCKET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SET_VBUCKET\n", 
__FILE__
, 
__LINE__
); ;

167 
PROTOCOL_BINARY_CMD_GET_VBUCKET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GET_VBUCKET\n", 
__FILE__
, 
__LINE__
); ;

168 
PROTOCOL_BINARY_CMD_DEL_VBUCKET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_DEL_VBUCKET\n", 
__FILE__
, 
__LINE__
); ;

169 
PROTOCOL_BINARY_CMD_TAP_CONNECT
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_CONNECT\n", 
__FILE__
, 
__LINE__
); ;

170 
PROTOCOL_BINARY_CMD_TAP_MUTATION
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_MUTATION\n", 
__FILE__
, 
__LINE__
); ;

171 
PROTOCOL_BINARY_CMD_TAP_DELETE
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_DELETE\n", 
__FILE__
, 
__LINE__
); ;

172 
PROTOCOL_BINARY_CMD_TAP_FLUSH
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_FLUSH\n", 
__FILE__
, 
__LINE__
); ;

173 
PROTOCOL_BINARY_CMD_TAP_OPAQUE
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_OPAQUE\n", 
__FILE__
, 
__LINE__
); ;

174 
PROTOCOL_BINARY_CMD_TAP_VBUCKET_SET
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_VBUCKET_SET\n", 
__FILE__
, 
__LINE__
); ;

175 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_START
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_START\n", 
__FILE__
, 
__LINE__
); ;

176 
PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_END
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_TAP_CHECKPOINT_END\n", 
__FILE__
, 
__LINE__
); ;

177 
PROTOCOL_BINARY_CMD_LAST_RESERVED
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_LAST_RESERVED\n", 
__FILE__
, 
__LINE__
); ;

178 
PROTOCOL_BINARY_CMD_GATK
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GATK\n", 
__FILE__
, 
__LINE__
); ;

179 
PROTOCOL_BINARY_CMD_GATKQ
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_GATKQ\n", 
__FILE__
, 
__LINE__
); ;

180 
PROTOCOL_BINARY_CMD_SCRUB
: 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL_BINARY_CMD_SCRUB\n", 
__FILE__
, 
__LINE__
); ;

182 
	`ab‹t
();

184 
	}
}

204 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$gë_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

205 c⁄° *
key
,

206 
uöt16_t
 
keyÀn
,

207 c⁄° *
body
,

208 
uöt32_t
 
bodyÀn
,

209 
uöt32_t
 
Êags
,

210 
uöt64_t
 
ˇs
)

212 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

213 
uöt8_t
 
›code

˛õ¡
->
cuºít_comm™d
->
ªque°
.opcode;

215 i‡(
›code
 =
PROTOCOL_BINARY_CMD_GET
 || opcodê=
PROTOCOL_BINARY_CMD_GETQ
)

217 
keyÀn
= 0;

220 
¥Ÿocﬁ_bö¨y_ª•⁄£_gë
 
ª•⁄£
= {

221 .
mesßge
.
hódî
.
ª•⁄£
= {

222 .
magic

PROTOCOL_BINARY_RES
,

223 .
›code
= opcode,

224 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

225 .
›aque

˛õ¡
->
cuºít_comm™d
->
ªque°
.opaque,

226 .
ˇs

	`memˇched_ht⁄Œ
(cas),

227 .
keyÀn

	`ht⁄s
(keylen),

228 .
exéí
= 4,

229 .
bodyÀn

	`ht⁄l
(bodyÀ¿+ 
keyÀn
 + 4),

233 
ª•⁄£
.
mesßge
.
body
.
Êags

	`ht⁄l
(flags);

235 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

236 c⁄° 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
suc˚ss

PROTOCOL_BINARY_RESPONSE_SUCCESS
;

237 i‡((
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ª•⁄£
.
byãs
, ‘e•⁄£.byãs))Ë!
suc˚ss
 ||

238 (
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
key
, 
keyÀn
)Ë!
suc˚ss
 ||

239 (
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
body
, 
bodyÀn
)Ë!
suc˚ss
)

241  
rvÆ
;

244  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

245 
	}
}

255 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$°©_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

256 c⁄° *
key
,

257 
uöt16_t
 
keyÀn
,

258 c⁄° *
body
,

259 
uöt32_t
 
bodyÀn
)

262 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

264 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

265 .
mesßge
.
hódî
.
ª•⁄£
= {

266 .
magic

PROTOCOL_BINARY_RES
,

267 .
›code

˛õ¡
->
cuºít_comm™d
->
ªque°
.opcode,

268 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

269 .
›aque

˛õ¡
->
cuºít_comm™d
->
ªque°
.opaque,

270 .
keyÀn

	`ht⁄s
(keylen),

271 .
bodyÀn

	`ht⁄l
(bodyÀ¿+ 
keyÀn
),

272 .
ˇs
= 0

276 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

277 c⁄° 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
suc˚ss

PROTOCOL_BINARY_RESPONSE_SUCCESS
;

278 i‡((
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ª•⁄£
.
byãs
, ‘e•⁄£.byãs))Ë!
suc˚ss
 ||

279 (
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
key
, 
keyÀn
)Ë!
suc˚ss
 ||

280 (
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
body
, 
bodyÀn
)Ë!
suc˚ss
)

282  
rvÆ
;

285  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

286 
	}
}

294 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$vîsi⁄_ª•⁄£_h™dÀr
(c⁄° *
cookõ
,

295 c⁄° *
ãxt
,

296 
uöt32_t
 
ãxéí
)

299 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

301 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

302 .
mesßge
.
hódî
.
ª•⁄£
= {

303 .
magic

PROTOCOL_BINARY_RES
,

304 .
›code

˛õ¡
->
cuºít_comm™d
->
ªque°
.opcode,

305 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

306 .
›aque

˛õ¡
->
cuºít_comm™d
->
ªque°
.opaque,

307 .
bodyÀn

	`ht⁄l
(
ãxéí
),

308 .
ˇs
= 0

312 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

313 c⁄° 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
suc˚ss

PROTOCOL_BINARY_RESPONSE_SUCCESS
;

314 i‡((
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ª•⁄£
.
byãs
, ‘e•⁄£.byãs))Ë!
suc˚ss
 ||

315 (
rvÆ

˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
ãxt
, 
ãxéí
)Ë!
suc˚ss
)

317  
rvÆ
;

320  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

321 
	}
}

330 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


331 
	$add_comm™d_h™dÀr
(c⁄° *
cookõ
,

332 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

333 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

335 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

337 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

338 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
add
 !
NULL
)

340 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

341 
uöt32_t
 
d©Æí

	`¡ohl
(
hódî
->
ªque°
.
bodyÀn
Ë- 
keyÀn
 - 8;

342 
¥Ÿocﬁ_bö¨y_ªque°_add
 *
ªque°
(*)
hódî
;

343 
uöt32_t
 
Êags

	`¡ohl
(
ªque°
->
mesßge
.
body
.flags);

344 
uöt32_t
 
timeout

	`¡ohl
(
ªque°
->
mesßge
.
body
.
expú©i⁄
);

345 *
key
((*)
hódî
) + (*header) + 8;

346 *
d©a

key
 + 
keyÀn
;

347 
uöt64_t
 
ˇs
;

349 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`add
(
cookõ
, 
key
, 
keyÀn
,

350 
d©a
, 
d©Æí
, 
Êags
,

351 
timeout
, &
ˇs
);

353 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

354 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_ADD
)

357 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

358 .
mesßge
= {

359 .
hódî
.
ª•⁄£
= {

360 .
magic

PROTOCOL_BINARY_RES
,

361 .
›code

PROTOCOL_BINARY_CMD_ADD
,

362 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

363 .
›aque

hódî
->
ªque°
.opaque,

364 .
ˇs

	`memˇched_¡ohŒ
(cas)

368 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

373 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

376  
rvÆ
;

377 
	}
}

386 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


387 
	$de¸emít_comm™d_h™dÀr
(c⁄° *
cookõ
,

388 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

389 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

391 ()
ª•⁄£_h™dÀr
;

392 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

394 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

395 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
de¸emít
 !
NULL
)

397 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

398 
¥Ÿocﬁ_bö¨y_ªque°_de¸
 *
ªque°
(*)
hódî
;

399 
uöt64_t
 
öô

	`memˇched_¡ohŒ
(
ªque°
->
mesßge
.
body
.
öôül
);

400 
uöt64_t
 
dñè

	`memˇched_¡ohŒ
(
ªque°
->
mesßge
.
body
.delta);

401 
uöt32_t
 
timeout

	`¡ohl
(
ªque°
->
mesßge
.
body
.
expú©i⁄
);

402 *
key

ªque°
->
byãs
 + (request->bytes);

403 
uöt64_t
 
ªsu…
;

404 
uöt64_t
 
ˇs
;

406 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`de¸emít
(
cookõ
, 
key
, 
keyÀn
,

407 
dñè
, 
öô
, 
timeout
,

408 &
ªsu…
, &
ˇs
);

409 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

410 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_DECREMENT
)

413 
¥Ÿocﬁ_bö¨y_ª•⁄£_de¸
 
ª•⁄£
= {

414 .
mesßge
= {

415 .
hódî
.
ª•⁄£
= {

416 .
magic

PROTOCOL_BINARY_RES
,

417 .
›code

PROTOCOL_BINARY_CMD_DECREMENT
,

418 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

419 .
›aque

hódî
->
ªque°
.opaque,

420 .
ˇs

	`memˇched_¡ohŒ
(cas),

421 .
bodyÀn

	`ht⁄l
(8)

423 .
body
.
vÆue

	`memˇched_ht⁄Œ
(
ªsu…
)

426 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

431 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

434  
rvÆ
;

435 
	}
}

444 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$dñëe_comm™d_h™dÀr
(c⁄° *
cookõ
,

445 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

446 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

448 ()
ª•⁄£_h™dÀr
;

449 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

451 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

452 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
dñëe_obje˘
 !
NULL
)

454 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

455 *
key
(
hódî
 +1);

456 
uöt64_t
 
ˇs

	`memˇched_¡ohŒ
(
hódî
->
ªque°
.cas);

457 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`dñëe_obje˘
(
cookõ
, 
key
, 
keyÀn
, 
ˇs
);

458 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

459 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_DELETE
)

462 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

463 .
mesßge
= {

464 .
hódî
.
ª•⁄£
= {

465 .
magic

PROTOCOL_BINARY_RES
,

466 .
›code

PROTOCOL_BINARY_CMD_DELETE
,

467 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

468 .
›aque

hódî
->
ªque°
.opaque,

472 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

477 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

480  
rvÆ
;

481 
	}
}

490 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


491 
	$Êush_comm™d_h™dÀr
(c⁄° *
cookõ
,

492 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

493 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

495 ()
ª•⁄£_h™dÀr
;

496 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

498 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

499 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
Êush_obje˘
 !
NULL
)

501 
¥Ÿocﬁ_bö¨y_ªque°_Êush
 *
Êush_obje˘
(*)
hódî
;

502 
uöt32_t
 
timeout
= 0;

503 i‡(
	`ht⁄l
(
hódî
->
ªque°
.
bodyÀn
) == 4)

505 
timeout

	`¡ohl
(
Êush_obje˘
->
mesßge
.
body
.
expú©i⁄
);

508 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`Êush_obje˘
(
cookõ
, 
timeout
);

509 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

510 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_FLUSH
)

513 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

514 .
mesßge
= {

515 .
hódî
.
ª•⁄£
= {

516 .
magic

PROTOCOL_BINARY_RES
,

517 .
›code

PROTOCOL_BINARY_CMD_FLUSH
,

518 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

519 .
›aque

hódî
->
ªque°
.opaque,

523 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

528 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

531  
rvÆ
;

532 
	}
}

541 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


542 
	$gë_comm™d_h™dÀr
(c⁄° *
cookõ
,

543 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

544 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

546 ()
ª•⁄£_h™dÀr
;

547 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

549 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

550 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
gë
 !
NULL
)

552 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

553 *
key
(
hódî
 + 1);

554 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`gë
(
cookõ
, 
key
, 
keyÀn
,

555 
gë_ª•⁄£_h™dÀr
);

557 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_KEY_ENOENT
 &&

558 (
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_GETQ
 ||

559 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_GETKQ
))

562 
rvÆ

PROTOCOL_BINARY_RESPONSE_SUCCESS
;

567 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

570  
rvÆ
;

571 
	}
}

580 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


581 
	$ö¸emít_comm™d_h™dÀr
(c⁄° *
cookõ
,

582 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

583 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

585 ()
ª•⁄£_h™dÀr
;

586 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

588 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

589 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
ö¸emít
 !
NULL
)

591 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

592 
¥Ÿocﬁ_bö¨y_ªque°_ö¸
 *
ªque°
(*)
hódî
;

593 
uöt64_t
 
öô

	`memˇched_¡ohŒ
(
ªque°
->
mesßge
.
body
.
öôül
);

594 
uöt64_t
 
dñè

	`memˇched_¡ohŒ
(
ªque°
->
mesßge
.
body
.delta);

595 
uöt32_t
 
timeout

	`¡ohl
(
ªque°
->
mesßge
.
body
.
expú©i⁄
);

596 *
key

ªque°
->
byãs
 + (request->bytes);

597 
uöt64_t
 
ˇs
;

598 
uöt64_t
 
ªsu…
;

600 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`ö¸emít
(
cookõ
, 
key
, 
keyÀn
,

601 
dñè
, 
öô
, 
timeout
,

602 &
ªsu…
, &
ˇs
);

603 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

604 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_INCREMENT
)

607 
¥Ÿocﬁ_bö¨y_ª•⁄£_ö¸
 
ª•⁄£
= {

608 .
mesßge
= {

609 .
hódî
.
ª•⁄£
= {

610 .
magic

PROTOCOL_BINARY_RES
,

611 .
›code

PROTOCOL_BINARY_CMD_INCREMENT
,

612 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

613 .
›aque

hódî
->
ªque°
.opaque,

614 .
ˇs

	`memˇched_¡ohŒ
(cas),

615 .
bodyÀn

	`ht⁄l
(8)

617 .
body
.
vÆue

	`memˇched_ht⁄Œ
(
ªsu…
)

621 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

626 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

629  
rvÆ
;

630 
	}
}

641 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


642 
	$no›_comm™d_h™dÀr
(c⁄° *
cookõ
,

643 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

644 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

646 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

647 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
no›
 !
NULL
)

649 
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`no›
(
cookõ
);

652 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

653 .
mesßge
= {

654 .
hódî
.
ª•⁄£
= {

655 .
magic

PROTOCOL_BINARY_RES
,

656 .
›code

PROTOCOL_BINARY_CMD_NOOP
,

657 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

658 .
›aque

hódî
->
ªque°
.opaque,

663  
	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

664 
	}
}

673 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


674 
	$≠≥nd_comm™d_h™dÀr
(c⁄° *
cookõ
,

675 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

676 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

678 ()
ª•⁄£_h™dÀr
;

679 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

681 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

682 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
≠≥nd
 !
NULL
)

684 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

685 
uöt32_t
 
d©Æí

	`¡ohl
(
hódî
->
ªque°
.
bodyÀn
Ë- 
keyÀn
;

686 *
key
(*)(
hódî
 +1);

687 *
d©a

key
 +
keyÀn
;

688 
uöt64_t
 
ˇs

	`memˇched_¡ohŒ
(
hódî
->
ªque°
.cas);

689 
uöt64_t
 
ªsu…_ˇs
;

691 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`≠≥nd
(
cookõ
, 
key
, 
keyÀn
,

692 
d©a
, 
d©Æí
, 
ˇs
,

693 &
ªsu…_ˇs
);

694 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

695 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_APPEND
)

698 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

699 .
mesßge
= {

700 .
hódî
.
ª•⁄£
= {

701 .
magic

PROTOCOL_BINARY_RES
,

702 .
›code

PROTOCOL_BINARY_CMD_APPEND
,

703 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

704 .
›aque

hódî
->
ªque°
.opaque,

705 .
ˇs

	`memˇched_¡ohŒ
(
ªsu…_ˇs
),

709 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

714 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

717  
rvÆ
;

718 
	}
}

727 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


728 
	$¥ïíd_comm™d_h™dÀr
(c⁄° *
cookõ
,

729 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

730 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

732 ()
ª•⁄£_h™dÀr
;

733 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

735 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

736 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
¥ïíd
 !
NULL
)

738 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

739 
uöt32_t
 
d©Æí

	`¡ohl
(
hódî
->
ªque°
.
bodyÀn
Ë- 
keyÀn
;

740 *
key
(*)(
hódî
 + 1);

741 *
d©a

key
 + 
keyÀn
;

742 
uöt64_t
 
ˇs

	`memˇched_¡ohŒ
(
hódî
->
ªque°
.cas);

743 
uöt64_t
 
ªsu…_ˇs
;

744 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`¥ïíd
(
cookõ
, 
key
, 
keyÀn
,

745 
d©a
, 
d©Æí
, 
ˇs
,

746 &
ªsu…_ˇs
);

747 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

748 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_PREPEND
)

751 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

752 .
mesßge
= {

753 .
hódî
.
ª•⁄£
= {

754 .
magic

PROTOCOL_BINARY_RES
,

755 .
›code

PROTOCOL_BINARY_CMD_PREPEND
,

756 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

757 .
›aque

hódî
->
ªque°
.opaque,

758 .
ˇs

	`memˇched_¡ohŒ
(
ªsu…_ˇs
),

762 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

767 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

770  
rvÆ
;

771 
	}
}

780 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


781 
	$quô_comm™d_h™dÀr
(c⁄° *
cookõ
,

782 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

783 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

785 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

786 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
quô
 !
NULL
)

788 
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`quô
(
cookõ
);

791 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

792 .
mesßge
= {

793 .
hódî
.
ª•⁄£
= {

794 .
magic

PROTOCOL_BINARY_RES
,

795 .
›code

PROTOCOL_BINARY_CMD_QUIT
,

796 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

797 .
›aque

hódî
->
ªque°
.opaque

802 i‡(
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_QUIT
)

804 
	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

808  
PROTOCOL_BINARY_RESPONSE_EINTERNAL
;

809 
	}
}

818 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


819 
	$ª∂a˚_comm™d_h™dÀr
(c⁄° *
cookõ
,

820 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

821 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

823 ()
ª•⁄£_h™dÀr
;

824 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

826 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

827 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
ª∂a˚
 !
NULL
)

829 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

830 
uöt32_t
 
d©Æí

	`¡ohl
(
hódî
->
ªque°
.
bodyÀn
Ë- 
keyÀn
 - 8;

831 
¥Ÿocﬁ_bö¨y_ªque°_ª∂a˚
 *
ªque°
(*)
hódî
;

832 
uöt32_t
 
Êags

	`¡ohl
(
ªque°
->
mesßge
.
body
.flags);

833 
uöt32_t
 
timeout

	`¡ohl
(
ªque°
->
mesßge
.
body
.
expú©i⁄
);

834 *
key
((*)
hódî
) + (*header) + 8;

835 *
d©a

key
 + 
keyÀn
;

836 
uöt64_t
 
ˇs

	`memˇched_¡ohŒ
(
hódî
->
ªque°
.cas);

837 
uöt64_t
 
ªsu…_ˇs
;

839 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`ª∂a˚
(
cookõ
, 
key
, 
keyÀn
,

840 
d©a
, 
d©Æí
, 
Êags
,

841 
timeout
, 
ˇs
,

842 &
ªsu…_ˇs
);

843 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

844 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_REPLACE
)

847 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

848 .
mesßge
= {

849 .
hódî
.
ª•⁄£
= {

850 .
magic

PROTOCOL_BINARY_RES
,

851 .
›code

PROTOCOL_BINARY_CMD_REPLACE
,

852 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

853 .
›aque

hódî
->
ªque°
.opaque,

854 .
ˇs

	`memˇched_¡ohŒ
(
ªsu…_ˇs
),

858 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

863 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

866  
rvÆ
;

867 
	}
}

876 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$£t_comm™d_h™dÀr
(c⁄° *
cookõ
,

877 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

878 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

880 ()
ª•⁄£_h™dÀr
;

881 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

883 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

884 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
£t
 !
NULL
)

886 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

887 
uöt32_t
 
d©Æí

	`¡ohl
(
hódî
->
ªque°
.
bodyÀn
Ë- 
keyÀn
 - 8;

888 
¥Ÿocﬁ_bö¨y_ªque°_ª∂a˚
 *
ªque°
(*)
hódî
;

889 
uöt32_t
 
Êags

	`¡ohl
(
ªque°
->
mesßge
.
body
.flags);

890 
uöt32_t
 
timeout

	`¡ohl
(
ªque°
->
mesßge
.
body
.
expú©i⁄
);

891 *
key
((*)
hódî
) + (*header) + 8;

892 *
d©a

key
 + 
keyÀn
;

893 
uöt64_t
 
ˇs

	`memˇched_¡ohŒ
(
hódî
->
ªque°
.cas);

894 
uöt64_t
 
ªsu…_ˇs
;

897 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`£t
(
cookõ
, 
key
, 
keyÀn
,

898 
d©a
, 
d©Æí
, 
Êags
,

899 
timeout
, 
ˇs
, &
ªsu…_ˇs
);

900 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

901 
hódî
->
ªque°
.
›code
 =
PROTOCOL_BINARY_CMD_SET
)

904 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

905 .
mesßge
= {

906 .
hódî
.
ª•⁄£
= {

907 .
magic

PROTOCOL_BINARY_RES
,

908 .
›code

PROTOCOL_BINARY_CMD_SET
,

909 .
°©us

	`ht⁄s
(
PROTOCOL_BINARY_RESPONSE_SUCCESS
),

910 .
›aque

hódî
->
ªque°
.opaque,

911 .
ˇs

	`memˇched_¡ohŒ
(
ªsu…_ˇs
),

915 
rvÆ

	`ª•⁄£_h™dÀr
(
cookõ
, 
hódî
, (*)&
ª•⁄£
);

920 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

923  
rvÆ
;

924 
	}
}

933 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


934 
	$°©_comm™d_h™dÀr
(c⁄° *
cookõ
,

935 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

936 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

938 ()
ª•⁄£_h™dÀr
;

939 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

941 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

942 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
°©
 !
NULL
)

944 
uöt16_t
 
keyÀn

	`¡ohs
(
hódî
->
ªque°
.keylen);

946 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`°©
(
cookõ
,

947 (*)(
hódî
 + 1),

948 
keyÀn
,

949 
°©_ª•⁄£_h™dÀr
);

953 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

956  
rvÆ
;

957 
	}
}

966 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us


967 
	$vîsi⁄_comm™d_h™dÀr
(c⁄° *
cookõ
,

968 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
,

969 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
ª•⁄£_h™dÀr
)

971 ()
ª•⁄£_h™dÀr
;

972 ()
hódî
;

973 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ
;

975 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
(*)
cookõ
;

976 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
vîsi⁄
 !
NULL
)

978 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v1
.
	`vîsi⁄
(
cookõ
,

979 
vîsi⁄_ª•⁄£_h™dÀr
);

983 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

986  
rvÆ
;

987 
	}
}

992 
memˇched_bö¨y_¥Ÿocﬁ_comm™d_h™dÀr
 
	gcomcode_v0_v1_ªm≠
[256]= {

993 [
PROTOCOL_BINARY_CMD_ADDQ
]
add_comm™d_h™dÀr
,

994 [
PROTOCOL_BINARY_CMD_ADD
]
add_comm™d_h™dÀr
,

995 [
PROTOCOL_BINARY_CMD_APPENDQ
]
≠≥nd_comm™d_h™dÀr
,

996 [
PROTOCOL_BINARY_CMD_APPEND
]
≠≥nd_comm™d_h™dÀr
,

997 [
PROTOCOL_BINARY_CMD_DECREMENTQ
]
de¸emít_comm™d_h™dÀr
,

998 [
PROTOCOL_BINARY_CMD_DECREMENT
]
de¸emít_comm™d_h™dÀr
,

999 [
PROTOCOL_BINARY_CMD_DELETEQ
]
dñëe_comm™d_h™dÀr
,

1000 [
PROTOCOL_BINARY_CMD_DELETE
]
dñëe_comm™d_h™dÀr
,

1001 [
PROTOCOL_BINARY_CMD_FLUSHQ
]
Êush_comm™d_h™dÀr
,

1002 [
PROTOCOL_BINARY_CMD_FLUSH
]
Êush_comm™d_h™dÀr
,

1003 [
PROTOCOL_BINARY_CMD_GETKQ
]
gë_comm™d_h™dÀr
,

1004 [
PROTOCOL_BINARY_CMD_GETK
]
gë_comm™d_h™dÀr
,

1005 [
PROTOCOL_BINARY_CMD_GETQ
]
gë_comm™d_h™dÀr
,

1006 [
PROTOCOL_BINARY_CMD_GET
]
gë_comm™d_h™dÀr
,

1007 [
PROTOCOL_BINARY_CMD_INCREMENTQ
]
ö¸emít_comm™d_h™dÀr
,

1008 [
PROTOCOL_BINARY_CMD_INCREMENT
]
ö¸emít_comm™d_h™dÀr
,

1009 [
PROTOCOL_BINARY_CMD_NOOP
]
no›_comm™d_h™dÀr
,

1010 [
PROTOCOL_BINARY_CMD_PREPENDQ
]
¥ïíd_comm™d_h™dÀr
,

1011 [
PROTOCOL_BINARY_CMD_PREPEND
]
¥ïíd_comm™d_h™dÀr
,

1012 [
PROTOCOL_BINARY_CMD_QUITQ
]
quô_comm™d_h™dÀr
,

1013 [
PROTOCOL_BINARY_CMD_QUIT
]
quô_comm™d_h™dÀr
,

1014 [
PROTOCOL_BINARY_CMD_REPLACEQ
]
ª∂a˚_comm™d_h™dÀr
,

1015 [
PROTOCOL_BINARY_CMD_REPLACE
]
ª∂a˚_comm™d_h™dÀr
,

1016 [
PROTOCOL_BINARY_CMD_SETQ
]
£t_comm™d_h™dÀr
,

1017 [
PROTOCOL_BINARY_CMD_SET
]
£t_comm™d_h™dÀr
,

1018 [
PROTOCOL_BINARY_CMD_STAT
]
°©_comm™d_h™dÀr
,

1019 [
PROTOCOL_BINARY_CMD_VERSION
]
vîsi⁄_comm™d_h™dÀr
,

1031 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$execuã_comm™d
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
)

1033 i‡(
˛õ¡
->
roŸ
->
≥d™tic
 &&

1034 
	`memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ªque°
(
hódî
))

1040 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
¥e_execuã
 !
NULL
)

1042 
˛õ¡
->
roŸ
->
ˇŒback
->
	`¥e_execuã
(˛õ¡, 
hódî
);

1045 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rvÆ

PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
;

1046 
uöt8_t
 
cc

hódî
->
ªque°
.
›code
;

1048 i‡(
˛õ¡
->
is_vîbo£
)

1050 
	`¥öt_cmd
(
cc
);

1053 
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚_vîsi⁄
)

1056 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v0
.
comcode
[
cc
] !
NULL
)

1058 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚
.
v0
.
comcode
[
cc
](˛õ¡, 
hódî
, 
øw_ª•⁄£_h™dÀr
);

1063 i‡(
comcode_v0_v1_ªm≠
[
cc
] !
NULL
)

1065 
rvÆ

comcode_v0_v1_ªm≠
[
cc
](
˛õ¡
, 
hódî
, 
øw_ª•⁄£_h™dÀr
);

1074 
	`ab‹t
();

1078 i‡(
rvÆ
 =
PROTOCOL_BINARY_RESPONSE_UNKNOWN_COMMAND
 &&

1079 
˛õ¡
->
roŸ
->
ˇŒback
->
unknown
 !
NULL
)

1081 
rvÆ

˛õ¡
->
roŸ
->
ˇŒback
->
	`unknown
(˛õ¡, 
hódî
, 
øw_ª•⁄£_h™dÀr
);

1084 i‡(
rvÆ
 !
PROTOCOL_BINARY_RESPONSE_SUCCESS
 &&

1085 
rvÆ
 !
PROTOCOL_BINARY_RESPONSE_EINTERNAL
 &&

1086 
rvÆ
 !
PROTOCOL_BINARY_RESPONSE_NOT_SUPPORTED
)

1088 
¥Ÿocﬁ_bö¨y_ª•⁄£_no_exåas
 
ª•⁄£
= {

1089 .
mesßge
= {

1090 .
hódî
.
ª•⁄£
= {

1091 .
magic

PROTOCOL_BINARY_RES
,

1092 .
›code

cc
,

1093 .
°©us

	`ht⁄s
(
rvÆ
),

1094 .
›aque

hódî
->
ªque°
.opaque,

1098 
rvÆ

	`øw_ª•⁄£_h™dÀr
(
˛õ¡
, 
hódî
, (*)&
ª•⁄£
);

1101 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
po°_execuã
 !
NULL
)

1103 
˛õ¡
->
roŸ
->
ˇŒback
->
	`po°_execuã
(˛õ¡, 
hódî
);

1106  
rvÆ
;

1107 
	}
}

1114 
memˇched_¥Ÿocﬁ_evít_t
 
	$memˇched_bö¨y_¥Ÿocﬁ_¥o˚ss_d©a
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
ssize_t
 *
Àngth
, **
íd±r
)

1117 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
hódî
;

1118 
hódî
(*)
˛õ¡
->
roŸ
->
öput_buf„r
;

1119 i‡(
hódî
->
ªque°
.
magic
 !(
uöt8_t
)
PROTOCOL_BINARY_REQ
)

1121 
˛õ¡
->
îr‹

EINVAL
;

1122  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

1124 
ssize_t
 
Àn
*
Àngth
;

1126 
Àn
 >(
ssize_t
)(*
hódî
) &&

1127 (
Àn
 >(
ssize_t
)((*
hódî
Ë+ 
	`¡ohl
(hódî->
ªque°
.
bodyÀn
))))

1130 
˛õ¡
->
cuºít_comm™d

hódî
;

1131 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
rv

	`execuã_comm™d
(
˛õ¡
, 
hódî
);

1133 i‡(
rv
 =
PROTOCOL_BINARY_RESPONSE_EINTERNAL
)

1135 *
Àngth

Àn
;

1136 *
íd±r
(*)
hódî
;

1137  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

1139 i‡(
rv
 =
PROTOCOL_BINARY_RESPONSE_NOT_SUPPORTED
)

1141  
MEMCACHED_PROTOCOL_PAUSE_EVENT
;

1144 
ssize_t
 
tŸÆ
(ssize_t)((*
hódî
Ë+ 
	`¡ohl
(hódî->
ªque°
.
bodyÀn
));

1145 
Àn
 -
tŸÆ
;

1146 i‡(
Àn
 > 0)

1148 
öçå_t
 
±r
(öçå_t)
hódî
;

1149 
±r
 +
tŸÆ
;

1150 i‡((
±r
 % 8) == 0)

1152 
hódî
(*)
±r
;

1157 
	`memmove
(
˛õ¡
->
roŸ
->
öput_buf„r
, (*)
±r
, (
size_t
)
Àn
);

1158 
hódî
(*)
˛õ¡
->
roŸ
->
öput_buf„r
;

1161 *
Àngth

Àn
;

1162 *
íd±r
(*)
hódî
;

1165  
MEMCACHED_PROTOCOL_READ_EVENT
;

1166 
	}
}

1173 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
 *
	$memˇched_bö¨y_¥Ÿocﬁ_gë_ˇŒbacks
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
)

1175  
ö°™˚
->
ˇŒback
;

1176 
	}
}

1178 
	$memˇched_bö¨y_¥Ÿocﬁ_£t_ˇŒbacks
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
 *
ˇŒback
)

1180 
ö°™˚
->
ˇŒback
= callback;

1181 
	}
}

1183 
memˇched_bö¨y_¥Ÿocﬁ_øw_ª•⁄£_h™dÀr
 
	$memˇched_bö¨y_¥Ÿocﬁ_gë_øw_ª•⁄£_h™dÀr
(c⁄° *
cookõ
)

1185 ()
cookõ
;

1186  
øw_ª•⁄£_h™dÀr
;

1187 
	}
}

1189 
	$memˇched_bö¨y_¥Ÿocﬁ_£t_≥d™tic
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
boﬁ
 
íabÀ
)

1191 
ö°™˚
->
≥d™tic

íabÀ
;

1192 
	}
}

1194 
boﬁ
 
	$memˇched_bö¨y_¥Ÿocﬁ_gë_≥d™tic
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
)

1196  
ö°™˚
->
≥d™tic
;

1197 
	}
}

	@oss/libmemcached-1.0.17/libmemcachedprotocol/binary_handler.h

37 #¥agm®
⁄˚


39 
LIBMEMCACHED_LOCAL


40 
boﬁ
 
memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ªque°
(c⁄° 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
ªque°
);

42 
LIBMEMCACHED_LOCAL


43 
boﬁ
 
memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ª•⁄£
(c⁄° 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
ªque°
,

44 c⁄° 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *
ª•⁄£
);

46 
LIBMEMCACHED_LOCAL


47 
memˇched_¥Ÿocﬁ_evít_t
 
memˇched_bö¨y_¥Ÿocﬁ_¥o˚ss_d©a
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
ssize_t
 *
Àngth
, **
íd±r
);

	@oss/libmemcached-1.0.17/libmemcachedprotocol/cache.c

38 
	~"mem_c⁄fig.h
"

40 
	~<°dlib.h
>

41 
	~<°rög.h
>

42 
	~<öây≥s.h
>

44 #i‚de‡
NDEBUG


45 
	~<sig«l.h
>

48 
	~<libmemˇched¥Ÿocﬁ/comm⁄.h
>

50 #i‚de‡
NDEBUG


51 c⁄° 
uöt64_t
 
	gªdz⁄e_∑âîn
 = 0xdeadbeefcafebabe;

52 
	gˇche_îr‹
 = 0;

55 c⁄° 
size_t
 
	göôül_poﬁ_size
 = 64;

57 
ˇche_t
* 
	$ˇche_¸óã
(c⁄° *
«me
, 
size_t
 
bufsize
, size_à
Æign
,

58 
ˇche_c⁄°ru˘‹_t
* 
c⁄°ru˘‹
,

59 
ˇche_de°ru˘‹_t
* 
de°ru˘‹
) {

60 
ˇche_t
* 
ªt
 = 
	`ˇŒoc
(1, (cache_t));

61 
size_t
 
«me_Àngth

	`°æí
(
«me
);

62 * 
nm

	`ˇŒoc
(1, ((Ë* 
«me_Àngth
) +1);

63 
	`mem˝y
(
nm
, 
«me
, 
«me_Àngth
);

64 ** 
±r
 = 
	`ˇŒoc
(
öôül_poﬁ_size
, 
bufsize
);

65 i‡(
ªt
 =
NULL
 || 
nm
 =NULL || 
±r
 == NULL ||

66 
	`±hªad_muãx_öô
(&
ªt
->
muãx
, 
NULL
) == -1) {

67 
	`‰ì
(
ªt
);

68 
	`‰ì
(
nm
);

69 
	`‰ì
(
±r
);

70  
NULL
;

73 
ªt
->
«me
 = 
nm
;

74 
ªt
->
±r
 =Ötr;

75 
ªt
->
‰ìtŸÆ
 = 
öôül_poﬁ_size
;

76 
ªt
->
c⁄°ru˘‹
 = constructor;

77 
ªt
->
de°ru˘‹
 = destructor;

79 #i‚de‡
NDEBUG


80 
ªt
->
bufsize
 = bufsizê+ 2 * (
ªdz⁄e_∑âîn
);

82 
ªt
->
bufsize
 = bufsize;

85 ()
Æign
;

87  
ªt
;

88 
	}
}

90 
ölöe
 * 
	$gë_obje˘
(*
±r
) {

91 #i‚de‡
NDEBUG


92 
uöt64_t
 *
¥e
 = 
±r
;

93  
¥e
 + 1;

95  
±r
;

97 
	}
}

99 
	$ˇche_de°roy
(
ˇche_t
 *
ˇche
) {

100 
ˇche
->
‰ìcuº
 > 0) {

101 *
±r
 = 
ˇche
->±r[--ˇche->
‰ìcuº
];

102 i‡(
ˇche
->
de°ru˘‹
) {

103 
ˇche
->
	`de°ru˘‹
(
	`gë_obje˘
(
±r
), 
NULL
);

105 
	`‰ì
(
±r
);

107 
	`‰ì
(
ˇche
->
«me
);

108 
	`‰ì
(
ˇche
->
±r
);

109 
	`±hªad_muãx_de°roy
(&
ˇche
->
muãx
);

110 
	}
}

112 * 
	$ˇche_Æloc
(
ˇche_t
 *
ˇche
) {

113 *
ªt
;

114 *
obje˘
;

115 
	`±hªad_muãx_lock
(&
ˇche
->
muãx
);

116 i‡(
ˇche
->
‰ìcuº
 > 0) {

117 
ªt
 = 
ˇche
->
±r
[--ˇche->
‰ìcuº
];

118 
obje˘
 = 
	`gë_obje˘
(
ªt
);

120 
obje˘
 = 
ªt
 = 
	`mÆloc
(
ˇche
->
bufsize
);

121 i‡(
ªt
 !
NULL
) {

122 
obje˘
 = 
	`gë_obje˘
(
ªt
);

124 i‡(
ˇche
->
c⁄°ru˘‹
 !
NULL
 &&

125 
ˇche
->
	`c⁄°ru˘‹
(
obje˘
, 
NULL
, 0) != 0) {

126 
	`‰ì
(
ªt
);

127 
obje˘
 = 
NULL
;

131 
	`±hªad_muãx_u∆ock
(&
ˇche
->
muãx
);

133 #i‚de‡
NDEBUG


134 i‡(
obje˘
 !
NULL
) {

136 
uöt64_t
 *
¥e
 = 
ªt
;

137 *
¥e
 = 
ªdz⁄e_∑âîn
;

138 
ªt
 = 
¥e
+1;

139 
	`mem˝y
(((*)
ªt
Ë+ 
ˇche
->
bufsize
 - (2 * (
ªdz⁄e_∑âîn
)),

140 &
ªdz⁄e_∑âîn
, (redzone_pattern));

144  
obje˘
;

145 
	}
}

147 
	$ˇche_‰ì
(
ˇche_t
 *
ˇche
, *
±r
) {

148 
	`±hªad_muãx_lock
(&
ˇche
->
muãx
);

150 #i‚de‡
NDEBUG


152 i‡(
	`memcmp
(((*)
±r
Ë+ 
ˇche
->
bufsize
 - (2 * (
ªdz⁄e_∑âîn
)),

153 &
ªdz⁄e_∑âîn
, (redzone_pattern)) != 0) {

154 
	`øi£
(
SIGABRT
);

155 
ˇche_îr‹
 = 1;

156 
	`±hªad_muãx_u∆ock
(&
ˇche
->
muãx
);

159 
uöt64_t
 *
¥e
 = 
±r
;

160 --
¥e
;

161 i‡(*
¥e
 !
ªdz⁄e_∑âîn
) {

162 
	`øi£
(
SIGABRT
);

163 
ˇche_îr‹
 = -1;

164 
	`±hªad_muãx_u∆ock
(&
ˇche
->
muãx
);

167 
±r
 = 
¥e
;

169 i‡(
ˇche
->
‰ìcuº
 < cache->
‰ìtŸÆ
) {

170 
ˇche
->
±r
[ˇche->
‰ìcuº
++] =Ötr;

173 
size_t
 
√wtŸÆ
 = 
ˇche
->
‰ìtŸÆ
 * 2;

174 **
√w_‰ì
 = 
	`ªÆloc
(
ˇche
->
±r
, (*Ë* 
√wtŸÆ
);

175 i‡(
√w_‰ì
) {

176 
ˇche
->
‰ìtŸÆ
 = 
√wtŸÆ
;

177 
ˇche
->
±r
 = 
√w_‰ì
;

178 
ˇche
->
±r
[ˇche->
‰ìcuº
++] =Ötr;

180 i‡(
ˇche
->
de°ru˘‹
) {

181 
ˇche
->
	`de°ru˘‹
(
±r
, 
NULL
);

183 
	`‰ì
(
±r
);

187 
	`±hªad_muãx_u∆ock
(&
ˇche
->
muãx
);

188 
	}
}

	@oss/libmemcached-1.0.17/libmemcachedprotocol/cache.h

38 #¥agm®
⁄˚


40 
	~<±hªad.h
>

42 #ifde‡
HAVE_UMEM_H


43 
	~<umem.h
>

44 
	#ˇche_t
 
umem_ˇche_t


	)

45 
	#ˇche_Æloc
(
a
Ë
	`umem_ˇche_Æloc
◊, 
UMEM_DEFAULT
)

	)

46 
	#ˇche_‰ì
(
a
, 
b
Ë
	`umem_ˇche_‰ì
◊, b)

	)

47 
	#ˇche_¸óã
(
a
,
b
,
c
,
d
,
e
Ë
	`umem_ˇche_¸óã
((*Ô, b, c, d,É, 
NULL
, NULL, NULL, 0)

	)

48 
	#ˇche_de°roy
(
a
Ë
	`umem_ˇche_de°roy
◊);

	)

50 #i‚de‡
NDEBUG


52 
ˇche_îr‹
;

63 
	tˇche_c⁄°ru˘‹_t
(* 
	tobj
, * 
	tnŸu£d1
, 
	tnŸu£d2
);

73 
	tˇche_de°ru˘‹_t
(* 
	tobj
, * 
	tnŸu£d
);

82 
±hªad_muãx_t
 
	mmuãx
;

84 *
	m«me
;

86 **
	m±r
;

88 
size_t
 
	mbufsize
;

90 
size_t
 
	m‰ìtŸÆ
;

92 
size_t
 
	m‰ìcuº
;

94 
ˇche_c⁄°ru˘‹_t
* 
	mc⁄°ru˘‹
;

96 
ˇche_de°ru˘‹_t
* 
	mde°ru˘‹
;

97 } 
	tˇche_t
;

117 
ˇche_t
* 
ˇche_¸óã
(c⁄° * 
«me
, 
size_t
 
bufsize
, size_à
Æign
,

118 
ˇche_c⁄°ru˘‹_t
* 
c⁄°ru˘‹
,

119 
ˇche_de°ru˘‹_t
* 
de°ru˘‹
);

129 
ˇche_de°roy
(
ˇche_t
* 
h™dÀ
);

137 * 
ˇche_Æloc
(
ˇche_t
* 
h™dÀ
);

147 
ˇche_‰ì
(
ˇche_t
* 
h™dÀ
, * 
±r
);

	@oss/libmemcached-1.0.17/libmemcachedprotocol/common.h

37 #¥agm®
⁄˚


39 
	~"mem_c⁄fig.h
"

40 
	~<as£π.h
>

42 
	~<libmemˇched¥Ÿocﬁ-0.0/h™dÀr.h
>

43 
	~<libmemˇched¥Ÿocﬁ/ˇche.h
>

44 
	~<libmemˇched/byã‹dî.h
>

45 
	~<libmemˇched/sockë.hµ
>

54 
	$boﬁ
 (*
	tdøö_func
)(
	tmemˇched_¥Ÿocﬁ_˛õ¡_°
 *
	t˛õ¡
);

55 
	$¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 (*
	t•oﬁ_func
)(
	tmemˇched_¥Ÿocﬁ_˛õ¡_°
 *
	t˛õ¡
,

56 c⁄° *
	td©a
,

57 
	tsize_t
 
	tÀngth
);

62 
	smemˇched_¥Ÿocﬁ_°
 {

63 
memˇched_bö¨y_¥Ÿocﬁ_ˇŒback_°
 *
ˇŒback
;

64 
memˇched_¥Ÿocﬁ_ªcv_func
 
ªcv
;

65 
memˇched_¥Ÿocﬁ_£nd_func
 
£nd
;

71 
døö_func
 
døö
;

72 
•oﬁ_func
 
•oﬁ
;

81 
uöt8_t
 *
öput_buf„r
;

82 
size_t
 
öput_buf„r_size
;

84 
boﬁ
 
≥d™tic
;

86 
ˇche_t
 *
buf„r_ˇche
;

89 
	schunk_°
 {

91 *
d©a
;

93 
size_t
 
off£t
;

95 
size_t
 
nbyãs
;

97 
size_t
 
size
;

99 
chunk_°
 *
√xt
;

102 
	#CHUNK_BUFFERSIZE
 2048

	)

104 
	$memˇched_¥Ÿocﬁ_evít_t
 (*
	t¥o˚ss_d©a
)(
	tmemˇched_¥Ÿocﬁ_˛õ¡_°
 *
	t˛õ¡
, 
	tssize_t
 *
	tÀngth
, **
	tíd±r
);

106 
	eascii_cmd
 {

107 
GET_CMD
,

108 
GETS_CMD
,

109 
SET_CMD
,

110 
ADD_CMD
,

111 
REPLACE_CMD
,

112 
CAS_CMD
,

113 
APPEND_CMD
,

114 
PREPEND_CMD
,

115 
DELETE_CMD
,

116 
INCR_CMD
,

117 
DECR_CMD
,

118 
STATS_CMD
,

119 
FLUSH_ALL_CMD
,

120 
VERSION_CMD
,

121 
QUIT_CMD
,

122 
VERBOSITY_CMD
,

123 
UNKNOWN_CMD


126 
	smemˇched_¥Ÿocﬁ_˛õ¡_°
 {

127 
boﬁ
 
is_vîbo£
;

128 
memˇched_¥Ÿocﬁ_°
 *
roŸ
;

129 
memˇched_sockë_t
 
sock
;

130 
îr‹
;

133 
chunk_°
 *
ouçut
;

134 
chunk_°
 *
ouçut_èû
;

141 
uöt8_t
 *
öput_buf„r
;

142 
size_t
 
öput_buf„r_size
;

143 
size_t
 
öput_buf„r_off£t
;

146 
¥o˚ss_d©a
 
w‹k
;

152 
boﬁ
 
muã
;

155 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
cuºít_comm™d
;

158 
ascii_cmd
 
ascii_comm™d
;

161 
	~"ascii_h™dÀr.h
"

162 
	~"bö¨y_h™dÀr.h
"

	@oss/libmemcached-1.0.17/libmemcachedprotocol/handler.c

38 
	~<libmemˇched¥Ÿocﬁ/comm⁄.h
>

40 
	~<°dlib.h
>

41 
	~<sys/ty≥s.h
>

42 
	~<î∫o.h
>

43 
	~<°dboﬁ.h
>

44 
	~<°rög.h
>

45 
	~<°rögs.h
>

46 
	~<˘y≥.h
>

47 
	~<°dio.h
>

49 
	~<sys/ty≥s.h
>

50 
	~<sys/sockë.h
>

69 
ssize_t
 
	$deÁu…_ªcv
(c⁄° *
cookõ
,

70 
memˇched_sockë_t
 
sock
,

71 *
buf
,

72 
size_t
 
nbyãs
)

74 ()
cookõ
;

75  
	`ªcv
(
sock
, 
buf
, 
nbyãs
, 0);

76 
	}
}

89 
ssize_t
 
	$deÁu…_£nd
(c⁄° *
cookõ
,

90 
memˇched_sockë_t
 
fd
,

91 c⁄° *
buf
,

92 
size_t
 
nbyãs
)

94 ()
cookõ
;

95  
	`£nd
(
fd
, 
buf
, 
nbyãs
, 
MSG_NOSIGNAL
);

96 
	}
}

106 
boﬁ
 
	$døö_ouçut
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

108 i‡(
˛õ¡
->
is_vîbo£
)

110 
	`Ârötf
(
°dîr
, "%s:%d %†muã:%d ouçut:%†Àngth:%d\n", 
__FILE__
, 
__LINE__
, 
__func__
, ()
˛õ¡
->
muã
,

111 
˛õ¡
->
ouçut
 ? "yes" : "no",

112 
˛õ¡
->
ouçut
 ? ()(˛õ¡->ouçut->
nbyãs
 - clõ¡->ouçut->
off£t
) : 0);

116 
˛õ¡
->
ouçut
 !
NULL
)

118 
ssize_t
 
Àn

˛õ¡
->
roŸ
->
	`£nd
(client,

119 
˛õ¡
->
sock
,

120 
˛õ¡
->
ouçut
->
d©a
 + clõ¡->ouçut->
off£t
,

121 
˛õ¡
->
ouçut
->
nbyãs
 - clõ¡->ouçut->
off£t
);

123 i‡(
Àn
 == -1)

125 i‡(
	`gë_sockë_î∫o
(Ë=
EWOULDBLOCK
)

127  
åue
;

129 i‡(
	`gë_sockë_î∫o
(Ë!
EINTR
)

131 
˛õ¡
->
îr‹

	`gë_sockë_î∫o
();

132  
Ál£
;

137 
˛õ¡
->
ouçut
->
off£t
 +(
size_t
)
Àn
;

138 i‡(
˛õ¡
->
ouçut
->
off£t
 =˛õ¡->ouçut->
nbyãs
)

141 
chunk_°
 *
ﬁd

˛õ¡
->
ouçut
;

142 
˛õ¡
->
ouçut
˛õ¡->ouçut->
√xt
;

143 i‡(
˛õ¡
->
ouçut
 =
NULL
)

145 
˛õ¡
->
ouçut_èû

NULL
;

147 
	`ˇche_‰ì
(
˛õ¡
->
roŸ
->
buf„r_ˇche
, 
ﬁd
);

152  
åue
;

153 
	}
}

161 
chunk_°
 *
	$Æloˇã_ouçut_chunk
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

163 
chunk_°
 *
ªt

	`ˇche_Æloc
(
˛õ¡
->
roŸ
->
buf„r_ˇche
);

165 i‡(
ªt
 =
NULL
)

167  
NULL
;

170 
ªt
->
off£t
ªt->
nbyãs
= 0;

171 
ªt
->
√xt

NULL
;

172 
ªt
->
size

CHUNK_BUFFERSIZE
;

173 
ªt
->
d©a
= (*)(ret + 1);

174 i‡(
˛õ¡
->
ouçut
 =
NULL
)

176 
˛õ¡
->
ouçut
˛õ¡->
ouçut_èû

ªt
;

180 
˛õ¡
->
ouçut_èû
->
√xt

ªt
;

181 
˛õ¡
->
ouçut_èû

ªt
;

184  
ªt
;

185 
	}
}

196 
¥Ÿocﬁ_bö¨y_ª•⁄£_°©us
 
	$•oﬁ_ouçut
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
,

197 c⁄° *
d©a
,

198 
size_t
 
Àngth
)

200 i‡(
˛õ¡
->
is_vîbo£
)

202 
	`Ârötf
(
°dîr
, "%s:%d %†muã:%dÜígth:%d\n", 
__FILE__
, 
__LINE__
, 
__func__
, ()
˛õ¡
->
muã
, ()
Àngth
);

205 i‡(
˛õ¡
->
muã
)

207  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

210 
size_t
 
off£t
= 0;

212 
chunk_°
 *
chunk

˛õ¡
->
ouçut
;

213 
off£t
 < 
Àngth
)

215 i‡(
chunk
 =
NULL
 || (chunk->
size
 - chunk->
nbyãs
) == 0)

217 i‡((
chunk

	`Æloˇã_ouçut_chunk
(
˛õ¡
)Ë=
NULL
)

219  
PROTOCOL_BINARY_RESPONSE_ENOMEM
;

223 
size_t
 
bulk

Àngth
 - 
off£t
;

224 i‡(
bulk
 > 
chunk
->
size
 - chunk->
nbyãs
)

226 
bulk

chunk
->
size
 - chunk->
nbyãs
;

229 
	`mem˝y
(
chunk
->
d©a
 + chunk->
nbyãs
, d©a, 
bulk
);

230 
chunk
->
nbyãs
 +
bulk
;

231 
off£t
 +
bulk
;

234  
PROTOCOL_BINARY_RESPONSE_SUCCESS
;

235 
	}
}

245 
memˇched_¥Ÿocﬁ_evít_t
 
	$dëîmöe_¥Ÿocﬁ
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
ssize_t
 *
Àngth
, **
íd±r
)

247 i‡(*
˛õ¡
->
roŸ
->
öput_buf„r
 =(
uöt8_t
)
PROTOCOL_BINARY_REQ
)

249 i‡(
˛õ¡
->
is_vîbo£
)

251 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL: memˇched_bö¨y_¥Ÿocﬁ_¥o˚ss_d©a\n", 
__FILE__
, 
__LINE__
);

253 
˛õ¡
->
w‹k

memˇched_bö¨y_¥Ÿocﬁ_¥o˚ss_d©a
;

255 i‡(
˛õ¡
->
roŸ
->
ˇŒback
->
öãrÁ˚_vîsi⁄
 == 1)

257 i‡(
˛õ¡
->
is_vîbo£
)

259 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL: memˇched_ascii_¥Ÿocﬁ_¥o˚ss_d©a\n", 
__FILE__
, 
__LINE__
);

270 
˛õ¡
->
w‹k

memˇched_ascii_¥Ÿocﬁ_¥o˚ss_d©a
;

274 i‡(
˛õ¡
->
is_vîbo£
)

276 
	`Ârötf
(
°dîr
, "%s:%d PROTOCOL: Unsuµ‹ãdÖrŸocﬁ\n", 
__FILE__
, 
__LINE__
);

282 c⁄° *
îr
= "CLIENT_ERROR: UnsupportedÖrotocol\r\n";

283 
˛õ¡
->
roŸ
->
	`•oﬁ
(˛õ¡, 
îr
, 
	`°æí
(err));

284 
˛õ¡
->
roŸ
->
	`døö
(client);

286  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

289  
˛õ¡
->
	`w‹k
(˛õ¡, 
Àngth
, 
íd±r
);

290 
	}
}

298 
memˇched_¥Ÿocﬁ_°
 *
	$memˇched_¥Ÿocﬁ_¸óã_ö°™˚
()

300 
memˇched_¥Ÿocﬁ_°
 *
ªt

	`ˇŒoc
(1, (*ret));

301 i‡(
ªt
 !
NULL
)

303 
ªt
->
ªcv

deÁu…_ªcv
;

304 
ªt
->
£nd

deÁu…_£nd
;

305 
ªt
->
døö

døö_ouçut
;

306 
ªt
->
•oﬁ

•oﬁ_ouçut
;

307 
ªt
->
öput_buf„r_size
= 1 * 1024 * 1024;

308 
ªt
->
öput_buf„r

	`mÆloc
‘ë->
öput_buf„r_size
);

309 i‡(
ªt
->
öput_buf„r
 =
NULL
)

311 
	`‰ì
(
ªt
);

312 
ªt

NULL
;

314  
NULL
;

317 
ªt
->
buf„r_ˇche

	`ˇche_¸óã
("protocol_handler",

318 
CHUNK_BUFFERSIZE
 + (
chunk_°
),

319 0, 
NULL
, NULL);

320 i‡(
ªt
->
buf„r_ˇche
 =
NULL
)

322 
	`‰ì
(
ªt
->
öput_buf„r
);

323 
	`‰ì
(
ªt
);

324 
ªt

NULL
;

328  
ªt
;

329 
	}
}

331 
	$memˇched_¥Ÿocﬁ_de°roy_ö°™˚
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
)

333 
	`ˇche_de°roy
(
ö°™˚
->
buf„r_ˇche
);

334 
	`‰ì
(
ö°™˚
->
öput_buf„r
);

335 
	`‰ì
(
ö°™˚
);

336 
	}
}

338 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
	$memˇched_¥Ÿocﬁ_¸óã_˛õ¡
(
memˇched_¥Ÿocﬁ_°
 *
ö°™˚
, 
memˇched_sockë_t
 
sock
)

340 
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
ªt

	`ˇŒoc
(1, (memcached_protocol_client_st));

341 i‡(
ªt
 !
NULL
)

343 
ªt
->
roŸ

ö°™˚
;

344 
ªt
->
sock
= sock;

345 
ªt
->
w‹k

dëîmöe_¥Ÿocﬁ
;

348  
ªt
;

349 
	}
}

351 
	$memˇched_¥Ÿocﬁ_˛õ¡_de°roy
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

353 
	`‰ì
(
˛õ¡
);

354 
	}
}

356 
	$memˇched_¥Ÿocﬁ_˛õ¡_£t_vîbo£
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
, 
boﬁ
 
¨g
)

358 i‡(
˛õ¡
)

360 
˛õ¡
->
is_vîbo£

¨g
;

362 
	}
}

364 
memˇched_¥Ÿocﬁ_evít_t
 
	$memˇched_¥Ÿocﬁ_˛õ¡_w‹k
(
memˇched_¥Ÿocﬁ_˛õ¡_°
 *
˛õ¡
)

367 
boﬁ
 
m‹e_d©a

åue
;

370 
ssize_t
 
Àn

˛õ¡
->
roŸ
->
	`ªcv
(client,

371 
˛õ¡
->
sock
,

372 
˛õ¡
->
roŸ
->
öput_buf„r
 + clõ¡->
öput_buf„r_off£t
,

373 
˛õ¡
->
roŸ
->
öput_buf„r_size
 - clõ¡->
öput_buf„r_off£t
);

375 i‡(
Àn
 > 0)

378 i‡(
˛õ¡
->
öput_buf„r_off£t
 > 0)

380 
	`mem˝y
(
˛õ¡
->
roŸ
->
öput_buf„r
, client->input_buffer,

381 
˛õ¡
->
öput_buf„r_off£t
);

382 
Àn
 +(
ssize_t
)
˛õ¡
->
öput_buf„r_off£t
;

385 
	`‰ì
(
˛õ¡
->
öput_buf„r
);

386 
˛õ¡
->
öput_buf„r_off£t
= 0;

389 *
íd±r
;

390 
memˇched_¥Ÿocﬁ_evít_t
 
evíts

˛õ¡
->
	`w‹k
(˛õ¡, &
Àn
, &
íd±r
);

391 i‡(
evíts
 =
MEMCACHED_PROTOCOL_ERROR_EVENT
)

393  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

396 i‡(
Àn
 > 0)

400 
˛õ¡
->
öput_buf„r

	`mÆloc
((
size_t
)
Àn
);

401 i‡(
˛õ¡
->
öput_buf„r
 =
NULL
)

403 
˛õ¡
->
îr‹

ENOMEM
;

404  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

406 
	`mem˝y
(
˛õ¡
->
öput_buf„r
, 
íd±r
, (
size_t
)
Àn
);

407 
˛õ¡
->
öput_buf„r_off£t
(
size_t
)
Àn
;

408 
m‹e_d©a

Ál£
;

411 i‡(
Àn
 == 0)

414 
	`døö_ouçut
(
˛õ¡
);

415  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

419 i‡(
	`gë_sockë_î∫o
(Ë!
EWOULDBLOCK
)

421 
˛õ¡
->
îr‹

	`gë_sockë_î∫o
();

423  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

425 
m‹e_d©a

Ál£
;

427 } 
m‹e_d©a
);

429 i‡(!
	`døö_ouçut
(
˛õ¡
))

431  
MEMCACHED_PROTOCOL_ERROR_EVENT
;

434 
memˇched_¥Ÿocﬁ_evít_t
 
ªt

MEMCACHED_PROTOCOL_READ_EVENT
;

435 i‡(
˛õ¡
->
ouçut
)

437 
ªt
|
MEMCACHED_PROTOCOL_READ_EVENT
;

440  
ªt
;

441 
	}
}

	@oss/libmemcached-1.0.17/libmemcachedprotocol/pedantic.c

38 
	~<libmemˇched¥Ÿocﬁ/comm⁄.h
>

40 
	~<sys/ty≥s.h
>

42 
	#ísuª
(
a
Ëi‡(!◊)Ë{  
Ál£
; }

	)

44 
boﬁ
 
	$memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ªque°
(c⁄° 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
ªque°
)

46 
	`ísuª
(
ªque°
->ªque°.
magic
 =
PROTOCOL_BINARY_REQ
);

47 
	`ísuª
(
ªque°
->ªque°.
d©©y≥
 =
PROTOCOL_BINARY_RAW_BYTES
);

49 
	`ísuª
(
ªque°
->
byãs
[6] == 0);

50 
	`ísuª
(
ªque°
->
byãs
[7] == 0);

52 
uöt8_t
 
›code

ªque°
->request.opcode;

53 
uöt16_t
 
keyÀn

	`¡ohs
(
ªque°
->request.keylen);

54 
uöt8_t
 
exéí

ªque°
->request.extlen;

55 
uöt32_t
 
bodyÀn

	`¡ohl
(
ªque°
->request.bodylen);

57 
	`ísuª
(
bodyÀn
 >(
keyÀn
 + 
exéí
));

59 
›code
) {

60 
PROTOCOL_BINARY_CMD_GET
:

61 
PROTOCOL_BINARY_CMD_GETK
:

62 
PROTOCOL_BINARY_CMD_GETKQ
:

63 
PROTOCOL_BINARY_CMD_GETQ
:

64 
	`ísuª
(
exéí
 == 0);

65 
	`ísuª
(
keyÀn
 > 0);

66 
	`ísuª
(
keyÀn
 =
bodyÀn
);

67 
	`ísuª
(
ªque°
->ªque°.
ˇs
 == 0);

70 
PROTOCOL_BINARY_CMD_ADD
:

71 
PROTOCOL_BINARY_CMD_ADDQ
:

73 
	`ísuª
(
ªque°
->ªque°.
ˇs
 == 0);

75 
PROTOCOL_BINARY_CMD_SET
:

76 
PROTOCOL_BINARY_CMD_SETQ
:

77 
PROTOCOL_BINARY_CMD_REPLACE
:

78 
PROTOCOL_BINARY_CMD_REPLACEQ
:

79 
	`ísuª
(
keyÀn
 > 0);

80 
	`ísuª
(
exéí
 == 8);

83 
PROTOCOL_BINARY_CMD_DELETE
:

84 
PROTOCOL_BINARY_CMD_DELETEQ
:

85 
	`ísuª
(
exéí
 == 0);

86 
	`ísuª
(
keyÀn
 > 0);

87 
	`ísuª
(
keyÀn
 =
bodyÀn
);

90 
PROTOCOL_BINARY_CMD_INCREMENT
:

91 
PROTOCOL_BINARY_CMD_INCREMENTQ
:

92 
PROTOCOL_BINARY_CMD_DECREMENT
:

93 
PROTOCOL_BINARY_CMD_DECREMENTQ
:

94 
	`ísuª
(
exéí
 == 20);

95 
	`ísuª
(
keyÀn
 > 0);

96 
	`ísuª
(
keyÀn
 + 
exéí
 =
bodyÀn
);

99 
PROTOCOL_BINARY_CMD_QUIT
:

100 
PROTOCOL_BINARY_CMD_QUITQ
:

101 
PROTOCOL_BINARY_CMD_NOOP
:

102 
PROTOCOL_BINARY_CMD_VERSION
:

103 
	`ísuª
(
exéí
 == 0);

104 
	`ísuª
(
keyÀn
 == 0);

105 
	`ísuª
(
bodyÀn
 == 0);

108 
PROTOCOL_BINARY_CMD_FLUSH
:

109 
PROTOCOL_BINARY_CMD_FLUSHQ
:

110 
	`ísuª
(
exéí
 == 0 ||Éxtlen == 4);

111 
	`ísuª
(
keyÀn
 == 0);

112 
	`ísuª
(
bodyÀn
 =
exéí
);

115 
PROTOCOL_BINARY_CMD_STAT
:

116 
	`ísuª
(
exéí
 == 0);

118 
	`ísuª
(
keyÀn
 =
bodyÀn
);

121 
PROTOCOL_BINARY_CMD_APPEND
:

122 
PROTOCOL_BINARY_CMD_APPENDQ
:

123 
PROTOCOL_BINARY_CMD_PREPEND
:

124 
PROTOCOL_BINARY_CMD_PREPENDQ
:

125 
	`ísuª
(
exéí
 == 0);

126 
	`ísuª
(
keyÀn
 > 0);

133  
åue
;

134 
	}
}

136 
boﬁ
 
	$memˇched_bö¨y_¥Ÿocﬁ_≥d™tic_check_ª•⁄£
(c⁄° 
¥Ÿocﬁ_bö¨y_ªque°_hódî
 *
ªque°
,

137 c⁄° 
¥Ÿocﬁ_bö¨y_ª•⁄£_hódî
 *
ª•⁄£
)

139 
	`ísuª
(
ª•⁄£
->ª•⁄£.
magic
 =
PROTOCOL_BINARY_RES
);

140 
	`ísuª
(
ª•⁄£
->ª•⁄£.
d©©y≥
 =
PROTOCOL_BINARY_RAW_BYTES
);

141 
	`ísuª
(
ª•⁄£
->ª•⁄£.
›aque
 =
ªque°
->request.opaque);

143 
uöt16_t
 
°©us

	`¡ohs
(
ª•⁄£
->response.status);

144 
uöt8_t
 
›code

ª•⁄£
->response.opcode;

146 i‡(
°©us
 =
PROTOCOL_BINARY_RESPONSE_SUCCESS
)

148 
›code
) {

149 
PROTOCOL_BINARY_CMD_ADDQ
:

150 
PROTOCOL_BINARY_CMD_APPENDQ
:

151 
PROTOCOL_BINARY_CMD_DECREMENTQ
:

152 
PROTOCOL_BINARY_CMD_DELETEQ
:

153 
PROTOCOL_BINARY_CMD_FLUSHQ
:

154 
PROTOCOL_BINARY_CMD_INCREMENTQ
:

155 
PROTOCOL_BINARY_CMD_PREPENDQ
:

156 
PROTOCOL_BINARY_CMD_QUITQ
:

157 
PROTOCOL_BINARY_CMD_REPLACEQ
:

158 
PROTOCOL_BINARY_CMD_SETQ
:

160  
Ál£
;

165 
›code
) {

166 
PROTOCOL_BINARY_CMD_ADD
:

167 
PROTOCOL_BINARY_CMD_REPLACE
:

168 
PROTOCOL_BINARY_CMD_SET
:

169 
PROTOCOL_BINARY_CMD_APPEND
:

170 
PROTOCOL_BINARY_CMD_PREPEND
:

171 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

172 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

173 
	`ísuª
(
ª•⁄£
->ª•⁄£.
bodyÀn
 == 0);

174 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 != 0);

176 
PROTOCOL_BINARY_CMD_FLUSH
:

177 
PROTOCOL_BINARY_CMD_NOOP
:

178 
PROTOCOL_BINARY_CMD_QUIT
:

179 
PROTOCOL_BINARY_CMD_DELETE
:

180 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

181 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

182 
	`ísuª
(
ª•⁄£
->ª•⁄£.
bodyÀn
 == 0);

183 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 == 0);

186 
PROTOCOL_BINARY_CMD_DECREMENT
:

187 
PROTOCOL_BINARY_CMD_INCREMENT
:

188 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

189 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

190 
	`ísuª
(
	`¡ohl
(
ª•⁄£
->ª•⁄£.
bodyÀn
) == 8);

191 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 != 0);

194 
PROTOCOL_BINARY_CMD_STAT
:

195 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

197 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 == 0);

200 
PROTOCOL_BINARY_CMD_VERSION
:

201 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

202 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

203 
	`ísuª
(
ª•⁄£
->ª•⁄£.
bodyÀn
 != 0);

204 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 == 0);

207 
PROTOCOL_BINARY_CMD_GET
:

208 
PROTOCOL_BINARY_CMD_GETQ
:

209 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

210 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 4);

211 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 != 0);

214 
PROTOCOL_BINARY_CMD_GETK
:

215 
PROTOCOL_BINARY_CMD_GETKQ
:

216 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 != 0);

217 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 4);

218 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 != 0);

228 
	`ísuª
(
ª•⁄£
->ª•⁄£.
ˇs
 == 0);

229 
	`ísuª
(
ª•⁄£
->ª•⁄£.
exéí
 == 0);

230 i‡(
›code
 !
PROTOCOL_BINARY_CMD_GETK
)

232 
	`ísuª
(
ª•⁄£
->ª•⁄£.
keyÀn
 == 0);

236  
åue
;

237 
	}
}

	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/flush.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
boﬁ
 
libmemˇched_utû_Êush
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
, 
memˇched_ªtu∫_t
 *
ªt
);

47 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/pid.h

37 #¥agm®
⁄˚


39 #i‚de‡
_WIN32


40 
	~<√tdb.h
>

43 
	~<sys/ty≥s.h
>

45 #ifde‡
__˝lu•lus


49 
LIBMEMCACHED_API


50 
pid_t
 
libmemˇched_utû_gëpid
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
, 
memˇched_ªtu∫_t
 *
ªt
);

52 
LIBMEMCACHED_API


53 
pid_t
 
libmemˇched_utû_gëpid2
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
, c⁄° *
u£∫ame
, c⁄° *
∑ssw‹d
, 
memˇched_ªtu∫_t
 *
ªt
);

55 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/ping.h

38 #¥agm®
⁄˚


40 #ifde‡
__˝lu•lus


44 
LIBMEMCACHED_API


45 
boﬁ
 
libmemˇched_utû_pög
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
, 
memˇched_ªtu∫_t
 *
ªt
);

47 
LIBMEMCACHED_API


48 
boﬁ
 
libmemˇched_utû_pög2
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
p‹t
, c⁄° *
u£∫ame
, c⁄° *
∑ssw‹d
, 
memˇched_ªtu∫_t
 *
ªt
);

50 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/pool.h

38 #¥agm®
⁄˚


41 
	~<libmemˇched-1.0/memˇched.h
>

43 #ifde‡
__˝lu•lus


47 
memˇched_poﬁ_°
;

48 
memˇched_poﬁ_°
 
	tmemˇched_poﬁ_°
;

50 
LIBMEMCACHED_API


51 
memˇched_poﬁ_°
 *
memˇched_poﬁ_¸óã
(
memˇched_°
* 
mmc
, 
uöt32_t
 
öôül
, uöt32_à
max
);

53 
LIBMEMCACHED_API


54 
memˇched_poﬁ_°
 *
memˇched_poﬁ
(c⁄° *
›ti⁄_°rög
, 
size_t
 
›ti⁄_°rög_Àngth
);

56 
LIBMEMCACHED_API


57 
memˇched_°
* 
memˇched_poﬁ_de°roy
(
memˇched_poﬁ_°
* 
poﬁ
);

59 
LIBMEMCACHED_API


60 
memˇched_°
* 
memˇched_poﬁ_p›
(
memˇched_poﬁ_°
* 
poﬁ
,

61 
boﬁ
 
block
,

62 
memˇched_ªtu∫_t
* 
rc
);

63 
LIBMEMCACHED_API


64 
memˇched_ªtu∫_t
 
memˇched_poﬁ_push
(
memˇched_poﬁ_°
* 
poﬁ
,

65 
memˇched_°
* 
mmc
);

66 
LIBMEMCACHED_API


67 
memˇched_ªtu∫_t
 
memˇched_poﬁ_ªÀa£
(
memˇched_poﬁ_°
* 
poﬁ
, 
memˇched_°
* 
mmc
);

69 
LIBMEMCACHED_API


70 
memˇched_°
* 
memˇched_poﬁ_„tch
(
memˇched_poﬁ_°
*, 
time•ec
* 
ªœtive_time
, 
memˇched_ªtu∫_t
* 
rc
);

72 
LIBMEMCACHED_API


73 
memˇched_ªtu∫_t
 
memˇched_poﬁ_behavi‹_£t
(
memˇched_poﬁ_°
 *
±r
,

74 
memˇched_behavi‹_t
 
Êag
,

75 
uöt64_t
 
d©a
);

76 
LIBMEMCACHED_API


77 
memˇched_ªtu∫_t
 
memˇched_poﬁ_behavi‹_gë
(
memˇched_poﬁ_°
 *
±r
,

78 
memˇched_behavi‹_t
 
Êag
,

79 
uöt64_t
 *
vÆue
);

81 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/util.h

38 #¥agm®
⁄˚


40 
	~<libmemˇched-1.0/memˇched.h
>

42 
	~<libmemˇchedutû-1.0/pid.h
>

43 
	~<libmemˇchedutû-1.0/Êush.h
>

44 
	~<libmemˇchedutû-1.0/pög.h
>

45 
	~<libmemˇchedutû-1.0/poﬁ.h
>

46 
	~<libmemˇchedutû-1.0/vîsi⁄.h
>

	@oss/libmemcached-1.0.17/libmemcachedutil-1.0/version.h

38 #¥agm®
⁄˚


41 #ifde‡
__˝lu•lus


45 
LIBMEMCACHED_API


46 
boﬁ
 
libmemˇched_utû_vîsi⁄_check
(
memˇched_°
 *
memc
,

47 
uöt8_t
 
maj‹_vîsi⁄
,

48 
uöt8_t
 
mö‹_vîsi⁄
,

49 
uöt8_t
 
mi¸o_vîsi⁄
);

51 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libmemcachedutil/common.h

39 #¥agm®
⁄˚


41 
	~"mem_c⁄fig.h
"

43 
	~<c°ddef
>

44 
	~<c°dlib
>

45 
	~<c°dio
>

47 
	~"libmemˇchedutû-1.0/utû.h
"

48 
	~"libmemˇched/as£π.hµ
"

49 
	~"libmemˇched/backåa˚.hµ
"

	@oss/libmemcached-1.0.17/libtest/alarm.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

41 
£t_Æ¨m
(
tv_£c
, 
tv_u£c
);

42 
£t_Æ¨m
();

43 
ˇn˚l_Æ¨m
();

	@oss/libmemcached-1.0.17/libtest/binaries.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

	@oss/libmemcached-1.0.17/libtest/blobslap_worker.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

41 
Sîvî
 *
buûd_blob¶≠_w‹kî
(
ö_p‹t_t
 
åy_p‹t
);

	@oss/libmemcached-1.0.17/libtest/callbacks.h

37 #¥agm®
⁄˚


39 #ifdef 
__˝lu•lus


43 * (
	tã°_ˇŒback_¸óã_‚
)(
	tlibã°
::
	t£rvî_°¨tup_°
&, 
	tã°_ªtu∫_t
&);

44 
boﬁ
 
	tã°_ˇŒback_de°roy_‚
(*);

45 
ã°_ªtu∫_t
 (
	tã°_ˇŒback_‚
)(*);

46 
ã°_ªtu∫_t
 (
	tã°_ˇŒback_ru¬î_‚
)(
	tã°_ˇŒback_‚
*, *);

47 
ã°_ªtu∫_t
 (
	tã°_ˇŒback_îr‹_‚
)(c⁄° 
	tã°_ªtu∫_t
, *);

49 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/libtest/cmdline.h

37 #¥agm®
⁄˚


39 
	~<•awn.h
>

42 #i‚de‡
EXIT_SKIP


43 
	#EXIT_SKIP
 77

	)

46 #i‚de‡
EXIT_FATAL


47 
	#EXIT_FATAL
 99

	)

50 #i‚de‡
EX_NOEXEC


51 
	#EX_NOEXEC
 126

	)

54 #i‚de‡
EX_NOTFOUND


55 
	#EX_NOTFOUND
 127

	)

58 
«me•a˚
 
	glibã°
 {

60 ˛as†
	cAµliˇti⁄
 {

61 
	g¥iv©e
:

62 
°d
::
	tve˘‹
< 
	t°d
::
	t∑ú
<°d::
	t°rög
, std::°rög> > 
	tO±i⁄s
;

64 
	gpublic
:

66 
	eîr‹_t
 {

67 
SUCCESS

EXIT_SUCCESS
,

68 
	gFAILURE

EXIT_FAILURE
,

69 
	gUNINITIALIZED
,

70 
	gSIGTERM_KILLED
,

71 
	gUNKNOWN
,

72 
	gUNKNOWN_SIGNAL
,

73 
	gINVALID_POSIX_SPAWN
= 127

76 c⁄° * 
toSåög
(
îr‹_t
 
¨g
)

78 
	g¨g
)

80 
	gAµliˇti⁄
::
SUCCESS
:

83 
	gAµliˇti⁄
::
UNINITIALIZED
:

86 
	gAµliˇti⁄
::
SIGTERM_KILLED
:

89 
	gAµliˇti⁄
::
FAILURE
:

92 
	gAµliˇti⁄
::
UNKNOWN_SIGNAL
:

95 
	gAµliˇti⁄
::
INVALID_POSIX_SPAWN
:

98 
	gAµliˇti⁄
::
UNKNOWN
:

106 ˛as†
	cPùe
 {

107 
	gpublic
:

108 
Pùe
();

109 ~
Pùe
();

111 
fd
();

113 
	e˛o£_t
 {

114 
	gREAD
= 0,

115 
	gWRITE
= 1

118 
ª£t
();

119 
˛o£
(c⁄° 
˛o£_t
& 
¨g
);

120 
dup_f‹_•awn
(
posix_•awn_fûe_a˘i⁄s_t
& 
fûe_a˘i⁄s
);

122 
n⁄block
();

123 
˛€xec
();

124 
boﬁ
 
ªad
(
libã°
::
vch¨_t
&);

126 
	g¥iv©e
:

127 c⁄° 
_°d_fd
;

128 
	g_pùe_fd
[2];

129 
boﬁ
 
	g_›í
[2];

132 
	gpublic
:

133 
Aµliˇti⁄
(c⁄° 
°d
::
°rög
& 
¨g
, c⁄° 
boﬁ
 
_u£_libtoﬁ_¨g

Ál£
);

135 
	gvútuÆ
 ~
Aµliˇti⁄
();

137 
add_›ti⁄
(c⁄° 
°d
::
°rög
&);

138 
add_›ti⁄
(c⁄° 
°d
::
°rög
&, const std::string&);

139 
add_l⁄g_›ti⁄
(c⁄° 
°d
::
°rög
& 
›ti⁄_«me
, c⁄° std::°rög& 
›ti⁄_vÆue
);

140 
îr‹_t
 
run
(c⁄° *
¨gs
[]
NULL
);

141 
	gAµliˇti⁄
::
îr‹_t
 
joö
();

143 
	glibã°
::
vch¨_t
 
°dout_ªsu…
() const

145  
_°dout_buf„r
;

148 
size_t
 
°dout_ªsu…_Àngth
() const

150  
	g_°dout_buf„r
.
size
();

153 c⁄° * 
°dout_c_°r
() const

155  &
	g_°dout_buf„r
[0];

158 
	glibã°
::
vch¨_t
 
°dîr_ªsu…
() const

160  
_°dîr_buf„r
;

163 c⁄° * 
°dîr_c_°r
() const

165  &
	g_°dîr_buf„r
[0];

168 
size_t
 
°dîr_ªsu…_Àngth
() const

170  
	g_°dîr_buf„r
.
size
();

173 
	g°d
::
°rög
 
¥öt
();

175 
u£_vÆgröd
(
boﬁ
 
¨g
)

177 
	g_u£_vÆgröd

¨g
;

180 
boﬁ
 
check
() const;

182 
boﬁ
 
¶uΩ
();

183 
murdî
();

185 
u£_gdb
(
boﬁ
 
¨g
)

187 
	g_u£_gdb

¨g
;

190 
u£_±rcheck
(
boﬁ
 
¨g
)

192 
	g_u£_±rcheck

¨g
;

195 
	g°d
::
°rög
 
¨gumíts
();

197 
	g°d
::
°rög
 
gdb_fûíame
()

199  
_gdb_fûíame
;

202 
pid_t
 
pid
() const

204  
	g_pid
;

207 
wûl_Áû
()

209 
	g_wûl_Áû

åue
;

212 
	g¥iv©e
:

213 
¸óã_¨gv
(c⁄° *
¨gs
[]);

214 
dñëe_¨gv
();

215 
add_to_buûd_¨gv
(const *);

217 
	g¥iv©e
:

218 c⁄° 
boﬁ
 
_u£_libtoﬁ
;

219 
boﬁ
 
	g_u£_vÆgröd
;

220 
boﬁ
 
	g_u£_gdb
;

221 
boﬁ
 
	g_u£_±rcheck
;

222 
boﬁ
 
	g_wûl_Áû
;

223 
size_t
 
	g_¨gc
;

224 
	g°d
::
°rög
 
_exe˘ubÀ_«me
;

225 
	g°d
::
°rög
 
_exe˘ubÀ
;

226 
	g°d
::
°rög
 
_exe˘ubÀ_wôh_∑th
;

227 
	g°d
::
°rög
 
_gdb_fûíame
;

228 
O±i⁄s
 
	g_›ti⁄s
;

229 
Pùe
 
	g°dö_fd
;

230 
Pùe
 
	g°dout_fd
;

231 
Pùe
 
	g°dîr_fd
;

232 
	glibã°
::
vch¨_±r_t
 
buût_¨gv
;

233 
pid_t
 
	g_pid
;

234 
	glibã°
::
vch¨_t
 
_°dout_buf„r
;

235 
	glibã°
::
vch¨_t
 
_°dîr_buf„r
;

236 
	g_°©us
;

237 
±hªad_t
 
	g_thªad
;

238 
îr‹_t
 
	g_≠p_exô_°©e
;

241 
ölöe
 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam& 
ouçut
, c⁄° 
	gAµliˇti⁄
::
îr‹_t
 &
¨g
)

243  
ouçut
 << 
Aµliˇti⁄
::
toSåög
(
¨g
);

246 
exec_cmdlöe
(c⁄° 
°d
::
°rög
& 
execuèbÀ
, c⁄° *
¨gs
[], 
boﬁ
 
u£_libtoﬁ

Ál£
);

248 c⁄° *
górm™d_bö¨y
();

249 c⁄° *
drizzÀd_bö¨y
();

	@oss/libmemcached-1.0.17/libtest/collection.h

37 #¥agm®
⁄˚


39 
	~<libã°/f‹m©ãr.hµ
>

41 
	~<libã°/timî.hµ
>

43 
	g«me•a˚
 { 
˛ass
 
	gFømew‹k
; }

49 
	scﬁÀ˘i⁄_°
 {

50 c⁄° *
	m«me
;

51 
ã°_ˇŒback_‚
 *
	m¥e
;

52 
ã°_ˇŒback_‚
 *
	mpo°
;

53 
ã°_°
 *
	mã°s
;

56 
«me•a˚
 
	glibã°
 {

58 ˛as†
	cCﬁÀ˘i⁄
 {

59 
	gpublic
:

60 
CﬁÀ˘i⁄
(
libã°
::
Fømew‹k
*, 
cﬁÀ˘i⁄_°
*);

62 
ã°_ªtu∫_t
 
exec
();

64 c⁄° * 
«me
()

66  
	g_«me
.
c_°r
();

69 
uöt32_t
 
suc˚ss
()

71  
	g_suc˚ss
;

74 
uöt32_t
 
skù≥d
()

76  
	g_skù≥d
;

79 
uöt32_t
 
Áûed
()

81  
	g_Áûed
;

84 
uöt32_t
 
tŸÆ
()

86  
	g_tŸÆ
;

89 
	glibã°
::
F‹m©ãr
* 
f‹m©ãr
()

91  &
_f‹m©ãr
;

94 
	g¥iv©e
:

95 
°d
::
°rög
 
_«me
;

96 
ã°_ˇŒback_‚
 *
	g_¥e
;

97 
ã°_ˇŒback_‚
 *
	g_po°
;

98 
ã°_°
 *
	g_ã°s
;

99 
	glibã°
::
Fømew‹k
* 
_‰ame
;

100 
uöt32_t
 
	g_suc˚ss
;

101 
uöt32_t
 
	g_skù≥d
;

102 
uöt32_t
 
	g_Áûed
;

103 
uöt32_t
 
	g_tŸÆ
;

104 
	glibã°
::
Timî
 
_timî
;

105 
	glibã°
::
F‹m©ãr
 
_f‹m©ãr
;

107 
	g¥iv©e
:

108 
CﬁÀ˘i⁄
( const Collection& );

109 c⁄° 
	gCﬁÀ˘i⁄
& 
	g›î©‹
=–c⁄° 
CﬁÀ˘i⁄
& );

	@oss/libmemcached-1.0.17/libtest/common.h

40 #¥agm®
⁄˚


42 
	~<ˇs£π
>

43 
	~<˚ºno
>

44 
	~<c°dlib
>

45 
	~<s°ªam
>

46 
	~<°rög
>

48 #ifde‡
HAVE_SYS_TYPES_H


49 
	~<sys/ty≥s.h
>

52 #ifde‡
HAVE_SYS_TIME_H


53 
	~<sys/time.h
>

56 #ifde‡
HAVE_SYS_WAIT_H


57 
	~<sys/waô.h
>

60 #ifde‡
HAVE_SYS_RESOURCE_H


61 
	~<sys/ªsour˚.h
>

64 #ifde‡
HAVE_FNMATCH_H


65 
	~<‚m©ch.h
>

68 #ifde‡
HAVE_ARPA_INET_H


69 
	~<¨∑/öë.h
>

72 #i‡
deföed
(
_WIN32
)

73 
	~"wö32/wøµîs.h
"

74 
	#gë_sockë_î∫o
(Ë
	`WSAGëLa°Eº‹
()

	)

76 #ifde‡
HAVE_UNISTD_H


77 
	~<uni°d.h
>

79 
	#INVALID_SOCKET
 -1

	)

80 
	#SOCKET_ERROR
 -1

	)

81 
	#˛o£sockë
(
a
Ë
	`˛o£
◊)

	)

82 
	#gë_sockë_î∫o
(Ë
î∫o


	)

85 
	~<libã°/ã°.hµ
>

87 
	~<libã°/is_pid.hµ
>

89 
	~<libã°/górm™d.h
>

90 
	~<libã°/blob¶≠_w‹kî.h
>

91 
	~<libã°/memˇched.h
>

92 
	~<libã°/drizzÀd.h
>

94 
	~<libã°/libtoﬁ.hµ
>

95 
	~<libã°/kûÕid.h
>

96 
	~<libã°/sig«l.h
>

97 
	~<libã°/dns.hµ
>

98 
	~<libã°/f‹m©ãr.hµ
>

100 
	sFªeFromVe˘‹


102 
	mãm∂©e
 <
˛ass
 
	mT
>

103 
›î©‹
(Ë–
T
* 
	m±r
) const

105 i‡(
	m±r
)

107 
‰ì
(
±r
);

108 
	m±r

NULL
;

113 
	sDñëeFromVe˘‹


115 
	mãm∂©e
 <
˛ass
 
	mT
>

116 
›î©‹
(Ë–
T
* 
	m±r
) const

118 
dñëe
 
	m±r
;

119 
	m±r

NULL
;

	@oss/libmemcached-1.0.17/libtest/core.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

41 
LIBTEST_API


42 
¸óã_c‹e
();

	@oss/libmemcached-1.0.17/libtest/dream.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

41 
dªam
(
time_t
 
tv_£c
, 
tv_n£c
= 0);

	@oss/libmemcached-1.0.17/libtest/drizzled.h

37 #¥agm®
⁄˚


39 
	~<¨∑/öë.h
>

41 
«me•a˚
 
	glibã°
 { 
	gSîvî
; }

43 
«me•a˚
 
	glibã°
 {

45 
	glibã°
::
Sîvî
 *
buûd_drizzÀd
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
åy_p‹t
);

47 
boﬁ
 
pög_drizzÀd
(c⁄° 
ö_p‹t_t
);

	@oss/libmemcached-1.0.17/libtest/error.h

37 #¥agm®
⁄˚


39 
	eã°_ªtu∫_t
 {

40 
	mTEST_SUCCESS
,

41 
	mTEST_FAILURE
,

42 
	mTEST_SKIPPED


46 
ölöe
 
boﬁ
 
	$ã°_suc˚ss
(
ã°_ªtu∫_t
 
rc
)

48  (
rc
 =
TEST_SUCCESS
);

49 
	}
}

51 
ölöe
 
boﬁ
 
	$ã°_Áûed
(
ã°_ªtu∫_t
 
rc
)

53  (
rc
 !
TEST_SUCCESS
);

54 
	}
}

	@oss/libmemcached-1.0.17/libtest/failed.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


43 
LIBTEST_INTERNAL_API


44 
push_Áûed_ã°
(c⁄° *
cﬁÀ˘i⁄
, c⁄° *
ã°
);

46 
LIBTEST_INTERNAL_API


47 
¥öt_Áûed_ã°
();

49 #ifde‡
__˝lu•lus


	@oss/libmemcached-1.0.17/libtest/framework.h

37 #¥agm®
⁄˚


39 
	~<libã°/sig«l.h
>

47 
	~<ve˘‹
>

49 
	g«me•a˚
 { 
˛ass
 
	gCﬁÀ˘i⁄
; }

50 
	g°d
::
	tve˘‹
<
	tlibã°
::
	tCﬁÀ˘i⁄
*> 
	tSuôes
;

52 
«me•a˚
 
	glibã°
 {

54 ˛as†
	cFømew‹k
 {

55 
	gpublic
:

57 
public
:

58 
ã°_ªtu∫_t
 
¸óã
();

60 c⁄° 
	g°d
::
°rög
& 
«me
() const

62  
_«me
;

65 
¸óã
(
ã°_ˇŒback_¸óã_‚
* 
¨g
)

67 
	g_¸óã

¨g
;

70 
de°roy
(
ã°_ˇŒback_de°roy_‚
* 
¨g
)

72 
	g_de°roy

¨g
;

75 
cﬁÀ˘i⁄s
(
cﬁÀ˘i⁄_°
* 
¨g
);

77 
£t_⁄_îr‹
(
ã°_ˇŒback_îr‹_‚
 *
¨g
)

79 
	g_⁄_îr‹

¨g
;

82 
ã°_ªtu∫_t
 
⁄_îr‹
(const test_return_t, *);

84 
£t_sockë
()

86 
	g_£rvîs
.
£t_sockë
();

89 
£t_ß¶
(c⁄° 
°d
::
°rög
& 
u£∫ame_¨g
, c⁄° std::°rög& 
∑ssw‹d_¨g
)

91 
_£rvîs
.
£t_ß¶
(
u£∫ame_¨g
, 
∑ssw‹d_¨g
);

94 
	glibã°
::
£rvî_°¨tup_°
& 
£rvîs
()

96  
_£rvîs
;

99 
£t_ru¬î
(
libã°
::
Ru¬î
 *
¨g
)

101 
_ru¬î

¨g
;

104 
	glibã°
::
Ru¬î
 *
ru¬î
();

106 
exec
();

108 
	glibã°
::
CﬁÀ˘i⁄
& 
cﬁÀ˘i⁄
();

110 
	gvútuÆ
 ~
Fømew‹k
();

112 
Fømew‹k
(
libã°
::
Sig«lThªad
&,

113 c⁄° 
°d
::
°rög
&,

114 c⁄° 
°d
::
°rög
&,

115 c⁄° 
°d
::
°rög
&);

117 
boﬁ
 
m©ch
(c⁄° * 
¨g
);

119 *
¸ót‹s_±r
()

121  
	g_¸ót‹s_±r
;

124 
	glibã°
::
Sig«lThªad
& 
sig«l
()

126  
_sig«l
;

129 
uöt32_t
 
sum_tŸÆ
();

130 
uöt32_t
 
sum_suc˚ss
();

131 
uöt32_t
 
sum_skù≥d
();

132 
uöt32_t
 
sum_Áûed
();

134 
size_t
 
size
()

136  
	g_cﬁÀ˘i⁄
.
size
();

139 
uöt32_t
 
tŸÆ
() const

141  
	g_tŸÆ
;

144 
uöt32_t
 
suc˚ss
() const

146  
	g_suc˚ss
;

149 
uöt32_t
 
skù≥d
() const

151  
	g_skù≥d
;

154 
uöt32_t
 
Áûed
() const

156  
	g_Áûed
;

159 
	gSuôes
& 
suôes
()

161  
	g_cﬁÀ˘i⁄
;

164 
	g¥iv©e
:

165 
uöt32_t
 
_tŸÆ
;

166 
uöt32_t
 
	g_suc˚ss
;

167 
uöt32_t
 
	g_skù≥d
;

168 
uöt32_t
 
	g_Áûed
;

171 
ã°_ˇŒback_¸óã_‚
 *
	g_¸óã
;

172 
ã°_ˇŒback_de°roy_‚
 *
	g_de°roy
;

177 
ã°_ˇŒback_îr‹_‚
 *
	g_⁄_îr‹
;

183 
	glibã°
::
Ru¬î
 *
_ru¬î
;

185 
	glibã°
::
£rvî_°¨tup_°
 
_£rvîs
;

186 
boﬁ
 
	g_sockë
;

187 *
	g_¸ót‹s_±r
;

188 
	g_£rvîs_to_run
;

189 
Suôes
 
	g_cﬁÀ˘i⁄
;

190 
	glibã°
::
Sig«lThªad
& 
_sig«l
;

191 
	g°d
::
°rög
 
_⁄ly_run
;

192 
	g°d
::
°rög
 
_wûdˇrd
;

193 
	g°d
::
°rög
 
_«me
;

195 
	g¥iv©e
:

196 
Fømew‹k
( const Framework& );

197 c⁄° 
	gFømew‹k
& 
	g›î©‹
=–c⁄° 
Fømew‹k
& );

	@oss/libmemcached-1.0.17/libtest/gearmand.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 { 
	gSîvî
; }

41 
«me•a˚
 
	glibã°
 {

43 
	glibã°
::
Sîvî
 *
buûd_górm™d
(c⁄° *
ho°«me
, 
ö_p‹t_t
 
åy_p‹t
, c⁄° * 
bö¨y

NULL
);

	@oss/libmemcached-1.0.17/libtest/get.h

37 #¥agm®
⁄˚


39 #ifdef 
__˝lu•lus


44 
LIBTEST_API


45 
gë_w‹ld
(
libã°
::
Fømew‹k
 *
w‹ld
);

47 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/libtest/killpid.h

37 #¥agm®
⁄˚


40 
boﬁ
 
kûl_pid
(
pid_t
 
pid_¨g
);

42 
boﬁ
 
kûl_fûe
(c⁄° 
°d
::
°rög
 &
fûíame
);

44 
boﬁ
 
check_pid
(c⁄° 
°d
::
°rög
 &
fûíame
);

46 
pid_t
 
gë_pid_‰om_fûe
(c⁄° 
°d
::
°rög
 &
fûíame
, std::
°rög°ªam
& 
îr‹_mesßge
);

48 
ölöe
 
boﬁ
 
	$check_pid
(
pid_t
 
pid_¨g
)

50  (
pid_¨g
 > 1);

51 
	}
}

	@oss/libmemcached-1.0.17/libtest/lite.h

37 #¥agm®
⁄˚


39 #ifde‡
__˝lu•lus


40 
	~<c°d¨g
>

41 
	~<c°ddef
>

42 
	~<c°dio
>

43 
	~<c°dlib
>

44 
	~<c°rög
>

46 
	~<°d¨g.h
>

47 
	~<°dboﬁ.h
>

48 
	~<°ddef.h
>

49 
	~<°dio.h
>

50 
	~<°dlib.h
>

51 
	~<°rög.h
>

54 #i‡
deföed
(
_WIN32
)

55 
	~<mÆloc.h
>

57 
	~<Æloˇ.h
>

60 #i‚de‡
__PRETTY_FUNCTION__


61 
	#__PRETTY_FUNCTION__
 
__func__


	)

64 #i‚de‡
EXIT_SKIP


65 
	#EXIT_SKIP
 77

	)

68 #i‚de‡
YATL_FULL


69 
	#YATL_FULL
 0

	)

72 #i‚de‡
FAIL


73 
	#FAIL
(
__mesßge_f‹m©
, ...)

	)

76 #i‚de‡
SKIP


77 
	#SKIP
(
__mesßge_f‹m©
, ...)

	)

80 
ölöe
 
boﬁ
 
	$vÆgröd_is_ˇŒî
()

82 i‡(
	`gëív
("TESTS_ENVIRONMENT"Ë&& 
	`°r°r
(getenv("TESTS_ENVIRONMENT"), "valgrind"))

84  
åue
;

87  
Ál£
;

88 
	}
}

90 
ölöe
 
size_t
 
	$y©l_°æí
(c⁄° *
s
)

92 i‡(
s
)

94  
	`°æí
(
s
);

97  (
size_t
)(0);

98 
	}
}

100 
ölöe
 
	$y©l_°rcmp
(c⁄° *
s1
, c⁄° *
s2
, 
size_t
 *
s1_Àngth
, size_à*
s2_Àngth
)

102 *
s1_Àngth

	`y©l_°æí
(
s1
);

103 *
s2_Àngth

	`y©l_°æí
(
s2
);

105 i‡(*
s1_Àngth
 =0 && *s1_Àngth =*
s2_Àngth
)

110 i‡(*
s1_Àngth
 =0 && *
s2_Àngth
)

115 i‡(*
s1_Àngth
 && *
s2_Àngth
 == 0)

120  
	`°rcmp
(
s1
, 
s2
);

121 
	}
}

123 
	#SKIP_IF
(
__ex¥essi⁄
) \

126 i‡((
__ex¥essi⁄
)) { \

127 i‡(
YATL_FULL
) { \

128 
	`SKIP
(#__expression); \

130 
	`Ârötf
(
°dout
, "\n%s:%d: %†SKIP '!(%s)'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expression); \

131 
	`exô
(
EXIT_SKIP
); \

133 } 0)

	)

135 
	#SKIP_IF_
(
__ex¥essi⁄
, ...) \

138 i‡((
__ex¥essi⁄
)) { \

139 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

140 
ask
++; \

141 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

142 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

143 i‡(
YATL_FULL
) { \

144 
	`SKIP
(#__ex¥essi⁄, 
buf„r
); \

146 
	`Ârötf
(
°dout
, "\n%s:%d: %†SKIP '%s' [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex¥essi⁄, 
buf„r
); \

147 
	`exô
(
EXIT_SKIP
); \

149 } 0)

	)

151 
	#ASSERT_TRUE
(
__ex¥essi⁄
) \

154 i‡(! (
__ex¥essi⁄
)) { \

155 i‡(
YATL_FULL
) { \

156 
	`FAIL
("Assertion '%s'", #__expression); \

158 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expression);\

159 
	`exô
(
EXIT_FAILURE
); \

161 } 0)

	)

163 
	#ASSERT_FALSE
(
__ex¥essi⁄
) \

166 i‡((
__ex¥essi⁄
)) { \

167 i‡(
YATL_FULL
) { \

168 
	`FAIL
("Assertion '!%s'", #__expression); \

170 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '!%s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expression);\

171 
	`exô
(
EXIT_FAILURE
); \

173 } 0)

	)

175 
	#ASSERT_NULL_
(
__ex¥essi⁄
, ...) \

178 i‡((
__ex¥essi⁄
Ë!
NULL
) { \

179 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

180 
ask
++; \

181 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

182 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

183 i‡(
YATL_FULL
) { \

184 
	`FAIL
("As£πi⁄ '%s' !NULL [ %†]", #__ex¥essi⁄, 
buf„r
);\

186 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' !NULL [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex¥essi⁄, 
buf„r
);\

187 
	`exô
(
EXIT_FAILURE
); \

189 } 0)

	)

191 
	#ASSERT_NOT_NULL
(
__ex¥essi⁄
) \

194 i‡((
__ex¥essi⁄
Ë=
NULL
) { \

195 i‡(
YATL_FULL
) { \

196 
	`FAIL
("Assertion '%s' == NULL", #__expression,);\

198 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' =NULL\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expression,);\

199 
	`exô
(
EXIT_FAILURE
); \

201 } 0)

	)

203 
	#ASSERT_NOT_NULL_
(
__ex¥essi⁄
, ...) \

206 i‡((
__ex¥essi⁄
Ë=
NULL
) { \

207 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

208 
ask
++; \

209 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

210 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

211 i‡(
YATL_FULL
) { \

212 
	`FAIL
("As£πi⁄ '%s' =NULL [ %†]", #__ex¥essi⁄, 
buf„r
);\

214 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' =NULL [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex¥essi⁄, 
buf„r
);\

215 
	`exô
(
EXIT_FAILURE
); \

217 } 0)

	)

219 
	#ASSERT_TRUE_
(
__ex¥essi⁄
, ...) \

222 i‡(! (
__ex¥essi⁄
)) { \

223 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

224 
ask
++; \

225 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

226 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

227 i‡(
YATL_FULL
) { \

228 
	`FAIL
("As£πi⁄ '%s' [ %†]", #__ex¥essi⁄, 
buf„r
); \

230 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex¥essi⁄, 
buf„r
); \

231 
	`exô
(
EXIT_FAILURE
); \

233 } 0)

	)

235 
	#ASSERT_EQ
(
__ex≥˘ed
, 
__a˘uÆ
) \

238 i‡((
__ex≥˘ed
Ë!(
__a˘uÆ
)) { \

239 i‡(
YATL_FULL
) { \

240 
	`FAIL
("Assertion '%s' != '%s'", #__expected, #__actual); \

242 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' !'%s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expected, #__actual); \

243 
	`exô
(
EXIT_FAILURE
); \

245 } 0)

	)

247 
	#ASSERT_EQ_
(
__ex≥˘ed
, 
__a˘uÆ
, ...) \

250 i‡((
__ex≥˘ed
Ë!(
__a˘uÆ
)) { \

251 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

252 
ask
++; \

253 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

254 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

255 i‡(
YATL_FULL
) { \

256 
	`FAIL
("As£πi⁄ '%s' !'%s' [ %†]", #__ex≥˘ed, #__a˘uÆ, 
buf„r
); \

258 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' !'%s' [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex≥˘ed, #__a˘uÆ, 
buf„r
); \

259 
	`exô
(
EXIT_FAILURE
); \

261 } 0)

	)

263 
	#ASSERT_STREQ
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
) \

266 
size_t
 
__ex≥˘ed_Àngth
; \

267 
size_t
 
__a˘uÆ_Àngth
; \

268 
ªt

	`y©l_°rcmp
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, &
__ex≥˘ed_Àngth
, &
__a˘uÆ_Àngth
); \

269 i‡(
ªt
) { \

270 i‡(
YATL_FULL
) { \

271 
	`FAIL
("Assertion '%.*s' != '%.*s'\n", \

272 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

273 ()
__a˘uÆ_Àngth
, (
__a˘uÆ_°r
)) ; \

275 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%.*s' !'%.*s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, \

276 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

277 ()
__a˘uÆ_Àngth
, (
__a˘uÆ_°r
)) ; \

278 
	`exô
(
EXIT_FAILURE
); \

280 } 0)

	)

282 
	#ASSERT_STREQ_
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, ...) \

285 
size_t
 
__ex≥˘ed_Àngth
; \

286 
size_t
 
__a˘uÆ_Àngth
; \

287 
ªt

	`y©l_°rcmp
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, &
__ex≥˘ed_Àngth
, &
__a˘uÆ_Àngth
); \

288 i‡(
ªt
) { \

289 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

290 
ask
++; \

291 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

292 
ask

	`¢¥ötf
(
buf„r
,ásk, 
__VA_ARGS__
); \

293 i‡(
YATL_FULL
) { \

294 
	`FAIL
("Assertion '%.*s' != '%.*s' [ %.*s ]", \

295 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

296 ()(
__a˘uÆ_Àngth
), (
__a˘uÆ_°r
), \

297 ()(
ask
), 
buf„r
); \

299 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%.*s' !'%.*s' [ %.*†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, \

300 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

301 ()(
__a˘uÆ_Àngth
), (
__a˘uÆ_°r
), \

302 ()(
ask
), 
buf„r
); \

303 
	`exô
(
EXIT_FAILURE
); \

305 } 0)

	)

307 
	#ASSERT_STRNE
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
) \

310 
size_t
 
__ex≥˘ed_Àngth
; \

311 
size_t
 
__a˘uÆ_Àngth
; \

312 
ªt

	`y©l_°rcmp
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, &
__ex≥˘ed_Àngth
, &
__a˘uÆ_Àngth
); \

313 i‡(
ªt
 == 0) { \

314 i‡(
YATL_FULL
) { \

315 
	`FAIL
("Assertion '%.*s' == '%.*s'", \

316 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

317 ()
__a˘uÆ_Àngth
, (
__a˘uÆ_°r
)) ; \

319 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%.*s' ='%.*s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, \

320 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

321 ()
__a˘uÆ_Àngth
, (
__a˘uÆ_°r
)) ; \

322 
	`exô
(
EXIT_FAILURE
); \

324 } 0)

	)

326 
	#ASSERT_STRNE_
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, ...) \

329 
size_t
 
__ex≥˘ed_Àngth
; \

330 
size_t
 
__a˘uÆ_Àngth
; \

331 
ªt

	`y©l_°rcmp
(
__ex≥˘ed_°r
, 
__a˘uÆ_°r
, &
__ex≥˘ed_Àngth
, &
__a˘uÆ_Àngth
); \

332 i‡(
ªt
 == 0) { \

333 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

334 
ask
++; \

335 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

336 
ask

	`¢¥ötf
(
buf„r
,ásk, 
__VA_ARGS__
); \

337 i‡(
YATL_FULL
) { \

338 
	`FAIL
("Assertion '%.*s' == '%.*s' [ %.*s ]", \

339 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

340 ()(
__a˘uÆ_Àngth
), (
__a˘uÆ_°r
), \

341 ()(
ask
), 
buf„r
); \

343 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%.*s' ='%.*s' [ %.*†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, \

344 ()(
__ex≥˘ed_Àngth
), (
__ex≥˘ed_°r
), \

345 ()(
__a˘uÆ_Àngth
), (
__a˘uÆ_°r
), \

346 ()(
ask
), 
buf„r
); \

347 
	`exô
(
EXIT_FAILURE
); \

349 } 0)

	)

351 
	#ASSERT_NEQ
(
__ex≥˘ed
, 
__a˘uÆ
) \

354 i‡((
__ex≥˘ed
Ë=(
__a˘uÆ
)) { \

355 i‡(
YATL_FULL
) { \

356 
	`FAIL
("Assertion '%s' == '%s'", #__expected, #__actual); \

358 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' ='%s'\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__expected, #__actual); \

359 
	`exô
(
EXIT_FAILURE
); \

361 } 0)

	)

363 
	#ASSERT_NEQ_
(
__ex≥˘ed
, 
__a˘uÆ
, ...) \

366 i‡((
__ex≥˘ed
Ë=(
__a˘uÆ
)) { \

367 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

368 
ask
++; \

369 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

370 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

371 i‡(
YATL_FULL
) { \

372 
	`FAIL
("As£πi⁄ '%s' ='%s' [ %†]", #__ex≥˘ed, #__a˘uÆ, 
buf„r
); \

374 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '%s' ='%s' [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex≥˘ed, #__a˘uÆ, 
buf„r
); \

375 
	`exô
(
EXIT_FAILURE
); \

377 } 0)

	)

379 
	#ASSERT_FALSE_
(
__ex¥essi⁄
, ...) \

382 i‡((
__ex¥essi⁄
)) { \

383 
size_t
 
ask

	`¢¥ötf
(0, 0, 
__VA_ARGS__
); \

384 
ask
++; \

385 *
buf„r
(*)
	`Æloˇ
((Ë* 
ask
); \

386 
	`¢¥ötf
(
buf„r
, 
ask
, 
__VA_ARGS__
); \

387 i‡(
YATL_FULL
) { \

388 
	`FAIL
("As£πi⁄ '!%s' [ %†]", #__ex¥essi⁄, 
buf„r
); \

390 
	`Ârötf
(
°dîr
, "\n%s:%d: %†As£πi⁄ '!%s' [ %†]\n", 
__FILE__
, 
__LINE__
, 
__PRETTY_FUNCTION__
, #__ex¥essi⁄, 
buf„r
); \

391 
	`exô
(
EXIT_FAILURE
); \

393 } 0)

	)

	@oss/libmemcached-1.0.17/libtest/memcached.h

37 #¥agm®
⁄˚


39 
«me•a˚
 
	glibã°
 {

41 
	glibã°
::
Sîvî
 *
buûd_memˇched
(c⁄° 
°d
::
°rög
& 
ho°«me
, c⁄° 
ö_p‹t_t
 
åy_p‹t
);

43 
	glibã°
::
Sîvî
 *
buûd_memˇched_sockë
(c⁄° 
°d
::
°rög
& 
sockë_fûe
, c⁄° 
ö_p‹t_t
 
åy_p‹t
);

	@oss/libmemcached-1.0.17/libtest/port.h

41 #¥agm®
⁄˚


43 
	#LIBTEST_FAIL_PORT
 23

	)

45 
«me•a˚
 
	glibã°
 {

47 
LIBTEST_API


48 
ö_p‹t_t
 
deÁu…_p‹t
();

50 
LIBTEST_API


51 
ö_p‹t_t
 
gë_‰ì_p‹t
();

53 
LIBTEST_API


54 
ªÀa£_p‹t
(
ö_p‹t_t
 
¨g
);

	@oss/libmemcached-1.0.17/libtest/runner.h

37 #¥agm®
⁄˚


40 
«me•a˚
 
	glibã°
 {

46 ˛as†
	cRu¬î
 {

47 
	gpublic
:

48 
ã°_ªtu∫_t
 
maö
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

49 
ã°_ªtu∫_t
 
£tup
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

50 
ã°_ªtu∫_t
 
ã¨down
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

52 
Ru¬î
();

54 
£t_£rvîs
(
libã°
::
£rvî_°¨tup_°
& 
¨g
);

56 
boﬁ
 
check
();

58 
	gvútuÆ
 ~
Ru¬î
() { }

60 
vútuÆ
 
ã°_ªtu∫_t
 
Êush
(*);

61 
vútuÆ
 
ã°_ªtu∫_t
 
run
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

62 
vútuÆ
 
ã°_ªtu∫_t
 
¥e
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

63 
vútuÆ
 
ã°_ªtu∫_t
 
po°
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
);

65 
	g¥iv©e
:

66 
libã°
::
£rvî_°¨tup_°
* 
_£rvîs
;

68 
	g¥iv©e
:

69 
Ru¬î
( const Runner& );

70 c⁄° 
	gRu¬î
& 
	g›î©‹
=–c⁄° 
Ru¬î
& );

	@oss/libmemcached-1.0.17/libtest/server.h

37 #¥agm®
⁄˚


39 
	~<libã°/cmdlöe.h
>

41 
	~<ˇs£π
>

42 
	~<c°dio
>

43 
	~<c°rög
>

44 
	~<√tdb.h
>

45 
	~<√töë/ö.h
>

46 
	~<°rög
>

47 
	~<uni°d.h
>

48 
	~<ve˘‹
>

50 
«me•a˚
 
	glibã°
 {

52 
	sSîvî
 {

53 
	g¥iv©e
:

54 
°d
::
	tve˘‹
< 
	t°d
::
	t∑ú
<°d::
	t°rög
, std::°rög> > 
	tO±i⁄s
;

56 
	g¥iv©e
:

57 
uöt64_t
 
_magic
;

58 
boﬁ
 
	g_is_sockë
;

59 
	g°d
::
°rög
 
_sockë
;

60 
	g°d
::
°rög
 
_ß¶
;

61 
	g°d
::
°rög
 
_pid_fûe
;

62 
	g°d
::
°rög
 
_log_fûe
;

63 
	g°d
::
°rög
 
_ba£_comm™d
;

64 
	g°d
::
°rög
 
_ru¬ög
;

66 
	g¥Ÿe˘ed
:

67 
ö_p‹t_t
 
_p‹t
;

68 
	g°d
::
°rög
 
_ho°«me
;

69 
	g°d
::
°rög
 
_exåa_¨gs
;

71 
	gpublic
:

72 
Sîvî
(c⁄° 
°d
::
°rög
& 
ho°«me
, c⁄° 
ö_p‹t_t
 
p‹t_¨g
,

73 c⁄° 
°d
::
°rög
& 
execuèbÀ
, c⁄° 
boﬁ
 
_is_libtoﬁ
,

74 c⁄° 
boﬁ
 
is_sockë_¨g

Ál£
);

76 
	gvútuÆ
 ~
Sîvî
();

78 
vútuÆ
 c⁄° *
«me
()= 0;

79 
vútuÆ
 
boﬁ
 
is_libtoﬁ
()= 0;

81 
vútuÆ
 
boﬁ
 
has_sockë_fûe_›ti⁄
() const

83  
	gÁl£
;

86 
vútuÆ
 
sockë_fûe_›ti⁄
(
Aµliˇti⁄
& 
≠p
, c⁄° 
°d
::
°rög
& 
sockë_¨g
)

88 i‡(
sockë_¨g
.
em±y
(Ë=
Ál£
)

90 
°d
::
°rög
 
buf„r
("--socket=");

91 
	gbuf„r
+
sockë_¨g
;

92 
	g≠p
.
add_›ti⁄
(
buf„r
);

96 
vútuÆ
 
boﬁ
 
has_log_fûe_›ti⁄
() const

98  
	gÁl£
;

101 
vútuÆ
 
log_fûe_›ti⁄
(
Aµliˇti⁄
& 
≠p
, c⁄° 
°d
::
°rög
& 
¨g
)

103 i‡(
¨g
.
em±y
(Ë=
Ál£
)

105 
°d
::
°rög
 
buf„r
("--log-file=");

106 
	gbuf„r
+
¨g
;

107 
	g≠p
.
add_›ti⁄
(
buf„r
);

111 
vútuÆ
 
pid_fûe_›ti⁄
(
Aµliˇti⁄
& 
≠p
, c⁄° 
°d
::
°rög
& 
¨g
)

113 i‡(
¨g
.
em±y
(Ë=
Ál£
)

115 
°d
::
°rög
 
buf„r
("--pid-file=");

116 
	gbuf„r
+
¨g
;

117 
	g≠p
.
add_›ti⁄
(
buf„r
);

121 
vútuÆ
 
boﬁ
 
has_p‹t_›ti⁄
() const

123  
	gÁl£
;

126 
vútuÆ
 
p‹t_›ti⁄
(
Aµliˇti⁄
& 
≠p
, 
ö_p‹t_t
 
¨g
)

128 i‡(
	g¨g
 > 0)

130 
	gbuf„r
[1024];

131 
¢¥ötf
(
buf„r
, (buf„r), "--p‹t=%d", (
¨g
));

132 
	g≠p
.
add_›ti⁄
(
buf„r
);

136 
vútuÆ
 
boﬁ
 
brokí_sockë_˛ónup
()

138  
	gÁl£
;

141 
vútuÆ
 
boﬁ
 
brokí_pid_fûe
()

143  
	gÁl£
;

146 c⁄° 
	g°d
::
°rög
& 
pid_fûe
() const

148  
_pid_fûe
;

151 c⁄° 
	g°d
::
°rög
& 
ba£_comm™d
() const

153  
_ba£_comm™d
;

156 c⁄° 
	g°d
::
°rög
& 
log_fûe
() const

158  
_log_fûe
;

161 c⁄° 
	g°d
::
°rög
& 
ho°«me
() const

163  
_ho°«me
;

166 c⁄° 
	g°d
::
°rög
& 
sockë
() const

168  
_sockë
;

171 
boﬁ
 
has_sockë
() const

173  
	g_is_sockë
;

176 
boﬁ
 
cy˛e
();

178 
vútuÆ
 
boﬁ
 
pög
()= 0;

180 
boﬁ
 
öô
(c⁄° *
¨gv
[]);

181 
vútuÆ
 
boﬁ
 
buûd
()= 0;

183 
add_›ti⁄
(c⁄° 
°d
::
°rög
&);

184 
add_›ti⁄
(c⁄° 
°d
::
°rög
&, const std::string&);

186 
ö_p‹t_t
 
p‹t
() const

188  
	g_p‹t
;

191 
boﬁ
 
has_p‹t
() const

193  (
	g_p‹t
 != 0);

196 
vútuÆ
 
boﬁ
 
has_sy¶og
() const

198  
	gÁl£
;

202 
ª£t
()

204 
	g_pid_fûe
.
˛ór
();

205 
	g_log_fûe
.
˛ór
();

208 
pid_t
 
pid
() const;

210 
boﬁ
 
has_pid
() const;

212 
vútuÆ
 
boﬁ
 
has_pid_fûe
() const

214  
	gåue
;

217 c⁄° 
	g°d
::
°rög
& 
îr‹
()

219  
_îr‹
;

222 
îr‹
(
°d
::
°rög
 
¨g
)

224 
_îr‹

¨g
;

227 
ª£t_îr‹
()

229 
	g_îr‹
.
˛ór
();

232 
vútuÆ
 
boﬁ
 
waô_f‹_pidfûe
() const;

234 
boﬁ
 
check_pid
(
pid_t
 
pid_¨g
) const

236  (
	gpid_¨g
 > 1);

239 
boﬁ
 
is_sockë
() const

241  
	g_is_sockë
;

244 c⁄° 
	g°d
::
°rög
 
ru¬ög
() const

246  
_ru¬ög
;

249 
boﬁ
 
check
();

251 
	g°d
::
°rög
 
log_™d_pid
();

253 
boﬁ
 
kûl
();

254 
boﬁ
 
°¨t
();

255 
boﬁ
 
comm™d
(
libã°
::
Aµliˇti⁄
& 
≠p
);

257 
boﬁ
 
vÆid©e
();

259 
out_of_b™_kûÀd
(
boﬁ
 
¨g
)

261 
	gout_of_b™_kûÀd_

¨g
;

264 
boﬁ
 
out_of_b™_kûÀd
()

266  
	gout_of_b™_kûÀd_
;

269 
timeout
(
uöt32_t
 
timeout_
)

271 
	g_timeout

timeout_
;

274 
	g¥Ÿe˘ed
:

275 
boﬁ
 
£t_pid_fûe
();

276 
O±i⁄s
 
	g_›ti⁄s
;

277 
Aµliˇti⁄
 
	g_≠p
;

279 
	g¥iv©e
:

280 
boﬁ
 
is_hñgröd
() const;

281 
boﬁ
 
is_vÆgröd
() const;

282 
boﬁ
 
is_debug
() const;

283 
boﬁ
 
£t_log_fûe
();

284 
boﬁ
 
£t_sockë_fûe
();

285 
ª£t_pid
();

286 
boﬁ
 
	gout_of_b™_kûÀd_
;

287 
boﬁ
 
¨gs
(
Aµliˇti⁄
&);

289 
	g°d
::
°rög
 
_îr‹
;

290 
uöt32_t
 
	g_timeout
;

293 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam& 
ouçut
, c⁄° 
	glibã°
::
Sîvî
 &
¨g
);

	@oss/libmemcached-1.0.17/libtest/server_container.h

37 #¥agm®
⁄˚


39 
	~<ˇs£π
>

40 
	~<c°dio
>

41 
	~<c°rög
>

42 
	~<√tdb.h
>

43 
	~<√töë/ö.h
>

44 
	~<°rög
>

45 
	~<uni°d.h
>

46 
	~<ve˘‹
>

48 
«me•a˚
 
	glibã°
 {

50 ˛as†
	c£rvî_°¨tup_°


52 
	g¥iv©e
:

53 
uöt64_t
 
_magic
;

54 
	g°d
::
°rög
 
£rvî_li°
;

55 
boﬁ
 
	g_sockë
;

56 
boﬁ
 
	g_ß¶
;

57 
	g°d
::
°rög
 
_u£∫ame
;

58 
	g°d
::
°rög
 
_∑ssw‹d
;

60 
	gpublic
:

62 
uöt8_t
 
udp
;

63 
	g°d
::
ve˘‹
<
Sîvî
 *> 
£rvîs
;

65 
£rvî_°¨tup_°
();

66 ~
£rvî_°¨tup_°
();

68 
boﬁ
 
vÆid©e
();

70 
boﬁ
 
°¨t_sockë_£rvî
(c⁄° 
°d
::
°rög
& 
£rvî_ty≥
, c⁄° 
ö_p‹t_t
 
åy_p‹t
, c⁄° *
¨gv
[]);

71 
boﬁ
 
°¨t_£rvî
(c⁄° 
°d
::
°rög
& 
£rvî_ty≥
, c⁄° 
ö_p‹t_t
 
åy_p‹t
, c⁄° *
¨gv
[]);

73 
uöt32_t
 
cou¡
() const

75  
uöt32_t
(
£rvîs
.
size
());

78 
ª°¨t
();

80 
	g°d
::
°rög
 
›ti⁄_°rög
() const;

82 c⁄° 
	g°d
::
°rög
& 
∑ssw‹d
() const

84  
_∑ssw‹d
;

87 c⁄° 
	g°d
::
°rög
& 
u£∫ame
() const

89  
_u£∫ame
;

92 
boﬁ
 
sockë
()

94  
	g_sockë
;

97 
boﬁ
 
ß¶
()

99  
	g_ß¶
;

102 
£t_sockë
()

104 
	g_sockë

åue
;

107 
£t_ß¶
(c⁄° 
°d
::
°rög
& 
u£∫ame_¨g
, c⁄° std::°rög& 
∑ssw‹d_¨g
)

109 
_ß¶

åue
;

110 
	g_u£∫ame

u£∫ame_¨g
;

111 
	g_∑ssw‹d

∑ssw‹d_¨g
;

116 
˛ór
();

118 
boﬁ
 
shutdown
();

119 
boﬁ
 
shutdown
(
uöt32_t
 
numbî_of_ho°
);

121 
boﬁ
 
check
() const;

123 
push_£rvî
(
Sîvî
 *);

124 
Sîvî
* 
œ°
();

125 
Sîvî
 *
p›_£rvî
();

127 
Sîvî
* 
¸óã
(c⁄° 
°d
::
°rög
& 
£rvî_ty≥
, 
ö_p‹t_t
 
åy_p‹t
, c⁄° 
boﬁ
 
is_sockë
);

129 
£rvîs_to_run
() const

131  
	g_£rvîs_to_run
;

134 
£t_£rvîs_to_run
(
¨g
)

136 
	g_£rvîs_to_run

¨g
;

139 
	g¥iv©e
:

140 
boﬁ
 
_°¨t_£rvî
(c⁄° boﬁ 
is_sockë
,

141 c⁄° 
°d
::
°rög
& 
£rvî_ty≥
,

142 c⁄° 
ö_p‹t_t
 
åy_p‹t
,

143 c⁄° *
¨gv
[]);

145 
	g¥iv©e
:

146 
_£rvîs_to_run
;

149 
boﬁ
 
£rvî_°¨tup
(
£rvî_°¨tup_°
&, c⁄° 
°d
::
°rög
&, 
ö_p‹t_t
 
åy_p‹t
, c⁄° *
¨gv
[]);

	@oss/libmemcached-1.0.17/libtest/signal.h

37 #¥agm®
⁄˚


39 
	~<±hªad.h
>

40 
	~<£m≠h‹e.h
>

41 
	~<sig«l.h
>

43 
	eshutdown_t
 {

44 
	mSHUTDOWN_RUNNING
,

45 
	mSHUTDOWN_GRACEFUL
,

46 
	mSHUTDOWN_FORCED


49 
«me•a˚
 
	glibã°
 {

51 ˛as†
	cSig«lThªad
 {

52 
sig£t_t
 
	g£t
;

53 
£m_t
 
	glock
;

54 
uöt64_t
 
	gmagic_mem‹y
;

55 vﬁ©ûê
shutdown_t
 
	g__shutdown
;

56 
±hªad_muãx_t
 
	gshutdown_muãx
;

57 
±hªad_t
 
	gthªad
;

58 
sig£t_t
 
	g‹igöÆ_£t
;

60 
	gpublic
:

62 
Sig«lThªad
();

63 ~
Sig«lThªad
();

65 
ã°
();

66 
po°
();

67 
boﬁ
 
£tup
();

68 
boﬁ
 
unblock
();

70 
waô
(& 
sig
)

72  
sigwaô
(&
£t
, &
sig
);

75 
£t_shutdown
(
shutdown_t
 
¨g
);

76 
boﬁ
 
is_shutdown
();

77 
shutdown_t
 
gë_shutdown
();

	@oss/libmemcached-1.0.17/libtest/stream.h

37 #¥agm®
⁄˚


39 
	~<io°ªam
>

40 
	~<ˇs£π
>

41 
	~<s°ªam
>

42 
	~<˘ime
>

43 
	~<o°ªam
>

45 
«me•a˚
 
	glibã°
 {

46 
«me•a˚
 
	g°ªam
 {

48 
«me•a˚
 
	gdëaû
 {

50 
	gãm∂©e
<
˛ass
 
	gCh
, cœs†
	gTr
, cœs†
	gA
>

51 ˛as†
	cch™√l
 {

52 
	g¥iv©e
:

54 
public
:

55 
°d
::
	tbasic_o°rög°ªam
<
	tCh
, 
	tTr
, 
	tA
> 
	t°ªam_buf„r
;

57 
	gpublic
:

58 
›î©‹
()(c⁄° 
°ªam_buf„r
& 
s
, 
	g°d
::
o°ªam
& 
_out
,

59 c⁄° * 
	gfûíame
, 
	glöe_numbî
, c⁄° * 
	gfunc
)

61 i‡(
	gfûíame
)

63 
	g_out


64 << 
	gfûíame


66 << 
	glöe_numbî


68 << 
	gfunc
 << "() "

69 << 
	gs
.
°r
()

70 << 
	g°d
::
ídl
;

74 
	g_out


75 << 
	gs
.
°r
()

76 << 
	g°d
::
ídl
;

81 
	gãm∂©e
<
˛ass
 
	gCh
, cœs†
	gTr
, cœs†
	gA
>

82 ˛as†
	cch™√Œn
 {

83 
	g¥iv©e
:

85 
public
:

86 
°d
::
	tbasic_o°rög°ªam
<
	tCh
, 
	tTr
, 
	tA
> 
	t°ªam_buf„r
;

88 
	gpublic
:

89 
›î©‹
()(c⁄° 
°ªam_buf„r
& 
s
, 
	g°d
::
o°ªam
& 
_out
,

90 c⁄° * 
	gfûíame
, 
	glöe_numbî
, c⁄° * 
	gfunc
)

92 i‡(
	gfûíame
)

94 
	g_out


95 << 
	g°d
::
ídl


96 << 
fûíame


98 << 
löe_numbî


100 << 
func
 << "() "

101 << 
s
.
°r
()

102 << 
°d
::
ídl
;

106 
	g_out


107 << 
	g°d
::
ídl


108 << 
s
.
°r
()

109 << 
°d
::
ídl
;

114 
	gãm∂©e
<ãm∂©ê<
˛ass
 
	gCh
, cœs†
	gTr
, cœs†
	gA
> cœs†
	gOuçutPﬁicy
, cœs†Ch = , cœs†T∏
°d
::
ch¨_åaôs
<
Ch
>, cœs†A = std::
Æloˇt‹
<Ch> >

115 ˛as†
	clog
 {

116 
¥iv©e
:

117 
OuçutPﬁicy
<
	tCh
, 
	tTr
, 
	tA
> 
	touçut_pﬁicy
;

119 
	g¥iv©e
:

120 
°d
::
o°ªam
& 
_out
;

121 c⁄° *
	g_fûíame
;

122 
	g_löe_numbî
;

123 c⁄° *
	g_func
;

125 
	gpublic
:

126 
log
(
°d
::
o°ªam
& 
out_¨g
, c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

127 
_out
(
out_¨g
),

128 
_fûíame
(
fûíame
),

129 
_löe_numbî
(
löe_numbî
),

130 
_func
(
func
)

133 
	gvútuÆ
 ~
log
()

135 
ouçut_pﬁicy
()(
	g¨g
, 
	g_out
, 
	g_fûíame
, 
	g_löe_numbî
, 
	g_func
);

138 
	gpublic
:

139 
ãm∂©e
<
˛ass
 
T
>

140 
log
 &
›î©‹
<<(c⁄° 
T
 &
x
)

142 
¨g
 << 
x
;

143  *
	gthis
;

146 
	g¥iv©e
:

147 
ty≥«me
 
ouçut_pﬁicy
::
°ªam_buf„r
 
¨g
;

149 
	g¥iv©e
:

150 
log
( constÜog& );

151 c⁄° 
	glog
& 
	g›î©‹
=–c⁄° 
log
& );

155 
˛ass
 
	gmake_˚º
 : 
public
 
dëaû
::
log
<dëaû::
ch™√Œn
> {

156 
public
:

157 
make_˚º
(c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

158 
dëaû
::
log
<dëaû::
ch™√Œn
>(
°d
::
˚º
, 
	gfûíame
, 
	glöe_numbî
, 
	gfunc
)

161 
	g¥iv©e
:

162 
make_˚º
( const make_cerr& );

163 c⁄° 
	gmake_˚º
& 
	g›î©‹
=–c⁄° 
make_˚º
& );

166 
˛ass
 
	g˚º
 : 
public
 
dëaû
::
log
<dëaû::
ch™√l
> {

167 
public
:

168 
˚º
(c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

169 
dëaû
::
log
<dëaû::
ch™√l
>(
°d
::
cout
, 
	gfûíame
, 
	glöe_numbî
, 
	gfunc
)

172 
	g¥iv©e
:

173 
˚º
( const cerr& );

174 c⁄° 
	g˚º
& 
	g›î©‹
=–c⁄° 
˚º
& );

177 
˛ass
 
	g˛og
 : 
public
 
dëaû
::
log
<dëaû::
ch™√l
> {

178 
public
:

179 
˛og
(c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

180 
dëaû
::
log
<dëaû::
ch™√l
>(
°d
::
˛og
, 
	gfûíame
, 
	glöe_numbî
, 
	gfunc
)

183 
	g¥iv©e
:

184 
˛og
( const clog& );

185 c⁄° 
	g˛og
& 
	g›î©‹
=–c⁄° 
˛og
& );

188 
˛ass
 
	gmake_cout
 : 
public
 
dëaû
::
log
<dëaû::
ch™√Œn
> {

189 
public
:

190 
make_cout
(c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

191 
dëaû
::
log
<dëaû::
ch™√Œn
>(
°d
::
cout
, 
	gfûíame
, 
	glöe_numbî
, 
	gfunc
)

194 
	g¥iv©e
:

195 
make_cout
( const make_cout& );

196 c⁄° 
	gmake_cout
& 
	g›î©‹
=–c⁄° 
make_cout
& );

199 
˛ass
 
	gcout
 : 
public
 
dëaû
::
log
<dëaû::
ch™√l
> {

200 
public
:

201 
cout
(c⁄° * 
fûíame
, 
löe_numbî
, c⁄° * 
func
) :

202 
dëaû
::
log
<dëaû::
ch™√l
>(
°d
::
cout
, 
	gfûíame
, 
	glöe_numbî
, 
	gfunc
)

205 
	g¥iv©e
:

206 
cout
( const cout& );

207 c⁄° 
	gcout
& 
	g›î©‹
=–c⁄° 
cout
& );

213 
	#Eº‹
 
°ªam
::
	$˚º
(
__FILE__
, 
__LINE__
, 
__func__
)

	)

215 
	#Out
 
°ªam
::
	$cout
(
NULL
, 
__LINE__
, 
__func__
)

	)

217 
	#Ouä
(Ë
°ªam
::
	`cout
(
NULL
, 
__LINE__
, 
__func__
Ë<< " "

	)

219 
	#Log
 
°ªam
::
	$˛og
(
NULL
, 
__LINE__
, 
__func__
)

	)

221 
	#Logn
(Ë
°ªam
::
	`˛og
(
NULL
, 
__LINE__
, 
__func__
Ë<< " "

	)

223 
	}
}

	@oss/libmemcached-1.0.17/libtest/strerror.h

37 #¥agm®
⁄˚


39 
	~<ve˘‹
>

40 
	~<io°ªam
>

42 
«me•a˚
 
	glibã°
 {

47 
LIBTEST_API


48 c⁄° *
ã°_°ªº‹
(
ã°_ªtu∫_t
 
code
);

52 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam& 
ouçut
, c⁄° 
	gã°_ªtu∫_t
 &
	g¨g
);

53 
	g°d
::
o°ªam
& 
›î©‹
<<(
°d
::o°ªam& 
ouçut
, c⁄° std::
ve˘‹
<> &
¨g
);

	@oss/libmemcached-1.0.17/libtest/test.h

37 #¥agm®
⁄˚


39 #i‚de‡
__INTEL_COMPILER


40 #¥agm®
GCC
 
dügno°ic
 
ign‹ed
 "-Wold-style-cast"

43 
	~<libã°/lôe.h
>

48 
	sã°_°
 {

49 c⁄° *
	m«me
;

50 
boﬁ
 
	mªquúes_Êush
;

51 
ã°_ˇŒback_‚
 *
	mã°_‚
;

54 
	#ã°_as£π_î∫o
(
A
) \

57 i‡((
A
)) { \

58 
	`Ârötf
(
°dîr
, "\n%s:%d: As£πi⁄ faûed f‹ %s: ", 
__FILE__
, 
__LINE__
, 
__func__
);\

59 
	`≥º‹
(#A); \

60 
	`Ârötf
(
°dîr
, "\n"); \

61 
libã°
::
	`¸óã_c‹e
(); \

62 
	`as£π
((
A
)); \

64 } 0)

	)

66 
	#ã°_åuth
(
A
) \

69 i‡(! (
A
)) { \

70 
	`Ârötf
(
°dîr
, "\n%s:%d: As£πi⁄ \"%s\" faûed, i¿%s\n", 
__FILE__
, 
__LINE__
, #A, 
__func__
);\

71 
libã°
::
	`¸óã_c‹e
(); \

72  
TEST_FAILURE
; \

74 } 0)

	)

76 
	#ã°_åue
(
A
) \

79 i‡(! (
A
)) { \

80 
	`Ârötf
(
°dîr
, "\n%s:%d: As£πi⁄ \"%s\" faûed, i¿%s\n", 
__FILE__
, 
__LINE__
, #A, 
__func__
);\

81 
libã°
::
	`¸óã_c‹e
(); \

82  
TEST_FAILURE
; \

84 } 0)

	)

86 
	#ã°_åue_gŸ
(
A
, 
B
Ë
	`ã°_åue
(A);

	)

87 
	#ã°_åue_höt
(
A
, 
B
Ë
	`ã°_åue
(A);

	)

89 
	#ã°_com∑ª_höt
(
A
, 
B
, 
C
Ë
	`ã°_com∑ª
(A, B);

	)

90 
	#ã°_com∑ª_gŸ
(
A
, 
B
, 
C
Ë
	`ã°_com∑ª
(A, B);

	)

92 
	#ã°_skù
(
__ex≥˘ed
, 
__a˘uÆ
) \

95 i‡(
libã°
::
	`_com∑ª
(
__FILE__
, 
__LINE__
, 
__func__
, ((
__ex≥˘ed
)), ((
__a˘uÆ
)), 
Ál£
) == false) \

97  
TEST_SKIPPED
; \

99 } 0)

	)

101 
	#ã°_skù_vÆgröd
() \

104 i‡(
libã°
::
	`_ö_vÆgröd
(
__FILE__
, 
__LINE__
, 
__func__
)) \

106  
TEST_SKIPPED
; \

108 } 0)

	)

110 
	#ã°_Áû
(
A
) \

114 
	`Ârötf
(
°dîr
, "\n%s:%d: Faûed wôh %s, i¿%s\n", 
__FILE__
, 
__LINE__
, #A, 
__func__
);\

115 
libã°
::
	`¸óã_c‹e
(); \

116  
TEST_FAILURE
; \

118 } 0)

	)

121 
	#ã°_Ál£
(
A
) \

124 i‡((
A
)) { \

125 
	`Ârötf
(
°dîr
, "\n%s:%d: As£πi⁄ faûed %s, i¿%s\n", 
__FILE__
, 
__LINE__
, #A, 
__func__
);\

126 
libã°
::
	`¸óã_c‹e
(); \

127  
TEST_FAILURE
; \

129 } 0)

	)

131 
	#ã°_Ál£_wôh
(
A
,
B
) \

134 i‡((
A
)) { \

135 
	`Ârötf
(
°dîr
, "\n%s:%d: As£πi⁄ faûed %†wôh %s\n", 
__FILE__
, 
__LINE__
, #A, (
B
));\

136 
libã°
::
	`¸óã_c‹e
(); \

137  
TEST_FAILURE
; \

139 } 0)

	)

141 
	#ã°_√_com∑ª
(
__ex≥˘ed
, 
__a˘uÆ
) \

144 i‡(
libã°
::
	`_√_com∑ª
(
__FILE__
, 
__LINE__
, 
__func__
, ((
__ex≥˘ed
)), ((
__a˘uÆ
)), 
åue
Ë=
Ál£
) \

146 
libã°
::
	`¸óã_c‹e
(); \

147  
TEST_FAILURE
; \

149 } 0)

	)

151 
	#ã°_com∑ª
(
__ex≥˘ed
, 
__a˘uÆ
) \

154 i‡(
libã°
::
	`_com∑ª
(
__FILE__
, 
__LINE__
, 
__func__
, ((
__ex≥˘ed
)), ((
__a˘uÆ
)), 
åue
Ë=
Ál£
) \

156 
libã°
::
	`¸óã_c‹e
(); \

157  
TEST_FAILURE
; \

159 } 0)

	)

161 
	#ã°_zîo
(
__a˘uÆ
) \

164 i‡(
libã°
::
	`_com∑ª_zîo
(
__FILE__
, 
__LINE__
, 
__func__
, ((
__a˘uÆ
))Ë=
Ál£
) \

166 
libã°
::
	`¸óã_c‹e
(); \

167  
TEST_FAILURE
; \

169 } 0)

	)

171 
	#ã°_nuŒ
 
ã°_zîo


	)

173 
	#ã°_com∑ª_w¨n
(
__ex≥˘ed
, 
__a˘uÆ
) \

176 (
libã°
::
	`_com∑ª
(
__FILE__
, 
__LINE__
, 
__func__
, (
__ex≥˘ed
), (
__a˘uÆ
)), 
åue
); \

177 } 0)

	)

179 
	#ã°_w¨n
(
__åuth
, 
__ex∂aö
) \

182 (
libã°
::
	`_as£π_åuth
(
__FILE__
, 
__LINE__
, 
__func__
, 
	`boﬁ
((
__åuth
)), #__åuth, 
__ex∂aö
)); \

183 } 0)

	)

185 
	#ã°_°rcmp
(
__ex≥˘ed
, 
__a˘uÆ
) \

188 (
libã°
::
	`_com∑ª_°rcmp
(
__FILE__
, 
__LINE__
, 
__func__
, (
__ex≥˘ed
), (
__a˘uÆ
))); \

189 } 0)

	)

191 
	#ã°_memcmp
(
A
,
B
,
C
) \

194 i‡((
A
Ë=
NULL
 
	`‹
 (
B
Ë=NULL 
‹
 
	`memcmp
((A), (B), (
C
))) \

196 
	`Ârötf
(
°dîr
, "\n%s:%d: %.*†-> %.*s\n", 
__FILE__
, 
__LINE__
, ()(
C
), (*)(
A
), ()(C), (*)(
B
)); \

197 
libã°
::
	`¸óã_c‹e
(); \

198  
TEST_FAILURE
; \

200 } 0)

	)

202 
	#ã°_ªtu∫_if
(
__ã°_ªtu∫_t
) \

205 i‡((
__ã°_ªtu∫_t
Ë!
TEST_SUCCESS
) \

207  
__ã°_ªtu∫_t
; \

209 } 0)

	)

	@oss/libmemcached-1.0.17/libtest/version.h

39 #¥agm®
⁄˚


41 
	#LIBTEST_VERSION
 1.0

	)

42 
	#LIBTEST_VERSION_STRING
 "1.0"

	)

	@oss/libmemcached-1.0.17/libtest/visibility.h

37 #¥agm®
⁄˚


39 #i‡
deföed
(
BUILDING_LIBTEST
)

40 #i‡
deföed
(
HAVE_VISIBILITY
) && HAVE_VISIBILITY

41 
	#LIBTEST_API
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

42 
	#LIBTEST_LOCAL
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

43 #ñi‡
deföed
 (
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

44 
	#LIBTEST_API
 
__globÆ


	)

45 
	#LIBTEST_LOCAL
 
__globÆ


	)

46 #ñi‡
deföed
(
_MSC_VER
)

47 
	#LIBTEST_API
 
	`__de˛•ec
(
dŒexp‹t
)

	)

48 
	#LIBTEST_LOCAL
 
	`__de˛•ec
(
dŒexp‹t
)

	)

50 
	#LIBTEST_API


	)

51 
	#LIBTEST_LOCAL


	)

54 #i‡
deföed
(
BUILDING_LIBTEST
)

55 #i‡
deföed
(
HAVE_VISIBILITY
) && HAVE_VISIBILITY

56 
	#LIBTEST_API
 
	`__©åibuã__
 ((
	`visibûôy
("deÁu…")))

	)

57 
	#LIBTEST_LOCAL
 
	`__©åibuã__
 ((
	`visibûôy
("hiddí")))

	)

58 #ñi‡
deföed
 (
__SUNPRO_C
) && (__SUNPRO_C >= 0x550)

59 
	#LIBTEST_API
 
__globÆ


	)

60 
	#LIBTEST_LOCAL
 
__hiddí


	)

61 #ñi‡
deföed
(
_MSC_VER
)

62 
	#LIBTEST_API
 
	`__de˛•ec
(
dŒexp‹t
)

	)

63 
	#LIBTEST_LOCAL


	)

65 
	#LIBTEST_API


	)

66 
	#LIBTEST_LOCAL


	)

69 #i‡
deföed
(
_MSC_VER
)

70 
	#LIBTEST_API
 
	`__de˛•ec
(
dŒimp‹t
)

	)

71 
	#LIBTEST_LOCAL


	)

73 
	#LIBTEST_API


	)

74 
	#LIBTEST_LOCAL


	)

	@oss/libmemcached-1.0.17/libtest/wait.h

37 #¥agm®
⁄˚


39 
	~<uni°d.h
>

40 
	~<°rög
>

41 
	~<sig«l.h
>

43 
	~<libã°/dªam.h
>

45 
«me•a˚
 
	glibã°
 {

47 ˛as†
	cWaô


49 
	gpublic
:

51 
Waô
(c⁄° 
°d
::
°rög
 &
fûíame
, 
uöt32_t
 
timeout
= 6) :

52 
_suc˚ssful
(
Ál£
)

54 
uöt32_t
 
waôed
;

55 
uöt32_t
 
	gthis_waô
;

56 
uöt32_t
 
	gªåy
;

58 i‡(
	gfûíame
.
em±y
())

60 
	g_suc˚ssful

Ál£
;

64 
	gwaôed
0, 
	gªåy
1; ;Ñëry++, waôed+
this_waô
)

66 i‡(
ac˚ss
(
fûíame
.
c_°r
(), 
R_OK
) == 0)

68 
_suc˚ssful

åue
;

71 i‡(
	gwaôed
 >
timeout
)

76 
	gthis_waô

ªåy
 *Ñetry / 3 + 1;

77 
	glibã°
::
dªam
(
this_waô
, 0);

81 
Waô
(c⁄° 
pid_t
 &
_pid_¨g
, 
uöt32_t
 
timeout
= 6) :

82 
_suc˚ssful
(
Ál£
)

84 
uöt32_t
 
waôed
;

85 
uöt32_t
 
	gthis_waô
;

86 
uöt32_t
 
	gªåy
;

88 
	gwaôed
0, 
	gªåy
1; ;Ñëry++, waôed+
this_waô
)

90 i‡(
kûl
(
_pid_¨g
, 0) == 0)

92 
_suc˚ssful

åue
;

95 i‡(
	gwaôed
 >
timeout
)

100 
	gthis_waô

ªåy
 *Ñetry / 3 + 1;

101 
	glibã°
::
dªam
(
this_waô
, 0);

105 
boﬁ
 
suc˚ssful
() const

107  
	g_suc˚ssful
;

110 
	g¥iv©e
:

111 
boﬁ
 
_suc˚ssful
;

	@oss/libmemcached-1.0.17/libtest/yatl.h

37 #¥agm®
⁄˚


39 #i‚de‡
YATL_FULL


40 
	#YATL_FULL
 1

	)

43 
	~<libã°/ã°.hµ
>

	@oss/libmemcached-1.0.17/libtest/yatlcon.h

39 #¥agm®
⁄˚


41 
	~"mem_c⁄fig.h
"

	@oss/libmemcached-1.0.17/mem_config.h

5 #¥agm®
⁄˚


8 #i‡
deföed
–
_SYS_FEATURE_TESTS_H
Ë|| deföed(
_FEATURES_H
)

18 
	#CINTTYPES_H
 <
å1
/
cöây≥s
>

	)

26 
	#CSTDINT_H
 <
å1
/
c°döt
>

	)

32 
	#DEBUG
 0

	)

35 
	#DRIZZLED_BINARY
 0

	)

47 
	#GEARMAND_BINARY
 0

	)

50 
	#GEARMAND_BLOBSLAP_WORKER
 0

	)

53 
	#HAVE_ALARM
 1

	)

56 
	#HAVE_ALLOCA
 1

	)

60 
	#HAVE_ALLOCA_H
 1

	)

63 
	#HAVE_ARPA_INET_H
 1

	)

66 
	#HAVE_ATEXIT
 1

	)

78 
	#HAVE_CLOCK_GETTIME
 1

	)

82 
	#HAVE_DECL_STRERROR_R
 1

	)

85 
	#HAVE_DL
 1

	)

88 
	#HAVE_DLADDR
 1

	)

91 
	#HAVE_DLFCN_H
 1

	)

94 
	#HAVE_DLOPEN
 1

	)

97 
	#HAVE_DRIZZLED_BINARY
 0

	)

106 
	#HAVE_DUP2
 1

	)

109 
	#HAVE_ERRNO_H
 1

	)

112 
	#HAVE_EXECINFO_H
 1

	)

115 
	#HAVE_FCNTL
 1

	)

118 
	#HAVE_FCNTL_H
 1

	)

121 
	#HAVE_FEATURES_H
 1

	)

127 
	#HAVE_FNMATCH_H
 1

	)

130 
	#HAVE_FNV64_HASH
 1

	)

133 
	#HAVE_FORK
 1

	)

136 
	#HAVE_GCC_ABI_DEMANGLE
 1

	)

139 
	#HAVE_GCC_ATOMIC_BUILTINS
 1

	)

142 
	#HAVE_GEARMAND_BINARY
 0

	)

145 
	#HAVE_GETCWD
 1

	)

148 
	#HAVE_GETLINE
 1

	)

151 
	#HAVE_GETTIMEOFDAY
 1

	)

160 
	#HAVE_INET_NTOA
 1

	)

163 
	#HAVE_INTTYPES_H
 1

	)

166 
	#HAVE_IN_PORT_T
 1

	)

169 
	#HAVE_LIBCURL
 0

	)

172 
	#HAVE_LIBDL
 1

	)

175 
	#HAVE_LIBDRIZZLE
 0

	)

178 
	#HAVE_LIBEVENT
 0

	)

181 
	#HAVE_LIBGEARMAN
 0

	)

184 
	#HAVE_LIBINTL_H
 1

	)

187 
	#HAVE_LIBMEMCACHED
 1

	)

190 
	#HAVE_LIBMYSQL_BUILD
 0

	)

193 
	#HAVE_LIBPQ
 0

	)

199 
	#HAVE_LIMITS_H
 1

	)

205 
	#HAVE_MALLOC_H
 1

	)

208 
	#HAVE_MATH_H
 1

	)

214 
	#HAVE_MEMCACHED_BINARY
 1

	)

217 
	#HAVE_MEMCACHED_SASL_BINARY
 0

	)

220 
	#HAVE_MEMCHR
 1

	)

223 
	#HAVE_MEMMOVE
 1

	)

226 
	#HAVE_MEMORY_H
 1

	)

229 
	#HAVE_MEMSET
 1

	)

232 
	#HAVE_MSG_DONTWAIT
 1

	)

235 
	#HAVE_MSG_MORE
 1

	)

238 
	#HAVE_MSG_NOSIGNAL
 1

	)

241 
	#HAVE_MURMUR_HASH
 1

	)

247 
	#HAVE_MYSQLD_BUILD
 1

	)

250 
	#HAVE_NETDB_H
 1

	)

253 
	#HAVE_NETINET_IN_H
 1

	)

256 
	#HAVE_NETINET_TCP_H
 1

	)

259 
	#HAVE_PIPE2
 1

	)

262 
	#HAVE_POLL_H
 1

	)

265 
	#HAVE_PTHREAD
 1

	)

268 
	#HAVE_PTHREAD_H
 1

	)

271 
	#HAVE_PTHREAD_PRIO_INHERIT
 1

	)

274 
	#HAVE_PTHREAD_TIMEDJOIN_NP
 1

	)

277 
	#HAVE_PTRDIFF_T
 1

	)

280 
	#HAVE_PUTENV
 1

	)

283 
	#HAVE_RCVTIMEO
 1

	)

286 
	#HAVE_SELECT
 1

	)

289 
	#HAVE_SETENV
 1

	)

295 
	#HAVE_SIGIGNORE
 1

	)

298 
	#HAVE_SNDTIMEO
 1

	)

301 
	#HAVE_SOCKET
 1

	)

304 
	#HAVE_SPAWN_H
 1

	)

310 
	#HAVE_STDARG_H
 1

	)

313 
	#HAVE_STDBOOL_H
 1

	)

316 
	#HAVE_STDDEF_H
 1

	)

319 
	#HAVE_STDINT_H
 1

	)

322 
	#HAVE_STDIO_H
 1

	)

325 
	#HAVE_STDLIB_H
 1

	)

328 
	#HAVE_STRCASECMP
 1

	)

331 
	#HAVE_STRCHR
 1

	)

334 
	#HAVE_STRDUP
 1

	)

337 
	#HAVE_STRERROR
 1

	)

340 
	#HAVE_STRERROR_R
 1

	)

343 
	#HAVE_STRINGS_H
 1

	)

346 
	#HAVE_STRING_H
 1

	)

349 
	#HAVE_STRSTR
 1

	)

352 
	#HAVE_STRTOL
 1

	)

355 
	#HAVE_STRTOUL
 1

	)

358 
	#HAVE_STRTOULL
 1

	)

361 
	#HAVE_SYSLOG_H
 1

	)

367 
	#HAVE_SYS_SOCKET_H
 1

	)

370 
	#HAVE_SYS_STAT_H
 1

	)

373 
	#HAVE_SYS_SYSCTL_H
 1

	)

376 
	#HAVE_SYS_TIME_H
 1

	)

379 
	#HAVE_SYS_TYPES_H
 1

	)

382 
	#HAVE_SYS_UN_H
 1

	)

385 
	#HAVE_SYS_WAIT_H
 1

	)

388 
	#HAVE_TIME_H
 1

	)

394 
	#HAVE_UNISTD_H
 1

	)

397 
	#HAVE_UUID_GENERATE_TIME_SAFE
 0

	)

400 
	#HAVE_UUID_UUID_H
 0

	)

403 
	#HAVE_VFORK
 1

	)

410 
	#HAVE_VISIBILITY
 1

	)

416 
	#HAVE_WORKING_FORK
 1

	)

419 
	#HAVE_WORKING_VFORK
 1

	)

425 
	#HAVE__BOOL
 1

	)

428 
	#HOST_CPU
 "x86_64"

	)

431 
	#HOST_OS
 "löux-gnu"

	)

434 
	#HOST_VENDOR
 "unknown"

	)

438 
	#LT_OBJDIR
 ".libs/"

	)

441 
	#MEMCACHED_BINARY
 "/u§/bö/memˇched"

	)

444 
	#MEMCACHED_VERSION
 "1.4.14"

	)

447 
	#MYSQLD_BINARY
 "/u§/sbö/mysqld"

	)

450 
	#NDEBUG
 1

	)

453 
	#PACKAGE
 "libmemˇched"

	)

456 
	#PACKAGE_BUGREPORT
 "hâp://libmemˇched.‹g/"

	)

459 
	#PACKAGE_NAME
 "libmemˇched"

	)

462 
	#PACKAGE_STRING
 "libmemˇched 1.0.17"

	)

465 
	#PACKAGE_TARNAME
 "libmemˇched"

	)

468 
	#PACKAGE_URL
 ""

	)

471 
	#PACKAGE_VERSION
 "1.0.17"

	)

489 
	#STDC_HEADERS
 1

	)

492 
	#STRERROR_R_CHAR_P
 1

	)

495 
	#TARGET_CPU
 "x86_64"

	)

498 
	#TARGET_OS
 "löux-gnu"

	)

504 
	#TARGET_OS_LINUX
 1

	)

513 
	#TARGET_VENDOR
 "unknown"

	)

519 #i‚de‡
_ALL_SOURCE


520 
	#_ALL_SOURCE
 1

	)

523 #i‚de‡
_GNU_SOURCE


524 
	#_GNU_SOURCE
 1

	)

527 #i‚de‡
_POSIX_PTHREAD_SEMANTICS


528 
	#_POSIX_PTHREAD_SEMANTICS
 1

	)

531 #i‚de‡
_TANDEM_SOURCE


532 
	#_TANDEM_SOURCE
 1

	)

535 #i‚de‡
__EXTENSIONS__


536 
	#__EXTENSIONS__
 1

	)

541 
	#VCS_CHECKOUT
 0

	)

544 
	#VCS_SYSTEM
 "n⁄e"

	)

547 
	#VERSION
 "1.0.17"

	)

581 
	#__STDC_LIMIT_MACROS
 1

	)

588 #i‚de‡
__˝lu•lus


617 
	#ª°ri˘
 
__ª°ri˘


	)

623 #i‡
deföed
 
__SUNPRO_CC
 && !deföed 
__RESTRICT


624 
	#_Re°ri˘


	)

625 
	#__ª°ri˘__


	)

658 #i‚de‡
HAVE_SYS_SOCKET_H


659 
	#SHUT_RD
 
SD_RECEIVE


	)

660 
	#SHUT_WR
 
SD_SEND


	)

661 
	#SHUT_RDWR
 
SD_BOTH


	)

667 #i‚de‡
__STDC_FORMAT_MACROS


668 
	#__STDC_FORMAT_MACROS


	)

671 #i‡
deföed
(
__˝lu•lus
)

672 #ö˛udê
CINTTYPES_H


674 
	~<öây≥s.h
>

677 #i‡!
deföed
(
HAVE_ULONG
Ë&& !deföed(
__USE_MISC
)

678 
	#HAVE_ULONG
 1

	)

679 
	tul⁄g
;

	@oss/libmemcached-1.0.17/tests/basic.h

38 #¥agm®
⁄˚


40 
	~<libã°/visibûôy.h
>

42 #ifdef 
__˝lu•lus


46 
LIBTEST_LOCAL


47 
ã°_ªtu∫_t
 
basic_öô_ã°
(
memˇched_°
 *
junk
);

49 
LIBTEST_LOCAL


50 
ã°_ªtu∫_t
 
basic_˛⁄e_ã°
(
memˇched_°
 *
memc
);

52 
LIBTEST_LOCAL


53 
ã°_ªtu∫_t
 
basic_ª£t_°ack_ã°
(
memˇched_°
 *
junk
);

55 
LIBTEST_LOCAL


56 
ã°_ªtu∫_t
 
basic_ª£t_hóp_ã°
(
memˇched_°
 *
junk
);

58 
LIBTEST_LOCAL


59 
ã°_ªtu∫_t
 
basic_ª£t_°ack_˛⁄e_ã°
(
memˇched_°
 *
memc
);

61 
LIBTEST_LOCAL


62 
ã°_ªtu∫_t
 
basic_ª£t_hóp_˛⁄e_ã°
(
memˇched_°
 *
memc
);

64 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/tests/callbacks.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
ã°_MEMCACHED_CALLBACK_DELETE_TRIGGER_™d_MEMCACHED_BEHAVIOR_NOREPLY
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
ã°_MEMCACHED_CALLBACK_DELETE_TRIGGER
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/debug.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
c⁄fúm_keys_exi°
(
memˇched_°
 *
memc
, c⁄° * c⁄° *
keys
, c⁄° 
size_t
 
numbî_of_keys
, 
boﬁ
 
key_m©ches_vÆue

Ál£
, boﬁ 
ªquúe_Æl
= false);

42 
ã°_ªtu∫_t
 
c⁄fúm_keys_d⁄t_exi°
(
memˇched_°
 *
memc
, c⁄° * c⁄° *
keys
, c⁄° 
size_t
 
numbî_of_keys
);

44 
ã°_ªtu∫_t
 
¥öt_keys_by_£rvî
(
memˇched_°
 *
memc
);

46 
size_t
 
c⁄fúm_key_cou¡
(
memˇched_°
 *
memc
);

48 
¥öt_£rvîs
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/deprecated.h

38 #¥agm®
⁄˚


40 #ifdef 
__˝lu•lus


44 
ã°_ªtu∫_t
 
£rvî_li°_nuŒ_ã°
(
memˇched_°
 *
±r
);

45 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_728286
(
memˇched_°
 *);

47 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/tests/error_conditions.h

38 #¥agm®
⁄˚


40 #ifdef 
__˝lu•lus


44 
ã°_ªtu∫_t
 
memˇched_ö¸emít_MEMCACHED_NO_SERVERS
(
memˇched_°
 *
junk
);

46 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/tests/exist.h

37 #¥agm®
⁄˚


39 
ã°_ªtu∫_t
 
memˇched_exi°_NOTFOUND
(
memˇched_°
 *);

40 
ã°_ªtu∫_t
 
memˇched_exi°_SUCCESS
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
memˇched_exi°_by_key_NOTFOUND
(
memˇched_°
 *);

42 
ã°_ªtu∫_t
 
memˇched_exi°_by_key_SUCCESS
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/hash_results.h

15 c⁄° *
	gli°_to_hash
[]=

42 
NULL


45 
uöt32_t
 
	g⁄e_©_a_time_vÆues
[]= { 2297466611U, 3902465932U, 469785835U, 1937308741U,

53 
uöt32_t
 
	gmd5_vÆues
[]= { 3195025439U, 2556848621U, 3724893440U, 3332385401U,

61 
uöt32_t
 
	g¸c_vÆues
[]= { 10542U, 22009U, 14526U, 19510U, 19432U, 10199U, 20634U,

66 
uöt32_t
 
	g‚v1_64_vÆues
[]= { 473199127U, 4148981457U, 3971873300U, 3257986707U,

74 
uöt32_t
 
	g‚v1a_64_vÆues
[]= { 1488911807U, 2500855813U, 1510099634U, 1390325195U,

82 
uöt32_t
 
	g‚v1_32_vÆues
[]= { 67176023U, 1190179409U, 2043204404U, 3221866419U,

90 
uöt32_t
 
	g‚v1a_32_vÆues
[]= { 280767167U, 2421315013U, 3072375666U, 855001899U,

98 #ifde‡
HAVE_HSIEH_HASH


99 
uöt32_t
 
	ghsõh_vÆues
[]= { 3738850110U, 3636226060U, 3821074029U, 3489929160U, 3485772682U, 80540287U,

105 
uöt32_t
 
	ghsõh_vÆues
[]= { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };

108 #ifde‡
HAVE_MURMUR_HASH


109 
uöt32_t
 
	gmurmur_vÆues
[]= { 4142305122U, 734504955U, 3802834688U, 4076891445U,

117 
uöt32_t
 
	gmurmur3_vÆues
[]= { 1120212521U, 1448785489U, 4186307405U, 2686268514U,

125 
uöt32_t
 
	gmurmur_vÆues
[]= { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };

126 
uöt32_t
 
	gmurmur3_vÆues
[]= { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };

129 
uöt32_t
 
	gjíkös_vÆues
[]= { 1442444624U, 4253821186U, 1885058256U, 2120131735U,

	@oss/libmemcached-1.0.17/tests/ketama.h

37 #¥agm®
⁄˚


39 
ã°_ªtu∫_t
 
auto_eje˘_ho°s
(
memˇched_°
 *);

40 
ã°_ªtu∫_t
 
këama_com∑tibûôy_libmemˇched
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
këama_com∑tibûôy_•ymemˇched
(
memˇched_°
 *);

42 
ã°_ªtu∫_t
 
u£r_suµlõd_bug18
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/ketama_test_cases.h

9 #¥agm®
⁄˚


12 c⁄° *
	mkey
;

13 
	mhash1
;

14 
	mhash2
;

15 c⁄° *
	m£rvî
;

16 } 
	gkëama_ã°_ˇ£s
[99]= {

118 
	~"këama_ã°_ˇ£s_•y.h
"

	@oss/libmemcached-1.0.17/tests/ketama_test_cases_spy.h

9 #¥agm®
⁄˚


12 c⁄° *
	mkey
;

13 
	mhash1
;

14 
	mhash2
;

15 c⁄° *
	m£rvî
;

16 } 
	gkëama_ã°_ˇ£s_•y
[99]= {

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/all_tests.h

38 #¥agm®
⁄˚


40 
	~"ã°s/libmemˇched-1.0/memˇched_gë.h
"

44 
ã°_°
 
	gã°s
[] ={

45 {"utû_vîsi⁄", 
åue
, (
ã°_ˇŒback_‚
*)
utû_vîsi⁄_ã°
 },

46 {"Êush", 
Ál£
, (
ã°_ˇŒback_‚
*)
Êush_ã°
 },

47 {"öô", 
Ál£
, (
ã°_ˇŒback_‚
*)
öô_ã°
 },

48 {"Æloˇti⁄", 
Ál£
, (
ã°_ˇŒback_‚
*)
Æloˇti⁄_ã°
 },

49 {"£rvî_li°_nuŒ_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_li°_nuŒ_ã°
},

50 {"£rvî_uns‹t", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_uns‹t_ã°
},

51 {"£rvî_s‹t", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_s‹t_ã°
},

52 {"£rvî_s‹t2", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_s‹t2_ã°
},

53 {"memˇched_£rvî_ªmove", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_ªmove_ã°
},

54 {"˛⁄e_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
˛⁄e_ã°
 },

55 {"c⁄√˘i⁄_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
c⁄√˘i⁄_ã°
},

56 {"ˇŒback_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
ˇŒback_ã°
},

57 {"u£rd©a_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
u£rd©a_ã°
},

58 {"memˇched_£t()", 
Ál£
, (
ã°_ˇŒback_‚
*)
£t_ã°
 },

59 {"memˇched_£t(Ë2", 
Ál£
, (
ã°_ˇŒback_‚
*)
£t_ã°2
 },

60 {"memˇched_£t(Ë3", 
Ál£
, (
ã°_ˇŒback_‚
*)
£t_ã°3
 },

61 {"memˇched_add(SUCCESS)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_add_SUCCESS_TEST
 },

62 {"add", 
åue
, (
ã°_ˇŒback_‚
*)
add_ã°
 },

63 {"memˇched_„tch_ªsu…(MEMCACHED_NOTFOUND)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_„tch_ªsu…_NOT_FOUND
 },

64 {"ª∂a˚", 
åue
, (
ã°_ˇŒback_‚
*)
ª∂a˚_ã°
 },

65 {"dñëe", 
åue
, (
ã°_ˇŒback_‚
*)
dñëe_ã°
 },

66 {"memˇched_gë()", 
åue
, (
ã°_ˇŒback_‚
*)
gë_ã°
 },

67 {"gë2", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ã°2
 },

68 {"gë3", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ã°3
 },

69 {"gë4", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ã°4
 },

70 {"∑πü»mgë", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ã°5
 },

71 {"°©s_£rvî«me", 
Ál£
, (
ã°_ˇŒback_‚
*)
°©s_£rvî«me_ã°
 },

72 {"ö¸emít", 
Ál£
, (
ã°_ˇŒback_‚
*)
ö¸emít_ã°
 },

73 {"ö¸emít_wôh_öôül", 
åue
, (
ã°_ˇŒback_‚
*)
ö¸emít_wôh_öôül_ã°
 },

74 {"de¸emít", 
Ál£
, (
ã°_ˇŒback_‚
*)
de¸emít_ã°
 },

75 {"de¸emít_wôh_öôül", 
åue
, (
ã°_ˇŒback_‚
*)
de¸emít_wôh_öôül_ã°
 },

76 {"ö¸emít_by_key", 
Ál£
, (
ã°_ˇŒback_‚
*)
ö¸emít_by_key_ã°
 },

77 {"ö¸emít_wôh_öôül_by_key", 
åue
, (
ã°_ˇŒback_‚
*)
ö¸emít_wôh_öôül_by_key_ã°
 },

78 {"de¸emít_by_key", 
Ál£
, (
ã°_ˇŒback_‚
*)
de¸emít_by_key_ã°
 },

79 {"de¸emít_wôh_öôül_by_key", 
åue
, (
ã°_ˇŒback_‚
*)
de¸emít_wôh_öôül_by_key_ã°
 },

80 {"bö¨y_ö¸emít_wôh_¥efix", 
åue
, (
ã°_ˇŒback_‚
*)
bö¨y_ö¸emít_wôh_¥efix_ã°
 },

81 {"quô", 
Ál£
, (
ã°_ˇŒback_‚
*)
quô_ã°
 },

82 {"mgë", 
åue
, (
ã°_ˇŒback_‚
*)
mgë_ã°
 },

83 {"mgë_ªsu…", 
åue
, (
ã°_ˇŒback_‚
*)
mgë_ªsu…_ã°
 },

84 {"mgë_ªsu…_Æloc", 
åue
, (
ã°_ˇŒback_‚
*)
mgë_ªsu…_Æloc_ã°
 },

85 {"mgë_ªsu…_fun˘i⁄", 
åue
, (
ã°_ˇŒback_‚
*)
mgë_ªsu…_fun˘i⁄
 },

86 {"mgë_execuã", 
åue
, (
ã°_ˇŒback_‚
*)
mgë_execuã
 },

87 {"mgë_íd", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_íd
 },

88 {"gë_°©s", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_°©s
 },

89 {"add_ho°_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
add_ho°_ã°
 },

90 {"add_ho°_ã°_1", 
Ál£
, (
ã°_ˇŒback_‚
*)
add_ho°_ã°1
 },

91 {"gë_°©s_keys", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_°©s_keys
 },

92 {"vîsi⁄_°rög_ã°", 
åue
, (
ã°_ˇŒback_‚
*)
vîsi⁄_°rög_ã°
},

93 {"memˇched_mgë(Ëmixed memˇched_gë()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_mgë_mixed_memˇched_gë_TEST
},

94 {"bad_key", 
åue
, (
ã°_ˇŒback_‚
*)
bad_key_ã°
 },

95 {"memˇched_£rvî_curs‹", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_curs‹_ã°
 },

96 {"ªad_through", 
åue
, (
ã°_ˇŒback_‚
*)
ªad_through
 },

97 {"dñëe_through", 
åue
, (
ã°_ˇŒback_‚
*)
ã°_MEMCACHED_CALLBACK_DELETE_TRIGGER
 },

98 {"n‹ïly", 
åue
, (
ã°_ˇŒback_‚
*)
n‹ïly_ã°
},

99 {"™Æyzî", 
åue
, (
ã°_ˇŒback_‚
*)
™Æyzî_ã°
},

100 {"memˇched_poﬁ_°", 
åue
, (
ã°_ˇŒback_‚
*)
c⁄√˘i⁄_poﬁ_ã°
 },

101 {"memˇched_poﬁ_° #2", 
åue
, (
ã°_ˇŒback_‚
*)
c⁄√˘i⁄_poﬁ2_ã°
 },

103 {"memˇched_poﬁ_° #3", 
åue
, (
ã°_ˇŒback_‚
*)
c⁄√˘i⁄_poﬁ3_ã°
 },

105 {"memˇched_poﬁ_ã°", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_poﬁ_ã°
 },

106 {"ã°_gë_œ°_disc⁄√˘", 
åue
, (
ã°_ˇŒback_‚
*)
ã°_gë_œ°_disc⁄√˘
},

107 {"vîbosôy", 
åue
, (
ã°_ˇŒback_‚
*)
ã°_vîbosôy
},

108 {"memˇched_°©_execuã", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_°©_execuã_ã°
},

109 {"memˇched_exi°(MEMCACHED_NOTFOUND)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_exi°_NOTFOUND
 },

110 {"memˇched_exi°(MEMCACHED_SUCCESS)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_exi°_SUCCESS
 },

111 {"memˇched_exi°_by_key(MEMCACHED_NOTFOUND)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_exi°_by_key_NOTFOUND
 },

112 {"memˇched_exi°_by_key(MEMCACHED_SUCCESS)", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_exi°_by_key_SUCCESS
 },

113 {"memˇched_touch", 0, (
ã°_ˇŒback_‚
*)
ã°_memˇched_touch
},

114 {"memˇched_touch_wôh_¥efix", 0, (
ã°_ˇŒback_‚
*)
ã°_memˇched_touch_by_key
},

116 {"memˇched_dump(Ënÿd©a", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_dump_TEST
 },

118 {"memˇched_dump(Ëwôh d©a", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_dump_TEST2
 },

122 
ã°_°
 
	gtouch_ã°s
[] ={

123 {"memˇched_touch", 0, (
ã°_ˇŒback_‚
*)
ã°_memˇched_touch
},

124 {"memˇched_touch_wôh_¥efix", 0, (
ã°_ˇŒback_‚
*)
ã°_memˇched_touch_by_key
},

128 
ã°_°
 
	gkûl_TESTS
[] ={

129 {"kûl(HUP)", 0, (
ã°_ˇŒback_‚
*)
kûl_HUP_TEST
},

133 
ã°_°
 
	gmemˇched_°©_ã°s
[] ={

134 {"memˇched_°©(ËINVALID ARG", 0, (
ã°_ˇŒback_‚
*)
memˇched_°©_TEST
},

135 {"memˇched_°©()", 0, (
ã°_ˇŒback_‚
*)
memˇched_°©_TEST2
},

139 
ã°_°
 
	gbehavi‹_ã°s
[] ={

140 {"libmemˇched_°rög_behavi‹()", 
Ál£
, (
ã°_ˇŒback_‚
*)
libmemˇched_°rög_behavi‹_ã°
},

141 {"libmemˇched_°rög_di°ributi⁄()", 
Ál£
, (
ã°_ˇŒback_‚
*)
libmemˇched_°rög_di°ributi⁄_ã°
},

142 {"behavi‹_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
behavi‹_ã°
},

143 {"MEMCACHED_BEHAVIOR_CORK", 
Ál£
, (
ã°_ˇŒback_‚
*)
MEMCACHED_BEHAVIOR_CORK_ã°
},

144 {"MEMCACHED_BEHAVIOR_TCP_KEEPALIVE", 
Ál£
, (
ã°_ˇŒback_‚
*)
MEMCACHED_BEHAVIOR_TCP_KEEPALIVE_ã°
},

145 {"MEMCACHED_BEHAVIOR_TCP_KEEPIDLE", 
Ál£
, (
ã°_ˇŒback_‚
*)
MEMCACHED_BEHAVIOR_TCP_KEEPIDLE_ã°
},

146 {"MEMCACHED_BEHAVIOR_POLL_TIMEOUT", 
Ál£
, (
ã°_ˇŒback_‚
*)
MEMCACHED_BEHAVIOR_POLL_TIMEOUT_ã°
},

147 {"MEMCACHED_BEHAVIOR_IO_KEY_PREFETCH_TEST", 
åue
, (
ã°_ˇŒback_‚
*)
MEMCACHED_BEHAVIOR_IO_KEY_PREFETCH_TEST
 },

148 {"MEMCACHED_CALLBACK_DELETE_TRIGGER_™d_MEMCACHED_BEHAVIOR_NOREPLY", 
Ál£
, (
ã°_ˇŒback_‚
*)
ã°_MEMCACHED_CALLBACK_DELETE_TRIGGER_™d_MEMCACHED_BEHAVIOR_NOREPLY
},

152 
ã°_°
 
	glibmemˇchedutû_ã°s
[] ={

153 {"libmemˇched_utû_pög()", 
åue
, (
ã°_ˇŒback_‚
*)
libmemˇched_utû_pög_TEST
 },

154 {"libmemˇched_utû_gëpid()", 
åue
, (
ã°_ˇŒback_‚
*)
gëpid_ã°
 },

155 {"libmemˇched_utû_gëpid(MEMCACHED_CONNECTION_FAILURE)", 
åue
, (
ã°_ˇŒback_‚
*)
gëpid_c⁄√˘i⁄_Áûuª_ã°
 },

159 
ã°_°
 
	gbasic_ã°s
[] ={

160 {"öô", 
åue
, (
ã°_ˇŒback_‚
*)
basic_öô_ã°
},

161 {"˛⁄e", 
åue
, (
ã°_ˇŒback_‚
*)
basic_˛⁄e_ã°
},

162 {"ª£t", 
åue
, (
ã°_ˇŒback_‚
*)
basic_ª£t_°ack_ã°
},

163 {"ª£àhóp", 
åue
, (
ã°_ˇŒback_‚
*)
basic_ª£t_hóp_ã°
},

164 {"ª£à°ack cl⁄e", 
åue
, (
ã°_ˇŒback_‚
*)
basic_ª£t_°ack_˛⁄e_ã°
},

165 {"ª£àhó∞˛⁄e", 
åue
, (
ã°_ˇŒback_‚
*)
basic_ª£t_hóp_˛⁄e_ã°
},

166 {"memˇched_ªtu∫_t", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_ªtu∫_t_TEST
 },

167 {"c++ memˇched_° =memˇched_ªtu∫_t", 
Ál£
, (
ã°_ˇŒback_‚
*)
com∑ris⁄_›î©‹_memˇched_°_™d__memˇched_ªtu∫_t_TEST
 },

171 
ã°_°
 
	gªgªssi⁄_bö¨y_vs_block
[] ={

172 {"blockádd", 
åue
, (
ã°_ˇŒback_‚
*)
block_add_ªgªssi⁄
},

173 {"bö¨yádd", 
åue
, (
ã°_ˇŒback_‚
*)
bö¨y_add_ªgªssi⁄
},

177 
ã°_°
 
	gasync_ã°s
[] ={

178 {"add", 
åue
, (
ã°_ˇŒback_‚
*)
add_wøµî
 },

182 
ã°_°
 
	gmemˇched_£rvî_gë_œ°_disc⁄√˘_ã°s
[] ={

183 {"memˇched_£rvî_gë_œ°_disc⁄√˘()", 
Ál£
, (
ã°_ˇŒback_‚
*)
ã°_mu…ùÀ_gë_œ°_disc⁄√˘
},

184 {0, 0, (
ã°_ˇŒback_‚
*)0}

188 
ã°_°
 
	gªsu…_ã°s
[] ={

189 {"ªsu… sètic", 
Ál£
, (
ã°_ˇŒback_‚
*)
ªsu…_°©ic
},

190 {"ªsu…áŒoc", 
Ál£
, (
ã°_ˇŒback_‚
*)
ªsu…_Æloc
},

191 {0, 0, (
ã°_ˇŒback_‚
*)0}

194 
ã°_°
 
	gvîsi⁄_1_2_3
[] ={

195 {"≠≥nd", 
Ál£
, (
ã°_ˇŒback_‚
*)
≠≥nd_ã°
 },

196 {"¥ïíd", 
Ál£
, (
ã°_ˇŒback_‚
*)
¥ïíd_ã°
 },

197 {"ˇs", 
Ál£
, (
ã°_ˇŒback_‚
*)
ˇs_ã°
 },

198 {"ˇs2", 
Ál£
, (
ã°_ˇŒback_‚
*)
ˇs2_ã°
 },

199 {"≠≥nd_bö¨y", 
Ál£
, (
ã°_ˇŒback_‚
*)
≠≥nd_bö¨y_ã°
 },

200 {0, 0, (
ã°_ˇŒback_‚
*)0}

203 
ã°_°
 
	ghÆdíbønd_TESTS
[] ={

204 {"memˇched_£t", 
Ál£
, (
ã°_ˇŒback_‚
*)
hÆdíbønd_TEST1
 },

205 {"memˇched_gë()", 
Ál£
, (
ã°_ˇŒback_‚
*)
hÆdíbønd_TEST2
 },

206 {"memˇched_mgë()", 
Ál£
, (
ã°_ˇŒback_‚
*)
hÆdíbønd_TEST3
 },

207 {0, 0, (
ã°_ˇŒback_‚
*)0}

210 
ã°_°
 
	gu£r_ã°s
[] ={

211 {"u£r_suµlõd_bug4", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug4
 },

212 {"u£r_suµlõd_bug5", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug5
 },

213 {"u£r_suµlõd_bug6", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug6
 },

214 {"u£r_suµlõd_bug7", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug7
 },

215 {"u£r_suµlõd_bug8", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug8
 },

216 {"u£r_suµlõd_bug9", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug9
 },

217 {"u£r_suµlõd_bug10", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug10
 },

218 {"u£r_suµlõd_bug11", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug11
 },

219 {"u£r_suµlõd_bug12", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug12
 },

220 {"u£r_suµlõd_bug13", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug13
 },

221 {"u£r_suµlõd_bug14", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug14
 },

222 {"u£r_suµlõd_bug15", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug15
 },

223 {"u£r_suµlõd_bug16", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug16
 },

224 #i‡!
deföed
(
__sun
Ë&& !deföed(
__O≥nBSD__
)

232 {"u£r_suµlõd_bug17", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug17
 },

234 {"u£r_suµlõd_bug18", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug18
 },

235 {"u£r_suµlõd_bug19", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug19
 },

236 {"u£r_suµlõd_bug20", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug20
 },

237 {"u£r_suµlõd_bug21", 
åue
, (
ã°_ˇŒback_‚
*)
u£r_suµlõd_bug21
 },

238 {"wr⁄g_Áûuª_cou¡î_ã°", 
åue
, (
ã°_ˇŒback_‚
*)
wr⁄g_Áûuª_cou¡î_ã°
},

239 {"wr⁄g_Áûuª_cou¡î_two_ã°", 
åue
, (
ã°_ˇŒback_‚
*)
wr⁄g_Áûuª_cou¡î_two_ã°
},

240 {0, 0, (
ã°_ˇŒback_‚
*)0}

243 
ã°_°
 
	gª∂iˇti⁄_ã°s
[]= {

244 {"vÆid©êª∂iˇti⁄ sëup", 
åue
, (
ã°_ˇŒback_‚
*)
check_ª∂iˇti⁄_ßnôy_TEST
 },

245 {"£t", 
åue
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_£t_ã°
 },

246 {"gë", 
Ál£
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_gë_ã°
 },

247 {"mgë", 
Ál£
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_mgë_ã°
 },

248 {"dñëe", 
åue
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_dñëe_ã°
 },

249 {"ønd_mgë", 
Ál£
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_øndomize_mgë_ã°
 },

250 {"miss", 
Ál£
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_miss_ã°
 },

251 {"Áû", 
Ál£
, (
ã°_ˇŒback_‚
*)
ª∂iˇti⁄_øndomize_mgë_Áû_ã°
 },

252 {0, 0, (
ã°_ˇŒback_‚
*)0}

261 
ã°_°
 
	gªgªssi⁄_ã°s
[]= {

262 {"Õ:434484", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_434484
 },

263 {"Õ:434843", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_434843
 },

264 {"Õ:434843-buf„ªd", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_434843_buf„ªd
 },

265 {"Õ:421108", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_421108
 },

266 {"Õ:442914", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_442914
 },

267 {"Õ:447342", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_447342
 },

268 {"Õ:463297", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_463297
 },

269 {"Õ:490486", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_490486
 },

270 {"Õ:583031", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_583031
 },

271 {"Õ:?", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_
 },

272 {"Õ:728286", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_728286
 },

273 {"Õ:581030", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_581030
 },

274 {"Õ:71231153 c⁄√˘()", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_71231153_c⁄√˘
 },

275 {"Õ:71231153Öﬁl()", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_71231153_pﬁl
 },

276 {"Õ:655423", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_655423
 },

277 {"Õ:490520", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_490520
 },

278 {"Õ:854604", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_854604
 },

279 {"Õ:996813", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_996813_TEST
 },

280 {"Õ:994772", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_994772_TEST
 },

281 {"Õ:1009493", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_1009493_TEST
 },

282 {"Õ:1021819", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_1021819_TEST
 },

283 {"Õ:1048945", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_1048945_TEST
 },

284 {"Õ:1067242", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_1067242_TEST
 },

285 {0, 
Ál£
, (
ã°_ˇŒback_‚
*)0}

288 
ã°_°
 
	gkëama_com∑tibûôy
[]= {

289 {"libmemˇched", 
åue
, (
ã°_ˇŒback_‚
*)
këama_com∑tibûôy_libmemˇched
 },

290 {"•ymemˇched", 
åue
, (
ã°_ˇŒback_‚
*)
këama_com∑tibûôy_•ymemˇched
 },

291 {0, 0, (
ã°_ˇŒback_‚
*)0}

294 
ã°_°
 
	ggíî©e_ã°s
[] ={

295 {"gíî©e_d©a", 
åue
, (
ã°_ˇŒback_‚
*)
gíî©e_d©a
 },

296 {"gë_ªad", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ªad
 },

297 {"dñëe_gíî©e", 
Ál£
, (
ã°_ˇŒback_‚
*)
dñëe_gíî©e
 },

298 {"˛ónup", 
åue
, (
ã°_ˇŒback_‚
*)
˛ónup_∑ús
 },

299 {0, 0, (
ã°_ˇŒback_‚
*)0}

302 
ã°_°
 
	ggíî©e_mgë_TESTS
[] ={

303 {"gíî©e_d©a", 
åue
, (
ã°_ˇŒback_‚
*)
gíî©e_d©a
 },

304 {"mgë_ªad", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_ªad
 },

305 {"mgë_ªad_ªsu…", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_ªad_ªsu…
 },

306 {"memˇched_„tch_ªsu…(Ëu£ i¡î«»ªsu…", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_ªad_öã∫Æ_ªsu…
 },

307 {"memˇched_„tch_ªsu…(Ë∑πü»ªad", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_ªad_∑πül_ªsu…
 },

308 {"mgë_ªad_fun˘i⁄", 
Ál£
, (
ã°_ˇŒback_‚
*)
mgë_ªad_fun˘i⁄
 },

309 {"˛ónup", 
åue
, (
ã°_ˇŒback_‚
*)
˛ónup_∑ús
 },

310 {0, 0, (
ã°_ˇŒback_‚
*)0}

313 
ã°_°
 
	ggíî©e_œrge_TESTS
[] ={

314 {"gíî©e_œrge_∑ús", 
åue
, (
ã°_ˇŒback_‚
*)
gíî©e_œrge_∑ús
 },

315 {"˛ónup", 
åue
, (
ã°_ˇŒback_‚
*)
˛ónup_∑ús
 },

316 {0, 0, (
ã°_ˇŒback_‚
*)0}

319 
ã°_°
 
	gc⁄si°ít_ã°s
[] ={

320 {"gíî©e_d©a", 
åue
, (
ã°_ˇŒback_‚
*)
gíî©e_d©a
 },

321 {"gë_ªad", 0, (
ã°_ˇŒback_‚
*)
gë_ªad_cou¡
 },

322 {"˛ónup", 
åue
, (
ã°_ˇŒback_‚
*)
˛ónup_∑ús
 },

323 {0, 0, (
ã°_ˇŒback_‚
*)0}

326 
ã°_°
 
	gc⁄si°ít_weighãd_ã°s
[] ={

327 {"gíî©e_d©a", 
åue
, (
ã°_ˇŒback_‚
*)
gíî©e_d©a_wôh_°©s
 },

328 {"gë_ªad", 
Ál£
, (
ã°_ˇŒback_‚
*)
gë_ªad_cou¡
 },

329 {"˛ónup", 
åue
, (
ã°_ˇŒback_‚
*)
˛ónup_∑ús
 },

330 {0, 0, (
ã°_ˇŒback_‚
*)0}

333 
ã°_°
 
	ghsõh_avaûabûôy
[] ={

334 {"hsõh_avaibûôy_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
hsõh_avaibûôy_ã°
},

335 {0, 0, (
ã°_ˇŒback_‚
*)0}

338 
ã°_°
 
	gmurmur_avaûabûôy
[] ={

339 {"murmur_avaibûôy_ã°", 
Ál£
, (
ã°_ˇŒback_‚
*)
murmur_avaibûôy_ã°
},

340 {0, 0, (
ã°_ˇŒback_‚
*)0}

344 
ã°_°
 
	ghash_ßnôy
[] ={

345 {"hash s™ôy", 0, (
ã°_ˇŒback_‚
*)
hash_ßnôy_ã°
},

346 {0, 0, (
ã°_ˇŒback_‚
*)0}

350 
ã°_°
 
	gkëama_auto_eje˘_ho°s
[] ={

351 {"basi¯këam®ã°", 
åue
, (
ã°_ˇŒback_‚
*)
këama_TEST
 },

352 {"auto_eje˘_ho°s", 
åue
, (
ã°_ˇŒback_‚
*)
auto_eje˘_ho°s
 },

353 {"ouçut_këama_weighãd_keys", 
åue
, (
ã°_ˇŒback_‚
*)
ouçut_këama_weighãd_keys
 },

354 {0, 0, (
ã°_ˇŒback_‚
*)0}

357 
ã°_°
 
	ghash_ã°s
[] ={

358 {"⁄e_©_a_time_run", 
Ál£
, (
ã°_ˇŒback_‚
*)
⁄e_©_a_time_run
 },

359 {"md5", 
Ál£
, (
ã°_ˇŒback_‚
*)
md5_run
 },

360 {"¸c", 
Ál£
, (
ã°_ˇŒback_‚
*)
¸c_run
 },

361 {"‚v1_64", 
Ál£
, (
ã°_ˇŒback_‚
*)
‚v1_64_run
 },

362 {"‚v1a_64", 
Ál£
, (
ã°_ˇŒback_‚
*)
‚v1a_64_run
 },

363 {"‚v1_32", 
Ál£
, (
ã°_ˇŒback_‚
*)
‚v1_32_run
 },

364 {"‚v1a_32", 
Ál£
, (
ã°_ˇŒback_‚
*)
‚v1a_32_run
 },

365 {"hsõh", 
Ál£
, (
ã°_ˇŒback_‚
*)
hsõh_run
 },

366 {"murmur", 
Ál£
, (
ã°_ˇŒback_‚
*)
murmur_run
 },

367 {"murmur3", 
Ál£
, (
ã°_ˇŒback_‚
*)
murmur3_TEST
 },

368 {"jíkis", 
Ál£
, (
ã°_ˇŒback_‚
*)
jíkös_run
 },

369 {"memˇched_gë_hashkô", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_hashkô_ã°
 },

370 {0, 0, (
ã°_ˇŒback_‚
*)0}

373 
ã°_°
 
	gîr‹_c⁄dôi⁄s
[] ={

374 {"memˇched_gë(MEMCACHED_ERRNO)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_MEMCACHED_ERRNO
 },

375 {"memˇched_gë(MEMCACHED_NOTFOUND)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_MEMCACHED_NOTFOUND
 },

376 {"memˇched_gë_by_key(MEMCACHED_ERRNO)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_by_key_MEMCACHED_ERRNO
 },

377 {"memˇched_gë_by_key(MEMCACHED_NOTFOUND)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_by_key_MEMCACHED_NOTFOUND
 },

378 {"memˇched_gë_by_key(MEMCACHED_NOTFOUND)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_gë_by_key_MEMCACHED_NOTFOUND
 },

379 {"memˇched_ö¸emít(MEMCACHED_NO_SERVERS)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_ö¸emít_MEMCACHED_NO_SERVERS
 },

380 {0, 0, (
ã°_ˇŒback_‚
*)0}

383 
ã°_°
 
	g∑r£r_ã°s
[] ={

384 {"behavi‹", 
Ál£
, (
ã°_ˇŒback_‚
*)
behavi‹_∑r£r_ã°
 },

385 {"boﬁón_›ti⁄s", 
Ál£
, (
ã°_ˇŒback_‚
*)
∑r£r_boﬁón_›ti⁄s_ã°
 },

386 {"c⁄figuª_fûe", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_¸óã_wôh_›ti⁄s_wôh_fûíame
 },

387 {"di°ribti⁄s", 
Ál£
, (
ã°_ˇŒback_‚
*)
∑r£r_di°ributi⁄_ã°
 },

388 {"hash", 
Ál£
, (
ã°_ˇŒback_‚
*)
∑r£r_hash_ã°
 },

389 {"libmemˇched_check_c⁄figuøti⁄", 
Ál£
, (
ã°_ˇŒback_‚
*)
libmemˇched_check_c⁄figuøti⁄_ã°
 },

390 {"libmemˇched_check_c⁄figuøti⁄_wôh_fûíame", 
Ál£
, (
ã°_ˇŒback_‚
*)
libmemˇched_check_c⁄figuøti⁄_wôh_fûíame_ã°
 },

391 {"numbî_›ti⁄s", 
Ál£
, (
ã°_ˇŒback_‚
*)
∑r£r_numbî_›ti⁄s_ã°
 },

392 {"øndomly gíî©ed o±i⁄s", 
Ál£
, (
ã°_ˇŒback_‚
*)
øndom_°©emít_buûd_ã°
 },

393 {"«me•a˚", 
Ál£
, (
ã°_ˇŒback_‚
*)
∑r£r_key_¥efix_ã°
 },

394 {"£rvî", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_ã°
 },

395 {"bad sîvî såögs", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvîs_bad_ã°
 },

396 {"£rvî wôh weights", 
Ál£
, (
ã°_ˇŒback_‚
*)
£rvî_wôh_weight_ã°
 },

397 {"∑rsög sîvî«me,Ö‹t,ánd weight", 
Ál£
, (
ã°_ˇŒback_‚
*)
ã°_ho°«me_p‹t_weight
 },

398 {"--sockë=", 
Ál£
, (
ã°_ˇŒback_‚
*)
ã°_∑r£_sockë
 },

399 {"--«me•a˚=", 
Ál£
, (
ã°_ˇŒback_‚
*)
ã°_«me•a˚_keyw‹d
 },

400 {0, 0, (
ã°_ˇŒback_‚
*)0}

403 
ã°_°
 
	gvútuÆ_buckë_ã°s
[] ={

404 {"basic", 
Ál£
, (
ã°_ˇŒback_‚
*)
vútuÆ_back_m≠
 },

405 {0, 0, (
ã°_ˇŒback_‚
*)0}

408 
ã°_°
 
	gmemˇched_£rvî_add_TESTS
[] ={

409 {"memˇched_£rvî_add(\"\")", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_add_em±y_ã°
 },

410 {"memˇched_£rvî_add(NULL)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_add_nuŒ_ã°
 },

411 {"memˇched_£rvî_add(m™y)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_m™y_TEST
 },

412 {"memˇched_£rvî_add(m™y weighãd)", 
Ál£
, (
ã°_ˇŒback_‚
*)
memˇched_£rvî_m™y_weighãd_TEST
 },

413 {0, 0, (
ã°_ˇŒback_‚
*)0}

416 
ã°_°
 
	gpoﬁ_TESTS
[] ={

417 {"Õ:962815", 
åue
, (
ã°_ˇŒback_‚
*)
ªgªssi⁄_bug_962815
 },

418 {0, 0, (
ã°_ˇŒback_‚
*)0}

421 
ã°_°
 
	gmemˇched_£t_ícodög_key_TESTS
[] ={

422 {"memˇched_£t_ícodög_key()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_TEST
 },

423 {"memˇched_£t_ícodög_key(Ë+£t(Ë+ gë()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_£t_gë_TEST
 },

424 {"memˇched_£t_ícodög_key(Ë+add(Ë+ gë()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_add_gë_TEST
 },

425 {"memˇched_£t_ícodög_key(Ë+ª∂a˚(Ë+ gë()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_ª∂a˚_gë_TEST
 },

426 {"memˇched_£t_ícodög_key(Ë+¥ïíd()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_¥ïíd_TEST
 },

427 {"memˇched_£t_ícodög_key(Ë+≠≥nd()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_≠≥nd_TEST
 },

428 {"memˇched_£t_ícodög_key(Ë+ö¸emít()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_ö¸emít_TEST
 },

429 {"memˇched_£t_ícodög_key(Ë+de¸emít()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_ö¸emít_TEST
 },

430 {"memˇched_£t_ícodög_key(Ë+ö¸emít_wôh_öôül()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_ö¸emít_wôh_öôül_TEST
 },

431 {"memˇched_£t_ícodög_key(Ë+de¸emít_wôh_öôül()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_de¸emít_wôh_öôül_TEST
 },

432 {"memˇched_£t_ícodög_key(Ë+£t(Ë+gë(Ë+˛€n()", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_£t_gë_˛⁄e_TEST
 },

433 {"memˇched_£t_ícodög_key(Ë+£t(Ë+gë(Ëö¸ó£ vÆuêsize", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_£t_ícodög_key_£t_grow_key_TEST
 },

434 {0, 0, (
ã°_ˇŒback_‚
*)0}

437 
ã°_°
 
	g«me•a˚_ã°s
[] ={

438 {"basi¯ã°s", 
åue
, (
ã°_ˇŒback_‚
*)
£À˘i⁄_of_«me•a˚_ã°s
 },

439 {"ö¸emít", 
åue
, (
ã°_ˇŒback_‚
*)
memˇched_ö¸emít_«me•a˚
 },

440 {0, 0, (
ã°_ˇŒback_‚
*)0}

443 
cﬁÀ˘i⁄_°
 
	gcﬁÀ˘i⁄
[] ={

445 {"hash_ßnôy", 0, 0, 
hash_ßnôy
},

447 {"libmemˇchedutû", 0, 0, 
libmemˇchedutû_ã°s
},

448 {"basic", 0, 0, 
basic_ã°s
},

449 {"hsõh_avaûabûôy", 0, 0, 
hsõh_avaûabûôy
},

450 {"murmur_avaûabûôy", 0, 0, 
murmur_avaûabûôy
},

451 {"memˇched_£rvî_add", (
ã°_ˇŒback_‚
*)
memˇched_£rvîs_ª£t_SETUP
, 0, 
memˇched_£rvî_add_TESTS
},

452 {"memˇched_£rvî_add(MEMCACHED_DISTRIBUTION_CONSISTENT)", (
ã°_ˇŒback_‚
*)
memˇched_£rvîs_ª£t_MEMCACHED_DISTRIBUTION_CONSISTENT_SETUP
, 0, 
memˇched_£rvî_add_TESTS
},

453 {"memˇched_£rvî_add(MEMCACHED_DISTRIBUTION_CONSISTENT_WEIGHTED)", (
ã°_ˇŒback_‚
*)
memˇched_£rvîs_ª£t_MEMCACHED_DISTRIBUTION_CONSISTENT_WEIGHTED_SETUP
, 0, 
memˇched_£rvî_add_TESTS
},

454 {"block", 0, 0, 
ã°s
},

455 {"bö¨y", (
ã°_ˇŒback_‚
*)
¥e_bö¨y
, 0, 
ã°s
},

456 {"n⁄block", (
ã°_ˇŒback_‚
*)
¥e_n⁄block
, 0, 
ã°s
},

457 {"nodñay", (
ã°_ˇŒback_‚
*)
¥e_nodñay
, 0, 
ã°s
},

458 {"£âimî", (
ã°_ˇŒback_‚
*)
¥e_£âimî
, 0, 
ã°s
},

459 {"md5", (
ã°_ˇŒback_‚
*)
¥e_md5
, 0, 
ã°s
},

460 {"¸c", (
ã°_ˇŒback_‚
*)
¥e_¸c
, 0, 
ã°s
},

461 {"hsõh", (
ã°_ˇŒback_‚
*)
¥e_hsõh
, 0, 
ã°s
},

462 {"jíkös", (
ã°_ˇŒback_‚
*)
¥e_jíkös
, 0, 
ã°s
},

463 {"‚v1_64", (
ã°_ˇŒback_‚
*)
¥e_hash_‚v1_64
, 0, 
ã°s
},

464 {"‚v1a_64", (
ã°_ˇŒback_‚
*)
¥e_hash_‚v1a_64
, 0, 
ã°s
},

465 {"‚v1_32", (
ã°_ˇŒback_‚
*)
¥e_hash_‚v1_32
, 0, 
ã°s
},

466 {"‚v1a_32", (
ã°_ˇŒback_‚
*)
¥e_hash_‚v1a_32
, 0, 
ã°s
},

467 {"këama", (
ã°_ˇŒback_‚
*)
¥e_behavi‹_këama
, 0, 
ã°s
},

468 {"këama_auto_eje˘_ho°s", (
ã°_ˇŒback_‚
*)
¥e_behavi‹_këama
, 0, 
këama_auto_eje˘_ho°s
},

469 {"unix_sockë", (
ã°_ˇŒback_‚
*)
¥e_unix_sockë
, 0, 
ã°s
},

470 {"unix_sockë_nodñay", (
ã°_ˇŒback_‚
*)
¥e_nodñay
, 0, 
ã°s
},

471 {"gës", (
ã°_ˇŒback_‚
*)
íabÀ_ˇs
, 0, 
ã°s
},

472 {"c⁄si°ít_¸c", (
ã°_ˇŒback_‚
*)
íabÀ_c⁄si°ít_¸c
, 0, 
ã°s
},

473 {"c⁄si°ít_hsõh", (
ã°_ˇŒback_‚
*)
íabÀ_c⁄si°ít_hsõh
, 0, 
ã°s
},

474 #ifde‡
MEMCACHED_ENABLE_DEPRECATED


475 {"dïªˇãd_mem‹y_Æloˇt‹s", (
ã°_ˇŒback_‚
*)
dïªˇãd_£t_mem‹y_Æloc
, 0, 
ã°s
},

477 {"mem‹y_Æloˇt‹s", (
ã°_ˇŒback_‚
*)
£t_mem‹y_Æloc
, 0, 
ã°s
},

478 {"«me•a˚", (
ã°_ˇŒback_‚
*)
£t_«me•a˚
, 0, 
ã°s
},

479 {"«me•a˚(BINARY)", (
ã°_ˇŒback_‚
*)
£t_«me•a˚_™d_bö¨y
, 0, 
ã°s
},

480 {"•ecifi¯«me•a˚", 0, 0, 
«me•a˚_ã°s
},

481 {"•ecifi¯«me•a˚(BINARY)", (
ã°_ˇŒback_‚
*)
¥e_bö¨y
, 0, 
«me•a˚_ã°s
},

482 {"vîsi⁄_1_2_3", (
ã°_ˇŒback_‚
*)
check_f‹_1_2_3
, 0, 
vîsi⁄_1_2_3
},

483 {"ªsu…", 0, 0, 
ªsu…_ã°s
},

484 {"async", (
ã°_ˇŒback_‚
*)
¥e_n⁄block
, 0, 
async_ã°s
},

485 {"async(BINARY)", (
ã°_ˇŒback_‚
*)
¥e_n⁄block_bö¨y
, 0, 
async_ã°s
},

486 {"CÆ HÆdíbønd'†ã°s", 0, 0, 
hÆdíbønd_TESTS
},

487 {"u£∏wrôã¿ã°s", 0, 0, 
u£r_ã°s
},

488 {"gíî©e", 0, 0, 
gíî©e_ã°s
},

489 {"gíî©êMEMCACHED_BEHAVIOR_BUFFER_REQUESTS", (
ã°_ˇŒback_‚
*)
¥e_buf„r
, 0, 
gíî©e_ã°s
},

490 {"mgë gíî©êMEMCACHED_BEHAVIOR_BUFFER_REQUESTS", (
ã°_ˇŒback_‚
*)
¥e_buf„r
, 0, 
gíî©e_mgë_TESTS
},

491 {"gíî©êœrge", 0, 0, 
gíî©e_œrge_TESTS
},

492 {"gíî©e_hsõh", (
ã°_ˇŒback_‚
*)
¥e_hsõh
, 0, 
gíî©e_ã°s
},

493 {"gíî©e_këama", (
ã°_ˇŒback_‚
*)
¥e_behavi‹_këama
, 0, 
gíî©e_ã°s
},

494 {"gíî©e_hsõh_c⁄si°ít", (
ã°_ˇŒback_‚
*)
íabÀ_c⁄si°ít_hsõh
, 0, 
gíî©e_ã°s
},

495 {"gíî©e_md5", (
ã°_ˇŒback_‚
*)
¥e_md5
, 0, 
gíî©e_ã°s
},

496 {"gíî©e_murmur", (
ã°_ˇŒback_‚
*)
¥e_murmur
, 0, 
gíî©e_ã°s
},

497 {"gíî©e_jíkös", (
ã°_ˇŒback_‚
*)
¥e_jíkös
, 0, 
gíî©e_ã°s
},

498 {"gíî©e_n⁄block", (
ã°_ˇŒback_‚
*)
¥e_n⁄block
, 0, 
gíî©e_ã°s
},

499 {"mgë gíî©e_n⁄block", (
ã°_ˇŒback_‚
*)
¥e_n⁄block
, 0, 
gíî©e_mgë_TESTS
},

500 {"c⁄si°ít_nŸ", 0, 0, 
c⁄si°ít_ã°s
},

501 {"c⁄si°ít_këama", (
ã°_ˇŒback_‚
*)
¥e_behavi‹_këama
, 0, 
c⁄si°ít_ã°s
},

502 {"c⁄si°ít_këama_weighãd", (
ã°_ˇŒback_‚
*)
¥e_behavi‹_këama_weighãd
, 0, 
c⁄si°ít_weighãd_ã°s
},

503 {"këama_com∑t", 0, 0, 
këama_com∑tibûôy
},

504 {"ã°_hashes", 0, 0, 
hash_ã°s
},

505 {"ª∂iˇti⁄", (
ã°_ˇŒback_‚
*)
¥e_ª∂iˇti⁄
, 0, 
ª∂iˇti⁄_ã°s
},

506 {"ª∂iˇti⁄_noblock", (
ã°_ˇŒback_‚
*)
¥e_ª∂iˇti⁄_noblock
, 0, 
ª∂iˇti⁄_ã°s
},

507 {"ªgªssi⁄", 0, 0, 
ªgªssi⁄_ã°s
},

508 {"behavi‹s", 0, 0, 
behavi‹_ã°s
},

509 {"ªgªssi⁄_bö¨y_vs_block", (
ã°_ˇŒback_‚
*)
key_£tup
, (ã°_ˇŒback_‚*)
key_ã¨down
, 
ªgªssi⁄_bö¨y_vs_block
},

510 {"îr‹_c⁄dôi⁄s", 0, 0, 
îr‹_c⁄dôi⁄s
},

511 {"∑r£r", 0, 0, 
∑r£r_ã°s
},

512 {"vútuÆ buckës", 0, 0, 
vútuÆ_buckë_ã°s
},

513 {"memˇched_£rvî_gë_œ°_disc⁄√˘", 0, 0, 
memˇched_£rvî_gë_œ°_disc⁄√˘_ã°s
},

514 {"touch", 0, 0, 
touch_ã°s
},

515 {"touch", (
ã°_ˇŒback_‚
*)
¥e_bö¨y
, 0, 
touch_ã°s
},

516 {"memˇched_°©()", 0, 0, 
memˇched_°©_ã°s
},

517 {"memˇched_poﬁ_¸óã()", 0, 0, 
poﬁ_TESTS
},

518 {"memˇched_£t_ícodög_key()", 0, 0, 
memˇched_£t_ícodög_key_TESTS
},

519 {"kûl()", 0, 0, 
kûl_TESTS
},

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/callback_counter.h

38 #¥agm®
⁄˚


40 
memˇched_ªtu∫_t
 
ˇŒback_cou¡î
(c⁄° 
memˇched_°
*, 
memˇched_ªsu…_°
*, *);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/dump.h

37 #¥agm®
⁄˚


39 
ã°_ªtu∫_t
 
memˇched_dump_TEST
(
memˇched_°
 *);

40 
ã°_ªtu∫_t
 
memˇched_dump_TEST2
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/encoding_key.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_TEST
(
memˇched_°
*);

41 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_£t_gë_TEST
(
memˇched_°
*);

42 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_add_gë_TEST
(
memˇched_°
*);

43 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_ª∂a˚_gë_TEST
(
memˇched_°
*);

44 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_ö¸emít_TEST
(
memˇched_°
*);

45 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_de¸emít_TEST
(
memˇched_°
*);

46 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_ö¸emít_wôh_öôül_TEST
(
memˇched_°
*);

47 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_de¸emít_wôh_öôül_TEST
(
memˇched_°
*);

48 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_¥ïíd_TEST
(
memˇched_°
*);

49 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_≠≥nd_TEST
(
memˇched_°
*);

50 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_£t_gë_˛⁄e_TEST
(
memˇched_°
*);

51 
ã°_ªtu∫_t
 
memˇched_£t_ícodög_key_£t_grow_key_TEST
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/fetch_all_results.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
„tch_Æl_ªsu…s
(
memˇched_°
 *, &, 
memˇched_ªtu∫_t
&);

41 
ã°_ªtu∫_t
 
„tch_Æl_ªsu…s
(
memˇched_°
 *, &);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/generate.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
˛ónup_∑ús
(
memˇched_°
*);

41 
ã°_ªtu∫_t
 
dñëe_buf„r_gíî©e
(
memˇched_°
*);

42 
ã°_ªtu∫_t
 
dñëe_gíî©e
(
memˇched_°
*);

43 
ã°_ªtu∫_t
 
gíî©e_buf„r_d©a
(
memˇched_°
*);

44 
ã°_ªtu∫_t
 
gíî©e_d©a
(
memˇched_°
*);

45 
ã°_ªtu∫_t
 
gíî©e_d©a_wôh_°©s
(
memˇched_°
*);

46 
ã°_ªtu∫_t
 
gíî©e_œrge_∑ús
(
memˇched_°
 *);

47 
ã°_ªtu∫_t
 
gë_ªad
(
memˇched_°
*);

48 
ã°_ªtu∫_t
 
gë_ªad_cou¡
(
memˇched_°
*);

49 
ã°_ªtu∫_t
 
mgë_ªad
(
memˇched_°
*);

50 
ã°_ªtu∫_t
 
mgë_ªad_fun˘i⁄
(
memˇched_°
*);

51 
ã°_ªtu∫_t
 
mgë_ªad_∑πül_ªsu…
(
memˇched_°
*);

52 
ã°_ªtu∫_t
 
mgë_ªad_ªsu…
(
memˇched_°
*);

53 
ã°_ªtu∫_t
 
mgë_ªad_öã∫Æ_ªsu…
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/haldenbrand.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
hÆdíbønd_TEST1
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
hÆdíbønd_TEST2
(
memˇched_°
 *);

42 
ã°_ªtu∫_t
 
hÆdíbønd_TEST3
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/mem_functions.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
MEMCACHED_BEHAVIOR_CORK_ã°
(
memˇched_°
 *
memc
);

41 
ã°_ªtu∫_t
 
MEMCACHED_BEHAVIOR_POLL_TIMEOUT_ã°
(
memˇched_°
 *
memc
);

42 
ã°_ªtu∫_t
 
MEMCACHED_BEHAVIOR_TCP_KEEPALIVE_ã°
(
memˇched_°
 *
memc
);

43 
ã°_ªtu∫_t
 
MEMCACHED_BEHAVIOR_TCP_KEEPIDLE_ã°
(
memˇched_°
 *
memc
);

44 
ã°_ªtu∫_t
 
_u£r_suµlõd_bug21
(
memˇched_°
* 
memc
, 
size_t
 
key_cou¡
);

45 
ã°_ªtu∫_t
 
add_ho°_ã°
(
memˇched_°
 *
memc
);

46 
ã°_ªtu∫_t
 
add_ho°_ã°1
(
memˇched_°
 *
memc
);

47 
ã°_ªtu∫_t
 
memˇched_add_SUCCESS_TEST
(
memˇched_°
*);

48 
ã°_ªtu∫_t
 
add_ã°
(
memˇched_°
 *
memc
);

49 
ã°_ªtu∫_t
 
add_wøµî
(
memˇched_°
 *
memc
);

50 
ã°_ªtu∫_t
 
Æloˇti⁄_ã°
(
memˇched_°
 *
nŸ_u£d
);

51 
ã°_ªtu∫_t
 
™Æyzî_ã°
(
memˇched_°
 *
memc
);

52 
ã°_ªtu∫_t
 
≠≥nd_bö¨y_ã°
(
memˇched_°
 *
memc
);

53 
ã°_ªtu∫_t
 
≠≥nd_ã°
(
memˇched_°
 *
memc
);

54 
ã°_ªtu∫_t
 
bad_key_ã°
(
memˇched_°
 *
memc
);

55 
ã°_ªtu∫_t
 
behavi‹_ã°
(
memˇched_°
 *
memc
);

56 
ã°_ªtu∫_t
 
bö¨y_add_ªgªssi⁄
(
memˇched_°
 *
memc
);

57 
ã°_ªtu∫_t
 
bö¨y_ö¸emít_wôh_¥efix_ã°
(
memˇched_°
 *
memc
);

58 
ã°_ªtu∫_t
 
block_add_ªgªssi⁄
(
memˇched_°
 *
memc
);

59 
ã°_ªtu∫_t
 
ˇŒback_ã°
(
memˇched_°
 *
memc
);

60 
ã°_ªtu∫_t
 
ˇs2_ã°
(
memˇched_°
 *
memc
);

61 
ã°_ªtu∫_t
 
ˇs_ã°
(
memˇched_°
 *
memc
);

62 
ã°_ªtu∫_t
 
check_f‹_1_2_3
(
memˇched_°
 *
memc
);

63 
ã°_ªtu∫_t
 
˛⁄e_ã°
(
memˇched_°
 *
memc
);

64 
ã°_ªtu∫_t
 
c⁄√˘i⁄_ã°
(
memˇched_°
 *
memc
);

65 
ã°_ªtu∫_t
 
¸c_run
 (
memˇched_°
 *);

66 
ã°_ªtu∫_t
 
de¸emít_by_key_ã°
(
memˇched_°
 *
memc
);

67 
ã°_ªtu∫_t
 
de¸emít_ã°
(
memˇched_°
 *
memc
);

68 
ã°_ªtu∫_t
 
de¸emít_wôh_öôül_by_key_ã°
(
memˇched_°
 *
memc
);

69 
ã°_ªtu∫_t
 
de¸emít_wôh_öôül_ã°
(
memˇched_°
 *
memc
);

70 
ã°_ªtu∫_t
 
dñëe_ã°
(
memˇched_°
 *
memc
);

71 
ã°_ªtu∫_t
 
dïªˇãd_£t_mem‹y_Æloc
(
memˇched_°
 *
memc
);

72 
ã°_ªtu∫_t
 
íabÀ_ˇs
(
memˇched_°
 *
memc
);

73 
ã°_ªtu∫_t
 
íabÀ_c⁄si°ít_¸c
(
memˇched_°
 *
memc
);

74 
ã°_ªtu∫_t
 
íabÀ_c⁄si°ít_hsõh
(
memˇched_°
 *
memc
);

75 
ã°_ªtu∫_t
 
Êush_ã°
(
memˇched_°
 *
memc
);

76 
ã°_ªtu∫_t
 
‚v1_32_run
 (
memˇched_°
 *);

77 
ã°_ªtu∫_t
 
‚v1_64_run
 (
memˇched_°
 *);

78 
ã°_ªtu∫_t
 
‚v1a_32_run
 (
memˇched_°
 *);

79 
ã°_ªtu∫_t
 
‚v1a_64_run
 (
memˇched_°
 *);

80 
ã°_ªtu∫_t
 
gë_°©s
(
memˇched_°
 *
memc
);

81 
ã°_ªtu∫_t
 
gë_°©s_keys
(
memˇched_°
 *
memc
);

82 
ã°_ªtu∫_t
 
gëpid_c⁄√˘i⁄_Áûuª_ã°
(
memˇched_°
 *
memc
);

83 
ã°_ªtu∫_t
 
gëpid_ã°
(
memˇched_°
 *
memc
);

84 
ã°_ªtu∫_t
 
hash_ßnôy_ã°
 (
memˇched_°
 *
memc
);

85 
ã°_ªtu∫_t
 
hsõh_avaibûôy_ã°
 (
memˇched_°
 *
memc
);

86 
ã°_ªtu∫_t
 
hsõh_run
 (
memˇched_°
 *);

87 
ã°_ªtu∫_t
 
ö¸emít_by_key_ã°
(
memˇched_°
 *
memc
);

88 
ã°_ªtu∫_t
 
ö¸emít_ã°
(
memˇched_°
 *
memc
);

89 
ã°_ªtu∫_t
 
ö¸emít_wôh_öôül_by_key_ã°
(
memˇched_°
 *
memc
);

90 
ã°_ªtu∫_t
 
ö¸emít_wôh_öôül_ã°
(
memˇched_°
 *
memc
);

91 
ã°_ªtu∫_t
 
öô_ã°
(
memˇched_°
 *
nŸ_u£d
);

92 
ã°_ªtu∫_t
 
jíkös_run
 (
memˇched_°
 *);

93 
ã°_ªtu∫_t
 
key_£tup
(
memˇched_°
 *
memc
);

94 
ã°_ªtu∫_t
 
key_ã¨down
(
memˇched_°
 *);

95 
ã°_ªtu∫_t
 
libmemˇched_°rög_behavi‹_ã°
(
memˇched_°
 *);

96 
ã°_ªtu∫_t
 
libmemˇched_°rög_di°ributi⁄_ã°
(
memˇched_°
 *);

97 
ã°_ªtu∫_t
 
md5_run
 (
memˇched_°
 *);

98 
ã°_ªtu∫_t
 
memˇched_„tch_ªsu…_NOT_FOUND
(
memˇched_°
 *
memc
);

99 
ã°_ªtu∫_t
 
memˇched_gë_MEMCACHED_ERRNO
(
memˇched_°
 *);

100 
ã°_ªtu∫_t
 
memˇched_gë_MEMCACHED_NOTFOUND
(
memˇched_°
 *
memc
);

101 
ã°_ªtu∫_t
 
memˇched_gë_by_key_MEMCACHED_ERRNO
(
memˇched_°
 *
memc
);

102 
ã°_ªtu∫_t
 
memˇched_gë_by_key_MEMCACHED_NOTFOUND
(
memˇched_°
 *
memc
);

103 
ã°_ªtu∫_t
 
memˇched_gë_hashkô_ã°
 (
memˇched_°
 *);

104 
ã°_ªtu∫_t
 
memˇched_mgë_mixed_memˇched_gë_TEST
(
memˇched_°
 *
memc
);

105 
ã°_ªtu∫_t
 
memˇched_ªtu∫_t_TEST
(
memˇched_°
 *
memc
);

106 
ã°_ªtu∫_t
 
memˇched_£rvî_curs‹_ã°
(
memˇched_°
 *
memc
);

107 
ã°_ªtu∫_t
 
memˇched_£rvî_ªmove_ã°
(
memˇched_°
*);

108 
ã°_ªtu∫_t
 
memˇched_°©_execuã_ã°
(
memˇched_°
 *
memc
);

109 
ã°_ªtu∫_t
 
mgë_íd
(
memˇched_°
 *
memc
);

110 
ã°_ªtu∫_t
 
mgë_execuã
(
memˇched_°
 *
‹igöÆ_memc
);

111 
ã°_ªtu∫_t
 
MEMCACHED_BEHAVIOR_IO_KEY_PREFETCH_TEST
(
memˇched_°
 *
‹igöÆ_memc
);

112 
ã°_ªtu∫_t
 
mgë_ªsu…_Æloc_ã°
(
memˇched_°
 *
memc
);

113 
ã°_ªtu∫_t
 
mgë_ªsu…_fun˘i⁄
(
memˇched_°
 *
memc
);

114 
ã°_ªtu∫_t
 
mgë_ªsu…_ã°
(
memˇched_°
 *
memc
);

115 
ã°_ªtu∫_t
 
mgë_ã°
(
memˇched_°
 *
memc
);

116 
ã°_ªtu∫_t
 
murmur_avaibûôy_ã°
 (
memˇched_°
 *
memc
);

117 
ã°_ªtu∫_t
 
murmur_run
 (
memˇched_°
 *);

118 
ã°_ªtu∫_t
 
murmur3_TEST
(
hashkô_°
 *);

119 
ã°_ªtu∫_t
 
n‹ïly_ã°
(
memˇched_°
 *
memc
);

120 
ã°_ªtu∫_t
 
⁄e_©_a_time_run
 (
memˇched_°
 *);

121 
ã°_ªtu∫_t
 
këama_TEST
(
memˇched_°
 *);

122 
ã°_ªtu∫_t
 
ouçut_këama_weighãd_keys
(
memˇched_°
 *);

123 
ã°_ªtu∫_t
 
libmemˇched_utû_pög_TEST
(
memˇched_°
*);

124 
ã°_ªtu∫_t
 
¥ïíd_ã°
(
memˇched_°
 *
memc
);

125 
ã°_ªtu∫_t
 
quô_ã°
(
memˇched_°
 *
memc
);

126 
ã°_ªtu∫_t
 
ªad_through
(
memˇched_°
 *
memc
);

127 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_
(
memˇched_°
*);

128 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_421108
(
memˇched_°
*);

129 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_434484
(
memˇched_°
*);

130 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_434843
(
memˇched_°
*);

131 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_434843_buf„ªd
(
memˇched_°
*);

132 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_442914
(
memˇched_°
*);

133 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_447342
(
memˇched_°
*);

134 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_463297
(
memˇched_°
*);

135 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_490486
(
memˇched_°
*);

136 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_490520
(
memˇched_°
*);

137 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_581030
(
memˇched_°
*);

138 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_583031
(
memˇched_°
*);

139 
ã°_ªtu∫_t
 
ªgªssi⁄_1021819_TEST
(
memˇched_°
*);

140 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_655423
(
memˇched_°
*);

141 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_854604
(
memˇched_°
*);

142 
ã°_ªtu∫_t
 
ª∂a˚_ã°
(
memˇched_°
 *
memc
);

143 
ã°_ªtu∫_t
 
ªsu…_Æloc
(
memˇched_°
 *
memc
);

144 
ã°_ªtu∫_t
 
ªsu…_°©ic
(
memˇched_°
 *
memc
);

145 
ã°_ªtu∫_t
 
£À˘i⁄_of_«me•a˚_ã°s
(
memˇched_°
 *
memc
);

146 
ã°_ªtu∫_t
 
£rvî_s‹t2_ã°
(
memˇched_°
 *
±r
);

147 
ã°_ªtu∫_t
 
£rvî_s‹t_ã°
(
memˇched_°
 *
±r
);

148 
ã°_ªtu∫_t
 
£rvî_uns‹t_ã°
(
memˇched_°
 *
±r
);

149 
ã°_ªtu∫_t
 
£t_mem‹y_Æloc
(
memˇched_°
 *
memc
);

150 
ã°_ªtu∫_t
 
£t_«me•a˚
(
memˇched_°
 *
memc
);

151 
ã°_ªtu∫_t
 
£t_«me•a˚_™d_bö¨y
(
memˇched_°
 *
memc
);

152 
ã°_ªtu∫_t
 
£t_ã°
(
memˇched_°
 *
memc
);

153 
ã°_ªtu∫_t
 
£t_ã°2
(
memˇched_°
 *
memc
);

154 
ã°_ªtu∫_t
 
£t_ã°3
(
memˇched_°
 *
memc
);

155 
ã°_ªtu∫_t
 
°©s_£rvî«me_ã°
(
memˇched_°
 *
memc
);

156 
ã°_ªtu∫_t
 
ã°_gë_œ°_disc⁄√˘
(
memˇched_°
 *
memc
);

157 
ã°_ªtu∫_t
 
ã°_mu…ùÀ_gë_œ°_disc⁄√˘
(
memˇched_°
 *);

158 
ã°_ªtu∫_t
 
ã°_vîbosôy
(
memˇched_°
 *
memc
);

159 
ã°_ªtu∫_t
 
u£r_suµlõd_bug10
(
memˇched_°
 *
memc
);

160 
ã°_ªtu∫_t
 
u£r_suµlõd_bug11
(
memˇched_°
 *
memc
);

161 
ã°_ªtu∫_t
 
u£r_suµlõd_bug12
(
memˇched_°
 *
memc
);

162 
ã°_ªtu∫_t
 
u£r_suµlõd_bug13
(
memˇched_°
 *
memc
);

163 
ã°_ªtu∫_t
 
u£r_suµlõd_bug14
(
memˇched_°
 *
memc
);

164 
ã°_ªtu∫_t
 
u£r_suµlõd_bug15
(
memˇched_°
 *
memc
);

165 
ã°_ªtu∫_t
 
u£r_suµlõd_bug16
(
memˇched_°
 *
memc
);

166 
ã°_ªtu∫_t
 
u£r_suµlõd_bug17
(
memˇched_°
 *
memc
);

167 
ã°_ªtu∫_t
 
u£r_suµlõd_bug19
(
memˇched_°
 *);

168 
ã°_ªtu∫_t
 
u£r_suµlõd_bug20
(
memˇched_°
 *
memc
);

169 
ã°_ªtu∫_t
 
u£r_suµlõd_bug21
(
memˇched_°
 *
memc
);

170 
ã°_ªtu∫_t
 
u£r_suµlõd_bug4
(
memˇched_°
 *
memc
);

171 
ã°_ªtu∫_t
 
u£r_suµlõd_bug5
(
memˇched_°
 *
memc
);

172 
ã°_ªtu∫_t
 
u£r_suµlõd_bug6
(
memˇched_°
 *
memc
);

173 
ã°_ªtu∫_t
 
u£r_suµlõd_bug7
(
memˇched_°
 *
memc
);

174 
ã°_ªtu∫_t
 
u£r_suµlõd_bug8
(
memˇched_°
 *);

175 
ã°_ªtu∫_t
 
u£r_suµlõd_bug9
(
memˇched_°
 *
memc
);

176 
ã°_ªtu∫_t
 
u£rd©a_ã°
(
memˇched_°
 *
memc
);

177 
ã°_ªtu∫_t
 
utû_vîsi⁄_ã°
(
memˇched_°
 *
memc
);

178 
ã°_ªtu∫_t
 
vîsi⁄_°rög_ã°
(
memˇched_°
 *);

179 
ã°_ªtu∫_t
 
wr⁄g_Áûuª_cou¡î_ã°
(
memˇched_°
 *
memc
);

180 
ã°_ªtu∫_t
 
wr⁄g_Áûuª_cou¡î_two_ã°
(
memˇched_°
 *
memc
);

181 
ã°_ªtu∫_t
 
kûl_HUP_TEST
(
memˇched_°
 *
memc
);

182 
ã°_ªtu∫_t
 
ªgªssi⁄_996813_TEST
(
memˇched_°
*);

183 
ã°_ªtu∫_t
 
ªgªssi⁄_994772_TEST
(
memˇched_°
*);

184 
ã°_ªtu∫_t
 
ªgªssi⁄_1009493_TEST
(
memˇched_°
*);

185 
ã°_ªtu∫_t
 
ªgªssi⁄_1048945_TEST
(
memˇched_°
*);

186 
ã°_ªtu∫_t
 
ªgªssi⁄_1067242_TEST
(
memˇched_°
*);

187 
ã°_ªtu∫_t
 
com∑ris⁄_›î©‹_memˇched_°_™d__memˇched_ªtu∫_t_TEST
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/memcached_get.h

37 #¥agm®
⁄˚


39 
ã°_ªtu∫_t
 
gë_ã°
(
memˇched_°
*);

40 
ã°_ªtu∫_t
 
gë_ã°2
(
memˇched_°
*);

41 
ã°_ªtu∫_t
 
gë_ã°3
(
memˇched_°
*);

42 
ã°_ªtu∫_t
 
gë_ã°4
(
memˇched_°
*);

43 
ã°_ªtu∫_t
 
gë_ã°5
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/parser.h

38 #¥agm®
⁄˚


40 #ifdef 
__˝lu•lus


44 
ã°_ªtu∫_t
 
memˇched_NULL_°rög_TEST
(
memˇched_°
*);

45 
ã°_ªtu∫_t
 
memˇched_zîo_°rög_Àngth_TEST
(
memˇched_°
*);

47 
LIBTEST_LOCAL


48 
ã°_ªtu∫_t
 
£rvî_ã°
(
memˇched_°
 *
memc
);

50 
LIBTEST_LOCAL


51 
ã°_ªtu∫_t
 
£rvîs_bad_ã°
(
memˇched_°
 *
memc
);

53 
LIBTEST_LOCAL


54 
ã°_ªtu∫_t
 
behavi‹_∑r£r_ã°
(
memˇched_°
*);

56 
LIBTEST_LOCAL


57 
ã°_ªtu∫_t
 
∑r£r_numbî_›ti⁄s_ã°
(
memˇched_°
*);

59 
LIBTEST_LOCAL


60 
ã°_ªtu∫_t
 
∑r£r_di°ributi⁄_ã°
(
memˇched_°
*);

62 
LIBTEST_LOCAL


63 
ã°_ªtu∫_t
 
∑r£r_hash_ã°
(
memˇched_°
*);

65 
LIBTEST_LOCAL


66 
ã°_ªtu∫_t
 
∑r£r_boﬁón_›ti⁄s_ã°
(
memˇched_°
*);

68 
LIBTEST_LOCAL


69 
ã°_ªtu∫_t
 
∑r£r_key_¥efix_ã°
(
memˇched_°
*);

71 
LIBTEST_LOCAL


72 
ã°_ªtu∫_t
 
libmemˇched_check_c⁄figuøti⁄_ã°
(
memˇched_°
*);

74 
LIBTEST_LOCAL


75 
ã°_ªtu∫_t
 
memˇched_¸óã_wôh_›ti⁄s_ã°
(
memˇched_°
*);

77 
LIBTEST_LOCAL


78 
ã°_ªtu∫_t
 
memˇched_¸óã_wôh_›ti⁄s_wôh_fûíame
(
memˇched_°
*);

80 
LIBTEST_LOCAL


81 
ã°_ªtu∫_t
 
libmemˇched_check_c⁄figuøti⁄_wôh_fûíame_ã°
(
memˇched_°
*);

83 
LIBTEST_LOCAL


84 
ã°_ªtu∫_t
 
øndom_°©emít_buûd_ã°
(
memˇched_°
*);

86 
LIBTEST_LOCAL


87 
ã°_ªtu∫_t
 
ã°_ö˛ude_keyw‹d
(
memˇched_°
*);

89 
LIBTEST_LOCAL


90 
ã°_ªtu∫_t
 
ã°_íd_keyw‹d
(
memˇched_°
*);

92 
LIBTEST_LOCAL


93 
ã°_ªtu∫_t
 
ã°_ª£t_keyw‹d
(
memˇched_°
*);

95 
LIBTEST_LOCAL


96 
ã°_ªtu∫_t
 
ã°_îr‹_keyw‹d
(
memˇched_°
*);

98 
LIBTEST_LOCAL


99 
ã°_ªtu∫_t
 
£rvî_wôh_weight_ã°
(
memˇched_°
 *);

101 
LIBTEST_LOCAL


102 
ã°_ªtu∫_t
 
ã°_ho°«me_p‹t_weight
(
memˇched_°
 *);

104 
LIBTEST_LOCAL


105 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_71231153_c⁄√˘
(
memˇched_°
 *);

107 
LIBTEST_LOCAL


108 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_71231153_pﬁl
(
memˇched_°
 *);

110 
LIBTEST_LOCAL


111 
ã°_ªtu∫_t
 
ã°_∑r£_sockë
(
memˇched_°
 *);

113 
LIBTEST_LOCAL


114 
ã°_ªtu∫_t
 
ã°_«me•a˚_keyw‹d
(
memˇched_°
*);

116 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/setup_and_teardowns.h

38 #¥agm®
⁄˚


40 
memˇched_ªtu∫_t
 
ªtu∫_vÆue_ba£d_⁄_buf„rög
(
memˇched_°
*);

42 
ã°_ªtu∫_t
 
¥e_behavi‹_këama
(
memˇched_°
*);

43 
ã°_ªtu∫_t
 
¥e_behavi‹_këama_weighãd
(
memˇched_°
*);

44 
ã°_ªtu∫_t
 
¥e_bö¨y
(
memˇched_°
*);

45 
ã°_ªtu∫_t
 
¥e_c‹k
(
memˇched_°
*);

46 
ã°_ªtu∫_t
 
¥e_c‹k_™d_n⁄block
(
memˇched_°
*);

47 
ã°_ªtu∫_t
 
¥e_¸c
(
memˇched_°
*);

48 
ã°_ªtu∫_t
 
¥e_hash_‚v1_32
(
memˇched_°
*);

49 
ã°_ªtu∫_t
 
¥e_hash_‚v1_64
(
memˇched_°
*);

50 
ã°_ªtu∫_t
 
¥e_hash_‚v1a_32
(
memˇched_°
*);

51 
ã°_ªtu∫_t
 
¥e_hash_‚v1a_64
(
memˇched_°
*);

52 
ã°_ªtu∫_t
 
¥e_hsõh
(
memˇched_°
*);

53 
ã°_ªtu∫_t
 
¥e_jíkös
(
memˇched_°
*);

54 
ã°_ªtu∫_t
 
¥e_md5
(
memˇched_°
*);

55 
ã°_ªtu∫_t
 
¥e_murmur
(
memˇched_°
*);

56 
ã°_ªtu∫_t
 
¥e_nodñay
(
memˇched_°
*);

57 
ã°_ªtu∫_t
 
¥e_n⁄block
(
memˇched_°
*);

58 
ã°_ªtu∫_t
 
¥e_n⁄block_bö¨y
(
memˇched_°
*);

59 
ã°_ªtu∫_t
 
¥e_ª∂iˇti⁄
(
memˇched_°
*);

60 
ã°_ªtu∫_t
 
¥e_ª∂iˇti⁄_noblock
(
memˇched_°
*);

61 
ã°_ªtu∫_t
 
¥e_£âimî
(
memˇched_°
*);

62 
ã°_ªtu∫_t
 
¥e_unix_sockë
(
memˇched_°
*);

63 
ã°_ªtu∫_t
 
¥e_buf„r
(
memˇched_°
*);

64 
ã°_ªtu∫_t
 
memˇched_£rvîs_ª£t_MEMCACHED_DISTRIBUTION_CONSISTENT_SETUP
(
memˇched_°
 *
memc
);

65 
ã°_ªtu∫_t
 
memˇched_£rvîs_ª£t_MEMCACHED_DISTRIBUTION_CONSISTENT_WEIGHTED_SETUP
(
memˇched_°
 *
memc
);

66 
ã°_ªtu∫_t
 
memˇched_£rvîs_ª£t_SETUP
(
memˇched_°
 *
memc
);

	@oss/libmemcached-1.0.17/tests/libmemcached-1.0/stat.h

37 #¥agm®
⁄˚


39 
ã°_ªtu∫_t
 
memˇched_°©_TEST
(
memˇched_°
 *);

40 
ã°_ªtu∫_t
 
memˇched_°©_TEST2
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/libmemcached_test_container.h

39 #¥agm®
⁄˚


42 
	slibmemˇched_ã°_c⁄èöî_°


44 
	m¥iv©e
:

45 
memˇched_°
 *
_∑ª¡
;

47 
	mpublic
:

48 
libã°
::
£rvî_°¨tup_°
& 
c⁄°ru˘
;

50 
libmemˇched_ã°_c⁄èöî_°
(
libã°
::
£rvî_°¨tup_°
 &
c⁄°ru˘_¨g
) :

51 
_∑ª¡
(
NULL
),

52 
c⁄°ru˘
(
c⁄°ru˘_¨g
)

55 
memˇched_°
* 
∑ª¡
()

57  
	m_∑ª¡
;

60 
∑ª¡
(
memˇched_°
* 
¨g
)

62 
as£π
(
_∑ª¡
 !
¨g
);

63 
ª£t
();

64 
	m_∑ª¡

¨g
;

67 
ª£t
()

69 i‡(
	m_∑ª¡
)

71 
memˇched_‰ì
(
_∑ª¡
);

72 
	m_∑ª¡

NULL
;

76 ~
libmemˇched_ã°_c⁄èöî_°
()

78 
ª£t
();

	@oss/libmemcached-1.0.17/tests/libmemcached_world.h

40 #¥agm®
⁄˚


42 
	~"ã°s/libmemˇched_ã°_c⁄èöî.h
"

44 *
w‹ld_¸óã
(
libã°
::
£rvî_°¨tup_°
& 
£rvîs
, 
ã°_ªtu∫_t
& 
îr‹
)

46 i‡(
	glibã°
::
has_memˇched
(Ë=
Ál£
)

48 
îr‹

TEST_SKIPPED
;

49  
	gNULL
;

52 i‡(
	g£rvîs
.
ß¶
())

54 i‡(
	gLIBMEMCACHED_WITH_SASL_SUPPORT
 == 0)

56 
îr‹

TEST_SKIPPED
;

57  
	gNULL
;

60 i‡(
	gHAVE_MEMCACHED_SASL_BINARY
 == 0)

62 
îr‹

TEST_SKIPPED
;

63  
	gNULL
;

67 i‡(
gëív
("TESTS_ENVIRONMENT"))

69 
	gîr‹

TEST_SKIPPED
;

70  
	gNULL
;

74 
uöt32_t
 
	gx
0; x < 
	g£rvîs
.
£rvîs_to_run
(); x++)

76 
ö_p‹t_t
 
	gp‹t

libã°
::
gë_‰ì_p‹t
();

78 i‡(
	g£rvîs
.
ß¶
())

80 i‡(
£rvî_°¨tup
(
£rvîs
, "memˇched-ß¶", 
p‹t
, 
NULL
Ë=
Ál£
)

82 
îr‹

TEST_SKIPPED
;

83  
	gNULL
;

88 i‡(
£rvî_°¨tup
(
£rvîs
, "memˇched", 
p‹t
, 
NULL
Ë=
Ál£
)

90 
îr‹

TEST_SKIPPED
;

91  
	gNULL
;

96 
libmemˇched_ã°_c⁄èöî_°
 *
	gglobÆ_c⁄èöî

√w
Üibmemˇched_ã°_c⁄èöî_°(
£rvîs
);

98  
	gglobÆ_c⁄èöî
;

101 
boﬁ
 
	$w‹ld_de°roy
(*
obje˘
)

103 
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
÷ibmemˇched_ã°_c⁄èöî_° *)
obje˘
;

104 #i‡
	`deföed
(
LIBMEMCACHED_WITH_SASL_SUPPORT
) && LIBMEMCACHED_WITH_SASL_SUPPORT

105 i‡(
LIBMEMCACHED_WITH_SASL_SUPPORT
)

107 
	`ß¶_d⁄e
();

111 
dñëe
 
c⁄èöî
;

113  
TEST_SUCCESS
;

114 
	}
}

116 
	$ã°_ªtu∫_t
 (*
	tlibmemˇched_ã°_ˇŒback_‚
)(
	tmemˇched_°
 *);

118 
	~"ã°s/ru¬î.h
"

	@oss/libmemcached-1.0.17/tests/libmemcached_world_socket.h

40 #¥agm®
⁄˚


42 
	~<ˇs£π
>

44 
	~"ã°s/libmemˇched_ã°_c⁄èöî.h
"

46 *
w‹ld_¸óã
(
libã°
::
£rvî_°¨tup_°
& 
£rvîs
, 
ã°_ªtu∫_t
& 
îr‹
)

48 i‡(
	glibã°
::
has_memˇched
(Ë=
Ál£
)

50 
îr‹

TEST_SKIPPED
;

51  
	gNULL
;

54 
uöt32_t
 
	gx
0; x < 
	g£rvîs
.
£rvîs_to_run
(); x++)

56 c⁄° *
	g¨gv
[]= { "memcached", 0 };

57 i‡(
	g£rvîs
.
°¨t_sockë_£rvî
("memˇched", 
libã°
::
gë_‰ì_p‹t
(), 
¨gv
Ë=
Ál£
)

60 
Áèl_mesßge
("CouldÇotÜaunch memcached");

62 
	gîr‹

TEST_SKIPPED
;

63  
	gNULL
;

68 
libmemˇched_ã°_c⁄èöî_°
 *
	gglobÆ_c⁄èöî

√w
Üibmemˇched_ã°_c⁄èöî_°(
£rvîs
);

70 
	gîr‹

TEST_SUCCESS
;

72  
	gglobÆ_c⁄èöî
;

75 
boﬁ
 
	$w‹ld_de°roy
(*
obje˘
)

77 
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
÷ibmemˇched_ã°_c⁄èöî_° *)
obje˘
;

78 #i‡
	`deföed
(
LIBMEMCACHED_WITH_SASL_SUPPORT
) && LIBMEMCACHED_WITH_SASL_SUPPORT

79 i‡(
LIBMEMCACHED_WITH_SASL_SUPPORT
)

81 
	`ß¶_d⁄e
();

85 
dñëe
 
c⁄èöî
;

87  
TEST_SUCCESS
;

88 
	}
}

90 
	$ã°_ªtu∫_t
 (*
	tlibmemˇched_ã°_ˇŒback_‚
)(
	tmemˇched_°
 *);

92 
	~"ã°s/ru¬î.h
"

	@oss/libmemcached-1.0.17/tests/namespace.h

38 #¥agm®
⁄˚


40 
LIBTEST_LOCAL


41 
ã°_ªtu∫_t
 
memˇched_ö¸emít_«me•a˚
(
memˇched_°
 *
memc
);

	@oss/libmemcached-1.0.17/tests/pool.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
memˇched_poﬁ_ã°
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
c⁄√˘i⁄_poﬁ_ã°
(
memˇched_°
 *);

42 
ã°_ªtu∫_t
 
c⁄√˘i⁄_poﬁ2_ã°
(
memˇched_°
 *);

43 
ã°_ªtu∫_t
 
c⁄√˘i⁄_poﬁ3_ã°
(
memˇched_°
 *);

44 
ã°_ªtu∫_t
 
ªgªssi⁄_bug_962815
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/print.h

38 #¥agm®
⁄˚


40 
memˇched_ªtu∫_t
 
£rvî_¥öt_ˇŒback
(c⁄° 
memˇched_°
 *
±r
,

41 c⁄° 
memˇched_ö°™˚_°
 *
£rvî
,

42 *
c⁄ãxt
);

44 
memˇched_ªtu∫_t
 
£rvî_¥öt_vîsi⁄_ˇŒback
(c⁄° 
memˇched_°
 *
±r
,

45 c⁄° 
memˇched_£rvî_°
 *
£rvî
,

46 *
c⁄ãxt
);

48 c⁄° * 
¥öt_vîsi⁄
(
memˇched_°
 *
memc
);

	@oss/libmemcached-1.0.17/tests/replication.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
ª∂iˇti⁄_£t_ã°
(
memˇched_°
 *
memc
);

42 
ã°_ªtu∫_t
 
ª∂iˇti⁄_gë_ã°
(
memˇched_°
 *
memc
);

44 
ã°_ªtu∫_t
 
ª∂iˇti⁄_mgë_ã°
(
memˇched_°
 *
memc
);

46 
ã°_ªtu∫_t
 
ª∂iˇti⁄_dñëe_ã°
(
memˇched_°
 *
memc
);

48 
ã°_ªtu∫_t
 
ª∂iˇti⁄_øndomize_mgë_ã°
(
memˇched_°
 *
memc
);

50 
ã°_ªtu∫_t
 
ª∂iˇti⁄_øndomize_mgë_Áû_ã°
(
memˇched_°
 *
memc
);

52 
ã°_ªtu∫_t
 
ª∂iˇti⁄_miss_ã°
(
memˇched_°
 *
memc
);

54 
ã°_ªtu∫_t
 
check_ª∂iˇti⁄_ßnôy_TEST
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/runner.h

39 #¥agm®
⁄˚


41 
	~"ã°s/libmemˇched-1.0/gíî©e.h
"

42 
	~"ã°s/memc.hµ
"

43 
	~"ã°s/¥öt.h
"

45 ˛as†
	cLibmemˇchedRu¬î
 : 
public
 
libã°
::
Ru¬î
 {

46 
public
:

47 
ã°_ªtu∫_t
 
	$run
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
)

49  
	`_ru¬î_deÁu…
(
	`libmemˇched_ã°_ˇŒback_‚
(
func
), (
libmemˇched_ã°_c⁄èöî_°
*)
obje˘
);

52 
ã°_ªtu∫_t
 
	$Êush
(* 
¨g
)

54  
	`Êush
((
libmemˇched_ã°_c⁄èöî_°
*)
¨g
);

55 
	}
}

57 
ã°_ªtu∫_t
 
	$Êush
(
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
)

59 
ã°
::
Memc
 
	`memc
(
c⁄èöî
->
	`∑ª¡
());

60 
	`memˇched_Êush
(&
memc
, 0);

61 
	`memˇched_quô
(&
memc
);

63  
TEST_SUCCESS
;

64 
	}
}

66 
ã°_ªtu∫_t
 
	$¥e
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
)

68  
	`_¥e_ru¬î_deÁu…
(
	`libmemˇched_ã°_ˇŒback_‚
(
func
), (
libmemˇched_ã°_c⁄èöî_°
*)
obje˘
);

69 
	}
}

71 
ã°_ªtu∫_t
 
	$po°
(
ã°_ˇŒback_‚
* 
func
, *
obje˘
)

73  
	`_po°_ru¬î_deÁu…
(
	`libmemˇched_ã°_ˇŒback_‚
(
func
), (
libmemˇched_ã°_c⁄èöî_°
*)
obje˘
);

74 
	}
}

76 
	g¥iv©e
:

77 
ã°_ªtu∫_t
 
	$_ru¬î_deÁu…
(
libmemˇched_ã°_ˇŒback_‚
 
func
, 
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
)

79 
	`ã°_åue
(
c⁄èöî
);

80 
	`ã°_åue
(
c⁄èöî
->
	`∑ª¡
());

81 
ã°
::
Memc
 
	`memc
(
c⁄èöî
->
	`∑ª¡
());

83 
	`ã°_com∑ª
(
åue
, 
	`check
());

85 
ã°_ªtu∫_t
 
ªt

TEST_SUCCESS
;

86 i‡(
func
)

88 
	`ã°_åue
(
c⁄èöî
);

89 
ªt

	`func
(&
memc
);

92  
ªt
;

93 
	}
}

95 
ã°_ªtu∫_t
 
	$_¥e_ru¬î_deÁu…
(
libmemˇched_ã°_ˇŒback_‚
 
func
, 
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
)

97 
c⁄èöî
->
	`ª£t
();

99 
buf„r
[
BUFSIZ
];

101 
	`ã°_com∑ª
(
MEMCACHED_SUCCESS
,

102 
	`libmemˇched_check_c⁄figuøti⁄
(
c⁄èöî
->
c⁄°ru˘
.
	`›ti⁄_°rög
().
	`c_°r
(), c⁄èöî->c⁄°ru˘.›ti⁄_°rög().
	`size
(),

103 
buf„r
, (buffer)));

105 
	`ã°_nuŒ
(
c⁄èöî
->
	`∑ª¡
());

106 
c⁄èöî
->
	`∑ª¡
(
	`memˇched
(c⁄èöî->
c⁄°ru˘
.
	`›ti⁄_°rög
().
	`c_°r
(), c⁄èöî->c⁄°ru˘.›ti⁄_°rög().
	`size
()));

107 
	`ã°_åue
(
c⁄èöî
->
	`∑ª¡
());

109 
	`ã°_com∑ª
(
MEMCACHED_SUCCESS
, 
	`memˇched_vîsi⁄
(
c⁄èöî
->
	`∑ª¡
()));

112 i‡(
c⁄èöî
->
c⁄°ru˘
.
	`ß¶
())

114 i‡(
	`memˇched_Áûed
(
	`memˇched_behavi‹_£t
(
c⁄èöî
->
	`∑ª¡
(), 
MEMCACHED_BEHAVIOR_BINARY_PROTOCOL
, 1)))

116 
c⁄èöî
->
	`ª£t
();

117  
TEST_FAILURE
;

120 i‡(
	`memˇched_Áûed
(
	`memˇched_£t_ß¶_auth_d©a
(
c⁄èöî
->
	`∑ª¡
(), c⁄èöî->
c⁄°ru˘
.
	`u£∫ame
().
	`c_°r
(), c⁄èöî->c⁄°ru˘.
	`∑ssw‹d
().c_str())))

122 
c⁄èöî
->
	`ª£t
();

123  
TEST_FAILURE
;

128 
	`ã°_com∑ª
(
åue
, 
	`check
());

130 i‡(
func
)

132  
	`func
(
c⁄èöî
->
	`∑ª¡
());

135  
TEST_SUCCESS
;

136 
	}
}

138 
ã°_ªtu∫_t
 
	$_po°_ru¬î_deÁu…
(
libmemˇched_ã°_ˇŒback_‚
 
func
, 
libmemˇched_ã°_c⁄èöî_°
 *
c⁄èöî
)

140 
	`ã°_com∑ª
(
åue
, 
	`check
());

141 
	`˛ónup_∑ús
(
NULL
);

143 
ã°_ªtu∫_t
 
rc

TEST_SUCCESS
;

144 i‡(
func
)

146 
rc

	`func
(
c⁄èöî
->
	`∑ª¡
());

148 
c⁄èöî
->
	`ª£t
();

150  
rc
;

151 
	}
}

	@oss/libmemcached-1.0.17/tests/server_add.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
memˇched_£rvî_add_nuŒ_ã°
(
memˇched_°
*);

41 
ã°_ªtu∫_t
 
memˇched_£rvî_add_em±y_ã°
(
memˇched_°
*);

42 
ã°_ªtu∫_t
 
memˇched_£rvî_m™y_TEST
(
memˇched_°
*);

43 
ã°_ªtu∫_t
 
memˇched_£rvî_m™y_weighãd_TEST
(
memˇched_°
*);

	@oss/libmemcached-1.0.17/tests/string.h

38 #¥agm®
⁄˚


40 #ifdef 
__˝lu•lus


44 
LIBTEST_LOCAL


45 
ã°_ªtu∫_t
 
°rög_°©ic_nuŒ
(*);

47 
LIBTEST_LOCAL


48 
ã°_ªtu∫_t
 
°rög_Æloc_nuŒ
(*);

50 
LIBTEST_LOCAL


51 
ã°_ªtu∫_t
 
°rög_Æloc_wôh_size
(*);

53 
LIBTEST_LOCAL


54 
ã°_ªtu∫_t
 
°rög_Æloc_wôh_size_toobig
(*);

56 
LIBTEST_LOCAL


57 
ã°_ªtu∫_t
 
°rög_Æloc_≠≥nd
(*);

59 
LIBTEST_LOCAL


60 
ã°_ªtu∫_t
 
°rög_Æloc_≠≥nd_toobig
(*);

62 
LIBTEST_LOCAL


63 
ã°_ªtu∫_t
 
°rög_Æloc_≠≥nd_mu…ùÀ
(*);

65 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/tests/touch.h

38 #¥agm®
⁄˚


40 
ã°_ªtu∫_t
 
ã°_memˇched_touch
(
memˇched_°
 *);

41 
ã°_ªtu∫_t
 
ã°_memˇched_touch_by_key
(
memˇched_°
 *);

	@oss/libmemcached-1.0.17/tests/virtual_buckets.h

38 #¥agm®
⁄˚


40 
	gmemˇched_°
;

42 #ifdef 
__˝lu•lus


46 
LIBTEST_LOCAL


47 
ã°_ªtu∫_t
 
vútuÆ_back_m≠
(
memˇched_°
 *);

49 #ifdef 
__˝lu•lus


	@oss/libmemcached-1.0.17/win32/wrappers.h

12 #¥agm®
⁄˚


14 
	~<öây≥s.h
>

21 #unde‡
öãrÁ˚


23 #unde‡
mÆloc


24 #unde‡
ªÆloc


31 #i‚de‡
EADDRINUSE


32 
	#EADDRINUSE
 
WSAEADDRINUSE


	)

35 #i‚de‡
EWOULDBLOCK


36 
	#EWOULDBLOCK
 
WSAEWOULDBLOCK


	)

39 #i‚de‡
EINPROGRESS


40 
	#EINPROGRESS
 
WSAEINPROGRESS


	)

43 #i‚de‡
EALREADY


44 
	#EALREADY
 
WSAEALREADY


	)

47 #i‚de‡
EISCONN


48 
	#EISCONN
 
WSAEISCONN


	)

51 #i‚de‡
ENOTCONN


52 
	#ENOTCONN
 
WSAENOTCONN


	)

55 #i‚de‡
ENOBUFS


56 
	#ENOBUFS
 
WSAENOBUFS


	)

59 #i‚de‡
SHUT_RDWR


60 
	#SHUT_RDWR
 
SD_BOTH


	)

64 #i‚de‡
EAI_SYSTEM


65 
	#EAI_SYSTEM
 11

	)

69 
	#ödex
(
a
,
b
Ë
	`°rchr
◊,b)

	)

70 
	#rödex
(
a
,
b
Ë
	`°ºchr
◊,b)

	)

71 
	#øndom
(Ë
	`ønd
()

	)

72 
	#§™dom
(
a
Ë
Ál£
Ë{}

	)

73 
	#kûl
(
a
, 
b
Ë
Ál£
Ë{}

	)

74 
	#f‹k
(Ë(-1)

	)

75 
	#waôpid
(
a
,
b
,
c
Ë(-1)

	)

76 
	#‚m©ch
(
a
,
b
,
c
Ë(-1)

	)

77 
	#¶ìp
(
a
Ë
	`SÀï
◊*1000)

	)

	@oss/mongo-c-driver/docs/examples/example.c

1 
	~"m⁄go.h
"

2 
	~<°dio.h
>

3 
	~<°rög.h
>

4 
	~<°dlib.h
>

6 
	$maö
() {

7 
bs⁄
 
b
, 
sub
, 
out
, 
em±y
;

8 
bs⁄_ôî©‹
 
ô
;

9 
m⁄go
 
c⁄n
;

10 
m⁄go_curs‹
 
curs‹
;

11 
ªsu…
;

38 
	`bs⁄_öô
–&
b
 );

39 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "_id" );

40 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "user_id" );

42 
	`bs⁄_≠≥nd_°¨t_¨øy
–&
b
, "items" );

43 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "0" );

44 
	`bs⁄_≠≥nd_°rög
–&
b
, "name", "John Coltrane: Impressions" );

45 
	`bs⁄_≠≥nd_öt
–&
b
, "price", 1099 );

46 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

48 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "1" );

49 
	`bs⁄_≠≥nd_°rög
–&
b
, "name", "Larry Young: Unity" );

50 
	`bs⁄_≠≥nd_öt
–&
b
, "price", 1199 );

51 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

52 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

54 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "address" );

55 
	`bs⁄_≠≥nd_°rög
–&
b
, "street", "59 18th St." );

56 
	`bs⁄_≠≥nd_öt
–&
b
, "zip", 10010 );

57 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

59 
	`bs⁄_≠≥nd_öt
–&
b
, "total", 2298 );

62 
	`bs⁄_föish
–&
b
 );

63 
	`¥ötf
("Here'sÅhe whole BSON object:\n");

64 
	`bs⁄_¥öt
–&
b
 );

67 
	`bs⁄_föd
–&
ô
, &
b
, "items" );

70 
	`bs⁄_ôî©‹_subobje˘
–&
ô
, &
sub
 );

73 
	`¥ötf
("And here'sÅhe inner sub-object by itself.\n");

74 
	`bs⁄_¥öt
–&
sub
 );

77 if–
	`m⁄go_˛õ¡
–&
c⁄n
, "127.0.0.1", 27017 ) !
MONGO_OK
 ) {

78  
c⁄n
.
îr
 ) {

79 
MONGO_CONN_NO_SOCKET
:

80 
	`¥ötf
( "FAIL: CouldÇot createá socket!\n" );

82 
MONGO_CONN_FAIL
:

83 
	`¥ötf
( "FAIL: CouldÇot connectÅo mongod. Make sure it'sÜisteningát 127.0.0.1:27017.\n" );

87 
	`exô
( 1 );

91 if–
	`m⁄go_ö£π
–&
c⁄n
, "ã°.ªc‹ds", &
b
, 
NULL
 ) !
MONGO_OK
 ) {

92 
	`¥ötf
–"FAIL: FaûedÅÿö£π documíàwôhÉº‹ %d\n", 
c⁄n
.
îr
 );

93 
	`exô
( 1 );

97 
	`m⁄go_curs‹_öô
–&
curs‹
, &
c⁄n
, "test.records" );

98 
	`m⁄go_curs‹_£t_quîy
–&
curs‹
, 
	`bs⁄_em±y
–&
em±y
 ) );

99 if–
	`m⁄go_curs‹_√xt
–&
curs‹
 ) !
MONGO_OK
 ) {

100 
	`¥ötf
( "FAIL: FailedÅo find inserted document." );

101 
	`exô
( 1 );

104 
	`¥ötf
( "Found saved BSON object:\n" );

105 
	`bs⁄_¥öt
–(
bs⁄
 *)
	`m⁄go_curs‹_bs⁄
–&
curs‹
 ) );

107 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–&
c⁄n
, "ã°", "ªc‹ds", 
NULL
 );

108 
	`m⁄go_curs‹_de°roy
–&
curs‹
 );

109 
	`bs⁄_de°roy
–&
b
 );

110 
	`m⁄go_de°roy
–&
c⁄n
 );

113 
	}
}

	@oss/mongo-c-driver/src/bcon.c

18 
	~<°dio.h
>

19 
	~<°dlib.h
>

20 
	~<limôs.h
>

21 
	~<as£π.h
>

22 
	~"bc⁄.h
"

24 #i‚de‡
NOT_REACHED


25 
	#NOT_REACHED
 0

	)

28 
	#ARRAY_INDEX_BUFFER_SIZE
 9

	)

30 *
	gbc⁄_îr°r
[] = {

37 
bc⁄_îr‹_t
 
bs⁄_≠≥nd_bc⁄_¨øy
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
);

40 
bc⁄_tokí_t
 
bc⁄_tokí
(*
s
);

42 
bc⁄_tokí_t
 
	$bc⁄_tokí
(*
s
) {

43 i‡(
s
 =0Ë 
Tokí_EOD
;

44 
s
[0]) {

45 ':': i‡(
s
[1] != '\0' && s[2] != '\0' && s[3] != '\0' && s[4] == '\0' &&

46 
s
[3] == ':' && (s[1] == '_' || s[1] == 'P' || s[1] == 'R'))

47  
Tokí_Ty≥•ec
; ;

48 '{': i‡(
s
[1] ='\0'Ë 
Tokí_O≥nBø˚
; ;

49 '}': i‡(
s
[1] ='\0'Ë 
Tokí_Clo£Bø˚
; ;

50 '[': i‡(
s
[1] ='\0'Ë 
Tokí_O≥nBøckë
; ;

51 ']': i‡(
s
[1] ='\0'Ë 
Tokí_Clo£Bøckë
; ;

52 '.': i‡(
s
[1] ='\0'Ë 
Tokí_End
; ;

54  
Tokí_DeÁu…
;

55 
	}
}

57 
bc⁄_îr‹_t
 
	$bs⁄_bc⁄_key_vÆue
(
bs⁄
 *
b
, c⁄° *
key
, c⁄° *
ty≥•ec
, c⁄° 
bc⁄
 
bci
) {

58 
bc⁄_îr‹_t
 
ªt
 = 
BCON_OK
;

59 
bs⁄_oid_t
 
oid
;

60 
±y≥
 = 
ty≥•ec
 ?Åypespec[1] : '_';

61 
uty≥
 = 
ty≥•ec
 ?Åypespec[2] : '_';

62 
±y≥
) {

64 
uty≥
) {

66 's': 
	`bs⁄_≠≥nd_°rög
–
b
, 
key
, 
bci
.
s
 ); ;

67 'f': 
	`bs⁄_≠≥nd_doubÀ
–
b
, 
key
, 
bci
.
f
 ); ;

69 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, 
key
 );

70 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄
–
b
, 
bci
.
D
 );

71 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

74 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, 
key
 );

75 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄_¨øy
–
b
, 
bci
.
A
 );

76 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

78 'o': i‡(*
bci
.
o
 ='\0'Ë
	`bs⁄_oid_gí
–&
oid
 ); 
	`bs⁄_oid_‰om_°rög
–&oid, bci.ÿ); 
	`bs⁄_≠≥nd_oid
–
b
, 
key
, &oid ); ;

79 'b': 
	`bs⁄_≠≥nd_boﬁ
–
b
, 
key
, 
bci
.b ); ;

80 't': 
	`bs⁄_≠≥nd_time_t
–
b
, 
key
, 
bci
.
t
 ); ;

81 'v': 
	`bs⁄_≠≥nd_nuŒ
–
b
, 
key
 ); ;

82 'x': 
	`bs⁄_≠≥nd_symbﬁ
–
b
, 
key
, 
bci
.
x
 ); ;

83 'i': 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, 
bci
.
i
 ); ;

84 'l': 
	`bs⁄_≠≥nd_l⁄g
–
b
, 
key
, 
bci
.
l
 ); ;

85 : 
	`¥ötf
("\≈ty≥:'%c' uty≥:'%c'\n", 
±y≥
, 
uty≥
); 
	`as£π
(
NOT_REACHED
); ;

89 
uty≥
) {

90 'f': 
	`bs⁄_≠≥nd_doubÀ
–
b
, 
key
, *
bci
.
Rf
 ); ;

91 's': 
	`bs⁄_≠≥nd_°rög
–
b
, 
key
, 
bci
.
Rs
 ); ;

93 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, 
key
 );

94 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄
–
b
, 
bci
.
RD
 );

95 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

98 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, 
key
 );

99 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄_¨øy
–
b
, 
bci
.
RA
 );

100 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

102 'o': i‡(*
bci
.
o
 ='\0'Ë
	`bs⁄_oid_gí
–&
oid
 ); 
	`bs⁄_oid_‰om_°rög
–&oid, bci.ÿ); 
	`bs⁄_≠≥nd_oid
–
b
, 
key
, &oid ); ;

103 'b': 
	`bs⁄_≠≥nd_boﬁ
–
b
, 
key
, *
bci
.
Rb
 ); ;

104 't': 
	`bs⁄_≠≥nd_time_t
–
b
, 
key
, *
bci
.
Rt
 ); ;

105 'x': 
	`bs⁄_≠≥nd_symbﬁ
–
b
, 
key
, 
bci
.
Rx
 ); ;

106 'i': 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, *
bci
.
Ri
 ); ;

107 'l': 
	`bs⁄_≠≥nd_l⁄g
–
b
, 
key
, *
bci
.
Rl
 ); ;

108 : 
	`¥ötf
("\≈ty≥:'%c' uty≥:'%c'\n", 
±y≥
, 
uty≥
); 
	`as£π
(
NOT_REACHED
); ;

112 i‡(*
bci
.
Pv
 != 0) {

113 
uty≥
) {

114 'f': 
	`bs⁄_≠≥nd_doubÀ
–
b
, 
key
, **
bci
.
Pf
 ); ;

115 's': 
	`bs⁄_≠≥nd_°rög
–
b
, 
key
, *
bci
.
Ps
 ); ;

117 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, 
key
 );

118 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄
–
b
, *
bci
.
PD
 );

119 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

122 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, 
key
 );

123 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄_¨øy
–
b
, *
bci
.
PA
 );

124 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

126 'o': i‡(**
bci
.
Po
 ='\0'Ë
	`bs⁄_oid_gí
–&
oid
 );

127 
	`bs⁄_oid_‰om_°rög
–&
oid
, *
bci
.
Po
 );

128 
	`bs⁄_≠≥nd_oid
–
b
, 
key
, &
oid
 );

130 'b': 
	`bs⁄_≠≥nd_boﬁ
–
b
, 
key
, **
bci
.
Pb
 ); ;

131 't': 
	`bs⁄_≠≥nd_time_t
–
b
, 
key
, **
bci
.
Pt
 ); ;

132 'x': i‡(*
bci
.
Px
 !0Ë
	`bs⁄_≠≥nd_symbﬁ
–
b
, 
key
, *bci.Px ); ;

133 'i': 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, **
bci
.
Pi
 ); ;

134 'l': 
	`bs⁄_≠≥nd_l⁄g
–
b
, 
key
, **
bci
.
Pl
 ); ;

135 : 
	`¥ötf
("\≈ty≥:'%c' uty≥:'%c'\n", 
±y≥
, 
uty≥
); 
	`as£π
(
NOT_REACHED
); ;

140 
	`¥ötf
("\≈ty≥:'%c' uty≥:'%c'\n", 
±y≥
, 
uty≥
); 
	`as£π
(
NOT_REACHED
);

143  
ªt
;

144 
	}
}

146 
	ebc⁄_°©e_t
 {

147 
	mSèã_EÀmít
, 
	mSèã_DocS≥cVÆue
, 
	mSèã_DocVÆue
,

148 
	mSèã_AºayS≥cVÆue
, 
	mSèã_AºayVÆue


149 } 
	tbc⁄_°©e_t
;

151 
	#DOC_STACK_SIZE
 1024

	)

152 
	#ARRAY_INDEX_STACK_SIZE
 1024

	)

154 
	#DOC_PUSH_STATE
(
ªtu∫_°©e
Ë–
doc_°ack
[
doc_°ack_poöãr
++] = (ªtu∫_°©eË)

	)

155 
	#DOC_POP_STATE
 ( 
°©e
 = 
doc_°ack
[--
doc_°ack_poöãr
] )

	)

156 
	#ARRAY_PUSH_RESET_INDEX_STATE
(
ªtu∫_°©e
Ë–
¨øy_ödex_°ack
[
¨øy_ödex_°ack_poöãr
++] = 
¨øy_ödex
,áºay_ödex = 0, 
	`DOC_PUSH_STATE
‘ëu∫_°©eË)

	)

157 
	#ARRAY_POP_INDEX_STATE
 ( 
¨øy_ödex
 = 
¨øy_ödex_°ack
[--
¨øy_ödex_°ack_poöãr
], 
DOC_POP_STATE
 )

	)

159 
	#ARRAY_KEY_STRING
(
l
Ë(
	`bs⁄_num°r
(
¨øy_ödex_buf„r
, ()÷)),áºay_ödex_buf„r)

	)

164 
bc⁄_îr‹_t
 
	$bs⁄_≠≥nd_bc⁄_wôh_°©e
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
, 
bc⁄_°©e_t
 
°¨t_°©e
) {

165 
bc⁄_îr‹_t
 
ªt
 = 
BCON_OK
;

166 
bc⁄_°©e_t
 
°©e
 = 
°¨t_°©e
;

167 *
key
 = 0;

168 *
ty≥•ec
 = 0;

169 
doc_°ack
[
DOC_STACK_SIZE
];

170 
size_t
 
doc_°ack_poöãr
 = 0;

171 
size_t
 
¨øy_ödex
 = 0;

172 
size_t
 
¨øy_ödex_°ack
[
ARRAY_INDEX_STACK_SIZE
];

173 
size_t
 
¨øy_ödex_°ack_poöãr
 = 0;

174 
¨øy_ödex_buf„r
[
ARRAY_INDEX_BUFFER_SIZE
];

175 
íd_of_d©a
;

176 c⁄° 
bc⁄
 *
b˝
;

177 
íd_of_d©a
 = 0, 
b˝
 = 
bc
; 
ªt
 =
BCON_OK
 && !end_of_data; bcp++) {

178 
bc⁄
 
bci
 = *
b˝
;

179 *
s
 = 
bci
.s;

180 
°©e
) {

181 
Sèã_EÀmít
:

182 
	`bc⁄_tokí
(
s
)) {

183 
Tokí_Clo£Bø˚
:

184 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

185 
DOC_POP_STATE
;

187 
Tokí_End
:

188 
íd_of_d©a
 = 1;

191 
key
 = 
s
;

192 
°©e
 = 
Sèã_DocS≥cVÆue
;

196 
Sèã_DocS≥cVÆue
:

197 
	`bc⁄_tokí
(
s
)) {

198 
Tokí_Ty≥•ec
:

199 
ty≥•ec
 = 
s
;

200 
°©e
 = 
Sèã_DocVÆue
;

202 
Tokí_O≥nBø˚
:

203 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, 
key
 );

204 
	`DOC_PUSH_STATE
(
Sèã_EÀmít
);

205 
°©e
 = 
Sèã_EÀmít
;

207 
Tokí_O≥nBøckë
:

208 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, 
key
 );

209 
	`ARRAY_PUSH_RESET_INDEX_STATE
(
Sèã_EÀmít
);

210 
°©e
 = 
Sèã_AºayS≥cVÆue
;

212 
Tokí_End
:

213 
íd_of_d©a
 = 1;

216 
ªt
 = 
	`bs⁄_bc⁄_key_vÆue
(
b
, 
key
, 
ty≥•ec
, 
bci
);

217 
°©e
 = 
Sèã_EÀmít
;

221 
Sèã_DocVÆue
:

222 
ªt
 = 
	`bs⁄_bc⁄_key_vÆue
(
b
, 
key
, 
ty≥•ec
, 
bci
);

223 
°©e
 = 
Sèã_EÀmít
;

224 
ty≥•ec
 = 0;

226 
Sèã_AºayS≥cVÆue
:

227 
	`bc⁄_tokí
(
s
)) {

228 
Tokí_Ty≥•ec
:

229 
ty≥•ec
 = 
s
;

230 
°©e
 = 
Sèã_AºayVÆue
;

232 
Tokí_O≥nBø˚
:

233 
key
 = 
	`ARRAY_KEY_STRING
(
¨øy_ödex
++);

234 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, 
key
 );

235 
	`DOC_PUSH_STATE
(
Sèã_AºayS≥cVÆue
);

236 
°©e
 = 
Sèã_EÀmít
;

238 
Tokí_O≥nBøckë
:

239 
key
 = 
	`ARRAY_KEY_STRING
(
¨øy_ödex
++);

240 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, 
key
 );

241 
	`ARRAY_PUSH_RESET_INDEX_STATE
(
Sèã_AºayS≥cVÆue
);

244 
Tokí_Clo£Bøckë
:

245 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

246 
ARRAY_POP_INDEX_STATE
;

248 
Tokí_End
:

249 
íd_of_d©a
 = 1;

252 
key
 = 
	`ARRAY_KEY_STRING
(
¨øy_ödex
++);

253 
ªt
 = 
	`bs⁄_bc⁄_key_vÆue
(
b
, 
key
, 
ty≥•ec
, 
bci
);

258 
Sèã_AºayVÆue
:

259 
key
 = 
	`ARRAY_KEY_STRING
(
¨øy_ödex
++);

260 
ªt
 = 
	`bs⁄_bc⁄_key_vÆue
(
b
, 
key
, 
ty≥•ec
, 
bci
);

261 
°©e
 = 
Sèã_AºayS≥cVÆue
;

262 
ty≥•ec
 = 0;

264 : 
	`as£π
(
NOT_REACHED
); ;

267  
°©e
 =
°¨t_°©e
 ? 
BCON_OK
 : 
BCON_DOCUMENT_INCOMPLETE
;

268 
	}
}

270 
bc⁄_îr‹_t
 
	$bs⁄_≠≥nd_bc⁄
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
) {

271  
	`bs⁄_≠≥nd_bc⁄_wôh_°©e
(
b
, 
bc
, 
Sèã_EÀmít
);

272 
	}
}

274 
bc⁄_îr‹_t
 
	$bs⁄_≠≥nd_bc⁄_¨øy
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
) {

275  
	`bs⁄_≠≥nd_bc⁄_wôh_°©e
(
b
, 
bc
, 
Sèã_AºayS≥cVÆue
);

276 
	}
}

284 
bc⁄_îr‹_t
 
	$bs⁄_‰om_bc⁄
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
) {

285 
bc⁄_îr‹_t
 
ªt
 = 
BSON_OK
;

286 
	`bs⁄_öô
–
b
 );

287 
ªt
 = 
	`bs⁄_≠≥nd_bc⁄_wôh_°©e
–
b
, 
bc
, 
Sèã_EÀmít
 );

288 i‡(
ªt
 !
BCON_OK
) Ñet;

289 
ªt
 = 
	`bs⁄_föish
–
b
 );

290  ( 
ªt
 =
BSON_OK
 ? 
BCON_OK
 : 
BCON_BSON_ERROR
 );

291 
	}
}

293 
	$bc⁄_¥öt
(c⁄° 
bc⁄
 *
bc
) {

294 *
ty≥•ec
 = 0;

295 *
dñim
 = "";

296 
íd_of_d©a
;

297 
bc⁄
 *
b˝
;

298 
	`putch¨
('{');

299 
íd_of_d©a
 = 0, 
b˝
 = (
bc⁄
*)
bc
; !end_of_data; bcp++) {

300 
bc⁄
 
bci
 = *
b˝
;

301 *
ty≥•ec_√xt
 = 0;

302 i‡(
ty≥•ec
) {

303 
ty≥•ec
[1]) {

305 
ty≥•ec
[2]) {

306 'f': 
	`¥ötf
("%s%f", 
dñim
, 
bci
.
f
); ;

307 's': 
	`¥ötf
("%s\"%s\"", 
dñim
, 
bci
.
s
); ;

308 'D': 
	`¥ötf
("%sPD(0x%lx,..)", 
dñim
, ()
bci
.
D
); ;

309 'A': 
	`¥ötf
("%sPA(0x%lx,....)", 
dñim
, ()
bci
.
A
); ;

310 'o': 
	`¥ötf
("%s\"%s\"", 
dñim
, 
bci
.
o
); ;

311 'b': 
	`¥ötf
("%s%d", 
dñim
, 
bci
.
b
); ;

312 't': 
	`¥ötf
("%s%ld", 
dñim
, ()
bci
.
t
); ;

313 'v': 
	`¥ötf
("%s\"%s\"", 
dñim
, 
bci
.
v
); ;

314 'x': 
	`¥ötf
("%s\"%s\"", 
dñim
, 
bci
.
x
); ;

315 'i': 
	`¥ötf
("%s%d", 
dñim
, 
bci
.
i
); ;

316 'l': 
	`¥ötf
("%s%ld", 
dñim
, 
bci
.
l
); ;

317 : 
	`¥ötf
("\¡y≥•ec:\"%s\"\n", 
ty≥•ec
); 
	`as£π
(
NOT_REACHED
); ;

321 
ty≥•ec
[2]) {

322 'f': 
	`¥ötf
("%sRf(0x%lx,%f)", 
dñim
, ()
bci
.
Rf
, *bci.Rf); ;

323 's': 
	`¥ötf
("%sRs(0x%lx,\"%s\")", 
dñim
, ()
bci
.
Rs
, bci.Rs); ;

324 'D': 
	`¥ötf
("%sRD(0x%lx,..)", 
dñim
, ()
bci
.
RD
); ;

325 'A': 
	`¥ötf
("%sRA(0x%lx,....)", 
dñim
, ()
bci
.
RA
); ;

326 'o': 
	`¥ötf
("%sRo(0x%lx,\"%s\")", 
dñim
, ()
bci
.
Ro
, bci.Ro); ;

327 'b': 
	`¥ötf
("%sRb(0x%lx,%d)", 
dñim
, ()
bci
.
Rb
, *bci.Rb); ;

328 't': 
	`¥ötf
("%sRt(0x%lx,%ld)", 
dñim
, ()
bci
.
Rt
, ()*bci.Rt); ;

329 'x': 
	`¥ötf
("%sRx(0x%lx,\"%s\")", 
dñim
, ()
bci
.
Rx
, bci.Rx); ;

330 'i': 
	`¥ötf
("%sRi(0x%lx,%d)", 
dñim
, ()
bci
.
Ri
, *bci.Ri); ;

331 'l': 
	`¥ötf
("%sRl(0x%lx,%ld)", 
dñim
, ()
bci
.
Rl
, *bci.Rl); ;

332 : 
	`¥ötf
("\¡y≥•ec:\"%s\"\n", 
ty≥•ec
); 
	`as£π
(
NOT_REACHED
); ;

336 
ty≥•ec
[2]) {

337 'f': 
	`¥ötf
("%sPf(0x%lx,0x%lx,%f)", 
dñim
, ()
bci
.
Pf
, ()(bci.Pf ? *bci.Pf : 0), bci.Pf && *bci.Pf ? **bci.Pf : 0.0); ;

338 's': 
	`¥ötf
("%sPs(0x%lx,0x%lx,\"%s\")", 
dñim
, ()
bci
.
Ps
, ()(bci.Ps ? *bci.Ps : 0), bci.Ps && *bci.Ps ? *bci.Ps : ""); ;

339 'D': 
	`¥ötf
("%sPD(0x%lx,0x%lx,..)", 
dñim
, ()
bci
.
PD
, ()(bci.PD ? *bci.PD : 0)); ;

340 'A': 
	`¥ötf
("%sPA(0x%lx,0x%lx,....)", 
dñim
, ()
bci
.
PA
, ()(bci.PA ? *bci.PA : 0)); ;

341 'o': 
	`¥ötf
("%sPo(0x%lx,0x%lx,\"%s\")", 
dñim
, ()
bci
.
Po
, ()(bci.Po ? *bci.Po : 0), bci.Po && *bci.Po ? *bci.Po : ""); ;

342 'b': 
	`¥ötf
("%sPb(0x%lx,0x%lx,%d)", 
dñim
, ()
bci
.
Pb
, ()(bci.Pb ? *bci.Pb : 0), bci.Pb && *bci.Pb ? **bci.Pb : 0); ;

343 't': 
	`¥ötf
("%sPt(0x%lx,0x%lx,%ld)", 
dñim
, ()
bci
.
Pt
, ()(bci.Pt ? *bci.Pt : 0), bci.Pt && *bci.Pt ? ()**bci.Pt : 0); ;

344 'x': 
	`¥ötf
("%sPx(0x%lx,0x%lx,\"%s\")", 
dñim
, ()
bci
.
Px
, ()(bci.Px ? *bci.Px : 0), bci.Px && *bci.Px ? *bci.Px : ""); ;

345 'i': 
	`¥ötf
("%sPi(0x%lx,0x%lx,%d)", 
dñim
, ()
bci
.
Pi
, ()(bci.Pi ? *bci.Pi : 0), bci.Pi && *bci.Pi ? **bci.Pi : 0); ;

346 'l': 
	`¥ötf
("%sPl(0x%lx,0x%lx,%ld)", 
dñim
, ()
bci
.
Pl
, ()(bci.Pl ? *bci.Pl : 0), bci.Pl && *bci.Pl ? **bci.Pl : 0); ;

348 : 
	`¥ötf
("\¡y≥•ec:\"%s\"\n", 
ty≥•ec
); 
	`as£π
(
NOT_REACHED
); ;

352 
	`¥ötf
("\¡y≥•ec:\"%s\"\n", 
ty≥•ec
); 
	`as£π
(
NOT_REACHED
);

357 *
s
 = 
bci
.s;

358 
s
[0]) {

360 
íd_of_d©a
 = (
s
[1] == '\0');

363 
ty≥•ec_√xt
 = 
	`bc⁄_tokí
(
s
Ë=
Tokí_Ty≥•ec
 ? s : 0;

366 
	`¥ötf
("%s\"%s\"", 
dñim
, 
s
);

368 
ty≥•ec
 = 
ty≥•ec_√xt
;

369 
dñim
 = ",";

371 
	`putch¨
('}');

372 
	}
}

	@oss/mongo-c-driver/src/bcon.h

21 #i‚de‡
BCON_H_


22 
	#BCON_H_


	)

24 
	~"bs⁄.h
"

26 #i‚de‡
DOXYGEN_SHOULD_SKIP_THIS


28 
	gMONGO_EXTERN_C_START


32 
	ubc⁄
 {

33 *
	ms
;

34 *
	mRs
;

35 **
	mPs
;

36 
	mf
;

37 *
	mRf
;

38 **
	mPf
;

39 
bc⁄
 *
	mD
;

40 
bc⁄
 *
	mRD
;

41 
bc⁄
 **
	mPD
;

42 
bc⁄
 *
	mA
;

43 
bc⁄
 *
	mRA
;

44 
bc⁄
 **
	mPA
;

45 *
	mo
;

46 *
	mRo
;

47 **
	mPo
;

48 
bs⁄_boﬁ_t
 
	mb
;

50 
bs⁄_boﬁ_t
 *
	mRb
;

51 
bs⁄_boﬁ_t
 **
	mPb
;

52 
time_t
 
	mt
;

53 
time_t
 *
	mRt
;

54 
time_t
 **
	mPt
;

55 *
	mv
;

56 *
	mx
;

57 *
	mRx
;

58 **
	mPx
;

59 
	mi
;

60 *
	mRi
;

61 **
	mPi
;

62 
	ml
;

63 *
	mRl
;

64 **
	mPl
;

65 **
	mPv
;

77 } 
	tbc⁄
;

80 
	#BEND
 "."

	)

83 
	#BTF
 ":_f:"

	)

85 
	#BTS
 ":_s:"

	)

87 
	#BTD
 ":_D:"

	)

89 
	#BTA
 ":_A:"

	)

91 
	#BTO
 ":_o:"

	)

93 
	#BTB
 ":_b:"

	)

95 
	#BTT
 ":_t:"

	)

97 
	#BTN
 ":_v:"

	)

99 
	#BTX
 ":_x:"

	)

101 
	#BTI
 ":_i:"

	)

103 
	#BTL
 ":_l:"

	)

106 
	#BTRF
 ":Rf:"

	)

108 
	#BTRS
 ":Rs:"

	)

110 
	#BTRD
 ":RD:"

	)

112 
	#BTRA
 ":RA:"

	)

114 
	#BTRO
 ":Ro:"

	)

116 
	#BTRB
 ":Rb:"

	)

118 
	#BTRT
 ":Rt:"

	)

120 
	#BTRX
 ":Rx:"

	)

122 
	#BTRI
 ":Ri:"

	)

124 
	#BTRL
 ":Rl:"

	)

127 
	#BTPF
 ":Pf:"

	)

129 
	#BTPS
 ":Ps:"

	)

131 
	#BTPD
 ":PD:"

	)

133 
	#BTPA
 ":PA:"

	)

135 
	#BTPO
 ":Po:"

	)

137 
	#BTPB
 ":Pb:"

	)

139 
	#BTPT
 ":Pt:"

	)

141 
	#BTPX
 ":Px:"

	)

143 
	#BTPI
 ":Pi:"

	)

145 
	#BTPL
 ":Pl:"

	)

148 
	#BF
(
v
Ë
BTF
, { .
f
 = (vË}

	)

150 
	#BS
(
v
Ë
BTS
, { .
s
 = (vË}

	)

152 
	#BD
(
v
Ë
BTD
, { .
D
 = (vË}

	)

154 
	#BA
(
v
Ë
BTA
, { .
A
 = (vË}

	)

156 
	#BO
(
v
Ë
BTO
, { .
o
 = (vË}

	)

158 
	#BB
(
v
Ë
BTB
, { .
b
 = (vË}

	)

160 
	#BT
(
v
Ë
BTT
, { .
t
 = (vË}

	)

162 
	#BNULL
 
BTN
, { .
v
 = (""Ë}

	)

164 
	#BX
(
v
Ë
BTX
, { .
x
 = (vË}

	)

166 
	#BI
(
v
Ë
BTI
, { .
i
 = (vË}

	)

168 
	#BL
(
v
Ë
BTL
, { .
l
 = (vË}

	)

171 
	#BRF
(
v
Ë
BTRF
, { .
Rf
 = (vË}

	)

173 
	#BRS
(
v
Ë
BTRS
, { .
Rs
 = (vË}

	)

175 
	#BRD
(
v
Ë
BTRD
, { .
RD
 = (vË}

	)

177 
	#BRA
(
v
Ë
BTRA
, { .
RA
 = (vË}

	)

179 
	#BRO
(
v
Ë
BTRO
, { .
Ro
 = (vË}

	)

181 
	#BRB
(
v
Ë
BTRB
, { .
Rb
 = (vË}

	)

183 
	#BRT
(
v
Ë
BTRT
, { .
Rt
 = (vË}

	)

185 
	#BRX
(
v
Ë
BTRX
, { .
Rx
 = (vË}

	)

187 
	#BRI
(
v
Ë
BTRI
, { .
Ri
 = (vË}

	)

189 
	#BRL
(
v
Ë
BTRL
, { .
Rl
 = (vË}

	)

192 
	#BPF
(
v
Ë
BTPF
, { .
Pf
 = (vË}

	)

194 
	#BPS
(
v
Ë
BTPS
, { .
Ps
 = ((**)vË}

	)

196 
	#BPD
(
v
Ë
BTPD
, { .
PD
 = ((
bc⁄
 **)vË}

	)

198 
	#BPA
(
v
Ë
BTPA
, { .
PA
 = ((
bc⁄
 **)vË}

	)

200 
	#BPO
(
v
Ë
BTPO
, { .
Po
 = ((**)vË}

	)

202 
	#BPB
(
v
Ë
BTPB
, { .
Pb
 = (vË}

	)

204 
	#BPT
(
v
Ë
BTPT
, { .
Pt
 = (vË}

	)

206 
	#BPX
(
v
Ë
BTPX
, { .
Px
 = ((**)vË}

	)

208 
	#BPI
(
v
Ë
BTPI
, { .
Pi
 = (vË}

	)

210 
	#BPL
(
v
Ë
BTPL
, { .
Pl
 = (vË}

	)

218 
	ebc⁄_îr‹_t
 {

219 
	mBCON_OK
 = 0,

220 
	mBCON_ERROR
,

221 
	mBCON_DOCUMENT_INCOMPLETE
,

222 
	mBCON_BSON_ERROR


223 } 
	tbc⁄_îr‹_t
;

225 *
bc⁄_îr°r
[];

233 
MONGO_EXPORT
 
bc⁄_îr‹_t
 
bs⁄_≠≥nd_bc⁄
(
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
);

241 
MONGO_EXPORT
 
bc⁄_îr‹_t
 
bs⁄_‰om_bc⁄
–
bs⁄
 *
b
, c⁄° 
bc⁄
 *
bc
 );

248 
MONGO_EXPORT
 
bc⁄_¥öt
–c⁄° 
bc⁄
 *
bc
 );

250 #i‚de‡
DOXYGEN_SHOULD_SKIP_THIS


252 
MONGO_EXTERN_C_END


254 
	ebc⁄_tokí_t
 {

255 
	mTokí_DeÁu…
, 
	mTokí_End
, 
	mTokí_Ty≥•ec
,

256 
	mTokí_O≥nBø˚
, 
	mTokí_Clo£Bø˚
, 
	mTokí_O≥nBøckë
, 
	mTokí_Clo£Bøckë
,

257 
	mTokí_EOD


258 } 
	tbc⁄_tokí_t
;

	@oss/mongo-c-driver/src/bson.c

18 #i‡
_MSC_VER
 && ! 
_CRT_SECURE_NO_WARNINGS


19 
	#_CRT_SECURE_NO_WARNINGS


	)

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

24 
	~<°dio.h
>

25 
	~<time.h
>

26 
	~<limôs.h
>

28 
	~"bs⁄.h
"

29 
	~"ícodög.h
"

31 c⁄° 
	göôülBuf„rSize
 = 128;

34 c⁄° 
	gzîo
 = 0;

37 
	gbs⁄_sh¨ed_em±y_d©a
[] = {5,0,0,0,0};

40 *–*
	gbs⁄_mÆloc_func
 )–
	gsize_t
 ) = 
mÆloc
;

41 *–*
	gbs⁄_ªÆloc_func
 )–*, 
	gsize_t
 ) = 
ªÆloc
;

42 –*
bs⁄_‰ì_func
 )–* ) = 
‰ì
;

43 #ifde‡
R_SAFETY_NET


44 
bs⁄_¥ötf_func
 
bs⁄_¥ötf
;

46 
bs⁄_¥ötf_func
 
bs⁄_¥ötf
 = 
¥ötf
;

48 
bs⁄_Ârötf_func
 
bs⁄_Ârötf
 = 
Ârötf
;

49 
bs⁄_•rötf_func
 
bs⁄_•rötf
 = 
•rötf
;

51 
	`_bs⁄_îΩrötf
( const *, ... );

52 
bs⁄_¥ötf_func
 
bs⁄_îΩrötf
 = 
_bs⁄_îΩrötf
;

54 
	`_bs⁄_zîo
–
bs⁄
 *
b
 );

55 
size_t
 
	`_bs⁄_posôi⁄
–c⁄° 
bs⁄
 *
b
 );

58 –*
oid_fuzz_func
 )–Ë
NULL
;

59 –*
oid_öc_func
 )–Ë
NULL
;

65 
MONGO_EXPORT
 
	$bs⁄_öô_zîo
(
bs⁄
* 
b
) {

66 
	`mem£t
(
b
, 0, (
bs⁄
Ë- (b->
°ack
));

67 
	}
}

69 
MONGO_EXPORT
 
bs⁄
* 
	$bs⁄_Æloc
( ) {

70  ( 
bs⁄
* )
	`bs⁄_mÆloc
( ( bson ) );

71 
	}
}

73 
MONGO_EXPORT
 
	$bs⁄_dóŒoc
–
bs⁄
* 
b
 ) {

74 
	`bs⁄_‰ì
–
b
 );

75 
	}
}

78 
	$bs⁄_föished_d©a_size
–c⁄° *
d©a
 ) {

79 
i
;

80 
	`bs⁄_lôée_ídün32
–&
i
, 
d©a
 );

81  
i
;

82 
	}
}

84 
	$bs⁄_öô_föished_d©a
–
bs⁄
 *
b
, *
d©a
, 
bs⁄_boﬁ_t
 
ownsD©a
 ) {

85 
	`_bs⁄_zîo
–
b
 );

86 
b
->
d©a
 = data;

87 
b
->
d©aSize
 = 
	`bs⁄_föished_d©a_size
–
d©a
 );

88 
b
->
ownsD©a
 = ownsData;

89 
b
->
föished
 = 1;

90  
BSON_OK
;

91 
	}
}

93 
	$bs⁄_öô_föished_d©a_wôh_c›y
–
bs⁄
 *
b
, c⁄° *
d©a
 ) {

94 
d©aSize
 = 
	`bs⁄_föished_d©a_size
–
d©a
 );

95 i‡–
	`bs⁄_öô_size
–
b
, 
d©aSize
 ) =
BSON_ERROR
 )  BSON_ERROR;

96 
	`mem˝y
–
b
->
d©a
, d©a, 
d©aSize
 );

97 
b
->
föished
 = 1;

98  
BSON_OK
;

99 
	}
}

101 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$bs⁄_öô_em±y
–
bs⁄
 *
obj
 ) {

102 
	`bs⁄_öô_föished_d©a
–
obj
, 
bs⁄_sh¨ed_em±y_d©a
, 0 );

103  
BSON_OK
;

104 
	}
}

106 
MONGO_EXPORT
 c⁄° 
bs⁄
 *
	$bs⁄_sh¨ed_em±y
( ) {

107 c⁄° 
bs⁄
 
sh¨ed_em±y
 = { 
bs⁄_sh¨ed_em±y_d©a
, bson_shared_empty_data, 128, 1, 0 };

108  &
sh¨ed_em±y
;

109 
	}
}

111 
MONGO_EXPORT
 
	$bs⁄_c›y
–
bs⁄
 *
out
, c⁄° bs⁄ *
ö
 ) {

112 i‡–!
out
 || !
ö
 )  
BSON_ERROR
;

113 i‡–!
ö
->
föished
 )  
BSON_ERROR
;

114  
	`bs⁄_öô_föished_d©a_wôh_c›y
–
out
, 
ö
->
d©a
 );

115 
	}
}

117 
MONGO_EXPORT
 
	$bs⁄_size
–c⁄° 
bs⁄
 *
b
 ) {

118 
i
;

119 i‡–! 
b
 || ! b->
d©a
 )

121 
	`bs⁄_lôée_ídün32
–&
i
, 
b
->
d©a
 );

122  
i
;

123 
	}
}

125 
size_t
 
	$_bs⁄_posôi⁄
–c⁄° 
bs⁄
 *
b
 ) {

126  
b
->
cur
 - b->
d©a
;

127 
	}
}

129 
MONGO_EXPORT
 
size_t
 
	$bs⁄_buf„r_size
–c⁄° 
bs⁄
 *
b
 ) {

130  
	`_bs⁄_posôi⁄
(
b
) + 1;

131 
	}
}

134 
MONGO_EXPORT
 c⁄° *
	$bs⁄_d©a
–c⁄° 
bs⁄
 *
b
 ) {

135  (c⁄° *)
b
->
d©a
;

136 
	}
}

138 
	$hexbyã
–
hex
 ) {

139 i‡(
hex
 >= '0' && hex <= '9')

140  (
hex
 - '0');

141 i‡(
hex
 >= 'A' && hex <= 'F')

142  (
hex
 - 'A' + 10);

143 i‡(
hex
 >= 'a' && hex <= 'f')

144  (
hex
 - 'a' + 10);

147 
	}
}

149 
MONGO_EXPORT
 
	$bs⁄_oid_‰om_°rög
–
bs⁄_oid_t
 *
oid
, c⁄° *
°r
 ) {

150 
i
;

151  
i
=0; i<12; i++ ) {

152 
oid
->
byãs
[
i
] = ( 
	`hexbyã
–
°r
[2*i] ) << 4 ) | hexbyte( str[2*i + 1] );

154 
	}
}

156 
MONGO_EXPORT
 
	$bs⁄_oid_to_°rög
–c⁄° 
bs⁄_oid_t
 *
oid
, *
°r
 ) {

157 c⁄° 
hex
[16] = {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};

158 
i
;

159  
i
=0; i<12; i++ ) {

160 
°r
[2*
i
] = 
hex
[–
oid
->
byãs
[i] & 0xf0 ) >> 4];

161 
°r
[2*
i
 + 1] = 
hex
[ 
oid
->
byãs
[i] & 0x0f ];

163 
°r
[24] = '\0';

164 
	}
}

166 
MONGO_EXPORT
 
bs⁄_£t_oid_fuzz
––*
func
 )( ) ) {

167 
oid_fuzz_func
 = 
func
;

168 
	}
}

170 
MONGO_EXPORT
 
bs⁄_£t_oid_öc
––*
func
 )( ) ) {

171 
oid_öc_func
 = 
func
;

172 
	}
}

174 
MONGO_EXPORT
 
	$bs⁄_oid_gí
–
bs⁄_oid_t
 *
oid
 ) {

175 
ö¸
 = 0;

176 
fuzz
 = 0;

177 
i
;

178 
time_t
 
t
 = 
	`time
–
NULL
 );

180 if–
oid_öc_func
 )

181 
i
 = 
	`oid_öc_func
();

183 
i
 = 
ö¸
++;

185 i‡–!
fuzz
 ) {

186 i‡–
oid_fuzz_func
 )

187 
fuzz
 = 
	`oid_fuzz_func
();

189 
	`§™d
––)
t
 );

190 
fuzz
 = 
	`ønd
();

194 
	`bs⁄_big_ídün32
–&
oid
->
öts
[0], &
t
 );

195 
oid
->
öts
[1] = 
fuzz
;

196 
	`bs⁄_big_ídün32
–&
oid
->
öts
[2], &
i
 );

197 
	}
}

199 
MONGO_EXPORT
 
time_t
 
	$bs⁄_oid_gíî©ed_time
–
bs⁄_oid_t
 *
oid
 ) {

200 
time_t
 
out
 = 0;

201 
	`bs⁄_big_ídün32
–&
out
, &
oid
->
öts
[0] );

203  
out
;

204 
	}
}

206 
MONGO_EXPORT
 
	$bs⁄_¥öt
–c⁄° 
bs⁄
 *
b
 ) {

207 
	`bs⁄_¥öt_øw
–
b
->
d©a
 , 0 );

208 
	}
}

210 
MONGO_EXPORT
 
	$bs⁄_¥öt_øw
–c⁄° *
d©a
 , 
dïth
 ) {

211 
bs⁄_ôî©‹
 
i
;

212 c⁄° *
key
;

213 
ãmp
;

214 
bs⁄_time°amp_t
 
ts
;

215 
oidhex
[25];

216 
bs⁄
 
sc›e
;

217 
	`bs⁄_ôî©‹_‰om_buf„r
–&
i
, 
d©a
 );

219  
	`bs⁄_ôî©‹_√xt
–&
i
 ) ) {

220 
bs⁄_ty≥
 
t
 = 
	`bs⁄_ôî©‹_ty≥
–&
i
 );

221 i‡–
t
 == 0 )

223 
key
 = 
	`bs⁄_ôî©‹_key
–&
i
 );

225  
ãmp
=0;Åemp<=
dïth
;Åemp++ )

226 
	`bs⁄_¥ötf
( "\t" );

227 
	`bs⁄_¥ötf
–"%†: %d \à" , 
key
 , 
t
 );

228  
t
 ) {

229 
BSON_DOUBLE
:

230 
	`bs⁄_¥ötf
–"%f" , 
	`bs⁄_ôî©‹_doubÀ
–&
i
 ) );

232 
BSON_STRING
:

233 
	`bs⁄_¥ötf
–"%s" , 
	`bs⁄_ôî©‹_°rög
–&
i
 ) );

235 
BSON_SYMBOL
:

236 
	`bs⁄_¥ötf
–"SYMBOL: %s" , 
	`bs⁄_ôî©‹_°rög
–&
i
 ) );

238 
BSON_OID
:

239 
	`bs⁄_oid_to_°rög
–
	`bs⁄_ôî©‹_oid
–&
i
 ), 
oidhex
 );

240 
	`bs⁄_¥ötf
–"%s" , 
oidhex
 );

242 
BSON_BOOL
:

243 
	`bs⁄_¥ötf
–"%s" , 
	`bs⁄_ôî©‹_boﬁ
–&
i
 ) ? "true" : "false" );

245 
BSON_DATE
:

246 
	`bs⁄_¥ötf
–"%ld" , ( )
	`bs⁄_ôî©‹_d©e
–&
i
 ) );

248 
BSON_BINDATA
:

249 
	`bs⁄_¥ötf
( "BSON_BINDATA" );

251 
BSON_UNDEFINED
:

252 
	`bs⁄_¥ötf
( "BSON_UNDEFINED" );

254 
BSON_NULL
:

255 
	`bs⁄_¥ötf
( "BSON_NULL" );

257 
BSON_REGEX
:

258 
	`bs⁄_¥ötf
–"BSON_REGEX: %s", 
	`bs⁄_ôî©‹_ªgex
–&
i
 ) );

260 
BSON_CODE
:

261 
	`bs⁄_¥ötf
–"BSON_CODE: %s", 
	`bs⁄_ôî©‹_code
–&
i
 ) );

263 
BSON_CODEWSCOPE
:

264 
	`bs⁄_¥ötf
–"BSON_CODE_W_SCOPE: %s", 
	`bs⁄_ôî©‹_code
–&
i
 ) );

265 
	`bs⁄_ôî©‹_code_sc›e_öô
–&
i
, &
sc›e
, 0 );

266 
	`bs⁄_¥ötf
( "\n\t SCOPE: " );

267 
	`bs⁄_¥öt
–&
sc›e
 );

268 
	`bs⁄_de°roy
–&
sc›e
 );

270 
BSON_INT
:

271 
	`bs⁄_¥ötf
–"%d" , 
	`bs⁄_ôî©‹_öt
–&
i
 ) );

273 
BSON_LONG
:

274 
	`bs⁄_¥ötf
–"%Œd" , ( 
uöt64_t
 )
	`bs⁄_ôî©‹_l⁄g
–&
i
 ) );

276 
BSON_TIMESTAMP
:

277 
ts
 = 
	`bs⁄_ôî©‹_time°amp
–&
i
 );

278 
	`bs⁄_¥ötf
–"i: %d,Å: %d", 
ts
.
i
,Ås.
t
 );

280 
BSON_OBJECT
:

281 
BSON_ARRAY
:

282 
	`bs⁄_¥ötf
( "\n" );

283 
	`bs⁄_¥öt_øw
–
	`bs⁄_ôî©‹_vÆue
–&
i
 ) , 
dïth
 + 1 );

286 
	`bs⁄_îΩrötf
–"ˇn'à¥öàty≥ : %d\n" , 
t
 );

288 
	`bs⁄_¥ötf
( "\n" );

290 
	}
}

296 
MONGO_EXPORT
 
bs⁄_ôî©‹
* 
	$bs⁄_ôî©‹_Æloc
( ) {

297  ( 
bs⁄_ôî©‹
* )
	`bs⁄_mÆloc
( ( bson_iterator ) );

298 
	}
}

300 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_dóŒoc
–
bs⁄_ôî©‹
* 
i
 ) {

301 
	`bs⁄_‰ì
–
i
 );

302 
	}
}

304 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_öô
–
bs⁄_ôî©‹
 *
i
, c⁄° 
bs⁄
 *
b
 ) {

305 
i
->
cur
 = 
b
->
d©a
 + 4;

306 
i
->
fú°
 = 1;

307 
	}
}

309 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_‰om_buf„r
–
bs⁄_ôî©‹
 *
i
, c⁄° *
buf„r
 ) {

310 
i
->
cur
 = 
buf„r
 + 4;

311 
i
->
fú°
 = 1;

312 
	}
}

314 
MONGO_EXPORT
 
bs⁄_ty≥
 
	$bs⁄_föd
–
bs⁄_ôî©‹
 *
ô
, c⁄° 
bs⁄
 *
obj
, c⁄° *
«me
 ) {

315 
	`bs⁄_ôî©‹_öô
–
ô
, (
bs⁄
 *)
obj
 );

316  
	`bs⁄_ôî©‹_√xt
–
ô
 ) ) {

317 i‡–
	`°rcmp
–
«me
, 
	`bs⁄_ôî©‹_key
–
ô
 ) ) == 0 )

320  
	`bs⁄_ôî©‹_ty≥
–
ô
 );

321 
	}
}

323 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$bs⁄_ôî©‹_m‹e
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

324  *–
i
->
cur
 );

325 
	}
}

327 
MONGO_EXPORT
 
bs⁄_ty≥
 
	$bs⁄_ôî©‹_√xt
–
bs⁄_ôî©‹
 *
i
 ) {

328 
size_t
 
ds
;

330 i‡–
i
->
fú°
 ) {

331 
i
->
fú°
 = 0;

332  ( 
bs⁄_ty≥
 )–*
i
->
cur
 );

335  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

336 
BSON_EOO
:

337  
BSON_EOO
;

338 
BSON_UNDEFINED
:

339 
BSON_NULL
:

340 
BSON_MINKEY
:

341 
BSON_MAXKEY
:

342 
ds
 = 0;

344 
BSON_BOOL
:

345 
ds
 = 1;

347 
BSON_INT
:

348 
ds
 = 4;

350 
BSON_LONG
:

351 
BSON_DOUBLE
:

352 
BSON_TIMESTAMP
:

353 
BSON_DATE
:

354 
ds
 = 8;

356 
BSON_OID
:

357 
ds
 = 12;

359 
BSON_STRING
:

360 
BSON_SYMBOL
:

361 
BSON_CODE
:

362 
ds
 = 4 + 
	`bs⁄_ôî©‹_öt_øw
–
i
 );

364 
BSON_BINDATA
:

365 
ds
 = 5 + 
	`bs⁄_ôî©‹_öt_øw
–
i
 );

367 
BSON_OBJECT
:

368 
BSON_ARRAY
:

369 
BSON_CODEWSCOPE
:

370 
ds
 = 
	`bs⁄_ôî©‹_öt_øw
–
i
 );

372 
BSON_DBREF
:

373 
ds
 = 4+12 + 
	`bs⁄_ôî©‹_öt_øw
–
i
 );

375 
BSON_REGEX
: {

376 c⁄° *
s
 = 
	`bs⁄_ôî©‹_vÆue
–
i
 );

377 c⁄° *
p
 = 
s
;

378 
p
 +
	`°æí
(Ö )+1;

379 
p
 +
	`°æí
(Ö )+1;

380 
ds
 = 
p
-
s
;

385 
msg
[] = "unknownÅype: 000000000000";

386 
	`bs⁄_num°r
–
msg
+14, ( )–
i
->
cur
[0] ) );

387 
	`bs⁄_Áèl_msg
–0, 
msg
 );

392 
i
->
cur
 +1 + 
	`°æí
–i->cu∏+ 1 ) + 1 + 
ds
;

394  ( 
bs⁄_ty≥
 )–*
i
->
cur
 );

395 
	}
}

397 
MONGO_EXPORT
 
bs⁄_ty≥
 
	$bs⁄_ôî©‹_ty≥
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

399  ( 
bs⁄_ty≥
 )–)
i
->
cur
[0];

400 
	}
}

402 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_key
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

403  
i
->
cur
 + 1;

404 
	}
}

406 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_vÆue
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

407 c⁄° *
t
 = 
i
->
cur
 + 1;

408 
t
 +
	`°æí
(Å ) + 1;

409  
t
;

410 
	}
}

414 
	$bs⁄_ôî©‹_öt_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

415 
out
;

416 
	`bs⁄_lôée_ídün32
–&
out
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) );

417  
out
;

418 
	}
}

420 
	$bs⁄_ôî©‹_doubÀ_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

421 
out
;

422 
	`bs⁄_lôée_ídün64
–&
out
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) );

423  
out
;

424 
	}
}

426 
öt64_t
 
	$bs⁄_ôî©‹_l⁄g_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

427 
öt64_t
 
out
;

428 
	`bs⁄_lôée_ídün64
–&
out
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) );

429  
out
;

430 
	}
}

432 
bs⁄_boﬁ_t
 
	$bs⁄_ôî©‹_boﬁ_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

433  
	`bs⁄_ôî©‹_vÆue
–
i
 )[0];

434 
	}
}

436 
MONGO_EXPORT
 
bs⁄_oid_t
 *
	$bs⁄_ôî©‹_oid
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

437  ( 
bs⁄_oid_t
 * )
	`bs⁄_ôî©‹_vÆue
–
i
 );

438 
	}
}

440 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_öt
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

441  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

442 
BSON_INT
:

443  
	`bs⁄_ôî©‹_öt_øw
–
i
 );

444 
BSON_LONG
:

445  ( )
	`bs⁄_ôî©‹_l⁄g_øw
–
i
 );

446 
BSON_DOUBLE
:

447  ( )
	`bs⁄_ôî©‹_doubÀ_øw
–
i
 );

451 
	}
}

453 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_doubÀ
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

454  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

455 
BSON_INT
:

456  
	`bs⁄_ôî©‹_öt_øw
–
i
 );

457 
BSON_LONG
:

458  ( )
	`bs⁄_ôî©‹_l⁄g_øw
–
i
 );

459 
BSON_DOUBLE
:

460  
	`bs⁄_ôî©‹_doubÀ_øw
–
i
 );

464 
	}
}

466 
MONGO_EXPORT
 
öt64_t
 
	$bs⁄_ôî©‹_l⁄g
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

467  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

468 
BSON_INT
:

469  
	`bs⁄_ôî©‹_öt_øw
–
i
 );

470 
BSON_LONG
:

471  
	`bs⁄_ôî©‹_l⁄g_øw
–
i
 );

472 
BSON_DOUBLE
:

473  ( 
öt64_t
)
	`bs⁄_ôî©‹_doubÀ_øw
–
i
 );

477 
	}
}

479 
MONGO_EXPORT
 
bs⁄_time°amp_t
 
	$bs⁄_ôî©‹_time°amp
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

480 
bs⁄_time°amp_t
 
ts
;

481 
	`bs⁄_lôée_ídün32
–&–
ts
.
i
 ), 
	`bs⁄_ôî©‹_vÆue
( i ) );

482 
	`bs⁄_lôée_ídün32
–&–
ts
.
t
 ), 
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 4 );

483  
ts
;

484 
	}
}

487 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_time°amp_time
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

488 
time
;

489 
	`bs⁄_lôée_ídün32
–&
time
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 4 );

490  
time
;

491 
	}
}

494 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_time°amp_ö¸emít
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

495 
ö¸emít
;

496 
	`bs⁄_lôée_ídün32
–&
ö¸emít
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) );

497  
ö¸emít
;

498 
	}
}

501 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$bs⁄_ôî©‹_boﬁ
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

502  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

503 
BSON_BOOL
:

504  
	`bs⁄_ôî©‹_boﬁ_øw
–
i
 );

505 
BSON_INT
:

506  
	`bs⁄_ôî©‹_öt_øw
–
i
 ) != 0;

507 
BSON_LONG
:

508  
	`bs⁄_ôî©‹_l⁄g_øw
–
i
 ) != 0;

509 
BSON_DOUBLE
:

510  
	`bs⁄_ôî©‹_doubÀ_øw
–
i
 ) != 0;

511 
BSON_EOO
:

512 
BSON_NULL
:

517 
	}
}

519 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_°rög
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

520  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

521 
BSON_STRING
:

522 
BSON_SYMBOL
:

523  
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 4;

527 
	}
}

529 
	$bs⁄_ôî©‹_°rög_Àn
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

530  
	`bs⁄_ôî©‹_öt_øw
–
i
 );

531 
	}
}

533 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_code
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

534  
	`bs⁄_ôî©‹_ty≥
–
i
 ) ) {

535 
BSON_STRING
:

536 
BSON_CODE
:

537  
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 4;

538 
BSON_CODEWSCOPE
:

539  
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 8;

541  
NULL
;

543 
	}
}

545 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_code_sc›e_öô
–c⁄° 
bs⁄_ôî©‹
 *
i
, 
bs⁄
 *
sc›e
, 
bs⁄_boﬁ_t
 
c›yD©a
 ) {

546 i‡–
	`bs⁄_ôî©‹_ty≥
–
i
 ) =
BSON_CODEWSCOPE
 ) {

547 
codeLí
 = 
	`bs⁄_föished_d©a_size
–
	`bs⁄_ôî©‹_vÆue
–
i
 )+4 );

548 c⁄° * 
sc›eD©a
 = 
	`bs⁄_ôî©‹_vÆue
–
i
 )+8+
codeLí
;

549 if–
c›yD©a
 )

550 
	`bs⁄_öô_föished_d©a_wôh_c›y
–
sc›e
, 
sc›eD©a
 );

552 
	`bs⁄_öô_föished_d©a
–
sc›e
, (*)
sc›eD©a
, 0 );

555 
	`bs⁄_öô_em±y
–
sc›e
 );

557 
	}
}

559 
MONGO_EXPORT
 
bs⁄_d©e_t
 
	$bs⁄_ôî©‹_d©e
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

560  
	`bs⁄_ôî©‹_l⁄g_øw
–
i
 );

561 
	}
}

563 
MONGO_EXPORT
 
time_t
 
	$bs⁄_ôî©‹_time_t
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

564  
	`bs⁄_ôî©‹_d©e
–
i
 ) / 1000;

565 
	}
}

567 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_bö_Àn
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

568  ( 
	`bs⁄_ôî©‹_bö_ty≥
–
i
 ) =
BSON_BIN_BINARY_OLD
 )

569 ? 
	`bs⁄_ôî©‹_öt_øw
–
i
 ) - 4

570 : 
	`bs⁄_ôî©‹_öt_øw
–
i
 );

571 
	}
}

573 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_bö_ty≥
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

574  
	`bs⁄_ôî©‹_vÆue
–
i
 )[4];

575 
	}
}

577 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_bö_d©a
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

578  ( 
	`bs⁄_ôî©‹_bö_ty≥
–
i
 ) =
BSON_BIN_BINARY_OLD
 )

579 ? 
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 9

580 : 
	`bs⁄_ôî©‹_vÆue
–
i
 ) + 5;

581 
	}
}

583 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_ªgex
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

584  
	`bs⁄_ôî©‹_vÆue
–
i
 );

585 
	}
}

587 
MONGO_EXPORT
 c⁄° *
	$bs⁄_ôî©‹_ªgex_›ts
–c⁄° 
bs⁄_ôî©‹
 *
i
 ) {

588 c⁄° *
p
 = 
	`bs⁄_ôî©‹_vÆue
–
i
 );

589  
p
 + 
	`°æí
(Ö ) + 1;

591 
	}
}

593 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_subobje˘_öô
–c⁄° 
bs⁄_ôî©‹
 *
i
, 
bs⁄
 *
sub
, 
bs⁄_boﬁ_t
 
c›yD©a
 ) {

594 c⁄° *
d©a
 = 
	`bs⁄_ôî©‹_vÆue
–
i
 );

595 if–
c›yD©a
 )

596 
	`bs⁄_öô_föished_d©a_wôh_c›y
–
sub
, 
d©a
 );

598 
	`bs⁄_öô_föished_d©a
–
sub
, (*)
d©a
, 0 );

599 
	}
}

601 
MONGO_EXPORT
 
	$bs⁄_ôî©‹_subôî©‹
–c⁄° 
bs⁄_ôî©‹
 *
i
, bs⁄_ôî©‹ *
sub
 ) {

602 
	`bs⁄_ôî©‹_‰om_buf„r
–
sub
, 
	`bs⁄_ôî©‹_vÆue
–
i
 ) );

603 
	}
}

609 
	$_bs⁄_zîo
–
bs⁄
 *
b
 ) {

610 
	`mem£t
–
b
, 0, –
bs⁄
 ) );

611 
	}
}

613 
MONGO_EXPORT
 
	$bs⁄_öô
–
bs⁄
 *
b
 ) {

614  
	`bs⁄_öô_size
–
b
, 
öôülBuf„rSize
 );

615 
	}
}

617 
	$bs⁄_öô_size
–
bs⁄
 *
b
, 
size
 ) {

618 
	`_bs⁄_zîo
–
b
 );

619 if–
size
 != 0 )

621 * 
d©a
 = (*Ë
	`bs⁄_mÆloc
–
size
 );

622 i‡(
d©a
 =
NULL
Ë 
BSON_ERROR
;

623 
b
->
d©a
 = data;

624 
b
->
d©aSize
 = 
size
;

626 
b
->
ownsD©a
 = 1;

627 
b
->
cur
 = b->
d©a
 + 4;

628  
BSON_OK
;

629 
	}
}

631 
	$bs⁄_öô_unföished_d©a
–
bs⁄
 *
b
, *
d©a
, 
d©aSize
, 
bs⁄_boﬁ_t
 
ownsD©a
 ) {

632 
	`_bs⁄_zîo
–
b
 );

633 
b
->
d©a
 = data;

634 
b
->
d©aSize
 = dataSize;

635 
b
->
ownsD©a
 = ownsData;

636  
BSON_OK
;

637 
	}
}

639 
	$_bs⁄_≠≥nd_grow_°ack
–
bs⁄
 * 
b
 ) {

640 i‡–!
b
->
°ackPå
 ) {

642 
b
->
°ackPå
 = b->
°ack
;

643 
b
->
°ackSize
 = –b->
°ack
 ) / –
size_t
 );

645 i‡–
b
->
°ackPå
 =b->
°ack
 ) {

647 
size_t
 *
√w_°ack
 = ( size_à* ) 
	`bs⁄_mÆloc
–2 * –
b
->
°ack
 ) );

648 i‡–
√w_°ack
 ) {

649 
b
->
°ackPå
 = 
√w_°ack
;

650 
b
->
°ackSize
 = 2 * –b->
°ack
 ) / –
size_t
 );

651 
	`mem˝y
–
b
->
°ackPå
, b->
°ack
, ( b->stack ) );

654  
BSON_ERROR
;

659 
size_t
 *
√w_°ack
 = ( size_à* ) 
	`bs⁄_ªÆloc
–
b
->
°ackPå
, ( b->
°ackSize
 * 2 ) * ( size_t ) );

660 i‡–
√w_°ack
 ) {

661 
b
->
°ackPå
 = 
√w_°ack
;

662 
b
->
°ackSize
 *= 2;

665  
BSON_ERROR
;

668  
BSON_OK
;

669 
	}
}

671 
	$bs⁄_≠≥nd_byã
–
bs⁄
 *
b
, 
c
 ) {

672 
b
->
cur
[0] = 
c
;

673 
b
->
cur
++;

674 
	}
}

676 
	$bs⁄_≠≥nd
–
bs⁄
 *
b
, c⁄° *
d©a
, 
size_t
 
Àn
 ) {

677 
	`mem˝y
–
b
->
cur
 , 
d©a
 , 
Àn
 );

678 
b
->
cur
 +
Àn
;

679 
	}
}

681 
	$bs⁄_≠≥nd32
–
bs⁄
 *
b
, c⁄° *
d©a
 ) {

682 
	`bs⁄_lôée_ídün32
–
b
->
cur
, 
d©a
 );

683 
b
->
cur
 += 4;

684 
	}
}

686 
	$bs⁄_≠≥nd32_as_öt
–
bs⁄
 *
b
, 
d©a
 ) {

687 
	`bs⁄_lôée_ídün32
–
b
->
cur
, &
d©a
 );

688 
b
->
cur
 += 4;

689 
	}
}

691 
	$bs⁄_≠≥nd64
–
bs⁄
 *
b
, c⁄° *
d©a
 ) {

692 
	`bs⁄_lôée_ídün64
–
b
->
cur
, 
d©a
 );

693 
b
->
cur
 += 8;

694 
	}
}

696 
	$bs⁄_ísuª_•a˚
–
bs⁄
 *
b
, c⁄° 
size_t
 
byãsNìded
 ) {

697 
size_t
 
pos
 = 
	`_bs⁄_posôi⁄
(
b
);

698 *
‹ig
 = 
b
->
d©a
;

699 
√w_size
;

701 i‡–
pos
 + 
byãsNìded
 <(
size_t
Ë
b
->
d©aSize
 )

702  
BSON_OK
;

704 
√w_size
 = (Ë–1.5 * ( 
b
->
d©aSize
 + 
byãsNìded
 ) );

706 if–
√w_size
 < 
b
->
d©aSize
 ) {

707 if––
b
->
d©aSize
 + 
byãsNìded
 ) < 
INT_MAX
 )

708 
√w_size
 = 
INT_MAX
;

710 
b
->
îr
 = 
BSON_SIZE_OVERFLOW
;

711  
BSON_ERROR
;

715 i‡–! 
b
->
ownsD©a
 ) {

716 
b
->
îr
 = 
BSON_DOES_NOT_OWN_DATA
;

717  
BSON_ERROR
;

720 
b
->
d©a
 = 
	`bs⁄_ªÆloc
–b->d©a, 
√w_size
 );

721 i‡–!
b
->
d©a
 )

722 
	`bs⁄_Áèl_msg
–!!
b
->
d©a
, "realloc() failed" );

724 
b
->
d©aSize
 = 
√w_size
;

725 
b
->
cur
 +b->
d©a
 - 
‹ig
;

727  
BSON_OK
;

728 
	}
}

730 
MONGO_EXPORT
 
	$bs⁄_föish
–
bs⁄
 *
b
 ) {

731 
i
;

733 if–
b
->
îr
 & 
BSON_NOT_UTF8
 )

734  
BSON_ERROR
;

736 i‡–! 
b
->
föished
 ) {

737 
	`bs⁄_Áèl_msg
(!
b
->
°ackPos
, "SubobjectÇot finished before bson_finish().");

738 i‡–
	`bs⁄_ísuª_•a˚
–
b
, 1 ) =
BSON_ERROR
 )  BSON_ERROR;

739 
	`bs⁄_≠≥nd_byã
–
b
, 0 );

740 i‡–
	`_bs⁄_posôi⁄
(
b
Ë>
INT32_MAX
 ) {

741 
b
->
îr
 = 
BSON_SIZE_OVERFLOW
;

742  
BSON_ERROR
;

744 
i
 = ( Ë
	`_bs⁄_posôi⁄
(
b
);

745 
	`bs⁄_lôée_ídün32
–
b
->
d©a
, &
i
 );

746 
b
->
föished
 = 1;

749  
BSON_OK
;

750 
	}
}

752 
MONGO_EXPORT
 
	$bs⁄_de°roy
–
bs⁄
 *
b
 ) {

753 i‡–
b
 ) {

754 i‡–
b
->
ownsD©a
 && b->
d©a
 !
NULL
 ) {

755 
	`bs⁄_‰ì
–
b
->
d©a
 );

757 
b
->
d©a
 = 
NULL
;

758 
b
->
d©aSize
 = 0;

759 
b
->
ownsD©a
 = 0;

760 i‡–
b
->
°ackPå
 && b->°ackPå !b->
°ack
 ) {

761 
	`bs⁄_‰ì
–
b
->
°ackPå
 );

762 
b
->
°ackPå
 = 
NULL
;

764 
b
->
°ackSize
 = 0;

765 
b
->
°ackPos
 = 0;

766 
b
->
îr
 = 0;

767 
b
->
cur
 = 0;

768 
b
->
föished
 = 1;

770 
	}
}

772 
	$bs⁄_≠≥nd_e°¨t
–
bs⁄
 *
b
, 
ty≥
, c⁄° *
«me
, c⁄° 
size_t
 
d©aSize
 ) {

773 c⁄° 
size_t
 
Àn
 = 
	`°æí
–
«me
 ) + 1;

775 i‡–
b
->
föished
 ) {

776 
b
->
îr
 |
BSON_ALREADY_FINISHED
;

777  
BSON_ERROR
;

780 i‡–
	`bs⁄_ísuª_•a˚
–
b
, 1 + 
Àn
 + 
d©aSize
 ) =
BSON_ERROR
 ) {

781  
BSON_ERROR
;

784 if–
	`bs⁄_check_fõld_«me
–
b
, ( c⁄° * )
«me
, 
Àn
 - 1 ) =
BSON_ERROR
 ) {

785 
	`bs⁄_buûdî_îr‹
–
b
 );

786  
BSON_ERROR
;

789 
	`bs⁄_≠≥nd_byã
–
b
, ( )
ty≥
 );

790 
	`bs⁄_≠≥nd
–
b
, 
«me
, 
Àn
 );

791  
BSON_OK
;

792 
	}
}

798 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_öt
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
i
 ) {

799 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_INT
, 
«me
, 4 ) =
BSON_ERROR
 )

800  
BSON_ERROR
;

801 
	`bs⁄_≠≥nd32
–
b
 , &
i
 );

802  
BSON_OK
;

803 
	}
}

805 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_l⁄g
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
öt64_t
 
i
 ) {

806 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
 , 
BSON_LONG
, 
«me
, 8 ) =
BSON_ERROR
 )

807  
BSON_ERROR
;

808 
	`bs⁄_≠≥nd64
–
b
 , &
i
 );

809  
BSON_OK
;

810 
	}
}

812 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_doubÀ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
d
 ) {

813 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_DOUBLE
, 
«me
, 8 ) =
BSON_ERROR
 )

814  
BSON_ERROR
;

815 
	`bs⁄_≠≥nd64
–
b
 , &
d
 );

816  
BSON_OK
;

817 
	}
}

819 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_boﬁ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
bs⁄_boﬁ_t
 
i
 ) {

820 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_BOOL
, 
«me
, 1 ) =
BSON_ERROR
 )

821  
BSON_ERROR
;

822 
	`bs⁄_≠≥nd_byã
–
b
 , 
i
 != 0 );

823  
BSON_OK
;

824 
	}
}

826 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_nuŒ
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

827 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
 , 
BSON_NULL
, 
«me
, 0 ) =
BSON_ERROR
 )

828  
BSON_ERROR
;

829  
BSON_OK
;

830 
	}
}

832 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_undeföed
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

833 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_UNDEFINED
, 
«me
, 0 ) =
BSON_ERROR
 )

834  
BSON_ERROR
;

835  
BSON_OK
;

836 
	}
}

838 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_maxkey
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

839 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_MAXKEY
, 
«me
, 0 ) =
BSON_ERROR
 )

840  
BSON_ERROR
;

841  
BSON_OK
;

842 
	}
}

844 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_mökey
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

845 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_MINKEY
, 
«me
, 0 ) =
BSON_ERROR
 )

846  
BSON_ERROR
;

847  
BSON_OK
;

848 
	}
}

850 
	$bs⁄_≠≥nd_°rög_ba£
–
bs⁄
 *
b
, c⁄° *
«me
,

851 c⁄° *
vÆue
, 
size_t
 
Àn
, 
bs⁄_ty≥
 
ty≥
 ) {

853 
size_t
 
¶
 = 
Àn
 + 1;

854 i‡–
¶
 > 
INT32_MAX
 ) {

855 
b
->
îr
 = 
BSON_SIZE_OVERFLOW
;

857  
BSON_ERROR
;

859 i‡–
	`bs⁄_check_°rög
–
b
, ( c⁄° * )
vÆue
, 
¶
 - 1 ) =
BSON_ERROR
 )

860  
BSON_ERROR
;

861 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
ty≥
, 
«me
, 4 + 
¶
 ) =
BSON_ERROR
 ) {

862  
BSON_ERROR
;

864 
	`bs⁄_≠≥nd32_as_öt
–
b
 , ( )
¶
 );

865 
	`bs⁄_≠≥nd
–
b
 , 
vÆue
 , 
¶
 - 1 );

866 
	`bs⁄_≠≥nd
–
b
 , "\0" , 1 );

867  
BSON_OK
;

868 
	}
}

870 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_°rög
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
 ) {

871  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
	`°æí
 ( vÆuê), 
BSON_STRING
 );

872 
	}
}

874 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_symbﬁ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
 ) {

875  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
	`°æí
 ( vÆuê), 
BSON_SYMBOL
 );

876 
	}
}

878 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_code
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
 ) {

879  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
	`°æí
 ( vÆuê), 
BSON_CODE
 );

880 
	}
}

882 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_°rög_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
, 
size_t
 
Àn
 ) {

883  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
Àn
, 
BSON_STRING
 );

884 
	}
}

886 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_symbﬁ_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
, 
size_t
 
Àn
 ) {

887  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
Àn
, 
BSON_SYMBOL
 );

888 
	}
}

890 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_code_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
vÆue
, 
size_t
 
Àn
 ) {

891  
	`bs⁄_≠≥nd_°rög_ba£
–
b
, 
«me
, 
vÆue
, 
Àn
, 
BSON_CODE
 );

892 
	}
}

894 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_code_w_sc›e_n
–
bs⁄
 *
b
, c⁄° *
«me
,

895 c⁄° *
code
, 
size_t
 
Àn
, c⁄° 
bs⁄
 *
sc›e
 ) {

897 
size_t
 
¶
, 
size
;

898 i‡–!
sc›e
 )  
BSON_ERROR
;

899 
¶
 = 
Àn
 + 1;

900 
size
 = 4 + 4 + 
¶
 + 
	`bs⁄_size
–
sc›e
 );

901 i‡–
size
 > (
size_t
)
INT32_MAX
 ) {

902 
b
->
îr
 = 
BSON_SIZE_OVERFLOW
;

903  
BSON_ERROR
;

905 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_CODEWSCOPE
, 
«me
, 
size
 ) =
BSON_ERROR
 )

906  
BSON_ERROR
;

907 
	`bs⁄_≠≥nd32_as_öt
–
b
, ( )
size
 );

908 
	`bs⁄_≠≥nd32
–
b
, &
¶
 );

909 
	`bs⁄_≠≥nd
–
b
, 
code
, 
¶
 );

910 
	`bs⁄_≠≥nd
–
b
, 
sc›e
->
d©a
, 
	`bs⁄_size
( scope ) );

911  
BSON_OK
;

912 
	}
}

914 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_code_w_sc›e
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
code
, c⁄° bs⁄ *
sc›e
 ) {

915  
	`bs⁄_≠≥nd_code_w_sc›e_n
–
b
, 
«me
, 
code
, 
	`°æí
 ( codê), 
sc›e
 );

916 
	}
}

918 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_bö¨y
–
bs⁄
 *
b
, c⁄° *
«me
, 
ty≥
, c⁄° *
°r
, 
size_t
 
Àn
 ) {

919 i‡–
ty≥
 =
BSON_BIN_BINARY_OLD
 ) {

920 
size_t
 
subtwﬁí
 = 
Àn
 + 4;

921 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_BINDATA
, 
«me
, 4+1+4+
Àn
 ) =
BSON_ERROR
 )

922  
BSON_ERROR
;

923 
	`bs⁄_≠≥nd32_as_öt
–
b
, ( )
subtwﬁí
 );

924 
	`bs⁄_≠≥nd_byã
–
b
, 
ty≥
 );

925 
	`bs⁄_≠≥nd32_as_öt
–
b
, ( )
Àn
 );

926 
	`bs⁄_≠≥nd
–
b
, 
°r
, 
Àn
 );

929 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_BINDATA
, 
«me
, 4+1+
Àn
 ) =
BSON_ERROR
 )

930  
BSON_ERROR
;

931 
	`bs⁄_≠≥nd32_as_öt
–
b
, ( )
Àn
 );

932 
	`bs⁄_≠≥nd_byã
–
b
, 
ty≥
 );

933 
	`bs⁄_≠≥nd
–
b
, 
°r
, 
Àn
 );

935  
BSON_OK
;

936 
	}
}

938 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_oid
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
bs⁄_oid_t
 *
oid
 ) {

939 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_OID
, 
«me
, 12 ) =
BSON_ERROR
 )

940  
BSON_ERROR
;

941 
	`bs⁄_≠≥nd
–
b
 , 
oid
 , 12 );

942  
BSON_OK
;

943 
	}
}

945 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_√w_oid
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

946 
bs⁄_oid_t
 
oid
;

947 
	`bs⁄_oid_gí
–&
oid
 );

948  
	`bs⁄_≠≥nd_oid
–
b
, 
«me
, &
oid
 );

949 
	}
}

951 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_ªgex
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
∑âîn
, c⁄° *
›ts
 ) {

952 c⁄° 
size_t
 
∂í
 = 
	`°æí
–
∑âîn
 )+1;

953 c⁄° 
size_t
 
ﬁí
 = 
	`°æí
–
›ts
 )+1;

954 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_REGEX
, 
«me
, 
∂í
 + 
ﬁí
 ) =
BSON_ERROR
 )

955  
BSON_ERROR
;

956 i‡–
	`bs⁄_check_°rög
–
b
, 
∑âîn
, 
∂í
 - 1 ) =
BSON_ERROR
 )

957  
BSON_ERROR
;

958 
	`bs⁄_≠≥nd
–
b
 , 
∑âîn
 , 
∂í
 );

959 
	`bs⁄_≠≥nd
–
b
 , 
›ts
 , 
ﬁí
 );

960  
BSON_OK
;

961 
	}
}

963 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_bs⁄
–
bs⁄
 *
b
, c⁄° *
«me
, const bson *bson ) {

964 i‡–!
bs⁄
 )  
BSON_ERROR
;

965 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_OBJECT
, 
«me
, 
	`bs⁄_size
–
bs⁄
 ) ) =
BSON_ERROR
 )

966  
BSON_ERROR
;

967 
	`bs⁄_≠≥nd
–
b
 , 
bs⁄
->
d©a
 , 
	`bs⁄_size
( bson ) );

968  
BSON_OK
;

969 
	}
}

971 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_ñemít
–
bs⁄
 *
b
, c⁄° *
«me_‹_nuŒ
, c⁄° 
bs⁄_ôî©‹
 *
ñem
 ) {

972 
bs⁄_ôî©‹
 
√xt
 = *
ñem
;

973 
size_t
 
size
;

975 
	`bs⁄_ôî©‹_√xt
–&
√xt
 );

976 
size
 = 
√xt
.
cur
 - 
ñem
->cur;

978 i‡–
«me_‹_nuŒ
 =
NULL
 ) {

979 if–
	`bs⁄_ísuª_•a˚
–
b
, 
size
 ) =
BSON_ERROR
 )

980  
BSON_ERROR
;

981 
	`bs⁄_≠≥nd
–
b
, 
ñem
->
cur
, 
size
 );

984 
size_t
 
d©a_size
 = 
size
 - 2 - 
	`°æí
–
	`bs⁄_ôî©‹_key
–
ñem
 ) );

985 
	`bs⁄_≠≥nd_e°¨t
–
b
, 
ñem
->
cur
[0], 
«me_‹_nuŒ
, 
d©a_size
 );

986 
	`bs⁄_≠≥nd
–
b
, 
	`bs⁄_ôî©‹_vÆue
–
ñem
 ), 
d©a_size
 );

989  
BSON_OK
;

990 
	}
}

992 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_time°amp
–
bs⁄
 *
b
, c⁄° *
«me
, 
bs⁄_time°amp_t
 *
ts
 ) {

993 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_TIMESTAMP
, 
«me
, 8 ) =
BSON_ERROR
 )  BSON_ERROR;

995 
	`bs⁄_≠≥nd32
–
b
 , &–
ts
->
i
 ) );

996 
	`bs⁄_≠≥nd32
–
b
 , &–
ts
->
t
 ) );

998  
BSON_OK
;

999 
	}
}

1001 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_time°amp2
–
bs⁄
 *
b
, c⁄° *
«me
, 
time
, 
ö¸emít
 ) {

1002 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_TIMESTAMP
, 
«me
, 8 ) =
BSON_ERROR
 )  BSON_ERROR;

1004 
	`bs⁄_≠≥nd32
–
b
 , &
ö¸emít
 );

1005 
	`bs⁄_≠≥nd32
–
b
 , &
time
 );

1006  
BSON_OK
;

1007 
	}
}

1009 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_d©e
–
bs⁄
 *
b
, c⁄° *
«me
, 
bs⁄_d©e_t
 
mûlis
 ) {

1010 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_DATE
, 
«me
, 8 ) =
BSON_ERROR
 )  BSON_ERROR;

1011 
	`bs⁄_≠≥nd64
–
b
 , &
mûlis
 );

1012  
BSON_OK
;

1013 
	}
}

1015 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_time_t
–
bs⁄
 *
b
, c⁄° *
«me
, 
time_t
 
£cs
 ) {

1016  
	`bs⁄_≠≥nd_d©e
–
b
, 
«me
, ( 
bs⁄_d©e_t
 )
£cs
 * 1000 );

1017 
	}
}

1019 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_°¨t_obje˘
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

1020 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_OBJECT
, 
«me
, 5 ) =
BSON_ERROR
 )  BSON_ERROR;

1021 i‡–
b
->
°ackPos
 >b->
°ackSize
 && 
	`_bs⁄_≠≥nd_grow_°ack
–b ) =
BSON_ERROR
 )  BSON_ERROR;

1022 
b
->
°ackPå
[ b->
°ackPos
++ ] = 
	`_bs⁄_posôi⁄
(b);

1023 
	`bs⁄_≠≥nd32
–
b
 , &
zîo
 );

1024  
BSON_OK
;

1025 
	}
}

1027 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_°¨t_¨øy
–
bs⁄
 *
b
, c⁄° *
«me
 ) {

1028 i‡–
	`bs⁄_≠≥nd_e°¨t
–
b
, 
BSON_ARRAY
, 
«me
, 5 ) =
BSON_ERROR
 )  BSON_ERROR;

1029 i‡–
b
->
°ackPos
 >b->
°ackSize
 && 
	`_bs⁄_≠≥nd_grow_°ack
–b ) =
BSON_ERROR
 )  BSON_ERROR;

1030 
b
->
°ackPå
[ b->
°ackPos
++ ] = 
	`_bs⁄_posôi⁄
(b);

1031 
	`bs⁄_≠≥nd32
–
b
 , &
zîo
 );

1032  
BSON_OK
;

1033 
	}
}

1035 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_föish_obje˘
–
bs⁄
 *
b
 ) {

1036 *
°¨t
;

1037 
i
;

1038 i‡(!
b
Ë 
BSON_ERROR
;

1039 i‡(!
b
->
°ackPos
Ë{ b->
îr
 = 
BSON_NOT_IN_SUBOBJECT
;  
BSON_ERROR
; }

1040 i‡–
	`bs⁄_ísuª_•a˚
–
b
, 1 ) =
BSON_ERROR
 )  BSON_ERROR;

1041 
	`bs⁄_≠≥nd_byã
–
b
 , 0 );

1043 
°¨t
 = 
b
->
d©a
 + b->
°ackPå
[ --b->
°ackPos
 ];

1044 i‡–
b
->
cur
 - 
°¨t
 >
INT32_MAX
 ) {

1045 
b
->
îr
 = 
BSON_SIZE_OVERFLOW
;

1046  
BSON_ERROR
;

1048 
i
 = ( )–
b
->
cur
 - 
°¨t
 );

1049 
	`bs⁄_lôée_ídün32
–
°¨t
, &
i
 );

1051  
BSON_OK
;

1052 
	}
}

1054 
MONGO_EXPORT
 
	$bs⁄_öt64_to_doubÀ
–
öt64_t
 
i64
 ) {

1055  ()
i64
;

1056 
	}
}

1058 
MONGO_EXPORT
 
	$bs⁄_≠≥nd_föish_¨øy
–
bs⁄
 *
b
 ) {

1059  
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

1060 
	}
}

1064 
bs⁄_îr_h™dÀr
 
	gîr_h™dÀr
 = 
NULL
;

1066 
MONGO_EXPORT
 
bs⁄_îr_h™dÀr
 
	$£t_bs⁄_îr_h™dÀr
–
bs⁄_îr_h™dÀr
 
func
 ) {

1067 
bs⁄_îr_h™dÀr
 
ﬁd
 = 
îr_h™dÀr
;

1068 
îr_h™dÀr
 = 
func
;

1069  
ﬁd
;

1070 
	}
}

1072 
MONGO_EXPORT
 
	$bs⁄_‰ì
–*
±r
 ) {

1073 
	`bs⁄_‰ì_func
–
±r
 );

1074 
	}
}

1076 
MONGO_EXPORT
 *
	$bs⁄_mÆloc
–
size_t
 
size
 ) {

1077 *
p
;

1078 
p
 = 
	`bs⁄_mÆloc_func
–
size
 );

1079 
	`bs⁄_Áèl_msg
–!!
p
, "malloc() failed" );

1080  
p
;

1081 
	}
}

1083 *
	$bs⁄_ªÆloc
–*
±r
, 
size_t
 
size
 ) {

1084 *
p
;

1085 
p
 = 
	`bs⁄_ªÆloc_func
–
±r
, 
size
 );

1086 
	`bs⁄_Áèl_msg
–!!
p
, "realloc() failed" );

1087  
p
;

1088 
	}
}

1090 
	$_bs⁄_îΩrötf
–c⁄° *
f‹m©
, ... ) {

1091 
va_li°
 
≠
;

1092 
ªt
 = 0;

1093 
	`va_°¨t
–
≠
, 
f‹m©
 );

1094 #i‚de‡
R_SAFETY_NET


1095 
ªt
 = 
	`vÂrötf
–
°dîr
, 
f‹m©
, 
≠
 );

1097 
	`va_íd
–
≠
 );

1099  
ªt
;

1100 
	}
}

1108 
	$bs⁄_buûdî_îr‹
–
bs⁄
 *
b
 ) {

1109 if–
îr_h™dÀr
 )

1110 
	`îr_h™dÀr
( "BSONÉrror." );

1111 
	}
}

1113 
	$bs⁄_Áèl
–
ok
 ) {

1114 
	`bs⁄_Áèl_msg
–
ok
, "" );

1115 
	}
}

1117 
	$bs⁄_Áèl_msg
–
ok
 , c⁄° *
msg
 ) {

1118 i‡–
ok
 )

1121 i‡–
îr_h™dÀr
 ) {

1122 
	`îr_h™dÀr
–
msg
 );

1124 #i‚de‡
R_SAFETY_NET


1125 
	`bs⁄_îΩrötf
–"îr‹: %s\n" , 
msg
 );

1126 
	`exô
( -5 );

1128 
	}
}

1132 c⁄° 
bs⁄_num°rs
[1000][4];

1134 
	$bs⁄_num°r
–*
°r
, 
i
 ) {

1135 if–
i
 < 1000 )

1136 
	`mem˝y
–
°r
, 
bs⁄_num°rs
[
i
], 4 );

1138 
	`bs⁄_•rötf
–
°r
,"%d", 
i
 );

1139 
	}
}

1141 
MONGO_EXPORT
 
	$bs⁄_sw≠_ídün64
–*
ouç
, c⁄° *
öp
 ) {

1142 c⁄° *
ö
 = ( c⁄° * )
öp
;

1143 *
out
 = ( * )
ouç
;

1145 
out
[0] = 
ö
[7];

1146 
out
[1] = 
ö
[6];

1147 
out
[2] = 
ö
[5];

1148 
out
[3] = 
ö
[4];

1149 
out
[4] = 
ö
[3];

1150 
out
[5] = 
ö
[2];

1151 
out
[6] = 
ö
[1];

1152 
out
[7] = 
ö
[0];

1154 
	}
}

1156 
MONGO_EXPORT
 
	$bs⁄_sw≠_ídün32
–*
ouç
, c⁄° *
öp
 ) {

1157 c⁄° *
ö
 = ( c⁄° * )
öp
;

1158 *
out
 = ( * )
ouç
;

1160 
out
[0] = 
ö
[3];

1161 
out
[1] = 
ö
[2];

1162 
out
[2] = 
ö
[1];

1163 
out
[3] = 
ö
[0];

1164 
	}
}

	@oss/mongo-c-driver/src/bson.h

21 #i‚de‡
BSON_H_


22 
	#BSON_H_


	)

24 
	~<time.h
>

25 
	~<°rög.h
>

26 
	~<°dio.h
>

27 
	~<°dlib.h
>

28 
	~<°d¨g.h
>

30 #ifde‡
__GNUC__


31 
	#MONGO_INLINE
 
__ölöe__


	)

32 
	#MONGO_EXPORT


	)

34 
	#MONGO_INLINE
 

	)

35 #ifde‡
MONGO_STATIC_BUILD


36 
	#MONGO_EXPORT


	)

37 #ñi‡
deföed
(
MONGO_DLL_BUILD
)

38 
	#MONGO_EXPORT
 
	`__de˛•ec
(
dŒexp‹t
)

	)

40 
	#MONGO_EXPORT
 
	`__de˛•ec
(
dŒimp‹t
)

	)

44 #ifde‡
__˝lu•lus


45 
	#MONGO_EXTERN_C_START
 "C" {

	)

46 
	#MONGO_EXTERN_C_END
 }

	)

48 
	#MONGO_EXTERN_C_START


	)

49 
	#MONGO_EXTERN_C_END


	)

52 #i‡
deföed
(
MONGO_HAVE_STDINT
Ë|| 
__STDC_VERSION__
 >= 199901L

53 
	~<°döt.h
>

54 #ñi‡
deföed
(
MONGO_HAVE_UNISTD
)

55 
	~<uni°d.h
>

56 #ñi‡
deföed
(
MONGO_USE__INT64
)

57 
__öt64
 
	töt64_t
;

58 
	t__öt64
 
	tuöt64_t
;

59 
	#INT32_MAX
 0x7fffffffL

	)

60 #ñi‡
deföed
(
MONGO_USE_LONG_LONG_INT
)

61 
	töt64_t
;

62 
	tuöt64_t
;

64 #îr‹ 
Mu°
 
compûe
 
wôh
 
c99
 
‹
 
deföe
 
MONGO_HAVE_STDINT
, 
MONGO_HAVE_UNISTD
, 
MONGO_USE__INT64
, o∏
MONGO_USE_LONG_LONG_INT
.

67 #ifde‡
MONGO_BIG_ENDIAN


68 
	#bs⁄_lôée_ídün64
(
out
, 
ö
Ë–
	`bs⁄_sw≠_ídün64
(out, inË)

	)

69 
	#bs⁄_lôée_ídün32
(
out
, 
ö
Ë–
	`bs⁄_sw≠_ídün32
(out, inË)

	)

70 
	#bs⁄_big_ídün64
(
out
, 
ö
Ë–
	`mem˝y
(out, in, 8Ë)

	)

71 
	#bs⁄_big_ídün32
(
out
, 
ö
Ë–
	`mem˝y
(out, in, 4Ë)

	)

73 
	#bs⁄_lôée_ídün64
(
out
, 
ö
Ë–
	`mem˝y
(out, in, 8Ë)

	)

74 
	#bs⁄_lôée_ídün32
(
out
, 
ö
Ë–
	`mem˝y
(out, in, 4Ë)

	)

75 
	#bs⁄_big_ídün64
(
out
, 
ö
Ë–
	`bs⁄_sw≠_ídün64
(out, inË)

	)

76 
	#bs⁄_big_ídün32
(
out
, 
ö
Ë–
	`bs⁄_sw≠_ídün32
(out, inË)

	)

79 
	gMONGO_EXTERN_C_START


81 
	#BSON_OK
 0

	)

82 
	#BSON_ERROR
 -1

	)

84 
	ebs⁄_îr‹_t
 {

85 
	mBSON_SIZE_OVERFLOW
 = (1 << 0),

86 
	mBSON_ALREADY_FINISHED
 = (1 << 4),

87 
	mBSON_NOT_IN_SUBOBJECT
 = (1 << 5),

88 
	mBSON_DOES_NOT_OWN_DATA
 = (1 << 6)

91 
	ebs⁄_vÆidôy_t
 {

92 
	mBSON_VALID
 = 0,

93 
	mBSON_NOT_UTF8
 = (1 << 1),

94 
	mBSON_FIELD_HAS_DOT
 = (1 << 2),

95 
	mBSON_FIELD_INIT_DOLLAR
 = (1 << 3)

98 
	ebs⁄_bö¨y_subty≥_t
 {

99 
	mBSON_BIN_BINARY
 = 0,

100 
	mBSON_BIN_FUNC
 = 1,

101 
	mBSON_BIN_BINARY_OLD
 = 2,

102 
	mBSON_BIN_UUID
 = 3,

103 
	mBSON_BIN_MD5
 = 5,

104 
	mBSON_BIN_USER
 = 128

108 
	mBSON_EOO
 = 0,

109 
	mBSON_DOUBLE
 = 1,

110 
	mBSON_STRING
 = 2,

111 
	mBSON_OBJECT
 = 3,

112 
	mBSON_ARRAY
 = 4,

113 
	mBSON_BINDATA
 = 5,

114 
	mBSON_UNDEFINED
 = 6,

115 
	mBSON_OID
 = 7,

116 
	mBSON_BOOL
 = 8,

117 
	mBSON_DATE
 = 9,

118 
	mBSON_NULL
 = 10,

119 
	mBSON_REGEX
 = 11,

120 
	mBSON_DBREF
 = 12,

121 
	mBSON_CODE
 = 13,

122 
	mBSON_SYMBOL
 = 14,

123 
	mBSON_CODEWSCOPE
 = 15,

124 
	mBSON_INT
 = 16,

125 
	mBSON_TIMESTAMP
 = 17,

126 
	mBSON_LONG
 = 18,

127 
	mBSON_MAXKEY
 = 127,

128 
	mBSON_MINKEY
 = 255

129 } 
	tbs⁄_ty≥
;

131 
	tbs⁄_boﬁ_t
;

134 c⁄° *
	mcur
;

135 
bs⁄_boﬁ_t
 
	mfú°
;

136 } 
	tbs⁄_ôî©‹
;

139 *
	md©a
;

140 *
	mcur
;

141 
	md©aSize
;

142 
bs⁄_boﬁ_t
 
	mföished
;

143 
bs⁄_boﬁ_t
 
	mownsD©a
;

144 
	mîr
;

145 
	m°ackSize
;

146 
	m°ackPos
;

147 
size_t
* 
	m°ackPå
;

148 
size_t
 
	m°ack
[32];

150 } 
	tbs⁄
;

152 #¥agm®
∑ck
(1)

154 
	mbyãs
[12];

155 
	möts
[3];

156 } 
	tbs⁄_oid_t
;

157 #¥agm®
∑ck
()

159 
öt64_t
 
	tbs⁄_d©e_t
;

162 
	mi
;

163 
	mt
;

164 } 
	tbs⁄_time°amp_t
;

180 
MONGO_EXPORT
 
bs⁄_öô_zîo
–
bs⁄
 *
b
 );

191 
MONGO_EXPORT
 
bs⁄
* 
bs⁄_Æloc
( );

198 
MONGO_EXPORT
 
bs⁄_dóŒoc
–
bs⁄
* 
b
 );

213 
bs⁄_öô_föished_d©a
–
bs⁄
 *
b
, *
d©a
, 
bs⁄_boﬁ_t
 
ownsD©a
 );

227 
bs⁄_öô_föished_d©a_wôh_c›y
–
bs⁄
 *
b
, c⁄° *
d©a
 );

236 
MONGO_EXPORT
 
bs⁄_size
–c⁄° 
bs⁄
 *
b
 );

245 
MONGO_EXPORT
 
size_t
 
bs⁄_buf„r_size
–c⁄° 
bs⁄
 *
b
 );

252 
MONGO_EXPORT
 
bs⁄_¥öt
–c⁄° 
bs⁄
 *
b
 );

259 
MONGO_EXPORT
 c⁄° *
bs⁄_d©a
–c⁄° 
bs⁄
 *
b
 );

270 
MONGO_EXPORT
 
bs⁄_has_d©a
–c⁄° 
bs⁄
 *
b
 );

278 
MONGO_EXPORT
 
bs⁄_¥öt_øw
–c⁄° *
bs⁄
 , 
dïth
 );

289 
MONGO_EXPORT
 
bs⁄_ty≥
 
bs⁄_föd
–
bs⁄_ôî©‹
 *
ô
, c⁄° 
bs⁄
 *
obj
, c⁄° *
«me
 );

292 
MONGO_EXPORT
 
bs⁄_ôî©‹
* 
bs⁄_ôî©‹_Æloc
( );

293 
MONGO_EXPORT
 
bs⁄_ôî©‹_dóŒoc
(
bs⁄_ôî©‹
*);

300 
MONGO_EXPORT
 
bs⁄_ôî©‹_öô
–
bs⁄_ôî©‹
 *
i
 , c⁄° 
bs⁄
 *
b
 );

309 
MONGO_EXPORT
 
bs⁄_ôî©‹_‰om_buf„r
–
bs⁄_ôî©‹
 *
i
, c⁄° *
buf„r
 );

319 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
bs⁄_ôî©‹_m‹e
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

328 
MONGO_EXPORT
 
bs⁄_ty≥
 
bs⁄_ôî©‹_√xt
–
bs⁄_ôî©‹
 *
i
 );

337 
MONGO_EXPORT
 
bs⁄_ty≥
 
bs⁄_ôî©‹_ty≥
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

346 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_key
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

355 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_vÆue
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

366 
MONGO_EXPORT
 
bs⁄_ôî©‹_doubÀ
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

375 
MONGO_EXPORT
 
bs⁄_ôî©‹_öt
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

384 
MONGO_EXPORT
 
öt64_t
 
bs⁄_ôî©‹_l⁄g
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

395 
MONGO_EXPORT
 
bs⁄_time°amp_t
 
bs⁄_ôî©‹_time°amp
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

396 
MONGO_EXPORT
 
bs⁄_ôî©‹_time°amp_time
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

397 
MONGO_EXPORT
 
bs⁄_ôî©‹_time°amp_ö¸emít
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

409 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
bs⁄_ôî©‹_boﬁ
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

420 
bs⁄_ôî©‹_doubÀ_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

430 
bs⁄_ôî©‹_öt_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

440 
öt64_t
 
bs⁄_ôî©‹_l⁄g_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

450 
bs⁄_boﬁ_t
 
bs⁄_ôî©‹_boﬁ_øw
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

460 
MONGO_EXPORT
 
bs⁄_oid_t
 *
bs⁄_ôî©‹_oid
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

471 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_°rög
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

481 
bs⁄_ôî©‹_°rög_Àn
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

494 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_code
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

511 
MONGO_EXPORT
 
bs⁄_ôî©‹_code_sc›e_öô
–c⁄° 
bs⁄_ôî©‹
 *
i
, 
bs⁄
 *
sc›e
, 
bs⁄_boﬁ_t
 
c›yD©a
 );

522 
MONGO_EXPORT
 
bs⁄_d©e_t
 
bs⁄_ôî©‹_d©e
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

532 
MONGO_EXPORT
 
time_t
 
bs⁄_ôî©‹_time_t
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

542 
MONGO_EXPORT
 
bs⁄_ôî©‹_bö_Àn
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

552 
MONGO_EXPORT
 
bs⁄_ôî©‹_bö_ty≥
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

562 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_bö_d©a
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

572 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_ªgex
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

582 
MONGO_EXPORT
 c⁄° *
bs⁄_ôî©‹_ªgex_›ts
–c⁄° 
bs⁄_ôî©‹
 *
i
 );

596 
MONGO_EXPORT
 
bs⁄_ôî©‹_subobje˘_öô
–c⁄° 
bs⁄_ôî©‹
 *
i
, 
bs⁄
 *
sub
, 
bs⁄_boﬁ_t
 
c›yD©a
 );

604 
MONGO_EXPORT
 
bs⁄_ôî©‹_subôî©‹
–c⁄° 
bs⁄_ôî©‹
 *
i
, bs⁄_ôî©‹ *
sub
 );

613 
MONGO_EXPORT
 
bs⁄_oid_‰om_°rög
–
bs⁄_oid_t
 *
oid
, c⁄° *
°r
 );

621 
MONGO_EXPORT
 
bs⁄_oid_to_°rög
–c⁄° 
bs⁄_oid_t
 *
oid
, *
°r
 );

628 
MONGO_EXPORT
 
bs⁄_oid_gí
–
bs⁄_oid_t
 *
oid
 );

636 
MONGO_EXPORT
 
bs⁄_£t_oid_fuzz
––*
func
 )( ) );

645 
MONGO_EXPORT
 
	`bs⁄_£t_oid_öc
––*
func
 )( ) );

652 
MONGO_EXPORT
 
time_t
 
	`bs⁄_oid_gíî©ed_time
–
bs⁄_oid_t
 *
oid
 );

669 
MONGO_EXPORT
 
	`bs⁄_öô
–
bs⁄
 *
b
 );

683 
	`bs⁄_öô_size
–
bs⁄
 *
b
, 
size
 );

703 
	`bs⁄_öô_unföished_d©a
–
bs⁄
 *
b
, *
d©a
, 
d©aSize
, 
bs⁄_boﬁ_t
 
ownsD©a
 );

714 
	`bs⁄_ísuª_•a˚
–
bs⁄
 *
b
, c⁄° 
size_t
 
byãsNìded
 );

724 
MONGO_EXPORT
 
	`bs⁄_föish
–
bs⁄
 *
b
 );

732 
MONGO_EXPORT
 
	`bs⁄_de°roy
–
bs⁄
 *
b
 );

745 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	`bs⁄_öô_em±y
–
bs⁄
 *
obj
 );

755 
MONGO_EXPORT
 c⁄° 
bs⁄
 *
	`bs⁄_sh¨ed_em±y
( );

765 
MONGO_EXPORT
 
	`bs⁄_c›y
–
bs⁄
 *
out
, c⁄° bs⁄ *
ö
 );

776 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_oid
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
bs⁄_oid_t
 *
oid
 );

786 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_√w_oid
–
bs⁄
 *
b
, c⁄° *
«me
 );

797 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_öt
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
i
 );

808 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_l⁄g
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
öt64_t
 
i
 );

819 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_doubÀ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
d
 );

830 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_°rög
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
 );

842 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_°rög_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
, 
size_t
 
Àn
 );

853 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_symbﬁ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
 );

865 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_symbﬁ_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
, 
size_t
 
Àn
 );

877 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_code
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
 );

889 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_code_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
, 
size_t
 
Àn
 );

901 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_code_w_sc›e
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
code
, c⁄° bs⁄ *
sc›e
 );

914 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_code_w_sc›e_n
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
code
, 
size_t
 
size
, c⁄° bs⁄ *
sc›e
 );

927 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_bö¨y
–
bs⁄
 *
b
, c⁄° *
«me
, 
ty≥
, c⁄° *
°r
, 
size_t
 
Àn
 );

938 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_boﬁ
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° 
bs⁄_boﬁ_t
 
v
 );

948 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_nuŒ
–
bs⁄
 *
b
, c⁄° *
«me
 );

958 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_undeföed
–
bs⁄
 *
b
, c⁄° *
«me
 );

968 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_maxkey
–
bs⁄
 *
b
, c⁄° *
«me
 );

978 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_mökey
–
bs⁄
 *
b
, c⁄° *
«me
 );

990 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_ªgex
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
∑âîn
, c⁄° *
›ts
 );

1001 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_bs⁄
–
bs⁄
 *
b
, c⁄° *
«me
, const bson *bson );

1012 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_ñemít
–
bs⁄
 *
b
, c⁄° *
«me_‹_nuŒ
, c⁄° 
bs⁄_ôî©‹
 *
ñem
 );

1023 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_time°amp
–
bs⁄
 *
b
, c⁄° *
«me
, 
bs⁄_time°amp_t
 *
ts
 );

1024 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_time°amp2
–
bs⁄
 *
b
, c⁄° *
«me
, 
time
, 
ö¸emít
 );

1036 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_d©e
–
bs⁄
 *
b
, c⁄° *
«me
, 
bs⁄_d©e_t
 
mûlis
 );

1047 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_time_t
–
bs⁄
 *
b
, c⁄° *
«me
, 
time_t
 
£cs
 );

1057 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_°¨t_obje˘
–
bs⁄
 *
b
, c⁄° *
«me
 );

1067 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_°¨t_¨øy
–
bs⁄
 *
b
, c⁄° *
«me
 );

1076 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_föish_obje˘
–
bs⁄
 *
b
 );

1086 
MONGO_EXPORT
 
	`bs⁄_≠≥nd_föish_¨øy
–
bs⁄
 *
b
 );

1088 
	`bs⁄_num°r
–*
°r
, 
i
 );

1090 
	`bs⁄_ö˙um°r
–*
°r
 );

1096 –*
	tbs⁄_îr_h™dÀr
 )–c⁄° *
	tîrmsg
 );

1098 (*
	tbs⁄_¥ötf_func
)( const *, ... );

1099 (*
	tbs⁄_Ârötf_func
)–
	tFILE
 *, const *, ... );

1100 (*
	tbs⁄_•rötf_func
)( *, const *, ... );

1102 *–*
bs⁄_mÆloc_func
 )–
size_t
 );

1103 *–*
bs⁄_ªÆloc_func
 )–*, 
size_t
 );

1104 –*
bs⁄_‰ì_func
 )( * );

1106 
bs⁄_¥ötf_func
 
bs⁄_¥ötf
;

1107 
bs⁄_Ârötf_func
 
bs⁄_Ârötf
;

1108 
bs⁄_•rötf_func
 
bs⁄_•rötf
;

1109 
bs⁄_¥ötf_func
 
bs⁄_îΩrötf
;

1111 
MONGO_EXPORT
 
	`bs⁄_‰ì
–*
±r
 );

1122 
MONGO_EXPORT
 *
	`bs⁄_mÆloc
–
size_t
 
size
 );

1135 *
	`bs⁄_ªÆloc
–*
±r
, 
size_t
 
size
 );

1144 
MONGO_EXPORT
 
bs⁄_îr_h™dÀr
 
	`£t_bs⁄_îr_h™dÀr
–bs⁄_îr_h™dÀ∏
func
 );

1152 
	`bs⁄_Áèl
–
ok
 );

1160 
	`bs⁄_Áèl_msg
–
ok
, c⁄° *
msg
 );

1167 
	`bs⁄_buûdî_îr‹
–
bs⁄
 *
b
 );

1174 
MONGO_EXPORT
 
	`bs⁄_öt64_to_doubÀ
–
öt64_t
 
i64
 );

1176 
MONGO_EXPORT
 
	`bs⁄_sw≠_ídün32
–*
ouç
, c⁄° *
öp
 );

1177 
MONGO_EXPORT
 
	`bs⁄_sw≠_ídün64
–*
ouç
, c⁄° *
öp
 );

1179 
MONGO_EXTERN_C_END


	@oss/mongo-c-driver/src/encoding.c

40 
	~"bs⁄.h
"

41 
	~"ícodög.h
"

47 c⁄° 
	gåaûögByãsF‹UTF8
[256] = {

70 
	$isLegÆUTF8
–c⁄° *
sour˚
, 
Àngth
 ) {

71 
a
;

72 c⁄° *
§˝å
 = 
sour˚
 + 
Àngth
;

73  
Àngth
 ) {

78 i‡––
a
 = ( *--
§˝å
 ) ) < 0x80 ||á > 0xBF )  0;

80 i‡––
a
 = ( *--
§˝å
 ) ) < 0x80 ||á > 0xBF )  0;

82 i‡––
a
 = ( *--
§˝å
 ) ) > 0xBF )  0;

83  *
sour˚
 ) {

86 i‡–
a
 < 0xA0 )  0;

89 i‡–
a
 < 0x90 )  0;

92 i‡–
a
 > 0x8F )  0;

95 i‡–
a
 < 0x80 )  0;

98 i‡–*
sour˚
 >= 0x80 && *source < 0xC2 )  0;

99 i‡–*
sour˚
 > 0xF4 )  0;

102 
	}
}

105 
	$bs⁄_°rög_is_db_ªf
–c⁄° *
°rög
, c⁄° 
size_t
 
Àngth
 ) {

106 
ªsu…
 = 0;

108 if–
Àngth
 >= 4 ) {

109 if–
°rög
[1] == 'r' && string[2] == 'e' && string[3] == 'f' )

110 
ªsu…
 = 1;

112 if–
Àngth
 >= 3 ) {

113 if–
°rög
[1] == 'i' && string[2] == 'd' )

114 
ªsu…
 = 1;

115 if–
°rög
[1] == 'd' && string[2] == 'b' )

116 
ªsu…
 = 1;

119  
ªsu…
;

120 
	}
}

122 
	$bs⁄_vÆid©e_°rög
–
bs⁄
 *
b
, c⁄° *
°rög
,

123 c⁄° 
size_t
 
Àngth
, c⁄° 
check_utf8
, c⁄° 
check_dŸ
,

124 c⁄° 
check_dﬁœr
 ) {

126 
size_t
 
posôi⁄
 = 0;

127 
£quí˚_Àngth
 = 1;

129 if–
check_dﬁœr
 && 
°rög
[0] == '$' ) {

130 if–!
	`bs⁄_°rög_is_db_ªf
–
°rög
, 
Àngth
 ) )

131 
b
->
îr
 |
BSON_FIELD_INIT_DOLLAR
;

134  
posôi⁄
 < 
Àngth
 ) {

135 i‡–
check_dŸ
 && *–
°rög
 + 
posôi⁄
 ) == '.' ) {

136 
b
->
îr
 |
BSON_FIELD_HAS_DOT
;

139 i‡–
check_utf8
 ) {

140 
£quí˚_Àngth
 = 
åaûögByãsF‹UTF8
[*–
°rög
 + 
posôi⁄
 )] + 1;

141 i‡––
posôi⁄
 + 
£quí˚_Àngth
 ) > 
Àngth
 ) {

142 
b
->
îr
 |
BSON_NOT_UTF8
;

143  
BSON_ERROR
;

145 i‡–!
	`isLegÆUTF8
–
°rög
 + 
posôi⁄
, 
£quí˚_Àngth
 ) ) {

146 
b
->
îr
 |
BSON_NOT_UTF8
;

147  
BSON_ERROR
;

150 
posôi⁄
 +
£quí˚_Àngth
;

153  
BSON_OK
;

154 
	}
}

157 
	$bs⁄_check_°rög
–
bs⁄
 *
b
, c⁄° *
°rög
,

158 c⁄° 
size_t
 
Àngth
 ) {

160  
	`bs⁄_vÆid©e_°rög
–
b
, ( c⁄° * )
°rög
, 
Àngth
, 1, 0, 0 );

161 
	}
}

163 
	$bs⁄_check_fõld_«me
–
bs⁄
 *
b
, c⁄° *
°rög
,

164 c⁄° 
size_t
 
Àngth
 ) {

166  
	`bs⁄_vÆid©e_°rög
–
b
, ( c⁄° * )
°rög
, 
Àngth
, 1, 1, 1 );

167 
	}
}

	@oss/mongo-c-driver/src/encoding.h

17 #i‚de‡
BSON_ENCODING_H_


18 
	#BSON_ENCODING_H_


	)

20 
MONGO_EXTERN_C_START


37 
bs⁄_check_fõld_«me
–
bs⁄
 *
b
, c⁄° *
°rög
,

38 c⁄° 
size_t
 
Àngth
 );

50 
bs⁄_boﬁ_t
 
bs⁄_check_°rög
–
bs⁄
 *
b
, c⁄° *
°rög
,

51 c⁄° 
size_t
 
Àngth
 );

53 
	gMONGO_EXTERN_C_END


	@oss/mongo-c-driver/src/env.c

1 #i‡!
deföed
(
MONGO_ENV_STANDARD
Ë&& (deföed(
_WIN32
Ë|| deföed(
_WIN64
))

21 
	~"ív.h
"

22 
	~<°rög.h
>

24 #ifde‡
_MSC_VER


25 
	~<ws2t˝ù.h
>

26 
	~<w•üpi.h
>

28 
	~<ws2t˝ù.h
>

29 
	~<wösock2.h
>

30 
	tsockÀn_t
;

33 #i‚de‡
NI_MAXSERV


34 
	#NI_MAXSERV
 32

	)

37 
	$m⁄go_ív_˛o£_sockë
–
SOCKET
 
sockë
 ) {

38  
	`˛o£sockë
–
sockë
 );

39 
	}
}

41 
	$m⁄go_ív_wrôe_sockë
–
m⁄go
 *
c⁄n
, c⁄° *
buf
, 
size_t
 
Àn
 ) {

42 c⁄° *
cbuf
 = (c⁄° *)
buf
;

43 
Êags
 = 0;

45  
Àn
 ) {

46 
size_t
 
£¡
 = 
	`£nd
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 
Êags
 );

47 i‡–
£¡
 == -1 ) {

48 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, 
NULL
, 
	`WSAGëLa°Eº‹
() );

49 
c⁄n
->
c⁄√˘ed
 = 0;

50  
MONGO_ERROR
;

52 
cbuf
 +
£¡
;

53 
Àn
 -
£¡
;

56  
MONGO_OK
;

57 
	}
}

59 
	$m⁄go_ív_ªad_sockë
–
m⁄go
 *
c⁄n
, *
buf
, 
size_t
 
Àn
 ) {

60 *
cbuf
 = (*)
buf
;

62  
Àn
 ) {

63 
size_t
 
£¡
 = 
	`ªcv
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 0 );

64 i‡–
£¡
 == 0 || sent == -1 ) {

65 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, 
NULL
, 
	`WSAGëLa°Eº‹
() );

66  
MONGO_ERROR
;

68 
cbuf
 +
£¡
;

69 
Àn
 -
£¡
;

72  
MONGO_OK
;

73 
	}
}

75 
	$m⁄go_ív_£t_sockë_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 ) {

76 i‡–
	`£tsock›t
–
c⁄n
->
sock
, 
SOL_SOCKET
, 
SO_RCVTIMEO
, (c⁄° *)&
mûlis
,

77 –
mûlis
 ) ) == -1 ) {

78 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, "setsockopt SO_RCVTIMEO failed.",

79 
	`WSAGëLa°Eº‹
() );

80  
MONGO_ERROR
;

83 i‡–
	`£tsock›t
–
c⁄n
->
sock
, 
SOL_SOCKET
, 
SO_SNDTIMEO
, (c⁄° *)&
mûlis
,

84 –
mûlis
 ) ) == -1 ) {

85 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, "setsockopt SO_SNDTIMEO failed.",

86 
	`WSAGëLa°Eº‹
() );

87  
MONGO_ERROR
;

90  
MONGO_OK
;

91 
	}
}

93 
	$m⁄go_ív_sockë_c⁄√˘
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 ) {

94 
p‹t_°r
[
NI_MAXSERV
];

95 
îr°r
[
MONGO_ERR_LEN
];

96 
°©us
;

98 
addröfo
 
ai_höts
;

99 
addröfo
 *
ai_li°
 = 
NULL
;

100 
addröfo
 *
ai_±r
 = 
NULL
;

102 
c⁄n
->
sock
 = 0;

103 
c⁄n
->
c⁄√˘ed
 = 0;

105 
	`bs⁄_•rötf
–
p‹t_°r
, "%d", 
p‹t
 );

107 
	`mem£t
–&
ai_höts
, 0, (ái_hints ) );

108 
ai_höts
.
ai_Ámûy
 = 
AF_UNSPEC
;

109 
ai_höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

110 
ai_höts
.
ai_¥Ÿocﬁ
 = 
IPPROTO_TCP
;

112 
°©us
 = 
	`gëaddröfo
–
ho°
, 
p‹t_°r
, &
ai_höts
, &
ai_li°
 );

113 i‡–
°©us
 != 0 ) {

114 
	`bs⁄_•rötf
–
îr°r
, "gëaddröfÿÁûed wôhÉº‹ %d", 
°©us
 );

115 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_CONN_ADDR_FAIL
, 
îr°r
, 
	`WSAGëLa°Eº‹
() );

116  
MONGO_ERROR
;

119  
ai_±r
 = 
ai_li°
;ái_±∏!
NULL
;ái_±∏ai_±r->
ai_√xt
 ) {

120 
c⁄n
->
sock
 = 
	`sockë
–
ai_±r
->
ai_Ámûy
,ái_±r->
ai_sockty≥
,

121 
ai_±r
->
ai_¥Ÿocﬁ
 );

123 i‡–
c⁄n
->
sock
 =
INVALID_SOCKET
 ) {

124 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_SOCKET_ERROR
, "socket() failed",

125 
	`WSAGëLa°Eº‹
() );

126 
c⁄n
->
sock
 = 0;

130 
°©us
 = 
	`c⁄√˘
–
c⁄n
->
sock
, 
ai_±r
->
ai_addr
,ái_±r->
ai_addæí
 );

131 i‡–
°©us
 != 0 ) {

132 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_SOCKET_ERROR
, "connect() failed",

133 
	`WSAGëLa°Eº‹
() );

134 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

135 
c⁄n
->
sock
 = 0;

139 i‡–
ai_±r
->
ai_¥Ÿocﬁ
 =
IPPROTO_TCP
 ) {

140 
Êag
 = 1;

142 
	`£tsock›t
–
c⁄n
->
sock
, 
IPPROTO_TCP
, 
TCP_NODELAY
,

143 –c⁄° * ) &
Êag
, ( flag ) );

145 i‡–
c⁄n
->
›_timeout_ms
 > 0 )

146 
	`m⁄go_ív_£t_sockë_›_timeout
–
c⁄n
, c⁄n->
›_timeout_ms
 );

149 
c⁄n
->
c⁄√˘ed
 = 1;

153 
	`‰ìaddröfo
–
ai_li°
 );

155 i‡–! 
c⁄n
->
c⁄√˘ed
 ) {

156 
c⁄n
->
îr
 = 
MONGO_CONN_FAIL
;

157  
MONGO_ERROR
;

160 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

161  
MONGO_OK
;

163 
	}
}

165 
MONGO_EXPORT
 
	$m⁄go_ív_sock_öô
( ) {

167 
WSADATA
 
wßD©a
;

168 
WORD
 
wVîs
;

169 
ˇŒed_⁄˚
;

170 
ªtvÆ
;

172 i‡(
ˇŒed_⁄˚
Ë 
ªtvÆ
;

174 
ˇŒed_⁄˚
 = 1;

175 
wVîs
 = 
	`MAKEWORD
(1, 1);

176 
ªtvÆ
 = (
	`WSASèπup
(
wVîs
, &
wßD©a
) == 0);

178  
ªtvÆ
;

179 
	}
}

182 #ñi‡!
deföed
(
MONGO_ENV_STANDARD
Ë&& (deföed(
__APPLE__
Ë|| deföed(
__löux
Ë|| deföed(
__unix
Ë|| deföed(
__posix
))

202 
	~"ív.h
"

203 
	~<°rög.h
>

204 
	~<î∫o.h
>

205 
	~<sys/time.h
>

206 
	~<¨∑/öë.h
>

207 
	~<sys/ty≥s.h
>

208 
	~<sys/sockë.h
>

209 
	~<sys/un.h
>

210 
	~<√tdb.h
>

211 
	~<√töë/ö.h
>

212 
	~<√töë/t˝.h
>

213 
	~<f˙é.h
>

214 
	~<uni°d.h
>

216 #i‚de‡
NI_MAXSERV


217 
	#NI_MAXSERV
 32

	)

220 
	$m⁄go_ív_˛o£_sockë
–
SOCKET
 
sockë
 ) {

221  
	`˛o£
–
sockë
 );

222 
	}
}

224 
	$m⁄go_ív_sock_öô
( ) {

226 
	}
}

228 
	$m⁄go_ív_wrôe_sockë
–
m⁄go
 *
c⁄n
, c⁄° *
buf
, 
size_t
 
Àn
 ) {

229 c⁄° *
cbuf
 = 
buf
;

230 #ifde‡
__APPLE__


231 
Êags
 = 0;

233 
Êags
 = 
MSG_NOSIGNAL
;

236  
Àn
 ) {

237 
size_t
 
£¡
 = 
	`£nd
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 
Êags
 );

238 i‡–
£¡
 == -1 ) {

239 i‡(
î∫o
 =
EPIPE
)

240 
c⁄n
->
c⁄√˘ed
 = 0;

241 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, 
	`°ªº‹
–
î∫o
 ),Érrno );

242  
MONGO_ERROR
;

244 
cbuf
 +
£¡
;

245 
Àn
 -
£¡
;

248  
MONGO_OK
;

249 
	}
}

251 
	$m⁄go_ív_ªad_sockë
–
m⁄go
 *
c⁄n
, *
buf
, 
size_t
 
Àn
 ) {

252 *
cbuf
 = 
buf
;

253  
Àn
 ) {

254 
size_t
 
£¡
 = 
	`ªcv
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 0 );

255 i‡–
£¡
 == 0 || sent == -1 ) {

256 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, 
	`°ªº‹
–
î∫o
 ),Érrno );

257  
MONGO_ERROR
;

259 
cbuf
 +
£¡
;

260 
Àn
 -
£¡
;

263  
MONGO_OK
;

264 
	}
}

266 
	$m⁄go_ív_£t_sockë_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 ) {

267 
timevÆ
 
tv
;

268 
tv
.
tv_£c
 = 
mûlis
 / 1000;

269 
tv
.
tv_u£c
 = ( 
mûlis
 % 1000 ) * 1000;

271 i‡–
	`£tsock›t
–
c⁄n
->
sock
, 
SOL_SOCKET
, 
SO_RCVTIMEO
, &
tv
, (Åv ) ) == -1 ) {

272 
c⁄n
->
îr
 = 
MONGO_IO_ERROR
;

273 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, "£tsock›àSO_RCVTIMEO faûed.", 
î∫o
 );

274  
MONGO_ERROR
;

277 i‡–
	`£tsock›t
–
c⁄n
->
sock
, 
SOL_SOCKET
, 
SO_SNDTIMEO
, &
tv
, (Åv ) ) == -1 ) {

278 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_IO_ERROR
, "£tsock›àSO_SNDTIMEO faûed.", 
î∫o
 );

279  
MONGO_ERROR
;

282  
MONGO_OK
;

283 
	}
}

285 
	$m⁄go_ív_unix_sockë_c⁄√˘
–
m⁄go
 *
c⁄n
, c⁄° *
sock_∑th
 ) {

286 
sockaddr_un
 
addr
;

287 
°©us
, 
Àn
;

289 
c⁄n
->
c⁄√˘ed
 = 0;

291 
c⁄n
->
sock
 = 
	`sockë
–
AF_UNIX
, 
SOCK_STREAM
, 0 );

293 i‡–
c⁄n
->
sock
 =
INVALID_SOCKET
 ) {

294  
MONGO_ERROR
;

297 
addr
.
sun_Ámûy
 = 
AF_UNIX
;

298 
	`°∫˝y
–
addr
.
sun_∑th
, 
sock_∑th
, (addr.sun_path) - 1 );

299 
Àn
 = –
addr
 );

301 
°©us
 = 
	`c⁄√˘
–
c⁄n
->
sock
, (
sockaddr
 *Ë&
addr
, 
Àn
 );

302 if–
°©us
 < 0 ) {

303 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

304 
c⁄n
->
sock
 = 0;

305 
c⁄n
->
îr
 = 
MONGO_CONN_FAIL
;

306  
MONGO_ERROR
;

309 
c⁄n
->
c⁄√˘ed
 = 1;

311  
MONGO_OK
;

312 
	}
}

314 
	$m⁄go_ív_sockë_c⁄√˘
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 ) {

315 
p‹t_°r
[
NI_MAXSERV
];

316 
°©us
;

318 
addröfo
 
ai_höts
;

319 
addröfo
 *
ai_li°
 = 
NULL
;

320 
addröfo
 *
ai_±r
 = 
NULL
;

322 i‡–
p‹t
 < 0 ) {

323  
	`m⁄go_ív_unix_sockë_c⁄√˘
–
c⁄n
, 
ho°
 );

326 
c⁄n
->
sock
 = 0;

327 
c⁄n
->
c⁄√˘ed
 = 0;

328 
	`•rötf
(
p‹t_°r
,"%d",
p‹t
);

330 
	`bs⁄_•rötf
–
p‹t_°r
, "%d", 
p‹t
 );

332 
	`mem£t
–&
ai_höts
, 0, (ái_hints ) );

333 #ifde‡
AI_ADDRCONFIG


334 
ai_höts
.
ai_Êags
 = 
AI_ADDRCONFIG
;

336 
ai_höts
.
ai_Ámûy
 = 
AF_UNSPEC
;

337 
ai_höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

339 
°©us
 = 
	`gëaddröfo
–
ho°
, 
p‹t_°r
, &
ai_höts
, &
ai_li°
 );

340 i‡–
°©us
 != 0 ) {

341 
	`bs⁄_îΩrötf
–"gëaddröfÿÁûed: %s", 
	`gai_°ªº‹
–
°©us
 ) );

342 
c⁄n
->
îr
 = 
MONGO_CONN_ADDR_FAIL
;

343  
MONGO_ERROR
;

346  
ai_±r
 = 
ai_li°
;ái_±∏!
NULL
;ái_±∏ai_±r->
ai_√xt
 ) {

347 
c⁄n
->
sock
 = 
	`sockë
–
ai_±r
->
ai_Ámûy
,ái_±r->
ai_sockty≥
,ái_±r->
ai_¥Ÿocﬁ
 );

348 i‡–
c⁄n
->
sock
 =
INVALID_SOCKET
 ) {

352 
°©us
 = 
	`c⁄√˘
–
c⁄n
->
sock
, 
ai_±r
->
ai_addr
,ái_±r->
ai_addæí
 );

353 i‡–
°©us
 != 0 ) {

354 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

355 
c⁄n
->
sock
 = 0;

358 #i‡
__APPLE__


360 
Êag
 = 1;

361 
	`£tsock›t
–
c⁄n
->
sock
, 
SOL_SOCKET
, 
SO_NOSIGPIPE
,

362 –* ) &
Êag
, ( flag ) );

366 i‡–
ai_±r
->
ai_¥Ÿocﬁ
 =
IPPROTO_TCP
 ) {

367 
Êag
 = 1;

369 
	`£tsock›t
–
c⁄n
->
sock
, 
IPPROTO_TCP
, 
TCP_NODELAY
,

370 –* ) &
Êag
, ( flag ) );

371 i‡–
c⁄n
->
›_timeout_ms
 > 0 )

372 
	`m⁄go_ív_£t_sockë_›_timeout
–
c⁄n
, c⁄n->
›_timeout_ms
 );

375 
c⁄n
->
c⁄√˘ed
 = 1;

379 
	`‰ìaddröfo
–
ai_li°
 );

381 i‡–! 
c⁄n
->
c⁄√˘ed
 ) {

382 
c⁄n
->
îr
 = 
MONGO_CONN_FAIL
;

383  
MONGO_ERROR
;

386  
MONGO_OK
;

387 
	}
}

408 
	~"ív.h
"

409 
	~<î∫o.h
>

410 
	~<°rög.h
>

412 #ifde‡
_WIN32


413 #ifde‡
_MSC_VER


414 
	~<ws2t˝ù.h
>

415 
	~<w•üpi.h
>

417 
	~<wödows.h
>

418 
	~<wösock.h
>

419 
	tsockÀn_t
;

422 
	~<¨∑/öë.h
>

423 
	~<sys/ty≥s.h
>

424 
	~<sys/sockë.h
>

425 
	~<√tdb.h
>

426 
	~<√töë/ö.h
>

427 
	~<√töë/t˝.h
>

428 
	~<f˙é.h
>

429 
	~<uni°d.h
>

432 #i‚de‡
NI_MAXSERV


433 
	#NI_MAXSERV
 32

	)

436 
	$m⁄go_ív_˛o£_sockë
–
SOCKET
 
sockë
 ) {

437 #ifde‡
_WIN32


438  
	`˛o£sockë
–
sockë
 );

440  
	`˛o£
–
sockë
 );

442 
	}
}

444 
	$m⁄go_ív_wrôe_sockë
–
m⁄go
 *
c⁄n
, c⁄° *
buf
, 
size_t
 
Àn
 ) {

445 c⁄° *
cbuf
 = 
buf
;

446 #ifde‡
_WIN32


447 
Êags
 = 0;

449 #ifde‡
__APPLE__


450 
Êags
 = 0;

452 
Êags
 = 
MSG_NOSIGNAL
;

456  
Àn
 ) {

457 
size_t
 
£¡
 = 
	`£nd
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 
Êags
 );

458 i‡–
£¡
 == -1 ) {

459 i‡(
î∫o
 =
EPIPE
)

460 
c⁄n
->
c⁄√˘ed
 = 0;

461 
c⁄n
->
îr
 = 
MONGO_IO_ERROR
;

462  
MONGO_ERROR
;

464 
cbuf
 +
£¡
;

465 
Àn
 -
£¡
;

468  
MONGO_OK
;

469 
	}
}

471 
	$m⁄go_ív_ªad_sockë
–
m⁄go
 *
c⁄n
, *
buf
, 
size_t
 
Àn
 ) {

472 *
cbuf
 = 
buf
;

473  
Àn
 ) {

474 
size_t
 
£¡
 = 
	`ªcv
–
c⁄n
->
sock
, 
cbuf
, 
Àn
, 0 );

475 i‡–
£¡
 == 0 || sent == -1 ) {

476 
c⁄n
->
îr
 = 
MONGO_IO_ERROR
;

477  
MONGO_ERROR
;

479 
cbuf
 +
£¡
;

480 
Àn
 -
£¡
;

483  
MONGO_OK
;

484 
	}
}

487 
	$m⁄go_ív_£t_sockë_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 ) {

488  
MONGO_OK
;

489 
	}
}

491 
	$m⁄go_ív_sockë_c⁄√˘
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 ) {

492 
sockaddr_ö
 
ß
;

493 
sockÀn_t
 
addªssSize
;

494 
Êag
 = 1;

496 i‡––
c⁄n
->
sock
 = 
	`sockë
–
AF_INET
, 
SOCK_STREAM
, 0 ) ) =
INVALID_SOCKET
 ) {

497 
c⁄n
->
sock
 = 0;

498 
c⁄n
->
îr
 = 
MONGO_CONN_NO_SOCKET
;

499  
MONGO_ERROR
;

502 
	`mem£t
–
ß
.
sö_zîo
 , 0 , ( sa.sin_zero ) );

503 
ß
.
sö_Ámûy
 = 
AF_INET
;

504 
ß
.
sö_p‹t
 = 
	`ht⁄s
–
p‹t
 );

505 
ß
.
sö_addr
.
s_addr
 = 
	`öë_addr
–
ho°
 );

506 
addªssSize
 = –
ß
 );

508 i‡–
	`c⁄√˘
–
c⁄n
->
sock
, ( 
sockaddr
 * )&
ß
, 
addªssSize
 ) =
INVALID_SOCKET
 ) {

509 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

510 
c⁄n
->
c⁄√˘ed
 = 0;

511 
c⁄n
->
sock
 = 0;

512 
c⁄n
->
îr
 = 
MONGO_CONN_FAIL
;

513  
MONGO_ERROR
;

516 
	`£tsock›t
–
c⁄n
->
sock
, 
IPPROTO_TCP
, 
TCP_NODELAY
, ( * ) &
Êag
, ( flag ) );

518 if–
c⁄n
->
›_timeout_ms
 > 0 )

519 
	`m⁄go_ív_£t_sockë_›_timeout
–
c⁄n
, c⁄n->
›_timeout_ms
 );

521 
c⁄n
->
c⁄√˘ed
 = 1;

523  
MONGO_OK
;

524 
	}
}

526 
MONGO_EXPORT
 
	$m⁄go_ív_sock_öô
( ) {

528 #i‡
	`deföed
(
_WIN32
)

529 
WSADATA
 
wßD©a
;

530 
WORD
 
wVîs
;

531 #ñi‡
	`deföed
(
SIGPIPE
)

532 
siga˘i⁄
 
a˘
;

535 
ˇŒed_⁄˚
;

536 
ªtvÆ
;

537 i‡(
ˇŒed_⁄˚
Ë 
ªtvÆ
;

538 
ˇŒed_⁄˚
 = 1;

540 #i‡
	`deföed
(
_WIN32
)

541 
wVîs
 = 
	`MAKEWORD
(1, 1);

542 
ªtvÆ
 = (
	`WSASèπup
(
wVîs
, &
wßD©a
) == 0);

543 #ñi‡
	`deföed
(
MACINTOSH
)

544 
	`GUSISëup
(
GUSIwôhI¡î√tSockës
);

545 
ªtvÆ
 = 1;

546 #ñi‡
	`deföed
(
SIGPIPE
)

547 
ªtvÆ
 = 1;

548 i‡(
	`siga˘i⁄
(
SIGPIPE
, (
siga˘i⁄
 *)
NULL
, &
a˘
) < 0)

549 
ªtvÆ
 = 0;

550 i‡(
a˘
.
ß_h™dÀr
 =
SIG_DFL
) {

551 
a˘
.
ß_h™dÀr
 = 
SIG_IGN
;

552 i‡(
	`siga˘i⁄
(
SIGPIPE
, &
a˘
, (
siga˘i⁄
 *)
NULL
) < 0)

553 
ªtvÆ
 = 0;

556  
ªtvÆ
;

557 
	}
}

	@oss/mongo-c-driver/src/env.h

19 #i‚de‡
MONGO_ENV_H_


20 
	#MONGO_ENV_H_


	)

22 
	~"m⁄go.h
"

24 
	gMONGO_EXTERN_C_START


26 #i‡!
deföed
(
MONGO_ENV_STANDARD
Ë&& (deföed(
__APPLE__
Ë|| deföed(
__löux
Ë|| deföed(
__unix
Ë|| deföed(
__posix
))

27 
	#INVALID_SOCKET
 (-1)

	)

31 
m⁄go_ív_£t_sockë_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 );

32 
m⁄go_ív_ªad_sockë
–
m⁄go
 *
c⁄n
, *
buf
, 
size_t
 
Àn
 );

33 
m⁄go_ív_wrôe_sockë
–
m⁄go
 *
c⁄n
, c⁄° *
buf
, 
size_t
 
Àn
 );

34 
m⁄go_ív_sockë_c⁄√˘
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 );

37 
MONGO_EXPORT
 
m⁄go_ív_sock_öô
( );

40 
MONGO_EXPORT
 
m⁄go_ív_˛o£_sockë
–
SOCKET
 
sockë
 );

42 
	gMONGO_EXTERN_C_END


	@oss/mongo-c-driver/src/gridfs.c

19 #i‡
_MSC_VER
 && ! 
_CRT_SECURE_NO_WARNINGS


20 
	#_CRT_SECURE_NO_WARNINGS


	)

23 #i‚de‡
MAX


24 
	#MAX
(
x
, 
y
Ë(((xË> (y)Ë? (xË: (y))

	)

26 #i‚de‡
MIN


27 
	#MIN
(
x
, 
y
Ë(((xË< (y)Ë? (xË: (y))

	)

30 
	~"gridfs.h
"

31 
	~<°dio.h
>

32 
	~<°dlib.h
>

33 
	~<°rög.h
>

34 
	~<˘y≥.h
>

35 
	~<as£π.h
>

37 #i‚de‡
_MSC_VER


38 
	~<˘y≥.h
>

39 *
	$_°ru¥
(*
°r
)

41 *
s
 = 
°r
;

42 *
s
) {

43 *
s
 = 
	`touµî
(()*s);

44 ++
s
;

46  
°r
;

47 
	}
}

48 *
	$_°æwr
(*
°r
)

50 *
s
 = 
°r
;

51 *
s
) {

52 *
s
 = 
	`tﬁowî
(()*s);

53 ++
s
;

55  
°r
;

56 
	}
}

60 
MONGO_EXPORT
 
gridfs
 *
	$gridfs_Æloc
( ) {

61  ( 
gridfs
* )
	`bs⁄_mÆloc
( ( gridfs ) );

62 
	}
}

64 
MONGO_EXPORT
 
	$gridfs_dóŒoc
–
gridfs
 *
gfs
 ) {

65 
	`bs⁄_‰ì
–
gfs
 );

66 
	}
}

68 
MONGO_EXPORT
 
gridfûe
 *
	$gridfûe_¸óã
( ) {

69 
gridfûe
* 
gfûe
 = (gridfûe*)
	`bs⁄_mÆloc
((gridfile));

70 
	`mem£t
–
gfûe
, 0,  ( 
gridfûe
 ) );

71  
gfûe
;

72 
	}
}

74 
MONGO_EXPORT
 
	$gridfûe_dóŒoc
–
gridfûe
 *
gf
 ) {

75 
	`bs⁄_‰ì
–
gf
 );

76 
	}
}

78 
MONGO_EXPORT
 
	$gridfûe_gë_des¸ùt‹
(
gridfûe
 *
gf
, 
bs⁄
 *
out
) {

79 *
out
 = *
gf
->
mëa
;

80 
	}
}

83 
	$gridfs_deÁu…_chunk_fûãr
(** 
èrgëBuf
, 
size_t
* 
èrgëLí
, c⁄° * 
§cD©a
, size_à
§cLí
, 
Êags
) {

84 *
èrgëBuf
 = (*Ë
§cD©a
;

85 *
èrgëLí
 = 
§cLí
;

87 
	}
}

89 
size_t
 
	$gridfs_deÁu…_≥ndög_d©a_size
 (
Êags
) {

90  
DEFAULT_CHUNK_SIZE
;

91 
	}
}

94 
gridfs_chunk_fûãr_func
 
	ggridfs_wrôe_fûãr
 = 
gridfs_deÁu…_chunk_fûãr
;

95 
gridfs_chunk_fûãr_func
 
	ggridfs_ªad_fûãr
 = 
gridfs_deÁu…_chunk_fûãr
;

96 
gridfs_≥ndög_d©a_size_func
 
	ggridfs_≥ndög_d©a_size
 = 
gridfs_deÁu…_≥ndög_d©a_size
;

98 
MONGO_EXPORT
 
	$gridfs_£t_chunk_fûãr_funcs
(
gridfs_chunk_fûãr_func
 
wrôeFûãr
, gridfs_chunk_fûãr_fun¯
ªadFûãr
, 
gridfs_≥ndög_d©a_size_func
 
≥ndögD©aNìdedSize
) {

99 
gridfs_wrôe_fûãr
 = 
wrôeFûãr
;

100 
gridfs_ªad_fûãr
 = 
ªadFûãr
;

101 
gridfs_≥ndög_d©a_size
 = 
≥ndögD©aNìdedSize
;

102 
	}
}

104 
bs⁄
 *
	$chunk_√w
(
bs⁄_oid_t
 
id
, 
chunkNumbî
, ** 
d©aBuf
, c⁄° * 
§cD©a
, 
size_t
 
Àn
, 
Êags
 ) {

105 
bs⁄
 *
b
 = 
	`bs⁄_Æloc
();

106 
size_t
 
d©aBufLí
 = 0;

108 if–
	`gridfs_wrôe_fûãr
–
d©aBuf
, &
d©aBufLí
, 
§cD©a
, 
Àn
, 
Êags
) != 0 ) {

109  
NULL
;

111 
	`bs⁄_öô_size
(
b
, (Ë
d©aBufLí
 + 128);

112 
	`bs⁄_≠≥nd_oid
(
b
, "fûes_id", &
id
);

113 
	`bs⁄_≠≥nd_öt
(
b
, "n", 
chunkNumbî
);

114 
	`bs⁄_≠≥nd_bö¨y
(
b
, "d©a", 
BSON_BIN_BINARY
, *
d©aBuf
, ()
d©aBufLí
);

115 
	`bs⁄_föish
(
b
);

116  
b
;

117 
	}
}

119 
	$chunk_‰ì
(
bs⁄
 *
oChunk
) {

120 if–
oChunk
 ) {

121 
	`bs⁄_de°roy
(
oChunk
);

122 
	`bs⁄_dóŒoc
(
oChunk
);

124 
	}
}

132 
MONGO_EXPORT
 
	$gridfs_öô
(
m⁄go
 *
˛õ¡
, c⁄° *
db«me
, c⁄° *
¥efix
, 
gridfs
 *
gfs
) {

134 
bs⁄
 
b
;

136 
gfs
->
ˇ£In£nsôive
 = 0;

137 
gfs
->
˛õ¡
 = client;

140 
gfs
->
db«me
 = (c⁄° *)
	`bs⁄_mÆloc
(()
	`°æí
(dbname) + 1);

141 
	`°r˝y
((*)
gfs
->
db«me
, dbname);

144 i‡(
¥efix
 =
NULL
) {

145 
¥efix
 = "fs";

147 
gfs
->
¥efix
 = (c⁄° *)
	`bs⁄_mÆloc
(()
	`°æí
(prefix) + 1);

148 
	`°r˝y
((*)
gfs
->
¥efix
,Örefix);

151 
gfs
->
fûes_ns
 = (c⁄° *)
	`bs⁄_mÆloc
(()(
	`°æí
(
¥efix
Ë+ såÀn(
db«me
) + strlen(".files") + 2));

152 
	`°r˝y
((*)
gfs
->
fûes_ns
, 
db«me
);

153 
	`°rˇt
((*)
gfs
->
fûes_ns
, ".");

154 
	`°rˇt
((*)
gfs
->
fûes_ns
, 
¥efix
);

155 
	`°rˇt
((*)
gfs
->
fûes_ns
, ".files");

158 
gfs
->
chunks_ns
 = (c⁄° *)
	`bs⁄_mÆloc
(()(
	`°æí
(
¥efix
Ë+ såÀn(
db«me
) + strlen(".chunks") + 2));

159 
	`°r˝y
((*)
gfs
->
chunks_ns
, 
db«me
);

160 
	`°rˇt
((*)
gfs
->
chunks_ns
, ".");

161 
	`°rˇt
((*)
gfs
->
chunks_ns
, 
¥efix
);

162 
	`°rˇt
((*)
gfs
->
chunks_ns
, ".chunks");

164 
	`bs⁄_öô
(&
b
);

165 
	`bs⁄_≠≥nd_öt
(&
b
, "filename", 1);

166 
	`bs⁄_föish
(&
b
);

167 if–
	`m⁄go_¸óã_ödex
(
gfs
->
˛õ¡
, gfs->
fûes_ns
, &
b
, 
NULL
, 0, NULLË!
MONGO_OK
) {

168 
	`bs⁄_de°roy
–&
b
 );

169 
	`gridfs_de°roy
–
gfs
 );

170  
MONGO_ERROR
;

172 
	`bs⁄_de°roy
(&
b
);

174 
	`bs⁄_öô
(&
b
);

175 
	`bs⁄_≠≥nd_öt
(&
b
, "files_id", 1);

176 
	`bs⁄_≠≥nd_öt
(&
b
, "n", 1);

177 
	`bs⁄_föish
(&
b
);

178 if–
	`m⁄go_¸óã_ödex
(
gfs
->
˛õ¡
, gfs->
chunks_ns
, &
b
, 
NULL
, 
MONGO_INDEX_UNIQUE
, NULLË!
MONGO_OK
 ) {

179 
	`bs⁄_de°roy
(&
b
);

180 
	`gridfs_de°roy
–
gfs
 );

181  
MONGO_ERROR
;

183 
	`bs⁄_de°roy
(&
b
);

185  
MONGO_OK
;

186 
	}
}

189 
MONGO_EXPORT
 
	$gridfs_de°roy
(
gridfs
 *
gfs
) {

190 if–
gfs
 =
NULL
 ) ;

191 if–
gfs
->
db«me
 ) {

192 
	`bs⁄_‰ì
((*)
gfs
->
db«me
);

193 
gfs
->
db«me
 = 
NULL
;

195 if–
gfs
->
¥efix
 ) {

196 
	`bs⁄_‰ì
((*)
gfs
->
¥efix
);

197 
gfs
->
¥efix
 = 
NULL
;

199 if–
gfs
->
fûes_ns
 ) {

200 
	`bs⁄_‰ì
((*)
gfs
->
fûes_ns
);

201 
gfs
->
fûes_ns
 = 
NULL
;

203 if–
gfs
->
chunks_ns
 ) {

204 
	`bs⁄_‰ì
((*)
gfs
->
chunks_ns
);

205 
gfs
->
chunks_ns
 = 
NULL
;

207 
	}
}

211 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$gridfs_gë_ˇ£In£nsôive
–c⁄° 
gridfs
 *
gfs
 ) {

212  
gfs
->
ˇ£In£nsôive
;

213 
	}
}

215 
MONGO_EXPORT
 
	$gridfs_£t_ˇ£In£nsôive
(
gridfs
 *
gfs
, 
bs⁄_boﬁ_t
 
√wVÆue
){

216 
gfs
->
ˇ£In£nsôive
 = 
√wVÆue
;

217 
	}
}

219 
	$bs⁄_≠≥nd_°rög_uµîˇ£
–
bs⁄
 *
b
, c⁄° *
«me
, c⁄° *
°r
, 
bs⁄_boﬁ_t
 
uµîCa£
 ) {

220 *
°rUµîCa£
;

221 i‡–
uµîCa£
 ) {

222 
ªs
;

223 
°rUµîCa£
 = (*Ë
	`bs⁄_mÆloc
–(Ë
	`°æí
–
°r
 ) + 1 );

224 
	`°r˝y
(
°rUµîCa£
, 
°r
);

225 
	`_°ru¥
(
°rUµîCa£
);

226 
ªs
 = 
	`bs⁄_≠≥nd_°rög
–
b
, 
«me
, 
°rUµîCa£
 );

227 
	`bs⁄_‰ì
–
°rUµîCa£
 );

228  
ªs
;

230  
	`bs⁄_≠≥nd_°rög
–
b
, 
«me
, 
°r
 );

232 
	}
}

234 
	$gridfs_ö£π_fûe
(
gridfs
 *
gfs
, c⁄° *
«me
, c⁄° 
bs⁄_oid_t
 
id
, 
gridfs_off£t
 
Àngth
, c⁄° *
c⁄ã¡ty≥
, 
Êags
, 
chunkSize
) {

235 
bs⁄
 
comm™d
[1];

236 
bs⁄
 
ªt
[1];

237 
bs⁄
 
ªs
[1];

238 
bs⁄_ôî©‹
 
ô
[1];

239 
bs⁄
 
q
[1];

240 
ªsu…
;

241 
öt64_t
 
d
;

244 if–!–
Êags
 & 
GRIDFILE_NOMD5
 ) ) {

246 
	`bs⁄_öô
(
comm™d
);

247 
	`bs⁄_≠≥nd_oid
(
comm™d
, "fûemd5", &
id
);

248 
	`bs⁄_≠≥nd_°rög
(
comm™d
, "roŸ", 
gfs
->
¥efix
);

249 
	`bs⁄_föish
(
comm™d
);

250 
ªsu…
 = 
	`m⁄go_run_comm™d
(
gfs
->
˛õ¡
, gfs->
db«me
, 
comm™d
, 
ªs
);

251 
	`bs⁄_de°roy
(
comm™d
);

252 i‡(
ªsu…
 !
MONGO_OK
)

253  
ªsu…
;

257 
	`bs⁄_öô
(
ªt
);

258 
	`bs⁄_≠≥nd_oid
(
ªt
, "_id", &
id
);

259 i‡(
«me
 !
NULL
 && *name != '\0') {

260 
	`bs⁄_≠≥nd_°rög_uµîˇ£
–
ªt
, "fûíame", 
«me
, 
gfs
->
ˇ£In£nsôive
 );

262 
	`bs⁄_≠≥nd_l⁄g
(
ªt
, "Àngth", 
Àngth
);

263 
	`bs⁄_≠≥nd_öt
(
ªt
, "chunkSize", 
chunkSize
);

264 
d
 = (
bs⁄_d©e_t
)1000 * 
	`time
(
NULL
);

265 
	`bs⁄_≠≥nd_d©e
(
ªt
, "u∂ﬂdD©e", 
d
);

266 if–!–
Êags
 & 
GRIDFILE_NOMD5
 ) ) {

267 
	`bs⁄_föd
(
ô
, 
ªs
, "md5");

268 
	`bs⁄_≠≥nd_°rög
(
ªt
, "md5", 
	`bs⁄_ôî©‹_°rög
(
ô
));

269 
	`bs⁄_de°roy
(
ªs
);

271 
	`bs⁄_≠≥nd_°rög
(
ªt
, "md5", "");

273 i‡(
c⁄ã¡ty≥
 !
NULL
 && *contenttype != '\0') {

274 
	`bs⁄_≠≥nd_°rög
(
ªt
, "c⁄ã¡Ty≥", 
c⁄ã¡ty≥
);

276 i‡–
gfs
->
ˇ£In£nsôive
 ) {

277 
	`bs⁄_≠≥nd_°rög
(
ªt
, "ªÆFûíame", 
«me
);

279 
	`bs⁄_≠≥nd_öt
(
ªt
, "Êags", 
Êags
);

280 
	`bs⁄_föish
(
ªt
);

282 
	`bs⁄_öô
(
q
);

283 
	`bs⁄_≠≥nd_oid
(
q
, "_id", &
id
);

284 
	`bs⁄_föish
(
q
);

286 
ªsu…
 = 
	`m⁄go_upd©e
(
gfs
->
˛õ¡
, gfs->
fûes_ns
, 
q
, 
ªt
, 
MONGO_UPDATE_UPSERT
, 
NULL
);

288 
	`bs⁄_de°roy
(
ªt
);

289 
	`bs⁄_de°roy
(
q
);

291  
ªsu…
;

292 
	}
}

294 
MONGO_EXPORT
 
	$gridfs_°‹e_buf„r
(
gridfs
 *
gfs
, c⁄° *
d©a
, 
gridfs_off£t
 
Àngth
, c⁄° *
ªmŸíame
, c⁄° *
c⁄ã¡ty≥
, 
Êags
 ) {

295 
gridfûe
 
gfûe
;

296 
gridfs_off£t
 
byãs_wrôãn
;

298 
	`gridfûe_öô
–
gfs
, 
NULL
, &
gfûe
 );

299 
	`gridfûe_wrôî_öô
–&
gfûe
, 
gfs
, 
ªmŸíame
, 
c⁄ã¡ty≥
, 
Êags
 );

301 
byãs_wrôãn
 = 
	`gridfûe_wrôe_buf„r
–&
gfûe
, 
d©a
, 
Àngth
 );

303 
	`gridfûe_wrôî_d⁄e
–&
gfûe
 );

304 
	`gridfûe_de°roy
–&
gfûe
 );

306  
byãs_wrôãn
 =
Àngth
 ? 
MONGO_OK
 : 
MONGO_ERROR
;

307 
	}
}

309 
MONGO_EXPORT
 
	$gridfs_°‹e_fûe
(
gridfs
 *
gfs
, c⁄° *
fûíame
, c⁄° *
ªmŸíame
, c⁄° *
c⁄ã¡ty≥
, 
Êags
 ) {

310 
buf„r
[
DEFAULT_CHUNK_SIZE
];

311 
FILE
 *
fd
;

312 
gridfs_off£t
 
chunkLí
;

313 
gridfûe
 
gfûe
;

314 
gridfs_off£t
 
byãs_wrôãn
 = 0;

317 i‡(
	`°rcmp
(
fûíame
, "-") == 0) {

318 
fd
 = 
°dö
;

320 
fd
 = 
	`f›í
(
fûíame
, "rb");

321 i‡(
fd
 =
NULL
) {

322  
MONGO_ERROR
;

327 i‡(
ªmŸíame
 =
NULL
 || *remotename == '\0') {

328 
ªmŸíame
 = 
fûíame
;

331 if–
	`gridfûe_öô
–
gfs
, 
NULL
, &
gfûe
 ) !
MONGO_OK
 )  
MONGO_ERROR
;

332 if–
	`gridfûe_wrôî_öô
–&
gfûe
, 
gfs
, 
ªmŸíame
, 
c⁄ã¡ty≥
, 
Êags
 ) !
MONGO_OK
 ){

333 
	`gridfûe_de°roy
–&
gfûe
 );

334  
MONGO_ERROR
;

337 
chunkLí
 = 
	`‰ód
(
buf„r
, 1, 
DEFAULT_CHUNK_SIZE
, 
fd
);

338  
chunkLí
 != 0 ) {

339 
byãs_wrôãn
 = 
	`gridfûe_wrôe_buf„r
–&
gfûe
, 
buf„r
, 
chunkLí
 );

340 if–
byãs_wrôãn
 !
chunkLí
 ) ;

341 
chunkLí
 = 
	`‰ód
(
buf„r
, 1, 
DEFAULT_CHUNK_SIZE
, 
fd
);

344 
	`gridfûe_wrôî_d⁄e
–&
gfûe
 );

345 
	`gridfûe_de°roy
–&
gfûe
 );

348 i‡–
fd
 !
°dö
 ) {

349 
	`f˛o£
–
fd
 );

351  ( 
chunkLí
 =0Ë|| ( 
byãs_wrôãn
 =chunkLí ) ? 
MONGO_OK
 : 
MONGO_ERROR
;

352 
	}
}

354 
MONGO_EXPORT
 
	$gridfs_ªmove_fûíame
(
gridfs
 *
gfs
, c⁄° *
fûíame
) {

355 
bs⁄
 
quîy
[1];

356 
m⁄go_curs‹
 *
fûes
;

357 
bs⁄
 
fûe
[1];

358 
bs⁄_ôî©‹
 
ô
[1];

359 
bs⁄_oid_t
 
id
;

360 
bs⁄
 
b
[1];

361 
ªt
 = 
MONGO_ERROR
;

363 
	`bs⁄_öô
(
quîy
);

364 
	`bs⁄_≠≥nd_°rög_uµîˇ£
–
quîy
, "fûíame", 
fûíame
, 
gfs
->
ˇ£In£nsôive
 );

365 
	`bs⁄_föish
(
quîy
);

366 
fûes
 = 
	`m⁄go_föd
(
gfs
->
˛õ¡
, gfs->
fûes_ns
, 
quîy
, 
NULL
, 0, 0, 0);

367 
	`bs⁄_de°roy
(
quîy
);

370 i‡–
fûes
 =
NULL
 )  
MONGO_ERROR
;

373 
	`m⁄go_curs‹_√xt
(
fûes
Ë=
MONGO_OK
) {

374 *
fûe
 = 
fûes
->
cuºít
;

375 
	`bs⁄_föd
(
ô
, 
fûe
, "_id");

376 
id
 = *
	`bs⁄_ôî©‹_oid
(
ô
);

379 
	`bs⁄_öô
(
b
);

380 
	`bs⁄_≠≥nd_oid
(
b
, "_id", &
id
);

381 
	`bs⁄_föish
(
b
);

382 
	`m⁄go_ªmove
(
gfs
->
˛õ¡
, gfs->
fûes_ns
, 
b
, 
NULL
);

383 
	`bs⁄_de°roy
(
b
);

386 
	`bs⁄_öô
(
b
);

387 
	`bs⁄_≠≥nd_oid
(
b
, "fûes_id", &
id
);

388 
	`bs⁄_föish
(
b
);

389 
ªt
 = 
	`m⁄go_ªmove
(
gfs
->
˛õ¡
, gfs->
chunks_ns
, 
b
, 
NULL
);

390 
	`bs⁄_de°roy
(
b
);

393 
	`m⁄go_curs‹_de°roy
(
fûes
);

394  
ªt
;

395 
	}
}

397 
MONGO_EXPORT
 
	$gridfs_föd_quîy
–
gridfs
 *
gfs
, c⁄° 
bs⁄
 *
quîy
, 
gridfûe
 *
gfûe
 ) {

399 
bs⁄
 
u∂ﬂdD©e
[1];

400 
bs⁄
 
föÆQuîy
[1];

401 
bs⁄
 
out
[1];

402 
i
;

404 
	`bs⁄_öô
(
u∂ﬂdD©e
);

405 
	`bs⁄_≠≥nd_öt
(
u∂ﬂdD©e
, "uploadDate", - 1);

406 
	`bs⁄_föish
(
u∂ﬂdD©e
);

408 
	`bs⁄_öô
(
föÆQuîy
);

409 
	`bs⁄_≠≥nd_bs⁄
(
föÆQuîy
, "quîy", 
quîy
);

410 
	`bs⁄_≠≥nd_bs⁄
(
föÆQuîy
, "‹dîby", 
u∂ﬂdD©e
);

411 
	`bs⁄_föish
(
föÆQuîy
);

413 
i
 = (
	`m⁄go_föd_⁄e
(
gfs
->
˛õ¡
, gfs->
fûes_ns
, 
föÆQuîy
, 
NULL
, 
out
Ë=
MONGO_OK
);

414 
	`bs⁄_de°roy
(
u∂ﬂdD©e
);

415 
	`bs⁄_de°roy
(
föÆQuîy
);

416 i‡(!
i
) {

417  
MONGO_ERROR
;

419 
	`gridfûe_öô
(
gfs
, 
out
, 
gfûe
);

420 
	`bs⁄_de°roy
(
out
);

421  
MONGO_OK
;

423 
	}
}

425 
MONGO_EXPORT
 
	$gridfs_föd_fûíame
(
gridfs
 *
gfs
, c⁄° *
fûíame
, 
gridfûe
 *
gfûe
){

426 
bs⁄
 
quîy
[1];

427 
ªs
;

429 
	`bs⁄_öô
(
quîy
);

430 
	`bs⁄_≠≥nd_°rög_uµîˇ£
–
quîy
, "fûíame", 
fûíame
, 
gfs
->
ˇ£In£nsôive
 );

431 
	`bs⁄_föish
(
quîy
);

432 
ªs
 = 
	`gridfs_föd_quîy
(
gfs
, 
quîy
, 
gfûe
);

433 
	`bs⁄_de°roy
(
quîy
);

434  
ªs
;

435 
	}
}

442 
gridfûe_Êush_≥ndögchunk
(
gridfûe
 *
gfûe
);

443 
gridfûe_öô_Êags
(
gridfûe
 *
gfûe
);

444 
gridfûe_öô_Àngth
(
gridfûe
 *
gfûe
);

445 
gridfûe_öô_chunkSize
(
gridfûe
 *
gfûe
);

449 
MONGO_EXPORT
 
	$gridfûe_öô
–
gridfs
 *
gfs
, c⁄° 
bs⁄
 *
mëa
, 
gridfûe
 *
gfûe
 ) {

450 
gfûe
->
gfs
 = gfs;

451 
gfûe
->
pos
 = 0;

452 
gfûe
->
≥ndög_Àn
 = 0;

453 
gfûe
->
≥ndög_d©a
 = 
NULL
;

454 
gfûe
->
mëa
 = 
	`bs⁄_Æloc
();

455 i‡(
gfûe
->
mëa
 =
NULL
) {

456  
MONGO_ERROR
;

457 } if–
mëa
 ) {

458 
	`bs⁄_c›y
(
gfûe
->
mëa
, meta);

460 
	`bs⁄_öô_em±y
(
gfûe
->
mëa
);

462 
	`gridfûe_öô_chunkSize
–
gfûe
 );

463 
	`gridfûe_öô_Àngth
–
gfûe
 );

464 
	`gridfûe_öô_Êags
–
gfûe
 );

465  
MONGO_OK
;

466 
	}
}

468 
MONGO_EXPORT
 
	$gridfûe_wrôî_d⁄e
(
gridfûe
 *
gfûe
) {

470 
ª•⁄£
 = 
MONGO_OK
;

472 i‡(
gfûe
->
≥ndög_Àn
) {

475 
ª•⁄£
 = 
	`gridfûe_Êush_≥ndögchunk
(
gfûe
);

477 if–
gfûe
->
≥ndög_d©a
 ) {

478 
	`bs⁄_‰ì
(
gfûe
->
≥ndög_d©a
);

479 
gfûe
->
≥ndög_d©a
 = 
NULL
;

481 if–
ª•⁄£
 =
MONGO_OK
 ) {

483 
ª•⁄£
 = 
	`gridfs_ö£π_fûe
(
gfûe
->
gfs
, gfûe->
ªmŸe_«me
, gfûe->
id
, gfûe->
Àngth
, gfûe->
c⁄ã¡_ty≥
, gfûe->
Êags
, gfûe->
chunkSize
);

485 if–
gfûe
->
ªmŸe_«me
 ) {

486 
	`bs⁄_‰ì
(
gfûe
->
ªmŸe_«me
);

487 
gfûe
->
ªmŸe_«me
 = 
NULL
;

489 if–
gfûe
->
c⁄ã¡_ty≥
 ) {

490 
	`bs⁄_‰ì
(
gfûe
->
c⁄ã¡_ty≥
);

491 
gfûe
->
c⁄ã¡_ty≥
 = 
NULL
;

493  
ª•⁄£
;

494 
	}
}

496 
	$gridfûe_öô_chunkSize
(
gridfûe
 *
gfûe
){

497 
bs⁄_ôî©‹
 
ô
[1];

499 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "chunkSize"Ë!
BSON_EOO
)

500 i‡(
	`bs⁄_ôî©‹_ty≥
(
ô
Ë=
BSON_INT
)

501 
gfûe
->
chunkSize
 = 
	`bs⁄_ôî©‹_öt
(
ô
);

503 
gfûe
->
chunkSize
 = ()
	`bs⁄_ôî©‹_l⁄g
(
ô
);

505 
gfûe
->
chunkSize
 = 
DEFAULT_CHUNK_SIZE
;

506 
	}
}

508 
	$gridfûe_öô_Àngth
(
gridfûe
 *
gfûe
) {

509 
bs⁄_ôî©‹
 
ô
[1];

511 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "Àngth"Ë!
BSON_EOO
)

512 i‡(
	`bs⁄_ôî©‹_ty≥
(
ô
Ë=
BSON_INT
)

513 
gfûe
->
Àngth
 = (
gridfs_off£t
)
	`bs⁄_ôî©‹_öt
(
ô
);

515 
gfûe
->
Àngth
 = (
gridfs_off£t
)
	`bs⁄_ôî©‹_l⁄g
(
ô
);

517 
gfûe
->
Àngth
 = 0;

518 
	}
}

520 
	$gridfûe_öô_Êags
(
gridfûe
 *
gfûe
) {

521 
bs⁄_ôî©‹
 
ô
[1];

523 if–
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "Êags"Ë!
BSON_EOO
 )

524 
gfûe
->
Êags
 = 
	`bs⁄_ôî©‹_öt
(
ô
);

526 
gfûe
->
Êags
 = 0;

527 
	}
}

529 
MONGO_EXPORT
 
	$gridfûe_wrôî_öô
(
gridfûe
 *
gfûe
, 
gridfs
 *
gfs
, c⁄° *
ªmŸe_«me
, c⁄° *
c⁄ã¡_ty≥
, 
Êags
 ) {

530 
gridfûe
 
tmpFûe
;

532 
gfûe
->
gfs
 = gfs;

533 i‡(
	`gridfs_föd_fûíame
(
gfs
, 
ªmŸe_«me
, &
tmpFûe
Ë=
MONGO_OK
) {

534 if–
	`gridfûe_exi°s
(&
tmpFûe
) ) {

537 
gfûe
->
id
 = 
	`gridfûe_gë_id
–&
tmpFûe
 );

538 
	`gridfûe_öô_Àngth
–&
tmpFûe
 );

539 
gfûe
->
Àngth
 = 
tmpFûe
.length;

540 
gfûe
->
chunkSize
 = 
	`gridfûe_gë_chunksize
( gfile );

541 if–
Êags
 !
GRIDFILE_DEFAULT
) {

542 
gfûe
->
Êags
 = flags;

544 
	`gridfûe_öô_Êags
–&
tmpFûe
 );

545 
gfûe
->
Êags
 = 
tmpFûe
.flags;

548 
	`gridfûe_de°roy
–&
tmpFûe
 );

551 
	`bs⁄_oid_gí
(&(
gfûe
->
id
));

552 
gfûe
->
Àngth
 = 0;

554 
gfûe
->
Êags
 = flags;

559 
gfûe
->
chunk_num
 = 0;

560 
gfûe
->
pos
 = 0;

562 
gfûe
->
ªmŸe_«me
 = (*)
	`bs⁄_mÆloc
(()
	`°æí
(remote_name) + 1);

563 
	`°r˝y
((*)
gfûe
->
ªmŸe_«me
,Ñemote_name);

565 
gfûe
->
c⁄ã¡_ty≥
 = (*)
	`bs⁄_mÆloc
(()
	`°æí
(content_type) + 1);

566 
	`°r˝y
((*)
gfûe
->
c⁄ã¡_ty≥
, content_type);

568 
gfûe
->
≥ndög_Àn
 = 0;

571 
gfûe
->
≥ndög_d©a
 = (*Ë
	`bs⁄_mÆloc
(()
	`gridfs_≥ndög_d©a_size
(gfûe->
Êags
));

573  
MONGO_OK
;

574 
	}
}

576 
MONGO_EXPORT
 
	$gridfûe_de°roy
(
gridfûe
 *
gfûe
) {

577 if–
gfûe
->
mëa
 ) {

578 
	`bs⁄_de°roy
(
gfûe
->
mëa
);

579 
	`bs⁄_dóŒoc
(
gfûe
->
mëa
);

580 
gfûe
->
mëa
 = 
NULL
;

582 
	}
}

586 
MONGO_EXPORT
 
bs⁄_oid_t
 
	$gridfûe_gë_id
–c⁄° 
gridfûe
 *
gfûe
 ) {

587 
bs⁄_ôî©‹
 
ô
[1];

589 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "_id"Ë!
BSON_EOO
)

590 i‡(
	`bs⁄_ôî©‹_ty≥
(
ô
Ë=
BSON_OID
)

591  *
	`bs⁄_ôî©‹_oid
(
ô
);

593  
gfûe
->
id
;

595  
gfûe
->
id
;

596 
	}
}

598 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$gridfûe_exi°s
–c⁄° 
gridfûe
 *
gfûe
 ) {

600  (
bs⁄_boﬁ_t
)(
gfûe
 !
NULL
 && gfûe->
mëa
 != NULL);

601 
	}
}

603 
MONGO_EXPORT
 c⁄° *
	$gridfûe_gë_fûíame
–c⁄° 
gridfûe
 *
gfûe
 ) {

604 
bs⁄_ôî©‹
 
ô
[1];

606 i‡(
gfûe
->
gfs
->
ˇ£In£nsôive
 && 
	`bs⁄_föd
–
ô
, gfûe->
mëa
, "ªÆFûíame" ) !
BSON_EOO
)

607  
	`bs⁄_ôî©‹_°rög
(
ô
);

608 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "fûíame"Ë!
BSON_EOO
)

609  
	`bs⁄_ôî©‹_°rög
(
ô
);

611  
gfûe
->
ªmŸe_«me
;

612 
	}
}

614 
MONGO_EXPORT
 
	$gridfûe_gë_chunksize
–c⁄° 
gridfûe
 *
gfûe
 ) {

615 
bs⁄_ôî©‹
 
ô
[1];

617 i‡(
gfûe
->
chunkSize
)

618  
gfûe
->
chunkSize
;

619 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "chunkSize"Ë!
BSON_EOO
)

620  
	`bs⁄_ôî©‹_öt
(
ô
);

622  
DEFAULT_CHUNK_SIZE
;

623 
	}
}

625 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_gë_c⁄ã¡Àngth
–c⁄° 
gridfûe
 *
gfûe
 ) {

626 
gridfs_off£t
 
e°im©edLí
;

627 
e°im©edLí
 = 
gfûe
->
≥ndög_Àn
 ? gfûe->
chunk_num
 * 
	`gridfûe_gë_chunksize
–gfûêË+ gfûe->≥ndög_À¿: gfûe->
Àngth
;

628  
	`MAX
–
e°im©edLí
, 
gfûe
->
Àngth
 );

629 
	}
}

631 
MONGO_EXPORT
 c⁄° *
	$gridfûe_gë_c⁄ã¡ty≥
–c⁄° 
gridfûe
 *
gfûe
 ) {

632 
bs⁄_ôî©‹
 
ô
[1];

634 i‡–
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "c⁄ã¡Ty≥"Ë!
BSON_EOO
 )

635  
	`bs⁄_ôî©‹_°rög
(
ô
);

637  
NULL
;

638 
	}
}

640 
MONGO_EXPORT
 
bs⁄_d©e_t
 
	$gridfûe_gë_u∂ﬂdd©e
–c⁄° 
gridfûe
 *
gfûe
 ) {

641 
bs⁄_ôî©‹
 
ô
[1];

643 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "u∂ﬂdD©e"Ë!
BSON_EOO
)

644  
	`bs⁄_ôî©‹_d©e
(
ô
);

647 
	}
}

649 
MONGO_EXPORT
 c⁄° *
	$gridfûe_gë_md5
–c⁄° 
gridfûe
 *
gfûe
 ) {

650 
bs⁄_ôî©‹
 
ô
[1];

652 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "md5"Ë!
BSON_EOO
 )

653  
	`bs⁄_ôî©‹_°rög
(
ô
);

655  
NULL
;

656 
	}
}

658 
MONGO_EXPORT
 
	$gridfûe_£t_Êags
(
gridfûe
 *
gfûe
, 
Êags
) {

659 
gfûe
->
Êags
 = flags;

660 
	}
}

662 
MONGO_EXPORT
 
	$gridfûe_gë_Êags
–c⁄° 
gridfûe
 *
gfûe
 ) {

663  
gfûe
->
Êags
;

664 
	}
}

666 
MONGO_EXPORT
 c⁄° *
	$gridfûe_gë_fõld
(
gridfûe
 *
gfûe
, c⁄° *
«me
) {

667 
bs⁄_ôî©‹
 
ô
[1];

669 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, 
«me
Ë!
BSON_EOO
)

670  
	`bs⁄_ôî©‹_vÆue
(
ô
);

672  
NULL
;

673 
	}
}

675 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$gridfûe_gë_boﬁón
–c⁄° 
gridfûe
 *
gfûe
, c⁄° *
«me
 ) {

676 
bs⁄_ôî©‹
 
ô
[1];

678 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, 
«me
Ë!
BSON_EOO
)

679  
	`bs⁄_ôî©‹_boﬁ
(
ô
);

682 
	}
}

684 
MONGO_EXPORT
 
	$gridfûe_gë_mëad©a
–c⁄° 
gridfûe
 *
gfûe
, 
bs⁄
 *
out
, 
bs⁄_boﬁ_t
 
c›yD©a
 ) {

685 
bs⁄_ôî©‹
 
ô
[1];

687 i‡(
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "mëad©a"Ë!
BSON_EOO
)

688 
	`bs⁄_ôî©‹_subobje˘_öô
(
ô
, 
out
, 
c›yD©a
);

690 
	`bs⁄_öô_em±y
(
out
);

691 
	}
}

697 
MONGO_EXPORT
 
	$gridfûe_gë_numchunks
–c⁄° 
gridfûe
 *
gfûe
 ) {

698 
bs⁄_ôî©‹
 
ô
[1];

699 
gridfs_off£t
 
Àngth
;

700 
gridfs_off£t
 
chunkSize
;

701 
numchunks
;

703 
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "length");

705 i‡(
	`bs⁄_ôî©‹_ty≥
(
ô
Ë=
BSON_INT
)

706 
Àngth
 = (
gridfs_off£t
)
	`bs⁄_ôî©‹_öt
(
ô
);

708 
Àngth
 = (
gridfs_off£t
)
	`bs⁄_ôî©‹_l⁄g
(
ô
);

710 
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "chunkSize");

711 
chunkSize
 = 
	`bs⁄_ôî©‹_öt
(
ô
);

712 
numchunks
 = (()
Àngth
 / ()
chunkSize
);

713  (
numchunks
 - ()numchunks > 0) ? ()(numchunks + 1): ()(numchunks);

714 
	}
}

716 
	$gridfûe_¥ï¨e_chunk_key_bs⁄
(
bs⁄
 *
q
, 
bs⁄_oid_t
 *
id
, 
chunk_num
) {

717 
	`bs⁄_öô
(
q
);

718 
	`bs⁄_≠≥nd_öt
(
q
, "n", 
chunk_num
);

719 
	`bs⁄_≠≥nd_oid
(
q
, "fûes_id", 
id
);

720 
	`bs⁄_föish
(
q
);

721 
	}
}

723 
	$gridfûe_Êush_≥ndögchunk
(
gridfûe
 *
gfûe
) {

724 
bs⁄
 *
oChunk
;

725 
bs⁄
 
q
[1];

726 * 
èrgëBuf
 = 
NULL
;

727 
ªs
 = 
MONGO_OK
;

729 i‡(
gfûe
->
≥ndög_Àn
) {

730 
size_t
 
föish_posôi⁄_a·î_Êush
;

731 
oChunk
 = 
	`chunk_√w
–
gfûe
->
id
, gfûe->
chunk_num
, &
èrgëBuf
, gfûe->
≥ndög_d©a
, gfûe->
≥ndög_Àn
, gfûe->
Êags
 );

732 
	`gridfûe_¥ï¨e_chunk_key_bs⁄
–
q
, &
gfûe
->
id
, gfûe->
chunk_num
 );

733 
ªs
 = 
	`m⁄go_upd©e
(
gfûe
->
gfs
->
˛õ¡
, gfûe->gfs->
chunks_ns
, 
q
, 
oChunk
, 
MONGO_UPDATE_UPSERT
, 
NULL
);

734 
	`bs⁄_de°roy
(
q
);

735 
	`chunk_‰ì
(
oChunk
);

736 if–
ªs
 =
MONGO_OK
 ){

737 
föish_posôi⁄_a·î_Êush
 = (
gfûe
->
chunk_num
 * gfûe->
chunkSize
Ë+ gfûe->
≥ndög_Àn
;

738 i‡(
föish_posôi⁄_a·î_Êush
 > 
gfûe
->
Àngth
)

739 
gfûe
->
Àngth
 = 
föish_posôi⁄_a·î_Êush
;

740 
gfûe
->
chunk_num
++;

741 
gfûe
->
≥ndög_Àn
 = 0;

744 i‡(
èrgëBuf
 &&Å¨gëBu‡!
gfûe
->
≥ndög_d©a
)

745 
	`bs⁄_‰ì
–
èrgëBuf
 );

746  
ªs
;

747 
	}
}

749 
	$gridfûe_lﬂd_≥ndög_d©a_wôh_pos_chunk
(
gridfûe
 *
gfûe
) {

750 
chunk_Àn
;

751 c⁄° *
chunk_d©a
;

752 
bs⁄_ôî©‹
 
ô
[1];

753 
bs⁄
 
chk
;

754 * 
èrgëBuf„r
 = 
NULL
;

755 
size_t
 
èrgëBuf„rLí
 = 0;

757 
chk
.
d©aSize
 = 0;

758 
	`gridfûe_gë_chunk
(
gfûe
, ()(gfûe->
pos
 / 
DEFAULT_CHUNK_SIZE
), &
chk
);

759 i‡(
chk
.
d©aSize
 <= 5) {

760 if–
chk
.
d©a
 ) {

761 
	`bs⁄_de°roy
–&
chk
 );

763  
MONGO_ERROR
;

765 if–
	`bs⁄_föd
(
ô
, &
chk
, "d©a"Ë!
BSON_EOO
){

766 
chunk_Àn
 = 
	`bs⁄_ôî©‹_bö_Àn
(
ô
);

767 
chunk_d©a
 = 
	`bs⁄_ôî©‹_bö_d©a
(
ô
);

768 
	`gridfs_ªad_fûãr
–&
èrgëBuf„r
, &
èrgëBuf„rLí
, 
chunk_d©a
, (
size_t
)
chunk_Àn
, 
gfûe
->
Êags
 );

769 
gfûe
->
≥ndög_Àn
 = ()
èrgëBuf„rLí
;

770 
gfûe
->
chunk_num
 = ()(gfûe->
pos
 / 
DEFAULT_CHUNK_SIZE
);

771 if–
èrgëBuf„rLí
 ) {

772 
	`mem˝y
(
gfûe
->
≥ndög_d©a
, 
èrgëBuf„r
, 
èrgëBuf„rLí
);

775 
	`bs⁄_de°roy
–&
chk
 );

776  
MONGO_ERROR
;

778 
	`bs⁄_de°roy
–&
chk
 );

779 if–
èrgëBuf„r
 &&Å¨gëBuf„∏!
chunk_d©a
 )

780 
	`bs⁄_‰ì
–
èrgëBuf„r
 );

781  
MONGO_OK
;

782 
	}
}

784 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_wrôe_buf„r
(
gridfûe
 *
gfûe
, c⁄° *
d©a
, 
gridfs_off£t
 
Àngth
) {

786 
bs⁄
 *
oChunk
;

787 
bs⁄
 
q
[1];

788 
size_t
 
buf_pos
, 
buf_byãs_to_wrôe
;

789 
gridfs_off£t
 
byãs_À·
 = 
Àngth
;

790 * 
èrgëBuf
 = 
NULL
;

791 
memAŒoˇãd
 = 0;

793 
gfûe
->
chunk_num
 = ()(gfûe->
pos
 / 
DEFAULT_CHUNK_SIZE
);

794 
buf_pos
 = ()(
gfûe
->
pos
 - (gfûe->po†/ 
DEFAULT_CHUNK_SIZE
) * DEFAULT_CHUNK_SIZE);

798 if–
buf_pos
 ) {

799 if–!
gfûe
->
≥ndög_Àn
 && 
	`gridfûe_lﬂd_≥ndög_d©a_wôh_pos_chunk
–gfûêË!
MONGO_OK
 )  0;

800 
buf_byãs_to_wrôe
 = (
size_t
)
	`MIN
–
Àngth
, 
DEFAULT_CHUNK_SIZE
 - 
buf_pos
 );

801 
	`mem˝y
–&
gfûe
->
≥ndög_d©a
[
buf_pos
], 
d©a
, 
buf_byãs_to_wrôe
);

802 i‡–
buf_byãs_to_wrôe
 + 
buf_pos
 > 
gfûe
->
≥ndög_Àn
 ) {

803 
gfûe
->
≥ndög_Àn
 = 
buf_byãs_to_wrôe
 + 
buf_pos
;

805 
gfûe
->
pos
 +
buf_byãs_to_wrôe
;

806 if–
buf_byãs_to_wrôe
 + 
buf_pos
 >
DEFAULT_CHUNK_SIZE
 && 
	`gridfûe_Êush_≥ndögchunk
(
gfûe
Ë!
MONGO_OK
 )  0;

807 
byãs_À·
 -
buf_byãs_to_wrôe
;

808 
d©a
 +
buf_byãs_to_wrôe
;

813  
byãs_À·
 >
DEFAULT_CHUNK_SIZE
 ) {

814 
ªs
;

815 if–(
oChunk
 = 
	`chunk_√w
–
gfûe
->
id
, gfûe->
chunk_num
, &
èrgëBuf
, 
d©a
, 
DEFAULT_CHUNK_SIZE
, gfûe->
Êags
 )Ë=
NULL
Ë 
Àngth
 - 
byãs_À·
;

816 
memAŒoˇãd
 = 
èrgëBuf
 !
d©a
;

817 
	`gridfûe_¥ï¨e_chunk_key_bs⁄
(
q
, &
gfûe
->
id
, gfûe->
chunk_num
);

818 
ªs
 = 
	`m⁄go_upd©e
(
gfûe
->
gfs
->
˛õ¡
, gfûe->gfs->
chunks_ns
, 
q
, 
oChunk
, 
MONGO_UPDATE_UPSERT
, 
NULL
);

819 
	`bs⁄_de°roy
(
q
 );

820 
	`chunk_‰ì
(
oChunk
);

821 if–
ªs
 !
MONGO_OK
 )  
Àngth
 - 
byãs_À·
;

822 
byãs_À·
 -
DEFAULT_CHUNK_SIZE
;

823 
gfûe
->
chunk_num
++;

824 
gfûe
->
pos
 +
DEFAULT_CHUNK_SIZE
;

825 i‡(
gfûe
->
pos
 > gfûe->
Àngth
) {

826 
gfûe
->
Àngth
 = gfûe->
pos
;

828 
d©a
 +
DEFAULT_CHUNK_SIZE
;

833 i‡–
byãs_À·
 > 0 ) {

837 if–!
gfûe
->
≥ndög_Àn
 && gfûe->
pos
 + 
byãs_À·
 < gfûe->
Àngth
 && 
	`gridfûe_lﬂd_≥ndög_d©a_wôh_pos_chunk
–gfûêË!
MONGO_OK
 )

838  
Àngth
 - 
byãs_À·
;

839 
	`mem˝y
–
gfûe
->
≥ndög_d©a
, 
d©a
, (
size_t
Ë
byãs_À·
 );

840 if–
byãs_À·
 > 
gfûe
->
≥ndög_Àn
 )

841 
gfûe
->
≥ndög_Àn
 = (Ë
byãs_À·
;

842 
gfûe
->
pos
 +
byãs_À·
;

845 if–
memAŒoˇãd
 ){

846 
	`bs⁄_‰ì
–
èrgëBuf
 );

848  
Àngth
;

849 
	}
}

851 
MONGO_EXPORT
 
	$gridfûe_gë_chunk
(
gridfûe
 *
gfûe
, 
n
, 
bs⁄
 *
out
) {

852 
bs⁄
 
quîy
[1];

854 
bs⁄_oid_t
 
id
;

855 
ªsu…
;

857 
	`bs⁄_öô
(
quîy
);

858 
id
 = 
	`gridfûe_gë_id
–
gfûe
 );

859 
	`bs⁄_≠≥nd_oid
(
quîy
, "fûes_id", &
id
);

860 
	`bs⁄_≠≥nd_öt
(
quîy
, "n", 
n
);

861 
	`bs⁄_föish
(
quîy
);

863 
ªsu…
 = (
	`m⁄go_föd_⁄e
(
gfûe
->
gfs
->
˛õ¡
, gfûe->gfs->
chunks_ns
, 
quîy
, 
NULL
, 
out
Ë=
MONGO_OK
);

864 
	`bs⁄_de°roy
(
quîy
);

865 i‡(!
ªsu…
)

866 
	`bs⁄_c›y
(
out
, 
	`bs⁄_sh¨ed_em±y
());

867 
	}
}

869 
MONGO_EXPORT
 
m⁄go_curs‹
 *
	$gridfûe_gë_chunks
(
gridfûe
 *
gfûe
, 
size_t
 
°¨t
, size_à
size
) {

870 
bs⁄_ôî©‹
 
ô
[1];

871 
bs⁄_oid_t
 
id
;

872 
bs⁄
 
gã
[1];

873 
bs⁄
 
quîy
[1];

874 
bs⁄
 
‹dîby
[1];

875 
bs⁄
 
comm™d
[1];

876 
m⁄go_curs‹
 *
curs‹
;

878 if–
	`bs⁄_föd
(
ô
, 
gfûe
->
mëa
, "_id"Ë!
BSON_EOO
)

879 
id
 = *
	`bs⁄_ôî©‹_oid
(
ô
);

881 
id
 = 
gfûe
->id;

883 
	`bs⁄_öô
(
quîy
);

884 
	`bs⁄_≠≥nd_oid
(
quîy
, "fûes_id", &
id
);

885 i‡(
size
 == 1) {

886 
	`bs⁄_≠≥nd_öt
(
quîy
, "n", ()
°¨t
);

888 
	`bs⁄_öô
(
gã
);

889 
	`bs⁄_≠≥nd_öt
(
gã
, "$gã", ()
°¨t
);

890 
	`bs⁄_föish
(
gã
);

891 
	`bs⁄_≠≥nd_bs⁄
(
quîy
, "n", 
gã
);

892 
	`bs⁄_de°roy
(
gã
);

894 
	`bs⁄_föish
(
quîy
);

896 
	`bs⁄_öô
(
‹dîby
);

897 
	`bs⁄_≠≥nd_öt
(
‹dîby
, "n", 1);

898 
	`bs⁄_föish
(
‹dîby
);

900 
	`bs⁄_öô
(
comm™d
);

901 
	`bs⁄_≠≥nd_bs⁄
(
comm™d
, "quîy", 
quîy
);

902 
	`bs⁄_≠≥nd_bs⁄
(
comm™d
, "‹dîby", 
‹dîby
);

903 
	`bs⁄_föish
(
comm™d
);

905 
curs‹
 = 
	`m⁄go_föd
(
gfûe
->
gfs
->
˛õ¡
, gfûe->gfs->
chunks_ns
, 
comm™d
, 
NULL
, ()
size
, 0, 0);

907 
	`bs⁄_de°roy
(
comm™d
);

908 
	`bs⁄_de°roy
(
quîy
);

909 
	`bs⁄_de°roy
(
‹dîby
);

911  
curs‹
;

912 
	}
}

914 
gridfs_off£t
 
gridfûe_ªad_‰om_≥ndög_buf„r
(
gridfûe
 *
gfûe
, gridfs_off£à
tŸÆByãsToRód
, * 
buf
, *
fú°_chunk
);

915 
gridfs_off£t
 
gridfûe_lﬂd_‰om_chunks
(
gridfûe
 *
gfûe
, 
tŸÆ_chunks
, gridfs_off£à
chunksize
, 
m⁄go_curs‹
 *
chunks
, * 
buf
,

916 
gridfs_off£t
 
byãs_À·
);

918 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_ªad_buf„r
–
gridfûe
 *
gfûe
, *
buf
, 
gridfs_off£t
 
size
 ) {

919 
m⁄go_curs‹
 *
chunks
;

921 
fú°_chunk
;

922 
tŸÆ_chunks
;

923 
gridfs_off£t
 
chunksize
;

924 
gridfs_off£t
 
c⁄ã¡Àngth
;

925 
gridfs_off£t
 
byãs_À·
;

926 
gridfs_off£t
 
ªÆSize
 = 0;

928 
c⁄ã¡Àngth
 = 
	`gridfûe_gë_c⁄ã¡Àngth
(
gfûe
);

929 
chunksize
 = 
	`gridfûe_gë_chunksize
(
gfûe
);

930 
size
 = 
	`MIN
–
c⁄ã¡Àngth
 - 
gfûe
->
pos
, size );

931 
byãs_À·
 = 
size
;

933 
fú°_chunk
 = ()((
gfûe
->
pos
Ë/ 
chunksize
);

934 
tŸÆ_chunks
 = ()((
gfûe
->
pos
 + 
size
 - 1Ë/ 
chunksize
Ë- 
fú°_chunk
 + 1;

936 if–(
ªÆSize
 = 
	`gridfûe_ªad_‰om_≥ndög_buf„r
–
gfûe
, 
byãs_À·
, 
buf
, &
fú°_chunk
 )) > 0 ) {

937 
gfûe
->
pos
 +
ªÆSize
;

938 if–--
tŸÆ_chunks
 <= 0) {

939  
ªÆSize
;

941 
buf
 +
ªÆSize
;

942 
byãs_À·
 -
ªÆSize
;

943 if–
	`gridfûe_Êush_≥ndögchunk
–
gfûe
 ) !
MONGO_OK
 ){

945  
ªÆSize
;

949 
chunks
 = 
	`gridfûe_gë_chunks
(
gfûe
, 
fú°_chunk
, 
tŸÆ_chunks
);

950 
ªÆSize
 +
	`gridfûe_lﬂd_‰om_chunks
–
gfûe
, 
tŸÆ_chunks
, 
chunksize
, 
chunks
, 
buf
, 
byãs_À·
);

951 
	`m⁄go_curs‹_de°roy
(
chunks
);

953 
gfûe
->
pos
 +
ªÆSize
;

955  
ªÆSize
;

956 
	}
}

958 
gridfs_off£t
 
	$gridfûe_ªad_‰om_≥ndög_buf„r
(
gridfûe
 *
gfûe
, 
gridfs_off£t
 
tŸÆByãsToRód
, * 
buf
,

959 *
fú°_chunk
){

960 
gridfs_off£t
 
ªÆSize
 = 0;

961 if–
gfûe
->
≥ndög_Àn
 > 0 && *
fú°_chunk
 =gfûe->
chunk_num
) {

962 *
chunk_d©a
;

963 
gridfs_off£t
 
chunksize
 = 
	`gridfûe_gë_chunksize
(
gfûe
);

964 
gridfs_off£t
 
ofs
 = 
gfûe
->
pos
 - gfûe->
chunk_num
 * 
chunksize
;

965 
ªÆSize
 = 
	`MIN
–
tŸÆByãsToRód
, 
gfûe
->
≥ndög_Àn
 - 
ofs
 );

966 
chunk_d©a
 = 
gfûe
->
≥ndög_d©a
 + 
ofs
;

967 
	`mem˝y
–
buf
, 
chunk_d©a
, (
size_t
)
ªÆSize
 );

968 (*
fú°_chunk
)++;

970  
ªÆSize
;

971 
	}
}

973 
gridfs_off£t
 
gridfûe_fûl_buf_‰om_chunk
(
gridfûe
 *
gfûe
, c⁄° 
bs⁄
 *
chunk
, gridfs_off£à
chunksize
, **
buf
, *
ÆloˇãdMem
, **
èrgëBuf
,

974 
size_t
 *
èrgëBufLí
, 
gridfs_off£t
 *
byãs_À·
, 
chunkNo
);

976 
gridfs_off£t
 
	$gridfûe_lﬂd_‰om_chunks
(
gridfûe
 *
gfûe
, 
tŸÆ_chunks
, 
gridfs_off£t
 
chunksize
, 
m⁄go_curs‹
 *
chunks
, * 
buf
,

977 
gridfs_off£t
 
byãs_À·
){

978 
i
;

979 * 
èrgëBuf
 = 
NULL
;

980 
size_t
 
èrgëBufLí
 = 0;

981 
ÆloˇãdMem
 = 0;

982 
gridfs_off£t
 
ªÆSize
 = 0;

984 
i
 = 0; i < 
tŸÆ_chunks
; i++) {

985 if–
	`m⁄go_curs‹_√xt
(
chunks
Ë!
MONGO_OK
 ){

988 
ªÆSize
 +
	`gridfûe_fûl_buf_‰om_chunk
–
gfûe
, &
chunks
->
cuºít
, 
chunksize
, &
buf
, &
ÆloˇãdMem
, &
èrgëBuf
, &
èrgëBufLí
, &
byãs_À·
, 
i
);

990 if–
ÆloˇãdMem
 ) {

991 
	`bs⁄_‰ì
–
èrgëBuf
 );

993  
ªÆSize
;

994 
	}
}

996 
gridfs_off£t
 
	$gridfûe_fûl_buf_‰om_chunk
(
gridfûe
 *
gfûe
, c⁄° 
bs⁄
 *
chunk
, 
gridfs_off£t
 
chunksize
, **
buf
, *
ÆloˇãdMem
, **
èrgëBuf
,

997 
size_t
 *
èrgëBufLí
, 
gridfs_off£t
 *
byãs_À·
, 
chunkNo
){

998 
bs⁄_ôî©‹
 
ô
[1];

999 
gridfs_off£t
 
chunk_Àn
;

1000 c⁄° *
chunk_d©a
;

1002 if–
	`bs⁄_föd
(
ô
, 
chunk
, "d©a"Ë!
BSON_EOO
 ) {

1003 
chunk_Àn
 = 
	`bs⁄_ôî©‹_bö_Àn
(
ô
);

1004 
chunk_d©a
 = 
	`bs⁄_ôî©‹_bö_d©a
(
ô
);

1005 if–
	`gridfs_ªad_fûãr
–
èrgëBuf
, 
èrgëBufLí
, 
chunk_d©a
, (
size_t
)
chunk_Àn
, 
gfûe
->
Êags
 ) != 0)  0;

1006 *
ÆloˇãdMem
 = *
èrgëBuf
 !
chunk_d©a
;

1007 
chunk_d©a
 = *
èrgëBuf
;

1008 i‡(
chunkNo
 == 0) {

1009 
chunk_d©a
 +(
gfûe
->
pos
Ë% 
chunksize
;

1010 *
èrgëBufLí
 -(
size_t
)–(
gfûe
->
pos
Ë% 
chunksize
 );

1012 i‡(*
byãs_À·
 > *
èrgëBufLí
) {

1013 
	`mem˝y
(*
buf
, 
chunk_d©a
, *
èrgëBufLí
);

1014 *
byãs_À·
 -*
èrgëBufLí
;

1015 *
buf
 +*
èrgëBufLí
;

1016  *
èrgëBufLí
;

1018 
	`mem˝y
(*
buf
, 
chunk_d©a
, (
size_t
)(*
byãs_À·
));

1019  *
byãs_À·
;

1022 
	`bs⁄_Áèl_msg
( 0, "Chunk object doesn't have 'data'áttribute" );

1025 
	}
}

1027 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_£ek
(
gridfûe
 *
gfûe
, 
gridfs_off£t
 
off£t
) {

1028 
gridfs_off£t
 
Àngth
;

1029 
gridfs_off£t
 
chunkSize
;

1030 
gridfs_off£t
 
√wPos
;

1032 
chunkSize
 = 
	`gridfûe_gë_chunksize
–
gfûe
 );

1033 
Àngth
 = 
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 );

1034 
√wPos
 = 
	`MIN
–
Àngth
, 
off£t
 );

1037 i‡(
gfûe
->
≥ndög_Àn
 && (
√wPos
 >(gfûe->
chunk_num
 + 1Ë* 
chunkSize
 ||ÇewPos < gfile->chunk_num * chunkSize) &&

1038 
	`gridfûe_Êush_≥ndögchunk
–
gfûe
 ) !
MONGO_OK
 )  gfûe->
pos
;

1039 
gfûe
->
pos
 = 
√wPos
;

1040  
√wPos
;

1041 
	}
}

1043 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_wrôe_fûe
(
gridfûe
 *
gfûe
, 
FILE
 *
°ªam
) {

1044 
buf„r
[
DEFAULT_CHUNK_SIZE
];

1045 
size_t
 
d©a_ªad
, 
d©a_wrôãn
 = 0;

1046 
gridfs_off£t
 
tŸÆ_wrôãn
 = 0;

1049 
d©a_ªad
 = (
size_t
)
	`gridfûe_ªad_buf„r
–
gfûe
, 
buf„r
, 
DEFAULT_CHUNK_SIZE
 );

1050 if–
d©a_ªad
 > 0 ){

1051 
d©a_wrôãn
 = 
	`fwrôe
–
buf„r
, (), 
d©a_ªad
, 
°ªam
 );

1052 
tŸÆ_wrôãn
 +
d©a_wrôãn
;

1054 } –
d©a_ªad
 > 0 ) && ( 
d©a_wrôãn
 == data_read ));

1056  
tŸÆ_wrôãn
;

1057 
	}
}

1059 
	$gridfûe_ªmove_chunks
–
gridfûe
 *
gfûe
, 
dñëeFromChunk
){

1060 
bs⁄
 
q
[1];

1061 
bs⁄_oid_t
 
id
 = 
	`gridfûe_gë_id
–
gfûe
 );

1062 
ªs
;

1064 
	`bs⁄_öô
–
q
 );

1065 
	`bs⁄_≠≥nd_oid
(
q
, "fûes_id", &
id
);

1066 if–
dñëeFromChunk
 >= 0 ) {

1067 
	`bs⁄_≠≥nd_°¨t_obje˘
–
q
, "n" );

1068 
	`bs⁄_≠≥nd_öt
–
q
, "$gã", 
dñëeFromChunk
 );

1069 
	`bs⁄_≠≥nd_föish_obje˘
–
q
 );

1071 
	`bs⁄_föish
–
q
 );

1072 
ªs
 = 
	`m⁄go_ªmove
–
gfûe
->
gfs
->
˛õ¡
, gfûe->gfs->
chunks_ns
, 
q
, 
NULL
);

1073 
	`bs⁄_de°roy
–
q
 );

1074  
ªs
;

1075 
	}
}

1077 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_åunˇã
(
gridfûe
 *
gfûe
, 
gridfs_off£t
 
√wSize
) {

1079 
dñëeFromChunk
;

1081 i‡–
√wSize
 > 
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) ) {

1082  
	`gridfûe_£ek
–
gfûe
, 
	`gridfûe_gë_c⁄ã¡Àngth
( gfile ) );

1084 if–
√wSize
 > 0 ) {

1085 
dñëeFromChunk
 = ()(
√wSize
 / 
	`gridfûe_gë_chunksize
–
gfûe
 ));

1086 if–
	`gridfûe_£ek
(
gfûe
, 
√wSize
Ë!√wSizêË gfûe->
Àngth
;

1087 if–
gfûe
->
pos
 % 
	`gridfûe_gë_chunksize
( gfile ) ) {

1088 if–!
gfûe
->
≥ndög_Àn
 && 
	`gridfûe_lﬂd_≥ndög_d©a_wôh_pos_chunk
–gfûêË!
MONGO_OK
 )  gfûe->
Àngth
;

1089 
gfûe
->
≥ndög_Àn
 = gfûe->
pos
 % 
	`gridfûe_gë_chunksize
( gfile );

1090 if–
	`gridfûe_Êush_≥ndögchunk
–
gfûe
 ) !
MONGO_OK
 )  gfûe->
Àngth
;

1091 
dñëeFromChunk
++;

1094 if–
	`gridfûe_ªmove_chunks
–
gfûe
, 
dñëeFromChunk
 ) !
MONGO_OK
 )  gfûe->
Àngth
;

1095 
gfûe
->
Àngth
 = 
√wSize
;

1098 if–
	`gridfûe_ªmove_chunks
–
gfûe
, -1 ) !
MONGO_OK
Ë gfûe->
Àngth
;

1099 
gfûe
->
Àngth
 = 0;

1100 
gfûe
->
pos
 = 0;

1102  
gfûe
->
Àngth
;

1103 
	}
}

1105 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_ex∑nd
(
gridfûe
 *
gfûe
, 
gridfs_off£t
 
byãsToEx∑nd
) {

1106 
gridfs_off£t
 
fûeSize
, 
√wSize
, 
curPos
, 
toWrôe
, 
bufSize
;

1108 * 
buf
;

1110 
fûeSize
 = 
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 );

1111 
√wSize
 = 
fûeSize
 + 
byãsToEx∑nd
;

1112 
curPos
 = 
fûeSize
;

1113 
bufSize
 = 
	`gridfûe_gë_chunksize
 ( 
gfûe
 );

1114 
buf
 = (*)
	`bs⁄_mÆloc
–(
size_t
)
bufSize
 );

1116 
	`mem£t
–
buf
, 0, (
size_t
)
bufSize
 );

1117 
	`gridfûe_£ek
–
gfûe
, 
fûeSize
 );

1119  
curPos
 < 
√wSize
 ) {

1120 
toWrôe
 = 
bufSize
 - 
curPos
 % bufSize;

1121 if–
toWrôe
 + 
curPos
 > 
√wSize
 ) {

1122 
toWrôe
 = 
√wSize
 - 
curPos
;

1125 if–
	`gridfûe_wrôe_buf„r
–
gfûe
, (c⁄° *)
buf
, 
toWrôe
 ) !toWrôeË 
curPos
;

1126 
curPos
 +
toWrôe
;

1129 
	`bs⁄_‰ì
–
buf
 );

1130  
√wSize
;

1131 
	}
}

1133 
MONGO_EXPORT
 
gridfs_off£t
 
	$gridfûe_£t_size
(
gridfûe
 *
gfûe
, 
gridfs_off£t
 
√wSize
) {

1134 
gridfs_off£t
 
fûeSize
;

1136 
fûeSize
 = 
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 );

1137 if–
√wSize
 <
fûeSize
 ) {

1138  
	`gridfûe_åunˇã
–
gfûe
, 
√wSize
 );

1140  
	`gridfûe_ex∑nd
–
gfûe
, 
√wSize
 - 
fûeSize
 );

1142 
	}
}

	@oss/mongo-c-driver/src/gridfs.h

22 
	~"m⁄go.h
"

24 #i‚de‡
MONGO_GRIDFS_H_


25 
	#MONGO_GRIDFS_H_


	)

27 íum {
	mDEFAULT_CHUNK_SIZE
 = 256 * 1024};

29 
uöt64_t
 
	tgridfs_off£t
;

33 
m⁄go
 *
	m˛õ¡
;

34 c⁄° *
	mdb«me
;

35 c⁄° *
	m¥efix
;

36 c⁄° *
	mfûes_ns
;

37 c⁄° *
	mchunks_ns
;

38 
bs⁄_boﬁ_t
 
	mˇ£In£nsôive
;

39 } 
	tgridfs
;

43 
gridfs
 *
	mgfs
;

44 
bs⁄
 *
	mmëa
;

45 
gridfs_off£t
 
	mpos
;

46 
bs⁄_oid_t
 
	mid
;

47 *
	mªmŸe_«me
;

48 *
	mc⁄ã¡_ty≥
;

49 
gridfs_off£t
 
	mÀngth
;

50 
	mchunk_num
;

51 *
	m≥ndög_d©a
;

52 
size_t
 
	m≥ndög_Àn
;

53 
	mÊags
;

54 
	mchunkSize
;

55 } 
	tgridfûe
;

57 
	egridfûe_°‹age_ty≥
 {

58 
	mGRIDFILE_DEFAULT
 = 0,

59 
	mGRIDFILE_NOMD5
 = ( 1<<0 )

62 #i‚de‡
_MSC_VER


63 *
_°ru¥
(*
°r
);

64 *
_°æwr
(*
°r
);

67 –*
	tgridfs_chunk_fûãr_func
 )–** 
	tèrgëBuf
, 
	tsize_t
* 
	tèrgëLí
, c⁄° * 
	t§cBuf
, size_à
	t§cLí
, 
	tÊags
 );

68 
	$size_t
 ( *
	tgridfs_≥ndög_d©a_size_func
 ) (
	tÊags
);

70 
MONGO_EXPORT
 
gridfs
* 
	`gridfs_Æloc
( );

71 
MONGO_EXPORT
 
	`gridfs_dóŒoc
(
gridfs
* 
gfs
);

72 
MONGO_EXPORT
 
gridfûe
* 
	`gridfûe_¸óã
( );

73 
MONGO_EXPORT
 
	`gridfûe_dóŒoc
(
gridfûe
* 
gf
);

74 
MONGO_EXPORT
 
	`gridfûe_gë_des¸ùt‹
(
gridfûe
* 
gf
, 
bs⁄
* 
out
);

75 
MONGO_EXPORT
 
	`gridfs_£t_chunk_fûãr_funcs
(
gridfs_chunk_fûãr_func
 
wrôeFûãr
, gridfs_chunk_fûãr_fun¯
ªadFûãr
, 
gridfs_≥ndög_d©a_size_func
 
≥ndögD©aNìdedSize
);

86 
MONGO_EXPORT
 
	`gridfs_öô
–
m⁄go
 *
˛õ¡
, c⁄° *
db«me
,

87 c⁄° *
¥efix
, 
gridfs
 *
gfs
 );

95 
MONGO_EXPORT
 
	`gridfs_de°roy
–
gridfs
 *
gfs
 );

105 
MONGO_EXPORT
 
	`gridfûe_öô
–
gridfs
 *
gfs
, c⁄° 
bs⁄
 *
mëa
, 
gridfûe
 *
gfûe
 );

112 
MONGO_EXPORT
 
	`gridfûe_de°roy
–
gridfûe
 *
gfûe
 );

122 
MONGO_EXPORT
 
	`gridfûe_wrôî_öô
–
gridfûe
 *
gfûe
, 
gridfs
 *
gfs
, c⁄° *
ªmŸe_«me
,

123 c⁄° *
c⁄ã¡_ty≥
, 
Êags
 );

135 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_wrôe_buf„r
–
gridfûe
 *
gfûe
, c⁄° *
d©a
, gridfs_off£à
Àngth
 );

144 
MONGO_EXPORT
 
	`gridfûe_wrôî_d⁄e
–
gridfûe
 *
gfûe
 );

156 
MONGO_EXPORT
 
	`gridfs_°‹e_buf„r
–
gridfs
 *
gfs
, c⁄° *
d©a
, 
gridfs_off£t
 
Àngth
,

157 c⁄° *
ªmŸíame
,

158 c⁄° *
c⁄ã¡ty≥
, 
Êags
 );

169 
MONGO_EXPORT
 
	`gridfs_°‹e_fûe
–
gridfs
 *
gfs
, c⁄° *
fûíame
,

170 c⁄° *
ªmŸíame
, c⁄° *
c⁄ã¡ty≥
, 
Êags
 );

181 
MONGO_EXPORT
 
	`gridfs_ªmove_fûíame
–
gridfs
 *
gfs
, c⁄° *
fûíame
 );

193 
MONGO_EXPORT
 
	`gridfs_föd_quîy
–
gridfs
 *
gfs
, c⁄° 
bs⁄
 *
quîy
, 
gridfûe
 *
gfûe
 );

204 
MONGO_EXPORT
 
	`gridfs_föd_fûíame
–
gridfs
 *
gfs
, c⁄° *
fûíame
, 
gridfûe
 *
gfûe
 );

210 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	`gridfûe_exi°s
–c⁄° 
gridfûe
 *
gfûe
 );

218 
MONGO_EXPORT
 c⁄° *
	`gridfûe_gë_fûíame
–c⁄° 
gridfûe
 *
gfûe
 );

226 
MONGO_EXPORT
 
	`gridfûe_gë_chunksize
–c⁄° 
gridfûe
 *
gfûe
 );

235 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_gë_c⁄ã¡Àngth
–c⁄° 
gridfûe
 *
gfûe
 );

245 
MONGO_EXPORT
 c⁄° *
	`gridfûe_gë_c⁄ã¡ty≥
–c⁄° 
gridfûe
 *
gfûe
 );

254 
MONGO_EXPORT
 
bs⁄_d©e_t
 
	`gridfûe_gë_u∂ﬂdd©e
–c⁄° 
gridfûe
 *
gfûe
 );

263 
MONGO_EXPORT
 c⁄° *
	`gridfûe_gë_md5
–c⁄° 
gridfûe
 *
gfûe
 );

272 
MONGO_EXPORT
 
bs⁄_oid_t
 
	`gridfûe_gë_id
–c⁄° 
gridfûe
 *
gfûe
 );

283 
MONGO_EXPORT
 c⁄° *
	`gridfûe_gë_fõld
–
gridfûe
 *
gfûe
,

284 c⁄° *
«me
 );

292 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	`gridfs_gë_ˇ£In£nsôive
–c⁄° 
gridfs
 *
gfs
 );

301 
MONGO_EXPORT
 
	`gridfs_£t_ˇ£In£nsôive
(
gridfs
 *
gfs
, 
bs⁄_boﬁ_t
 
√wVÆue
);

310 
MONGO_EXPORT
 
	`gridfûe_£t_Êags
(
gridfûe
 *
gfûe
, 
Êags
);

318 
MONGO_EXPORT
 
	`gridfûe_gë_Êags
–c⁄° 
gridfûe
 *
gfûe
 );

328 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	`gridfûe_gë_boﬁón
–c⁄° 
gridfûe
 *
gfûe
,

329 c⁄° *
«me
 );

345 
MONGO_EXPORT
 
	`gridfûe_gë_mëad©a
–c⁄° 
gridfûe
 *
gfûe
, 
bs⁄
* 
mëad©a
, 
bs⁄_boﬁ_t
 
c›yD©a
 );

353 
MONGO_EXPORT
 
	`gridfûe_gë_numchunks
–c⁄° 
gridfûe
 *
gfûe
 );

361 
MONGO_EXPORT
 
	`gridfûe_gë_chunk
–
gridfûe
 *
gfûe
, 
n
, 
bs⁄
* 
out
 );

372 
MONGO_EXPORT
 
m⁄go_curs‹
 *
	`gridfûe_gë_chunks
–
gridfûe
 *
gfûe
, 
size_t
 
°¨t
, size_à
size
 );

380 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_wrôe_fûe
–
gridfûe
 *
gfûe
, 
FILE
 *
°ªam
 );

394 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_ªad_buf„r
–
gridfûe
 *
gfûe
, *
buf
, gridfs_off£à
size
 );

406 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_£ek
–
gridfûe
 *
gfûe
, gridfs_off£à
off£t
 );

413 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_åunˇã
(
gridfûe
 *
gfûe
, gridfs_off£à
√wSize
);

420 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_ex∑nd
(
gridfûe
 *
gfûe
, gridfs_off£à
byãsToEx∑nd
);

427 
MONGO_EXPORT
 
gridfs_off£t
 
	`gridfûe_£t_size
(
gridfûe
 *
gfûe
, gridfs_off£à
√wSize
);

	@oss/mongo-c-driver/src/md5.c

54 
	~"md5.h
"

55 
	~<°rög.h
>

57 #unde‡
BYTE_ORDER


58 #ifde‡
MONGO_BIG_ENDIAN


59 
	#BYTE_ORDER
 1

	)

61 
	#BYTE_ORDER
 -1

	)

64 
	#T_MASK
 ((
m⁄go_md5_w‹d_t
)~0)

	)

65 
	#T1
 (
T_MASK
 ^ 0x28955b87)

	)

66 
	#T2
 (
T_MASK
 ^ 0x173848a9)

	)

67 
	#T3
 0x242070db

	)

68 
	#T4
 (
T_MASK
 ^ 0x3e423111)

	)

69 
	#T5
 (
T_MASK
 ^ 0x0a83f050)

	)

70 
	#T6
 0x4787c62a

	)

71 
	#T7
 (
T_MASK
 ^ 0x57cfb9ec)

	)

72 
	#T8
 (
T_MASK
 ^ 0x02b96a„)

	)

73 
	#T9
 0x698098d8

	)

74 
	#T10
 (
T_MASK
 ^ 0x74bb0850)

	)

75 
	#T11
 (
T_MASK
 ^ 0x0000a44e)

	)

76 
	#T12
 (
T_MASK
 ^ 0x76a32841)

	)

77 
	#T13
 0x6b901122

	)

78 
	#T14
 (
T_MASK
 ^ 0x02678e6c)

	)

79 
	#T15
 (
T_MASK
 ^ 0x5986bc71)

	)

80 
	#T16
 0x49b40821

	)

81 
	#T17
 (
T_MASK
 ^ 0x09e1da9d)

	)

82 
	#T18
 (
T_MASK
 ^ 0x3fbf4cbf)

	)

83 
	#T19
 0x265e5a51

	)

84 
	#T20
 (
T_MASK
 ^ 0x16493855)

	)

85 
	#T21
 (
T_MASK
 ^ 0x29d0eÁ2)

	)

86 
	#T22
 0x02441453

	)

87 
	#T23
 (
T_MASK
 ^ 0x275e197e)

	)

88 
	#T24
 (
T_MASK
 ^ 0x182c0437)

	)

89 
	#T25
 0x21e1cde6

	)

90 
	#T26
 (
T_MASK
 ^ 0x3cc8f829)

	)

91 
	#T27
 (
T_MASK
 ^ 0x0b2af278)

	)

92 
	#T28
 0x455a14ed

	)

93 
	#T29
 (
T_MASK
 ^ 0x561c16Á)

	)

94 
	#T30
 (
T_MASK
 ^ 0x03105c07)

	)

95 
	#T31
 0x676f02d9

	)

96 
	#T32
 (
T_MASK
 ^ 0x72d5b375)

	)

97 
	#T33
 (
T_MASK
 ^ 0x0005c6bd)

	)

98 
	#T34
 (
T_MASK
 ^ 0x788e097e)

	)

99 
	#T35
 0x6d9d6122

	)

100 
	#T36
 (
T_MASK
 ^ 0x021ac7f3)

	)

101 
	#T37
 (
T_MASK
 ^ 0x5b4115bb)

	)

102 
	#T38
 0x4bdecÁ9

	)

103 
	#T39
 (
T_MASK
 ^ 0x0944b49f)

	)

104 
	#T40
 (
T_MASK
 ^ 0x4140438f)

	)

105 
	#T41
 0x289b7ec6

	)

106 
	#T42
 (
T_MASK
 ^ 0x155ed805)

	)

107 
	#T43
 (
T_MASK
 ^ 0x2b10cf7a)

	)

108 
	#T44
 0x04881d05

	)

109 
	#T45
 (
T_MASK
 ^ 0x262b2fc6)

	)

110 
	#T46
 (
T_MASK
 ^ 0x1924661a)

	)

111 
	#T47
 0x1Á27cf8

	)

112 
	#T48
 (
T_MASK
 ^ 0x3b53a99a)

	)

113 
	#T49
 (
T_MASK
 ^ 0x0bd6ddbb)

	)

114 
	#T50
 0x432aff97

	)

115 
	#T51
 (
T_MASK
 ^ 0x546bdc58)

	)

116 
	#T52
 (
T_MASK
 ^ 0x036c5fc6)

	)

117 
	#T53
 0x655b59c3

	)

118 
	#T54
 (
T_MASK
 ^ 0x70f3336d)

	)

119 
	#T55
 (
T_MASK
 ^ 0x00100b82)

	)

120 
	#T56
 (
T_MASK
 ^ 0x7a7ba22e)

	)

121 
	#T57
 0x6Á87e4f

	)

122 
	#T58
 (
T_MASK
 ^ 0x01d3191f)

	)

123 
	#T59
 (
T_MASK
 ^ 0x5c„b˚b)

	)

124 
	#T60
 0x4e0811a1

	)

125 
	#T61
 (
T_MASK
 ^ 0x08ac817d)

	)

126 
	#T62
 (
T_MASK
 ^ 0x42c50dˇ)

	)

127 
	#T63
 0x2ad7d2bb

	)

128 
	#T64
 (
T_MASK
 ^ 0x14792c6e)

	)

132 
	$m⁄go_md5_¥o˚ss
(
m⁄go_md5_°©e_t
 *
pms
, c⁄° 
m⁄go_md5_byã_t
 *
d©a
 ) {

133 
m⁄go_md5_w‹d_t


134 
a
 = 
pms
->
abcd
[0], 
b
 =Öms->abcd[1],

135 
c
 = 
pms
->
abcd
[2], 
d
 =Öms->abcd[3];

136 
m⁄go_md5_w‹d_t
 
t
;

137 #i‡
BYTE_ORDER
 > 0

139 
m⁄go_md5_w‹d_t
 
X
[16];

142 
m⁄go_md5_w‹d_t
 
xbuf
[16];

143 c⁄° 
m⁄go_md5_w‹d_t
 *
X
;

147 #i‡
BYTE_ORDER
 == 0

153 c⁄° 
w
 = 1;

155 i‡(*((c⁄° 
m⁄go_md5_byã_t
 *)&
w
))

157 #i‡
BYTE_ORDER
 <= 0

163 i‡(!((
d©a
 - (c⁄° 
m⁄go_md5_byã_t
 *)0) & 3)) {

165 
X
 = (c⁄° 
m⁄go_md5_w‹d_t
 *)
d©a
;

169 
	`mem˝y
(
xbuf
, 
d©a
, 64);

170 
X
 = 
xbuf
;

174 #i‡
BYTE_ORDER
 == 0

177 #i‡
BYTE_ORDER
 >= 0

183 c⁄° 
m⁄go_md5_byã_t
 *
xp
 = 
d©a
;

184 
i
;

186 #i‡
BYTE_ORDER
 == 0

187 
X
 = 
xbuf
;

189 
	#xbuf
 
X


	)

191 
i
 = 0; i < 16; ++i, 
xp
 += 4)

192 
xbuf
[
i
] = 
xp
[0] + (xp[1] << 8) + (xp[2] << 16) + (xp[3] << 24);

197 
	#ROTATE_LEFT
(
x
, 
n
Ë(((xË<< (n)Ë| ((xË>> (32 - (n))))

	)

202 
	#F
(
x
, 
y
, 
z
Ë(((xË& (y)Ë| (~(xË& (z)))

	)

203 
	#SET
(
a
, 
b
, 
c
, 
d
, 
k
, 
s
, 
Ti
)\

204 
t
 = 
a
 + 
	`F
(
b
,
c
,
d
Ë+ 
X
[
k
] + 
Ti
;\

205 
a
 = 
	`ROTATE_LEFT
(
t
, 
s
Ë+ 
b


	)

207 
	`SET
(
a
, 
b
, 
c
, 
d
, 0, 7, 
T1
);

208 
	`SET
(
d
, 
a
, 
b
, 
c
, 1, 12, 
T2
);

209 
	`SET
(
c
, 
d
, 
a
, 
b
, 2, 17, 
T3
);

210 
	`SET
(
b
, 
c
, 
d
, 
a
, 3, 22, 
T4
);

211 
	`SET
(
a
, 
b
, 
c
, 
d
, 4, 7, 
T5
);

212 
	`SET
(
d
, 
a
, 
b
, 
c
, 5, 12, 
T6
);

213 
	`SET
(
c
, 
d
, 
a
, 
b
, 6, 17, 
T7
);

214 
	`SET
(
b
, 
c
, 
d
, 
a
, 7, 22, 
T8
);

215 
	`SET
(
a
, 
b
, 
c
, 
d
, 8, 7, 
T9
);

216 
	`SET
(
d
, 
a
, 
b
, 
c
, 9, 12, 
T10
);

217 
	`SET
(
c
, 
d
, 
a
, 
b
, 10, 17, 
T11
);

218 
	`SET
(
b
, 
c
, 
d
, 
a
, 11, 22, 
T12
);

219 
	`SET
(
a
, 
b
, 
c
, 
d
, 12, 7, 
T13
);

220 
	`SET
(
d
, 
a
, 
b
, 
c
, 13, 12, 
T14
);

221 
	`SET
(
c
, 
d
, 
a
, 
b
, 14, 17, 
T15
);

222 
	`SET
(
b
, 
c
, 
d
, 
a
, 15, 22, 
T16
);

223 #unde‡
SET


228 
	#G
(
x
, 
y
, 
z
Ë(((xË& (z)Ë| ((yË& ~(z)))

	)

229 
	#SET
(
a
, 
b
, 
c
, 
d
, 
k
, 
s
, 
Ti
)\

230 
t
 = 
a
 + 
	`G
(
b
,
c
,
d
Ë+ 
X
[
k
] + 
Ti
;\

231 
a
 = 
	`ROTATE_LEFT
(
t
, 
s
Ë+ 
b


	)

233 
	`SET
(
a
, 
b
, 
c
, 
d
, 1, 5, 
T17
);

234 
	`SET
(
d
, 
a
, 
b
, 
c
, 6, 9, 
T18
);

235 
	`SET
(
c
, 
d
, 
a
, 
b
, 11, 14, 
T19
);

236 
	`SET
(
b
, 
c
, 
d
, 
a
, 0, 20, 
T20
);

237 
	`SET
(
a
, 
b
, 
c
, 
d
, 5, 5, 
T21
);

238 
	`SET
(
d
, 
a
, 
b
, 
c
, 10, 9, 
T22
);

239 
	`SET
(
c
, 
d
, 
a
, 
b
, 15, 14, 
T23
);

240 
	`SET
(
b
, 
c
, 
d
, 
a
, 4, 20, 
T24
);

241 
	`SET
(
a
, 
b
, 
c
, 
d
, 9, 5, 
T25
);

242 
	`SET
(
d
, 
a
, 
b
, 
c
, 14, 9, 
T26
);

243 
	`SET
(
c
, 
d
, 
a
, 
b
, 3, 14, 
T27
);

244 
	`SET
(
b
, 
c
, 
d
, 
a
, 8, 20, 
T28
);

245 
	`SET
(
a
, 
b
, 
c
, 
d
, 13, 5, 
T29
);

246 
	`SET
(
d
, 
a
, 
b
, 
c
, 2, 9, 
T30
);

247 
	`SET
(
c
, 
d
, 
a
, 
b
, 7, 14, 
T31
);

248 
	`SET
(
b
, 
c
, 
d
, 
a
, 12, 20, 
T32
);

249 #unde‡
SET


254 
	#H
(
x
, 
y
, 
z
Ë((xË^ (yË^ (z))

	)

255 
	#SET
(
a
, 
b
, 
c
, 
d
, 
k
, 
s
, 
Ti
)\

256 
t
 = 
a
 + 
	`H
(
b
,
c
,
d
Ë+ 
X
[
k
] + 
Ti
;\

257 
a
 = 
	`ROTATE_LEFT
(
t
, 
s
Ë+ 
b


	)

259 
	`SET
(
a
, 
b
, 
c
, 
d
, 5, 4, 
T33
);

260 
	`SET
(
d
, 
a
, 
b
, 
c
, 8, 11, 
T34
);

261 
	`SET
(
c
, 
d
, 
a
, 
b
, 11, 16, 
T35
);

262 
	`SET
(
b
, 
c
, 
d
, 
a
, 14, 23, 
T36
);

263 
	`SET
(
a
, 
b
, 
c
, 
d
, 1, 4, 
T37
);

264 
	`SET
(
d
, 
a
, 
b
, 
c
, 4, 11, 
T38
);

265 
	`SET
(
c
, 
d
, 
a
, 
b
, 7, 16, 
T39
);

266 
	`SET
(
b
, 
c
, 
d
, 
a
, 10, 23, 
T40
);

267 
	`SET
(
a
, 
b
, 
c
, 
d
, 13, 4, 
T41
);

268 
	`SET
(
d
, 
a
, 
b
, 
c
, 0, 11, 
T42
);

269 
	`SET
(
c
, 
d
, 
a
, 
b
, 3, 16, 
T43
);

270 
	`SET
(
b
, 
c
, 
d
, 
a
, 6, 23, 
T44
);

271 
	`SET
(
a
, 
b
, 
c
, 
d
, 9, 4, 
T45
);

272 
	`SET
(
d
, 
a
, 
b
, 
c
, 12, 11, 
T46
);

273 
	`SET
(
c
, 
d
, 
a
, 
b
, 15, 16, 
T47
);

274 
	`SET
(
b
, 
c
, 
d
, 
a
, 2, 23, 
T48
);

275 #unde‡
SET


280 
	#I
(
x
, 
y
, 
z
Ë((yË^ ((xË| ~(z)))

	)

281 
	#SET
(
a
, 
b
, 
c
, 
d
, 
k
, 
s
, 
Ti
)\

282 
t
 = 
a
 + 
	`I
(
b
,
c
,
d
Ë+ 
X
[
k
] + 
Ti
;\

283 
a
 = 
	`ROTATE_LEFT
(
t
, 
s
Ë+ 
b


	)

285 
	`SET
(
a
, 
b
, 
c
, 
d
, 0, 6, 
T49
);

286 
	`SET
(
d
, 
a
, 
b
, 
c
, 7, 10, 
T50
);

287 
	`SET
(
c
, 
d
, 
a
, 
b
, 14, 15, 
T51
);

288 
	`SET
(
b
, 
c
, 
d
, 
a
, 5, 21, 
T52
);

289 
	`SET
(
a
, 
b
, 
c
, 
d
, 12, 6, 
T53
);

290 
	`SET
(
d
, 
a
, 
b
, 
c
, 3, 10, 
T54
);

291 
	`SET
(
c
, 
d
, 
a
, 
b
, 10, 15, 
T55
);

292 
	`SET
(
b
, 
c
, 
d
, 
a
, 1, 21, 
T56
);

293 
	`SET
(
a
, 
b
, 
c
, 
d
, 8, 6, 
T57
);

294 
	`SET
(
d
, 
a
, 
b
, 
c
, 15, 10, 
T58
);

295 
	`SET
(
c
, 
d
, 
a
, 
b
, 6, 15, 
T59
);

296 
	`SET
(
b
, 
c
, 
d
, 
a
, 13, 21, 
T60
);

297 
	`SET
(
a
, 
b
, 
c
, 
d
, 4, 6, 
T61
);

298 
	`SET
(
d
, 
a
, 
b
, 
c
, 11, 10, 
T62
);

299 
	`SET
(
c
, 
d
, 
a
, 
b
, 2, 15, 
T63
);

300 
	`SET
(
b
, 
c
, 
d
, 
a
, 9, 21, 
T64
);

301 #unde‡
SET


306 
pms
->
abcd
[0] +
a
;

307 
pms
->
abcd
[1] +
b
;

308 
pms
->
abcd
[2] +
c
;

309 
pms
->
abcd
[3] +
d
;

310 
	}
}

312 
MONGO_EXPORT
 

313 
	$m⁄go_md5_öô
(
m⁄go_md5_°©e_t
 *
pms
) {

314 
pms
->
cou¡
[0] =Öms->count[1] = 0;

315 
pms
->
abcd
[0] = 0x67452301;

316 
pms
->
abcd
[1] = 
T_MASK
 ^ 0x10325476;

317 
pms
->
abcd
[2] = 
T_MASK
 ^ 0x67452301;

318 
pms
->
abcd
[3] = 0x10325476;

319 
	}
}

321 
MONGO_EXPORT
 

322 
	$m⁄go_md5_≠≥nd
(
m⁄go_md5_°©e_t
 *
pms
, c⁄° 
m⁄go_md5_byã_t
 *
d©a
, 
nbyãs
) {

323 c⁄° 
m⁄go_md5_byã_t
 *
p
 = 
d©a
;

324 
À·
 = 
nbyãs
;

325 
off£t
 = (
pms
->
cou¡
[0] >> 3) & 63;

326 
m⁄go_md5_w‹d_t
 
nbôs
 = (m⁄go_md5_w‹d_t)(
nbyãs
 << 3);

328 i‡(
nbyãs
 <= 0)

332 
pms
->
cou¡
[1] +
nbyãs
 >> 29;

333 
pms
->
cou¡
[0] +
nbôs
;

334 i‡(
pms
->
cou¡
[0] < 
nbôs
)

335 
pms
->
cou¡
[1]++;

338 i‡(
off£t
) {

339 
c›y
 = (
off£t
 + 
nbyãs
 > 64 ? 64 - offset :Çbytes);

341 
	`mem˝y
(
pms
->
buf
 + 
off£t
, 
p
, 
c›y
);

342 i‡(
off£t
 + 
c›y
 < 64)

344 
p
 +
c›y
;

345 
À·
 -
c›y
;

346 
	`m⁄go_md5_¥o˚ss
(
pms
,Öms->
buf
);

350 ; 
À·
 >64; 
p
 += 64,Üeft -= 64)

351 
	`m⁄go_md5_¥o˚ss
(
pms
, 
p
);

354 i‡(
À·
)

355 
	`mem˝y
(
pms
->
buf
, 
p
, 
À·
);

356 
	}
}

358 
MONGO_EXPORT
 

359 
	$m⁄go_md5_föish
(
m⁄go_md5_°©e_t
 *
pms
, 
m⁄go_md5_byã_t
 
dige°
[16]) {

360 c⁄° 
m⁄go_md5_byã_t
 
∑d
[64] = {

366 
m⁄go_md5_byã_t
 
d©a
[8];

367 
i
;

370 
i
 = 0; i < 8; ++i)

371 
d©a
[
i
] = (
m⁄go_md5_byã_t
)(
pms
->
cou¡
[i >> 2] >> ((i & 3) << 3));

373 
	`m⁄go_md5_≠≥nd
(
pms
, 
∑d
, ((55 - (pms->
cou¡
[0] >> 3)) & 63) + 1);

375 
	`m⁄go_md5_≠≥nd
(
pms
, 
d©a
, 8);

376 
i
 = 0; i < 16; ++i)

377 
dige°
[
i
] = (
m⁄go_md5_byã_t
)(
pms
->
abcd
[i >> 2] >> ((i & 3) << 3));

378 
	}
}

	@oss/mongo-c-driver/src/md5.h

50 #i‚de‡
MONGO_MD5_H_


51 
	#MONGO_MD5_H_


	)

62 
	~"bs⁄.h
"

64 
	tm⁄go_md5_byã_t
;

65 
	tm⁄go_md5_w‹d_t
;

68 
	sm⁄go_md5_°©e_s
 {

69 
m⁄go_md5_w‹d_t
 
	mcou¡
[2];

70 
m⁄go_md5_w‹d_t
 
	mabcd
[4];

71 
m⁄go_md5_byã_t
 
	mbuf
[64];

72 } 
	tm⁄go_md5_°©e_t
;

74 #ifde‡
__˝lu•lus


80 
MONGO_EXPORT
 
m⁄go_md5_öô
(
m⁄go_md5_°©e_t
 *
pms
);

83 
MONGO_EXPORT
 
m⁄go_md5_≠≥nd
(
m⁄go_md5_°©e_t
 *
pms
, c⁄° 
m⁄go_md5_byã_t
 *
d©a
, 
nbyãs
);

86 
MONGO_EXPORT
 
m⁄go_md5_föish
(
m⁄go_md5_°©e_t
 *
pms
, 
m⁄go_md5_byã_t
 
dige°
[16]);

88 #ifde‡
__˝lu•lus


	@oss/mongo-c-driver/src/mongo.c

18 #i‡
_MSC_VER
 && ! 
_CRT_SECURE_NO_WARNINGS


19 
	#_CRT_SECURE_NO_WARNINGS


	)

22 
	~"m⁄go.h
"

23 
	~"md5.h
"

24 
	~"ív.h
"

26 
	~<°rög.h
>

27 
	~<as£π.h
>

29 
MONGO_EXPORT
 
m⁄go
* 
	$m⁄go_Æloc
( ) {

30  ( 
m⁄go
* )
	`bs⁄_mÆloc
( ( mongo ) );

31 
	}
}

34 
MONGO_EXPORT
 
	$m⁄go_dóŒoc
(
m⁄go
* 
c⁄n
) {

35 
	`bs⁄_‰ì
–
c⁄n
 );

36 
	}
}

38 
MONGO_EXPORT
 
	$m⁄go_gë_îr
(
m⁄go
* 
c⁄n
) {

39  
c⁄n
->
îr
;

40 
	}
}

43 
MONGO_EXPORT
 
	$m⁄go_is_c⁄√˘ed
(
m⁄go
* 
c⁄n
) {

44  
c⁄n
->
c⁄√˘ed
 != 0;

45 
	}
}

48 
MONGO_EXPORT
 
	$m⁄go_gë_›_timeout
(
m⁄go
* 
c⁄n
) {

49  
c⁄n
->
›_timeout_ms
;

50 
	}
}

53 c⁄° * 
	$_gë_ho°_p‹t
(
m⁄go_ho°_p‹t
* 
hp
) {

54 
_hp
[(
hp
->
ho°
)+12];

55 
	`bs⁄_•rötf
(
_hp
, "%s:%d", 
hp
->
ho°
, hp->
p‹t
);

56  
_hp
;

57 
	}
}

60 
MONGO_EXPORT
 c⁄° * 
	$m⁄go_gë_¥im¨y
(
m⁄go
* 
c⁄n
) {

61 
m⁄go
* 
c⁄n_
 = (m⁄go*)
c⁄n
;

62 if–!(
c⁄n_
->
c⁄√˘ed
Ë|| (c⁄n_->
¥im¨y
->
ho°
[0] == '\0') )

63  
NULL
;

64  
	`_gë_ho°_p‹t
(
c⁄n_
->
¥im¨y
);

65 
	}
}

68 
MONGO_EXPORT
 
SOCKET
 
	$m⁄go_gë_sockë
(
m⁄go
* 
c⁄n
) {

69 
m⁄go
* 
c⁄n_
 = (m⁄go*)
c⁄n
;

70  
c⁄n_
->
sock
;

71 
	}
}

74 
MONGO_EXPORT
 
	$m⁄go_gë_ho°_cou¡
(
m⁄go
* 
c⁄n
) {

75 
m⁄go_ª∂iˇ_£t
* 
r
 = 
c⁄n
->
ª∂iˇ_£t
;

76 
m⁄go_ho°_p‹t
* 
hp
;

77 
cou¡
 = 0;

78 i‡(!
r
)  0;

79 
hp
 = 
r
->
ho°s
; hp; h∞hp->
√xt
)

80 ++
cou¡
;

81  
cou¡
;

82 
	}
}

85 
MONGO_EXPORT
 c⁄° * 
	$m⁄go_gë_ho°
(
m⁄go
* 
c⁄n
, 
i
) {

86 
m⁄go_ª∂iˇ_£t
* 
r
 = 
c⁄n
->
ª∂iˇ_£t
;

87 
m⁄go_ho°_p‹t
* 
hp
;

88 
cou¡
 = 0;

89 i‡(!
r
)  0;

90 
hp
 = 
r
->
ho°s
; hp; h∞hp->
√xt
) {

91 i‡(
cou¡
 =
i
)

92  
	`_gë_ho°_p‹t
(
hp
);

93 ++
cou¡
;

96 
	}
}

98 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫
* 
	$m⁄go_wrôe_c⁄˚∫_Æloc
( ) {

99  ( 
m⁄go_wrôe_c⁄˚∫
* )
	`bs⁄_mÆloc
( ( mongo_write_concern ) );

100 
	}
}

103 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_dóŒoc
–
m⁄go_wrôe_c⁄˚∫
* 
wrôe_c⁄˚∫
 ) {

104 
	`bs⁄_‰ì
–
wrôe_c⁄˚∫
 );

105 
	}
}

108 
MONGO_EXPORT
 
m⁄go_curs‹
* 
	$m⁄go_curs‹_Æloc
( ) {

109  ( 
m⁄go_curs‹
* )
	`bs⁄_mÆloc
( ( mongo_cursor ) );

110 
	}
}

113 
MONGO_EXPORT
 
	$m⁄go_curs‹_dóŒoc
–
m⁄go_curs‹
* 
curs‹
 ) {

114 
	`bs⁄_‰ì
–
curs‹
 );

115 
	}
}

118 
MONGO_EXPORT
 
	$m⁄go_gë_£rvî_îr
(
m⁄go
* 
c⁄n
) {

119  
c⁄n
->
œ°îrcode
;

120 
	}
}

123 
MONGO_EXPORT
 c⁄° * 
	$m⁄go_gë_£rvî_îr_°rög
(
m⁄go
* 
c⁄n
) {

124  
c⁄n
->
œ°îr°r
;

125 
	}
}

127 
MONGO_EXPORT
 
	$__m⁄go_£t_îr‹
–
m⁄go
 *
c⁄n
, 
m⁄go_îr‹_t
 
îr
, c⁄° *
°r
,

128 
îrcode
 ) {

129 
size_t
 
°r_size
 = 1;

130 
c⁄n
->
îr
 =Érr;

131 
c⁄n
->
îrcode
 =Érrcode;

132 if–
°r
 ) {

133 
°r_size
 = 
	`°æí
–
°r
 ) + 1;

134 i‡(
°r_size
 > 
MONGO_ERR_LEN
) str_size = MONGO_ERR_LEN;

135 
	`mem˝y
–
c⁄n
->
îr°r
, 
°r
, 
°r_size
 );

137 
c⁄n
->
îr°r
[
°r_size
-1] = '\0';

138 
	}
}

140 
MONGO_EXPORT
 
	$m⁄go_˛ór_îr‹s
–
m⁄go
 *
c⁄n
 ) {

141 
c⁄n
->
îr
 = 
MONGO_CONN_SUCCESS
;

142 
c⁄n
->
îrcode
 = 0;

143 
c⁄n
->
œ°îrcode
 = 0;

144 
c⁄n
->
îr°r
[0] = 0;

145 
c⁄n
->
œ°îr°r
[0] = 0;

146 
	}
}

149 *
	$m⁄go_ns_to_cmd_db
–c⁄° *
ns
 ) {

150 *
cuºít
 = 
NULL
;

151 *
cmd_db_«me
 = 
NULL
;

152 
Àn
 = 0;

154  
cuºít
 = (*)
ns
; *current != '.'; current++ ) {

155 
Àn
++;

158 
cmd_db_«me
 = (*)
	`bs⁄_mÆloc
–
Àn
 + 6 );

159 
	`°∫˝y
–
cmd_db_«me
, 
ns
, 
Àn
 );

160 
	`°∫˝y
–
cmd_db_«me
 + 
Àn
, ".$cmd", 6 );

162  
cmd_db_«me
;

163 
	}
}

165 
MONGO_EXPORT
 
	$m⁄go_vÆid©e_ns
–
m⁄go
 *
c⁄n
, c⁄° *
ns
 ) {

166 *
œ°
 = 
NULL
;

167 *
cuºít
 = 
NULL
;

168 c⁄° *
db_«me
 = 
ns
;

169 *
cﬁÀ˘i⁄_«me
 = 
NULL
;

170 
îrmsg
[64];

171 
ns_Àn
 = 0;

174 if–*
ns
 == '.' ) {

175 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
, "ns cannot start withá '.'.", 0 );

176  
MONGO_ERROR
;

180  
cuºít
 = (*)
ns
; *current != '\0'; current++ ) {

181 if–*
cuºít
 == '.' ) {

182 
cuºít
++;

188 if–*
cuºít
 == '.' ) {

189 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
, "ns cannot start withá '.'.", 0 );

190  
MONGO_ERROR
;

195 if–*
cuºít
 == '\0' ) {

196 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
, "CollectionÇame missing.", 0 );

197  
MONGO_ERROR
;

202 
cﬁÀ˘i⁄_«me
 = 
cuºít
;

205 if–
cﬁÀ˘i⁄_«me
 - 1 =
db_«me
 ) {

206 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
, "DatabaseÇame missing.", 0 );

207  
MONGO_ERROR
;

211  
cuºít
 = (*)
db_«me
; *current != '.'; current++ ) {

212  *
cuºít
 ) {

217 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
,

219  
MONGO_ERROR
;

224 
ns_Àn
++;

228 
ns_Àn
++;

231  
cuºít
 = 
cﬁÀ˘i⁄_«me
; *current != '\0'; current++ ) {

234 if–
œ°
 && *œ° ='.' && *
cuºít
 == '.' ) {

235 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
,

237  
MONGO_ERROR
;

241 if–*
cuºít
 == '$' ) {

242 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
,

244  
MONGO_ERROR
;

247 
œ°
 = 
cuºít
;

248 
ns_Àn
++;

251 if–
ns_Àn
 > 128 ) {

252 
	`bs⁄_•rötf
–
îrmsg
, "NamespaceÅooÜong; has %d but must <= 128.",

253 
ns_Àn
 );

254 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
, 
îrmsg
, 0 );

255  
MONGO_ERROR
;

259 if–*(
cuºít
 - 1) == '.' ) {

260 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_NS_INVALID
,

262  
MONGO_ERROR
;

265  
MONGO_OK
;

266 
	}
}

268 
	$m⁄go_£t_œ°_îr‹
–
m⁄go
 *
c⁄n
, 
bs⁄_ôî©‹
 *
ô
, 
bs⁄
 *
obj
 ) {

269 
bs⁄_ôî©‹
 
ôî
[1];

270 
ªsu…_Àn
 = 
	`bs⁄_ôî©‹_°rög_Àn
–
ô
 );

271 c⁄° *
ªsu…_°rög
 = 
	`bs⁄_ôî©‹_°rög
–
ô
 );

272 
Àn
 = 
ªsu…_Àn
 < 
MONGO_ERR_LEN
 ?Ñesult_len : MONGO_ERR_LEN;

273 
	`mem˝y
–
c⁄n
->
œ°îr°r
, 
ªsu…_°rög
, 
Àn
 );

274 
ôî
[0] = *
ô
;

275 if–
	`bs⁄_föd
–
ôî
, 
obj
, "code" ) !
BSON_NULL
 )

276 
c⁄n
->
œ°îrcode
 = 
	`bs⁄_ôî©‹_öt
–
ôî
 );

277 
	}
}

279 c⁄° 
	gZERO
 = 0;

280 c⁄° 
	gONE
 = 1;

281 
m⁄go_mesßge
 *
	$m⁄go_mesßge_¸óã
–
size_t
 
Àn
 , 
id
 , 
ª•⁄£To
 , 
›
 ) {

282 
m⁄go_mesßge
 *
mm
;

284 if–
Àn
 >
INT32_MAX
) {

285  
NULL
;

287 
mm
 = ( 
m⁄go_mesßge
 * )
	`bs⁄_mÆloc
–
Àn
 );

288 i‡–!
id
 )

289 
id
 = 
	`ønd
();

292 
mm
->
hód
.
Àn
 = ( )len;

293 
mm
->
hód
.
id
 = id;

294 
mm
->
hód
.
ª•⁄£To
 =ÑesponseTo;

295 
mm
->
hód
.
›
 = op;

297  
mm
;

298 
	}
}

301 
	$m⁄go_mesßge_£nd
–
m⁄go
 *
c⁄n
, 
m⁄go_mesßge
 *
mm
 ) {

302 
m⁄go_hódî
 
hód
;

303 
ªs
;

304 
	`bs⁄_lôée_ídün32
–&
hód
.
Àn
, &
mm
->head.len );

305 
	`bs⁄_lôée_ídün32
–&
hód
.
id
, &
mm
->head.id );

306 
	`bs⁄_lôée_ídün32
–&
hód
.
ª•⁄£To
, &
mm
->head.responseTo );

307 
	`bs⁄_lôée_ídün32
–&
hód
.
›
, &
mm
->head.op );

309 
ªs
 = 
	`m⁄go_ív_wrôe_sockë
–
c⁄n
, &
hód
, ( head ) );

310 if–
ªs
 !
MONGO_OK
 ) {

311 
	`bs⁄_‰ì
–
mm
 );

312  
ªs
;

315 
ªs
 = 
	`m⁄go_ív_wrôe_sockë
–
c⁄n
, &
mm
->
d©a
, mm->
hód
.
Àn
 - ( head ) );

316 if–
ªs
 !
MONGO_OK
 ) {

317 
	`bs⁄_‰ì
–
mm
 );

318  
ªs
;

321 
	`bs⁄_‰ì
–
mm
 );

322  
MONGO_OK
;

323 
	}
}

325 
	$m⁄go_ªad_ª•⁄£
–
m⁄go
 *
c⁄n
, 
m⁄go_ª∂y
 **
ª∂y
 ) {

326 
m⁄go_hódî
 
hód
;

327 
m⁄go_ª∂y_fõlds
 
fõlds
;

328 
m⁄go_ª∂y
 *
out
;

329 
Àn
;

330 
ªs
;

332 i‡––
ªs
 = 
	`m⁄go_ív_ªad_sockë
–
c⁄n
, &
hód
, –hód ) ) ) !
MONGO_OK
 ||

333 –
ªs
 = 
	`m⁄go_ív_ªad_sockë
–
c⁄n
, &
fõlds
, –fõld†ËËË!
MONGO_OK
 ) {

334  
ªs
;

337 
	`bs⁄_lôée_ídün32
–&
Àn
, &
hód
.len );

339 i‡–
Àn
 < –
hód
 )+–
fõlds
 ) ||Üen > 64*1024*1024 )

340  
MONGO_READ_SIZE_ERROR
;

349 
out
 = ( 
m⁄go_ª∂y
 * )
	`bs⁄_mÆloc
–(m⁄go_ª∂yË- (Ë+ 
Àn
 - 16 - 20 );

351 
out
->
hód
.
Àn
 =Üen;

352 
	`bs⁄_lôée_ídün32
–&
out
->
hód
.
id
, &head.id );

353 
	`bs⁄_lôée_ídün32
–&
out
->
hód
.
ª•⁄£To
, &head.responseTo );

354 
	`bs⁄_lôée_ídün32
–&
out
->
hód
.
›
, &head.op );

356 
	`bs⁄_lôée_ídün32
–&
out
->
fõlds
.
Êag
, &fields.flag );

357 
	`bs⁄_lôée_ídün64
–&
out
->
fõlds
.
curs‹ID
, &fields.cursorID );

358 
	`bs⁄_lôée_ídün32
–&
out
->
fõlds
.
°¨t
, &fields.start );

359 
	`bs⁄_lôée_ídün32
–&
out
->
fõlds
.
num
, &fields.num );

361 
ªs
 = 
	`m⁄go_ív_ªad_sockë
–
c⁄n
, &
out
->
objs
, 
Àn
 - 16 - 20 );

362 if–
ªs
 !
MONGO_OK
 ) {

363 
	`bs⁄_‰ì
–
out
 );

364  
ªs
;

367 *
ª∂y
 = 
out
;

369  
MONGO_OK
;

370 
	}
}

373 *
	$m⁄go_d©a_≠≥nd
–*
°¨t
 , c⁄° *
d©a
 , 
size_t
 
Àn
 ) {

374 
	`mem˝y
–
°¨t
 , 
d©a
 , 
Àn
 );

375  
°¨t
 + 
Àn
;

376 
	}
}

378 *
	$m⁄go_d©a_≠≥nd32
–*
°¨t
 , c⁄° *
d©a
 ) {

379 
	`bs⁄_lôée_ídün32
–
°¨t
 , 
d©a
 );

380  
°¨t
 + 4;

381 
	}
}

383 *
	$m⁄go_d©a_≠≥nd64
–*
°¨t
 , c⁄° *
d©a
 ) {

384 
	`bs⁄_lôée_ídün64
–
°¨t
 , 
d©a
 );

385  
°¨t
 + 8;

386 
	}
}

390 
	$m⁄go_check_is_ma°î
–
m⁄go
 *
c⁄n
 ) {

391 
bs⁄
 
out
;

392 
bs⁄_ôî©‹
 
ô
;

393 
bs⁄_boﬁ_t
 
isma°î
 = 0;

394 
max_bs⁄_size
 = 
MONGO_DEFAULT_MAX_BSON_SIZE
;

396 i‡–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "isma°î", 1, &
out
 ) !
MONGO_OK
 )

397  
MONGO_ERROR
;

399 if–
	`bs⁄_föd
–&
ô
, &
out
, "ismaster" ) )

400 
isma°î
 = 
	`bs⁄_ôî©‹_boﬁ
–&
ô
 );

401 if–
	`bs⁄_föd
–&
ô
, &
out
, "maxBsonObjectSize" ) )

402 
max_bs⁄_size
 = 
	`bs⁄_ôî©‹_öt
–&
ô
 );

403 
c⁄n
->
max_bs⁄_size
 = max_bson_size;

405 
	`bs⁄_de°roy
–&
out
 );

407 if–
isma°î
 )

408  
MONGO_OK
;

410 
c⁄n
->
îr
 = 
MONGO_CONN_NOT_MASTER
;

411  
MONGO_ERROR
;

413 
	}
}

415 
MONGO_EXPORT
 
	$m⁄go_öô_sockës
( ) {

416 
	`m⁄go_ív_sock_öô
();

417 
	}
}

420 
	gWC1_d©a
[] = {23,0,0,0,16,103,101,116,108,97,115,116,101,114,114,111,114,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0};

421 
bs⁄
 
	gWC1_cmd
 = {

422 
WC1_d©a
, WC1_data, 128, 1, 0

424 
m⁄go_wrôe_c⁄˚∫
 
	gWC1
 = { 1, 0, 0, 0, 0, &
WC1_cmd
 };

426 
MONGO_EXPORT
 
	$m⁄go_öô
–
m⁄go
 *
c⁄n
 ) {

427 
	`mem£t
–
c⁄n
, 0, –
m⁄go
 ) );

428 
c⁄n
->
max_bs⁄_size
 = 
MONGO_DEFAULT_MAX_BSON_SIZE
;

429 
	`m⁄go_£t_wrôe_c⁄˚∫
–
c⁄n
, &
WC1
 );

430 
	}
}

432 
MONGO_EXPORT
 
	$m⁄go_˛õ¡
–
m⁄go
 *
c⁄n
 , c⁄° *
ho°
, 
p‹t
 ) {

433 
	`m⁄go_öô
–
c⁄n
 );

435 
c⁄n
->
¥im¨y
 = (
m⁄go_ho°_p‹t
*)
	`bs⁄_mÆloc
( ( mongo_host_port ) );

436 
	`¢¥ötf
–
c⁄n
->
¥im¨y
->
ho°
, 
MAXHOSTNAMELEN
, "%s", host);

437 
c⁄n
->
¥im¨y
->
p‹t
 =Öort;

438 
c⁄n
->
¥im¨y
->
√xt
 = 
NULL
;

440 if–
	`m⁄go_ív_sockë_c⁄√˘
–
c⁄n
, 
ho°
, 
p‹t
 ) !
MONGO_OK
 )

441  
MONGO_ERROR
;

443  
	`m⁄go_check_is_ma°î
–
c⁄n
 );

444 
	}
}

446 
MONGO_EXPORT
 
	$m⁄go_c⁄√˘
–
m⁄go
 *
c⁄n
 , c⁄° *
ho°
, 
p‹t
 ) {

447 
ªt
;

448 
	`bs⁄_îΩrötf
("WARNING: mongo_connect() is deprecated,Ölease use mongo_client()\n");

449 
ªt
 = 
	`m⁄go_˛õ¡
–
c⁄n
, 
ho°
, 
p‹t
 );

450 
	`m⁄go_£t_wrôe_c⁄˚∫
–
c⁄n
, 0 );

451  
ªt
;

452 
	}
}

454 
MONGO_EXPORT
 
	$m⁄go_ª∂iˇ_£t_öô
–
m⁄go
 *
c⁄n
, c⁄° *
«me
 ) {

455 
	`m⁄go_öô
–
c⁄n
 );

457 
c⁄n
->
ª∂iˇ_£t
 = (
m⁄go_ª∂iˇ_£t
*)
	`bs⁄_mÆloc
( ( mongo_replica_set ) );

458 
c⁄n
->
ª∂iˇ_£t
->
¥im¨y_c⁄√˘ed
 = 0;

459 
c⁄n
->
ª∂iˇ_£t
->
£eds
 = 
NULL
;

460 
c⁄n
->
ª∂iˇ_£t
->
ho°s
 = 
NULL
;

461 
c⁄n
->
ª∂iˇ_£t
->
«me
 = ( * )
	`bs⁄_mÆloc
–
	`°æí
(Çame ) + 1 );

462 
	`mem˝y
–
c⁄n
->
ª∂iˇ_£t
->
«me
,Çame, 
	`°æí
(Çame ) + 1 );

464 
c⁄n
->
¥im¨y
 = (
m⁄go_ho°_p‹t
*)
	`bs⁄_mÆloc
( ( mongo_host_port ) );

465 
c⁄n
->
¥im¨y
->
ho°
[0] = '\0';

466 
c⁄n
->
¥im¨y
->
√xt
 = 
NULL
;

467 
	}
}

469 
MONGO_EXPORT
 
	$m⁄go_ª∂£t_öô
–
m⁄go
 *
c⁄n
, c⁄° *
«me
 ) {

470 
	`bs⁄_îΩrötf
("WARNING: mongo_replset_init() is deprecated,Ölease use mongo_replica_set_init()\n");

471 
	`m⁄go_ª∂iˇ_£t_öô
–
c⁄n
, 
«me
 );

472 
	}
}

474 
	$m⁄go_ª∂iˇ_£t_add_node
–
m⁄go_ho°_p‹t
 **
li°
, c⁄° *
ho°
, 
p‹t
 ) {

475 
m⁄go_ho°_p‹t
 *
ho°_p‹t
 = (m⁄go_ho°_p‹t*)
	`bs⁄_mÆloc
( ( mongo_host_port ) );

476 
ho°_p‹t
->
p‹t
 =Öort;

477 
ho°_p‹t
->
√xt
 = 
NULL
;

478 
	`¢¥ötf
–
ho°_p‹t
->
ho°
, 
MAXHOSTNAMELEN
, "%s", host);

480 if–*
li°
 =
NULL
 )

481 *
li°
 = 
ho°_p‹t
;

483 
m⁄go_ho°_p‹t
 *
p
 = *
li°
;

484  
p
->
√xt
 !
NULL
 )

485 
p
 =Ö->
√xt
;

486 
p
->
√xt
 = 
ho°_p‹t
;

488 
	}
}

490 
	$m⁄go_ª∂iˇ_£t_‰ì_li°
–
m⁄go_ho°_p‹t
 **
li°
 ) {

491 
m⁄go_ho°_p‹t
 *
node
 = *
li°
;

492 
m⁄go_ho°_p‹t
 *
¥ev
;

494  
node
 !
NULL
 ) {

495 
¥ev
 = 
node
;

496 
node
 =Çode->
√xt
;

497 
	`bs⁄_‰ì
–
¥ev
 );

500 *
li°
 = 
NULL
;

501 
	}
}

503 
MONGO_EXPORT
 
	$m⁄go_ª∂iˇ_£t_add_£ed
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 ) {

504 
	`m⁄go_ª∂iˇ_£t_add_node
–&
c⁄n
->
ª∂iˇ_£t
->
£eds
, 
ho°
, 
p‹t
 );

505 
	}
}

507 
MONGO_EXPORT
 
	$m⁄go_ª∂£t_add_£ed
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 ) {

508 
	`bs⁄_îΩrötf
("WARNING: mongo_replset_add_seed() is deprecated,Ölease use mongo_replica_set_add_seed()\n");

509 
	`m⁄go_ª∂iˇ_£t_add_node
–&
c⁄n
->
ª∂iˇ_£t
->
£eds
, 
ho°
, 
p‹t
 );

510 
	}
}

512 
	$m⁄go_∑r£_ho°
–c⁄° *
ho°_°rög
, 
m⁄go_ho°_p‹t
 *
ho°_p‹t
 ) {

513 
Àn
, 
idx
, 
•lô
;

514 
Àn
 = 
•lô
 = 
idx
 = 0;

518 if–*–
ho°_°rög
 + 
Àn
 ) == '\0' )

520 if–*–
ho°_°rög
 + 
Àn
 ) == ':' )

521 
•lô
 = 
Àn
;

523 
Àn
++;

528 
idx
 = 
•lô
 ? s∂ô : 
Àn
;

529 
	`mem˝y
–
ho°_p‹t
->
ho°
, 
ho°_°rög
, 
idx
 );

530 
	`mem˝y
–
ho°_p‹t
->
ho°
 + 
idx
, "\0", 1 );

531 if–
•lô
 )

532 
ho°_p‹t
->
p‹t
 = 
	`©oi
–
ho°_°rög
 + 
idx
 + 1 );

534 
ho°_p‹t
->
p‹t
 = 
MONGO_DEFAULT_PORT
;

535 
	}
}

537 
	$m⁄go_ª∂iˇ_£t_check_£ed
–
m⁄go
 *
c⁄n
 ) {

538 
bs⁄
 
out
[1];

539 c⁄° *
d©a
;

540 
bs⁄_ôî©‹
 
ô
[1];

541 
bs⁄_ôî©‹
 
ô_sub
[1];

542 c⁄° *
ho°_°rög
;

543 
m⁄go_ho°_p‹t
 *
ho°_p‹t
 = 
NULL
;

545 if–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "isma°î", 1, 
out
 ) =
MONGO_OK
 ) {

547 if–
	`bs⁄_föd
–
ô
, 
out
, "hosts" ) ) {

548 
d©a
 = 
	`bs⁄_ôî©‹_vÆue
–
ô
 );

549 
	`bs⁄_ôî©‹_‰om_buf„r
–
ô_sub
, 
d©a
 );

553  
	`bs⁄_ôî©‹_√xt
–
ô_sub
 ) ) {

554 
ho°_°rög
 = 
	`bs⁄_ôî©‹_°rög
–
ô_sub
 );

556 
ho°_p‹t
 = (
m⁄go_ho°_p‹t
*)
	`bs⁄_mÆloc
( ( mongo_host_port ) );

558 if–
ho°_p‹t
 ) {

559 
	`m⁄go_∑r£_ho°
–
ho°_°rög
, 
ho°_p‹t
 );

560 
	`m⁄go_ª∂iˇ_£t_add_node
–&
c⁄n
->
ª∂iˇ_£t
->
ho°s
,

561 
ho°_p‹t
->
ho°
, ho°_p‹t->
p‹t
 );

563 
	`bs⁄_‰ì
–
ho°_p‹t
 );

564 
ho°_p‹t
 = 
NULL
;

570 
	`bs⁄_de°roy
(
out
);

571 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

572 
c⁄n
->
sock
 = 0;

573 
c⁄n
->
c⁄√˘ed
 = 0;

574 
	}
}

579 
	$m⁄go_ª∂iˇ_£t_check_ho°
–
m⁄go
 *
c⁄n
 ) {

581 
bs⁄
 
out
[1];

582 
bs⁄_ôî©‹
 
ô
[1];

583 
bs⁄_boﬁ_t
 
isma°î
 = 0;

584 c⁄° *
£t_«me
;

585 
max_bs⁄_size
 = 
MONGO_DEFAULT_MAX_BSON_SIZE
;

587 i‡–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "isma°î", 1, 
out
 ) =
MONGO_OK
 ) {

588 if–
	`bs⁄_föd
–
ô
, 
out
, "ismaster" ) )

589 
isma°î
 = 
	`bs⁄_ôî©‹_boﬁ
–
ô
 );

591 if–
	`bs⁄_föd
–
ô
, 
out
, "maxBsonObjectSize" ) )

592 
max_bs⁄_size
 = 
	`bs⁄_ôî©‹_öt
–
ô
 );

593 
c⁄n
->
max_bs⁄_size
 = max_bson_size;

595 if–
	`bs⁄_föd
–
ô
, 
out
, "setName" ) ) {

596 
£t_«me
 = 
	`bs⁄_ôî©‹_°rög
–
ô
 );

597 if–
	`°rcmp
–
£t_«me
, 
c⁄n
->
ª∂iˇ_£t
->
«me
 ) != 0 ) {

598 
	`bs⁄_de°roy
–
out
 );

599 
c⁄n
->
îr
 = 
MONGO_CONN_BAD_SET_NAME
;

600  
MONGO_ERROR
;

605 
	`bs⁄_de°roy
–
out
 );

607 if–
isma°î
 ) {

608 
c⁄n
->
ª∂iˇ_£t
->
¥im¨y_c⁄√˘ed
 = 1;

611 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

614  
MONGO_OK
;

615 
	}
}

617 
MONGO_EXPORT
 
	$m⁄go_ª∂iˇ_£t_˛õ¡
–
m⁄go
 *
c⁄n
 ) {

619 
ªs
 = 0;

620 
m⁄go_ho°_p‹t
 *
node
;

622 
c⁄n
->
sock
 = 0;

623 
c⁄n
->
c⁄√˘ed
 = 0;

628 
node
 = 
c⁄n
->
ª∂iˇ_£t
->
£eds
;

629  
node
 !
NULL
 ) {

630 
ªs
 = 
	`m⁄go_ív_sockë_c⁄√˘
–
c⁄n
, ( c⁄° * )&
node
->
ho°
,Çode->
p‹t
 );

631 if–
ªs
 =
MONGO_OK
 ) {

632 
	`m⁄go_ª∂iˇ_£t_check_£ed
–
c⁄n
 );

633 if–
c⁄n
->
ª∂iˇ_£t
->
ho°s
 )

636 
node
 =Çode->
√xt
;

640 if–!
c⁄n
->
ª∂iˇ_£t
->
ho°s
 ) {

641 
c⁄n
->
îr
 = 
MONGO_CONN_NO_PRIMARY
;

642  
MONGO_ERROR
;

645 
node
 = 
c⁄n
->
ª∂iˇ_£t
->
ho°s
;

647  
node
 !
NULL
 ) {

648 
ªs
 = 
	`m⁄go_ív_sockë_c⁄√˘
–
c⁄n
, ( c⁄° * )&
node
->
ho°
,Çode->
p‹t
 );

650 if–
ªs
 =
MONGO_OK
 ) {

651 if–
	`m⁄go_ª∂iˇ_£t_check_ho°
–
c⁄n
 ) !
MONGO_OK
 )

652  
MONGO_ERROR
;

655 if–
c⁄n
->
ª∂iˇ_£t
->
¥im¨y_c⁄√˘ed
 ) {

656 
c⁄n
->
¥im¨y
 = 
	`bs⁄_mÆloc
––
m⁄go_ho°_p‹t
 ) );

657 
	`¢¥ötf
–
c⁄n
->
¥im¨y
->
ho°
, 
MAXHOSTNAMELEN
, "%s", 
node
->host );

658 
c⁄n
->
¥im¨y
->
p‹t
 = 
node
->port;

659  
MONGO_OK
;

664 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

665 
c⁄n
->
sock
 = 0;

666 
c⁄n
->
c⁄√˘ed
 = 0;

670 
node
 =Çode->
√xt
;

675 
c⁄n
->
îr
 = 
MONGO_CONN_NO_PRIMARY
;

676  
MONGO_ERROR
;

677 
	}
}

679 
MONGO_EXPORT
 
	$m⁄go_ª∂£t_c⁄√˘
–
m⁄go
 *
c⁄n
 ) {

680 
ªt
;

681 
	`bs⁄_îΩrötf
("WARNING: mongo_replset_connect() is deprecated,Ölease use mongo_replica_set_client()\n");

682 
ªt
 = 
	`m⁄go_ª∂iˇ_£t_˛õ¡
–
c⁄n
 );

683 
	`m⁄go_£t_wrôe_c⁄˚∫
–
c⁄n
, 0 );

684  
ªt
;

685 
	}
}

687 
MONGO_EXPORT
 
	$m⁄go_£t_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 ) {

688 
c⁄n
->
›_timeout_ms
 = 
mûlis
;

689 if–
c⁄n
->
sock
 && c⁄n->
c⁄√˘ed
 )

690 
	`m⁄go_ív_£t_sockë_›_timeout
–
c⁄n
, 
mûlis
 );

692  
MONGO_OK
;

693 
	}
}

695 
MONGO_EXPORT
 
	$m⁄go_ªc⁄√˘
–
m⁄go
 *
c⁄n
 ) {

696 
ªs
;

697 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

699 if–
c⁄n
->
ª∂iˇ_£t
 ) {

700 
c⁄n
->
ª∂iˇ_£t
->
¥im¨y_c⁄√˘ed
 = 0;

701 
	`m⁄go_ª∂iˇ_£t_‰ì_li°
–&
c⁄n
->
ª∂iˇ_£t
->
ho°s
 );

702 
c⁄n
->
ª∂iˇ_£t
->
ho°s
 = 
NULL
;

703 
ªs
 = 
	`m⁄go_ª∂iˇ_£t_˛õ¡
–
c⁄n
 );

704  
ªs
;

707  
	`m⁄go_ív_sockë_c⁄√˘
–
c⁄n
, c⁄n->
¥im¨y
->
ho°
, c⁄n->¥im¨y->
p‹t
 );

708 
	}
}

710 
MONGO_EXPORT
 
	$m⁄go_check_c⁄√˘i⁄
–
m⁄go
 *
c⁄n
 ) {

711 if–! 
c⁄n
->
c⁄√˘ed
 )

712  
MONGO_ERROR
;

714  
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "pög", 1, 
NULL
 );

715 
	}
}

717 
MONGO_EXPORT
 
	$m⁄go_disc⁄√˘
–
m⁄go
 *
c⁄n
 ) {

718 if–! 
c⁄n
->
c⁄√˘ed
 )

721 if–
c⁄n
->
ª∂iˇ_£t
 ) {

722 
c⁄n
->
ª∂iˇ_£t
->
¥im¨y_c⁄√˘ed
 = 0;

723 
	`m⁄go_ª∂iˇ_£t_‰ì_li°
–&
c⁄n
->
ª∂iˇ_£t
->
ho°s
 );

724 
c⁄n
->
ª∂iˇ_£t
->
ho°s
 = 
NULL
;

727 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

729 
c⁄n
->
sock
 = 0;

730 
c⁄n
->
c⁄√˘ed
 = 0;

731 
	}
}

733 
MONGO_EXPORT
 
	$m⁄go_de°roy
–
m⁄go
 *
c⁄n
 ) {

734 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

736 if–
c⁄n
->
ª∂iˇ_£t
 ) {

737 
	`m⁄go_ª∂iˇ_£t_‰ì_li°
–&
c⁄n
->
ª∂iˇ_£t
->
£eds
 );

738 
	`m⁄go_ª∂iˇ_£t_‰ì_li°
–&
c⁄n
->
ª∂iˇ_£t
->
ho°s
 );

739 
	`bs⁄_‰ì
–
c⁄n
->
ª∂iˇ_£t
->
«me
 );

740 
	`bs⁄_‰ì
–
c⁄n
->
ª∂iˇ_£t
 );

741 
c⁄n
->
ª∂iˇ_£t
 = 
NULL
;

744 
	`bs⁄_‰ì
–
c⁄n
->
¥im¨y
 );

746 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

747 
	}
}

750 
	$m⁄go_bs⁄_vÆid
–
m⁄go
 *
c⁄n
, c⁄° 
bs⁄
 *bs⁄, 
wrôe
 ) {

751 
size
;

753 if–! 
bs⁄
->
föished
 ) {

754 
c⁄n
->
îr
 = 
MONGO_BSON_NOT_FINISHED
;

755  
MONGO_ERROR
;

758 
size
 = 
	`bs⁄_size
–
bs⁄
 );

759 if–
size
 > 
c⁄n
->
max_bs⁄_size
 ) {

760 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

761  
MONGO_ERROR
;

764 if–
bs⁄
->
îr
 & 
BSON_NOT_UTF8
 ) {

765 
c⁄n
->
îr
 = 
MONGO_BSON_INVALID
;

766  
MONGO_ERROR
;

769 if–
wrôe
 ) {

770 if––
bs⁄
->
îr
 & 
BSON_FIELD_HAS_DOT
 ) ||

771 –
bs⁄
->
îr
 & 
BSON_FIELD_INIT_DOLLAR
 ) ) {

773 
c⁄n
->
îr
 = 
MONGO_BSON_INVALID
;

774  
MONGO_ERROR
;

779 
c⁄n
->
îr
 = 
MONGO_CONN_SUCCESS
;

781  
MONGO_OK
;

782 
	}
}

785 
	$m⁄go_curs‹_bs⁄_vÆid
–
m⁄go_curs‹
 *
curs‹
, c⁄° 
bs⁄
 *bson ) {

786 if–! 
bs⁄
->
föished
 ) {

787 
curs‹
->
îr
 = 
MONGO_CURSOR_BSON_ERROR
;

788 
curs‹
->
c⁄n
->
îr
 = 
MONGO_BSON_NOT_FINISHED
;

789  
MONGO_ERROR
;

792 if–
bs⁄
->
îr
 & 
BSON_NOT_UTF8
 ) {

793 
curs‹
->
îr
 = 
MONGO_CURSOR_BSON_ERROR
;

794 
curs‹
->
c⁄n
->
îr
 = 
MONGO_BSON_INVALID
;

795  
MONGO_ERROR
;

798  
MONGO_OK
;

799 
	}
}

801 
	$m⁄go_check_œ°_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
ns
,

802 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

803 
bs⁄
 
ª•⁄£
[1];

804 
bs⁄_ôî©‹
 
ô
[1];

805 
ªs
 = 0;

806 *
cmd_ns
 = 
	`m⁄go_ns_to_cmd_db
–
ns
 );

808 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, 
cmd_ns
, 
wrôe_c⁄˚∫
->
cmd
, 
	`bs⁄_sh¨ed_em±y
–), 
ª•⁄£
 );

809 
	`bs⁄_‰ì
–
cmd_ns
 );

811 i‡(
ªs
 =
MONGO_OK
 &&

812 (
	`bs⁄_föd
–
ô
, 
ª•⁄£
, "$îr" ) =
BSON_STRING
 ||

813 
	`bs⁄_föd
–
ô
, 
ª•⁄£
, "îr" ) =
BSON_STRING
)) {

815 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_WRITE_ERROR
,

817 
	`m⁄go_£t_œ°_îr‹
–
c⁄n
, 
ô
, 
ª•⁄£
 );

818 
ªs
 = 
MONGO_ERROR
;

821 
	`bs⁄_de°roy
–
ª•⁄£
 );

822  
ªs
;

823 
	}
}

825 
	$m⁄go_choo£_wrôe_c⁄˚∫
–
m⁄go
 *
c⁄n
,

826 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
,

827 
m⁄go_wrôe_c⁄˚∫
 **
wrôe_c⁄˚∫
 ) {

829 if–
cu°om_wrôe_c⁄˚∫
 ) {

830 *
wrôe_c⁄˚∫
 = 
cu°om_wrôe_c⁄˚∫
;

832 if–
c⁄n
->
wrôe_c⁄˚∫
 ) {

833 *
wrôe_c⁄˚∫
 = 
c⁄n
->write_concern;

835 i‡–*
wrôe_c⁄˚∫
 && (*wrôe_c⁄˚∫)->
w
 < 1 ) {

836 *
wrôe_c⁄˚∫
 = 0;

838 if–*
wrôe_c⁄˚∫
 && !((*wrôe_c⁄˚∫)->
cmd
) ) {

839 
	`__m⁄go_£t_îr‹
–
c⁄n
, 
MONGO_WRITE_CONCERN_INVALID
,

841  
MONGO_ERROR
;

844  
MONGO_OK
;

845 
	}
}

852 
	$m⁄go_mesßge_£nd_™d_check_wrôe_c⁄˚∫
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, 
m⁄go_mesßge
 *
mm
, 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

853 if–
wrôe_c⁄˚∫
 ) {

854 if–
	`m⁄go_mesßge_£nd
–
c⁄n
, 
mm
 ) =
MONGO_ERROR
 ) {

855  
MONGO_ERROR
;

858  
	`m⁄go_check_œ°_îr‹
–
c⁄n
, 
ns
, 
wrôe_c⁄˚∫
 );

861  
	`m⁄go_mesßge_£nd
–
c⁄n
, 
mm
 );

863 
	}
}

865 
MONGO_EXPORT
 
	$m⁄go_ö£π
–
m⁄go
 *
c⁄n
, c⁄° *
ns
,

866 c⁄° 
bs⁄
 *bs⁄, 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 ) {

868 *
d©a
;

869 
m⁄go_mesßge
 *
mm
;

870 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 = 
NULL
;

872 if–
	`m⁄go_vÆid©e_ns
–
c⁄n
, 
ns
 ) !
MONGO_OK
 )

873  
MONGO_ERROR
;

875 if–
	`m⁄go_bs⁄_vÆid
–
c⁄n
, 
bs⁄
, 1 ) !
MONGO_OK
 ) {

876  
MONGO_ERROR
;

879 if–
	`m⁄go_choo£_wrôe_c⁄˚∫
–
c⁄n
, 
cu°om_wrôe_c⁄˚∫
,

880 &
wrôe_c⁄˚∫
 ) =
MONGO_ERROR
 ) {

881  
MONGO_ERROR
;

884 
mm
 = 
	`m⁄go_mesßge_¸óã
( 16

886 + 
	`°æí
–
ns
 )

887 + 1 + 
	`bs⁄_size
–
bs⁄
 )

888 , 0, 0, 
MONGO_OP_INSERT
 );

889 if–
mm
 =
NULL
 ) {

890 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

891  
MONGO_ERROR
;

894 
d©a
 = &
mm
->data;

895 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

896 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
ns
, 
	`°æí
(Çs ) + 1 );

897 
	`m⁄go_d©a_≠≥nd
–
d©a
, 
bs⁄
->d©a, 
	`bs⁄_size
( bson ) );

899  
	`m⁄go_mesßge_£nd_™d_check_wrôe_c⁄˚∫
–
c⁄n
, 
ns
, 
mm
, 
wrôe_c⁄˚∫
 );

900 
	}
}

902 
MONGO_EXPORT
 
	$m⁄go_ö£π_b©ch
–
m⁄go
 *
c⁄n
, c⁄° *
ns
,

903 c⁄° 
bs⁄
 **
bs⁄s
, 
cou¡
, 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
,

904 
Êags
 ) {

906 
m⁄go_mesßge
 *
mm
;

907 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 = 
NULL
;

908 
i
;

909 *
d©a
;

910 
size_t
 
ovîhód
 = 16 + 4 + 
	`°æí
–
ns
 ) + 1;

911 
size_t
 
size
 = 
ovîhód
;

913 if–
	`m⁄go_vÆid©e_ns
–
c⁄n
, 
ns
 ) !
MONGO_OK
 )

914  
MONGO_ERROR
;

916  
i
=0; i<
cou¡
; i++ ) {

917 
size
 +
	`bs⁄_size
–
bs⁄s
[
i
] );

918 if–
	`m⁄go_bs⁄_vÆid
–
c⁄n
, 
bs⁄s
[
i
], 1 ) !
MONGO_OK
 )

919  
MONGO_ERROR
;

922 if––
size
 - 
ovîhód
 ) > (
size_t
)
c⁄n
->
max_bs⁄_size
 ) {

923 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

924  
MONGO_ERROR
;

927 if–
	`m⁄go_choo£_wrôe_c⁄˚∫
–
c⁄n
, 
cu°om_wrôe_c⁄˚∫
,

928 &
wrôe_c⁄˚∫
 ) =
MONGO_ERROR
 ) {

929  
MONGO_ERROR
;

932 
mm
 = 
	`m⁄go_mesßge_¸óã
–
size
 , 0 , 0 , 
MONGO_OP_INSERT
 );

933 if–
mm
 =
NULL
 ) {

934 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

935  
MONGO_ERROR
;

938 
d©a
 = &
mm
->data;

939 if–
Êags
 & 
MONGO_CONTINUE_ON_ERROR
 )

940 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ONE
 );

942 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

943 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
ns
, 
	`°æí
(Çs ) + 1 );

945  
i
=0; i<
cou¡
; i++ ) {

946 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
bs⁄s
[
i
]->d©a, 
	`bs⁄_size
( bsons[i] ) );

949  
	`m⁄go_mesßge_£nd_™d_check_wrôe_c⁄˚∫
–
c⁄n
, 
ns
, 
mm
, 
wrôe_c⁄˚∫
 );

950 
	}
}

952 
MONGO_EXPORT
 
	$m⁄go_upd©e
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
c⁄d
,

953 c⁄° 
bs⁄
 *
›
, 
Êags
, 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 ) {

955 *
d©a
;

956 
m⁄go_mesßge
 *
mm
;

957 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 = 
NULL
;

962 if–
	`m⁄go_bs⁄_vÆid
–
c⁄n
, ( 
bs⁄
 * )
›
, 0 ) !
MONGO_OK
 ) {

963  
MONGO_ERROR
;

966 if–
	`m⁄go_choo£_wrôe_c⁄˚∫
–
c⁄n
, 
cu°om_wrôe_c⁄˚∫
,

967 &
wrôe_c⁄˚∫
 ) =
MONGO_ERROR
 ) {

968  
MONGO_ERROR
;

971 
mm
 = 
	`m⁄go_mesßge_¸óã
( 16

973 + 
	`°æí
–
ns
 ) + 1

975 + 
	`bs⁄_size
–
c⁄d
 )

976 + 
	`bs⁄_size
–
›
 )

977 , 0 , 0 , 
MONGO_OP_UPDATE
 );

978 if–
mm
 =
NULL
 ) {

979 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

980  
MONGO_ERROR
;

983 
d©a
 = &
mm
->data;

984 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

985 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
ns
, 
	`°æí
(Çs ) + 1 );

986 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
Êags
 );

987 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
c⁄d
->d©a, 
	`bs⁄_size
( cond ) );

988 
	`m⁄go_d©a_≠≥nd
–
d©a
, 
›
->d©a, 
	`bs⁄_size
( op ) );

990  
	`m⁄go_mesßge_£nd_™d_check_wrôe_c⁄˚∫
–
c⁄n
, 
ns
, 
mm
, 
wrôe_c⁄˚∫
 );

991 
	}
}

993 
MONGO_EXPORT
 
	$m⁄go_ªmove
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
c⁄d
,

994 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 ) {

996 *
d©a
;

997 
m⁄go_mesßge
 *
mm
;

998 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 = 
NULL
;

1003 if–
	`m⁄go_bs⁄_vÆid
–
c⁄n
, ( 
bs⁄
 * )
c⁄d
, 0 ) !
MONGO_OK
 ) {

1004  
MONGO_ERROR
;

1007 if–
	`m⁄go_choo£_wrôe_c⁄˚∫
–
c⁄n
, 
cu°om_wrôe_c⁄˚∫
,

1008 &
wrôe_c⁄˚∫
 ) =
MONGO_ERROR
 ) {

1009  
MONGO_ERROR
;

1012 
mm
 = 
	`m⁄go_mesßge_¸óã
( 16

1014 + 
	`°æí
–
ns
 ) + 1

1016 + 
	`bs⁄_size
–
c⁄d
 )

1017 , 0 , 0 , 
MONGO_OP_DELETE
 );

1018 if–
mm
 =
NULL
 ) {

1019 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

1020  
MONGO_ERROR
;

1023 
d©a
 = &
mm
->data;

1024 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

1025 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
ns
, 
	`°æí
(Çs ) + 1 );

1026 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

1027 
	`m⁄go_d©a_≠≥nd
–
d©a
, 
c⁄d
->d©a, 
	`bs⁄_size
( cond ) );

1029  
	`m⁄go_mesßge_£nd_™d_check_wrôe_c⁄˚∫
–
c⁄n
, 
ns
, 
mm
, 
wrôe_c⁄˚∫
 );

1030 
	}
}

1037 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_öô
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

1038 
	`mem£t
–
wrôe_c⁄˚∫
, 0, –
m⁄go_wrôe_c⁄˚∫
 ) );

1039 
	}
}

1041 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_föish
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

1042 
bs⁄
 *
comm™d
;

1045 if–
wrôe_c⁄˚∫
->
cmd
 ) {

1046 
	`bs⁄_de°roy
–
wrôe_c⁄˚∫
->
cmd
 );

1047 
comm™d
 = 
wrôe_c⁄˚∫
->
cmd
;

1050 
comm™d
 = 
	`bs⁄_Æloc
();

1052 if–!
comm™d
 ) {

1053  
MONGO_ERROR
;

1056 
	`bs⁄_öô
–
comm™d
 );

1058 
	`bs⁄_≠≥nd_öt
–
comm™d
, "getlasterror", 1 );

1060 if–
wrôe_c⁄˚∫
->
mode
 ) {

1061 
	`bs⁄_≠≥nd_°rög
–
comm™d
, "w", 
wrôe_c⁄˚∫
->
mode
 );

1064 if–
wrôe_c⁄˚∫
->
w
 && write_concern->w > 1 ) {

1065 
	`bs⁄_≠≥nd_öt
–
comm™d
, "w", 
wrôe_c⁄˚∫
->
w
 );

1068 if–
wrôe_c⁄˚∫
->
wtimeout
 ) {

1069 
	`bs⁄_≠≥nd_öt
–
comm™d
, "wtimeout", 
wrôe_c⁄˚∫
->
wtimeout
 );

1072 if–
wrôe_c⁄˚∫
->
j
 ) {

1073 
	`bs⁄_≠≥nd_öt
–
comm™d
, "j", 
wrôe_c⁄˚∫
->
j
 );

1076 if–
wrôe_c⁄˚∫
->
fsync
 ) {

1077 
	`bs⁄_≠≥nd_öt
–
comm™d
, "fsync", 
wrôe_c⁄˚∫
->
fsync
 );

1080 
	`bs⁄_föish
–
comm™d
 );

1084 
wrôe_c⁄˚∫
->
cmd
 = 
comm™d
;

1086  
MONGO_OK
;

1087 
	}
}

1092 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_de°roy
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

1093 if–!
wrôe_c⁄˚∫
 )

1096 if–
wrôe_c⁄˚∫
->
cmd
 ) {

1097 
	`bs⁄_de°roy
–
wrôe_c⁄˚∫
->
cmd
 );

1098 
	`bs⁄_dóŒoc
–
wrôe_c⁄˚∫
->
cmd
 );

1099 
wrôe_c⁄˚∫
->
cmd
 = 
NULL
;

1101 
	}
}

1103 
MONGO_EXPORT
 
	$m⁄go_£t_wrôe_c⁄˚∫
–
m⁄go
 *
c⁄n
,

1104 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ) {

1106 
c⁄n
->
wrôe_c⁄˚∫
 = write_concern;

1107 
	}
}

1109 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_gë_w
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1110  
wrôe_c⁄˚∫
->
w
;

1111 
	}
}

1113 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_gë_wtimeout
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1114  
wrôe_c⁄˚∫
->
wtimeout
;

1115 
	}
}

1117 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_gë_j
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1118  
wrôe_c⁄˚∫
->
j
;

1119 
	}
}

1121 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_gë_fsync
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1122  
wrôe_c⁄˚∫
->
fsync
;

1123 
	}
}

1125 
MONGO_EXPORT
 c⁄° * 
	$m⁄go_wrôe_c⁄˚∫_gë_mode
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1126  
wrôe_c⁄˚∫
->
mode
;

1127 
	}
}

1129 
MONGO_EXPORT
 
bs⁄
* 
	$m⁄go_wrôe_c⁄˚∫_gë_cmd
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 ){

1130  
wrôe_c⁄˚∫
->
cmd
;

1131 
	}
}

1133 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_£t_w
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
w
 ){

1134 
wrôe_c⁄˚∫
->
w
 = w;

1135 
	}
}

1137 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_£t_wtimeout
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
wtimeout
 ){

1138 
wrôe_c⁄˚∫
->
wtimeout
 = wtimeout;

1140 
	}
}

1142 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_£t_j
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
j
 ){

1143 
wrôe_c⁄˚∫
->
j
 = j;

1144 
	}
}

1146 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_£t_fsync
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
fsync
 ){

1147 
wrôe_c⁄˚∫
->
fsync
 = fsync;

1149 
	}
}

1151 
MONGO_EXPORT
 
	$m⁄go_wrôe_c⁄˚∫_£t_mode
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, c⁄° * 
mode
 ){

1152 
wrôe_c⁄˚∫
->
mode
 = mode;

1153 
	}
}

1155 
	$m⁄go_curs‹_›_quîy
–
m⁄go_curs‹
 *
curs‹
 ) {

1156 
ªs
;

1157 *
d©a
;

1158 
m⁄go_mesßge
 *
mm
;

1159 
bs⁄
 
ãmp
;

1160 
bs⁄_ôî©‹
 
ô
;

1163 
	`m⁄go_˛ór_îr‹s
–
curs‹
->
c⁄n
 );

1166 if–! 
curs‹
->
quîy
 )

1167 
curs‹
->
quîy
 = 
	`bs⁄_sh¨ed_em±y
( );

1168 if–
	`m⁄go_curs‹_bs⁄_vÆid
–
curs‹
, curs‹->
quîy
 ) !
MONGO_OK
 )

1169  
MONGO_ERROR
;

1171 if–! 
curs‹
->
fõlds
 )

1172 
curs‹
->
fõlds
 = 
	`bs⁄_sh¨ed_em±y
( );

1173 if–
	`m⁄go_curs‹_bs⁄_vÆid
–
curs‹
, curs‹->
fõlds
 ) !
MONGO_OK
 )

1174  
MONGO_ERROR
;

1176 
mm
 = 
	`m⁄go_mesßge_¸óã
( 16 +

1178 
	`°æí
–
curs‹
->
ns
 ) + 1 +

1180 
	`bs⁄_size
–
curs‹
->
quîy
 ) +

1181 
	`bs⁄_size
–
curs‹
->
fõlds
 ) ,

1182 0 , 0 , 
MONGO_OP_QUERY
 );

1183 if–
mm
 =
NULL
 ) {

1184  
MONGO_ERROR
;

1187 
d©a
 = &
mm
->data;

1188 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©®, &
curs‹
->
›ti⁄s
 );

1189 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©®, 
curs‹
->
ns
 , 
	`°æí
( cursor->ns ) + 1 );

1190 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©®, &
curs‹
->
skù
 );

1191 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©®, &
curs‹
->
limô
 );

1192 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©®, 
curs‹
->
quîy
->d©®, 
	`bs⁄_size
( cursor->query ) );

1193 i‡–
curs‹
->
fõlds
 )

1194 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©®, 
curs‹
->
fõlds
->d©®, 
	`bs⁄_size
( cursor->fields ) );

1196 
	`bs⁄_Áèl_msg
––
d©a
 =––* )
mm
 ) + mm->
hód
.
Àn
 ), "query building fail!" );

1198 
ªs
 = 
	`m⁄go_mesßge_£nd
–
curs‹
->
c⁄n
 , 
mm
 );

1199 if–
ªs
 !
MONGO_OK
 ) {

1200  
MONGO_ERROR
;

1203 
ªs
 = 
	`m⁄go_ªad_ª•⁄£
–
curs‹
->
c⁄n
, ( 
m⁄go_ª∂y
 ** )&–curs‹->
ª∂y
 ) );

1204 if–
ªs
 !
MONGO_OK
 ) {

1205  
MONGO_ERROR
;

1208 if–
curs‹
->
ª∂y
->
fõlds
.
num
 == 1 ) {

1209 
	`bs⁄_öô_föished_d©a
–&
ãmp
, &
curs‹
->
ª∂y
->
objs
, 0 );

1210 if–
	`bs⁄_föd
–&
ô
, &
ãmp
, "$err" ) ) {

1211 
	`m⁄go_£t_œ°_îr‹
–
curs‹
->
c⁄n
, &
ô
, &
ãmp
 );

1212 
curs‹
->
îr
 = 
MONGO_CURSOR_QUERY_FAIL
;

1213  
MONGO_ERROR
;

1217 
curs‹
->
£í
 +curs‹->
ª∂y
->
fõlds
.
num
;

1218 
curs‹
->
Êags
 |
MONGO_CURSOR_QUERY_SENT
;

1219  
MONGO_OK
;

1220 
	}
}

1222 
	$m⁄go_curs‹_gë_m‹e
–
m⁄go_curs‹
 *
curs‹
 ) {

1223 
ªs
;

1225 if–
curs‹
->
limô
 > 0 && curs‹->
£í
 >= cursor->limit ) {

1226 
curs‹
->
îr
 = 
MONGO_CURSOR_EXHAUSTED
;

1227  
MONGO_ERROR
;

1229 if–! 
curs‹
->
ª∂y
 ) {

1230 
curs‹
->
îr
 = 
MONGO_CURSOR_INVALID
;

1231  
MONGO_ERROR
;

1233 if–! 
curs‹
->
ª∂y
->
fõlds
.
curs‹ID
 ) {

1234 
curs‹
->
îr
 = 
MONGO_CURSOR_EXHAUSTED
;

1235  
MONGO_ERROR
;

1238 *
d©a
;

1239 
size_t
 
¶
 = 
	`°æí
–
curs‹
->
ns
 )+1;

1240 
limô
 = 0;

1241 
m⁄go_mesßge
 *
mm
;

1243 if–
curs‹
->
limô
 > 0 )

1244 
limô
 = 
curs‹
->limô - curs‹->
£í
;

1246 
mm
 = 
	`m⁄go_mesßge_¸óã
( 16

1248 +
¶


1251 , 0, 0, 
MONGO_OP_GET_MORE
 );

1252 if–
mm
 =
NULL
 ) {

1253  
MONGO_ERROR
;

1256 
d©a
 = &
mm
->data;

1257 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

1258 
d©a
 = 
	`m⁄go_d©a_≠≥nd
–d©a, 
curs‹
->
ns
, 
¶
 );

1259 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
limô
 );

1260 
	`m⁄go_d©a_≠≥nd64
–
d©a
, &
curs‹
->
ª∂y
->
fõlds
.
curs‹ID
 );

1262 
	`bs⁄_‰ì
–
curs‹
->
ª∂y
 );

1263 
ªs
 = 
	`m⁄go_mesßge_£nd
–
curs‹
->
c⁄n
, 
mm
 );

1264 if–
ªs
 !
MONGO_OK
 ) {

1265 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

1266  
MONGO_ERROR
;

1269 
ªs
 = 
	`m⁄go_ªad_ª•⁄£
–
curs‹
->
c⁄n
, &–curs‹->
ª∂y
 ) );

1270 if–
ªs
 !
MONGO_OK
 ) {

1271 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

1272  
MONGO_ERROR
;

1274 
curs‹
->
cuºít
.
d©a
 = 
NULL
;

1275 
curs‹
->
£í
 +curs‹->
ª∂y
->
fõlds
.
num
;

1277  
MONGO_OK
;

1279 
	}
}

1281 
MONGO_EXPORT
 
m⁄go_curs‹
 *
	$m⁄go_föd
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
quîy
,

1282 c⁄° 
bs⁄
 *
fõlds
, 
limô
, 
skù
, 
›ti⁄s
 ) {

1284 
m⁄go_curs‹
 *
curs‹
 = 
	`m⁄go_curs‹_Æloc
();

1285 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, 
ns
 );

1286 
curs‹
->
Êags
 |
MONGO_CURSOR_MUST_FREE
;

1288 
	`m⁄go_curs‹_£t_quîy
–
curs‹
, 
quîy
 );

1289 
	`m⁄go_curs‹_£t_fõlds
–
curs‹
, 
fõlds
 );

1290 
	`m⁄go_curs‹_£t_limô
–
curs‹
, 
limô
 );

1291 
	`m⁄go_curs‹_£t_skù
–
curs‹
, 
skù
 );

1292 
	`m⁄go_curs‹_£t_›ti⁄s
–
curs‹
, 
›ti⁄s
 );

1294 if–
	`m⁄go_curs‹_›_quîy
–
curs‹
 ) =
MONGO_OK
 )

1295  
curs‹
;

1297 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

1298  
NULL
;

1300 
	}
}

1302 
MONGO_EXPORT
 
	$m⁄go_föd_⁄e
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
quîy
,

1303 c⁄° 
bs⁄
 *
fõlds
, bs⁄ *
out
 ) {

1304 
ªt
;

1305 
m⁄go_curs‹
 
curs‹
[1];

1306 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, 
ns
 );

1307 
	`m⁄go_curs‹_£t_quîy
–
curs‹
, 
quîy
 );

1308 
	`m⁄go_curs‹_£t_fõlds
–
curs‹
, 
fõlds
 );

1309 
	`m⁄go_curs‹_£t_limô
–
curs‹
, 1 );

1311 
ªt
 = 
	`m⁄go_curs‹_√xt
(
curs‹
);

1312 i‡(
ªt
 =
MONGO_OK
 && 
out
)

1313 
ªt
 = 
	`bs⁄_c›y
(
out
, &
curs‹
->
cuºít
);

1314 i‡(
ªt
 !
MONGO_OK
 && 
out
)

1315 
	`bs⁄_öô_zîo
(
out
);

1317 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

1318  
ªt
;

1319 
	}
}

1321 
MONGO_EXPORT
 
	$m⁄go_curs‹_öô
–
m⁄go_curs‹
 *
curs‹
, 
m⁄go
 *
c⁄n
, c⁄° *
ns
 ) {

1322 
	`mem£t
–
curs‹
, 0, –
m⁄go_curs‹
 ) );

1323 
curs‹
->
c⁄n
 = conn;

1324 
curs‹
->
ns
 = ( c⁄° * )
	`bs⁄_mÆloc
–
	`°æí
(Çs ) + 1 );

1325 
	`°∫˝y
––* )
curs‹
->
ns
,Çs, 
	`°æí
(Çs ) + 1 );

1326 
curs‹
->
cuºít
.
d©a
 = 
NULL
;

1327 
	}
}

1329 
MONGO_EXPORT
 
	$m⁄go_curs‹_£t_quîy
–
m⁄go_curs‹
 *
curs‹
, c⁄° 
bs⁄
 *
quîy
 ) {

1330 
curs‹
->
quîy
 = query;

1331 
	}
}

1333 
MONGO_EXPORT
 
	$m⁄go_curs‹_£t_fõlds
–
m⁄go_curs‹
 *
curs‹
, c⁄° 
bs⁄
 *
fõlds
 ) {

1334 
curs‹
->
fõlds
 = fields;

1335 
	}
}

1337 
MONGO_EXPORT
 
	$m⁄go_curs‹_£t_skù
–
m⁄go_curs‹
 *
curs‹
, 
skù
 ) {

1338 
curs‹
->
skù
 = skip;

1339 
	}
}

1341 
MONGO_EXPORT
 
	$m⁄go_curs‹_£t_limô
–
m⁄go_curs‹
 *
curs‹
, 
limô
 ) {

1342 
curs‹
->
limô
 =Üimit;

1343 
	}
}

1345 
MONGO_EXPORT
 
	$m⁄go_curs‹_£t_›ti⁄s
–
m⁄go_curs‹
 *
curs‹
, 
›ti⁄s
 ) {

1346 
curs‹
->
›ti⁄s
 = options;

1347 
	}
}

1349 
MONGO_EXPORT
 c⁄° *
	$m⁄go_curs‹_d©a
–
m⁄go_curs‹
 *
curs‹
 ) {

1350  
curs‹
->
cuºít
.
d©a
;

1351 
	}
}

1353 
MONGO_EXPORT
 c⁄° 
bs⁄
 *
	$m⁄go_curs‹_bs⁄
–
m⁄go_curs‹
 *
curs‹
 ) {

1354  (c⁄° 
bs⁄
 *)&(
curs‹
->
cuºít
);

1355 
	}
}

1357 
MONGO_EXPORT
 
	$m⁄go_curs‹_√xt
–
m⁄go_curs‹
 *
curs‹
 ) {

1358 *
√xt_obje˘
;

1359 *
mesßge_íd
;

1361 if–
curs‹
 =
NULL
 )  
MONGO_ERROR
;

1363 if–! ( 
curs‹
->
Êags
 & 
MONGO_CURSOR_QUERY_SENT
 ) )

1364 if–
	`m⁄go_curs‹_›_quîy
–
curs‹
 ) !
MONGO_OK
 )

1365  
MONGO_ERROR
;

1367 if–!
curs‹
->
ª∂y
 )

1368  
MONGO_ERROR
;

1371 i‡–
curs‹
->
ª∂y
->
fõlds
.
num
 == 0 ) {

1374 if–
curs‹
->
ª∂y
->
fõlds
.
curs‹ID
 ) {

1375 if––
	`m⁄go_curs‹_gë_m‹e
–
curs‹
 ) !
MONGO_OK
 ) ||

1376 
curs‹
->
ª∂y
->
fõlds
.
num
 == 0 ) {

1377  
MONGO_ERROR
;

1382  
MONGO_ERROR
;

1386 i‡–
curs‹
->
cuºít
.
d©a
 =
NULL
 ) {

1387 
	`bs⁄_öô_föished_d©a
–&
curs‹
->
cuºít
, &curs‹->
ª∂y
->
objs
, 0 );

1388  
MONGO_OK
;

1391 
√xt_obje˘
 = 
curs‹
->
cuºít
.
d©a
 + 
	`bs⁄_size
( &cursor->current );

1392 
mesßge_íd
 = ( * )
curs‹
->
ª∂y
 + curs‹->ª∂y->
hód
.
Àn
;

1394 i‡–
√xt_obje˘
 >
mesßge_íd
 ) {

1395 if–
	`m⁄go_curs‹_gë_m‹e
–
curs‹
 ) !
MONGO_OK
 )

1396  
MONGO_ERROR
;

1398 i‡–
curs‹
->
ª∂y
->
fõlds
.
num
 == 0 ) {

1400 i‡–
curs‹
->
ª∂y
->
fõlds
.
curs‹ID
 ) {

1401 
curs‹
->
îr
 = 
MONGO_CURSOR_PENDING
;

1402  
MONGO_ERROR
;

1405  
MONGO_ERROR
;

1408 
	`bs⁄_öô_föished_d©a
–&
curs‹
->
cuºít
, &curs‹->
ª∂y
->
objs
, 0 );

1411 
	`bs⁄_öô_föished_d©a
–&
curs‹
->
cuºít
, 
√xt_obje˘
, 0 );

1414  
MONGO_OK
;

1415 
	}
}

1417 
MONGO_EXPORT
 
	$m⁄go_curs‹_de°roy
–
m⁄go_curs‹
 *
curs‹
 ) {

1418 
ªsu…
 = 
MONGO_OK
;

1419 *
d©a
;

1421 i‡–!
curs‹
 )  
ªsu…
;

1424 i‡–
curs‹
->
ª∂y
 && curs‹->ª∂y->
fõlds
.
curs‹ID
 ) {

1425 
m⁄go
 *
c⁄n
 = 
curs‹
->conn;

1426 
m⁄go_mesßge
 *
mm
 = 
	`m⁄go_mesßge_¸óã
( 16

1430 , 0, 0, 
MONGO_OP_KILL_CURSORS
 );

1431 if–
mm
 =
NULL
 ) {

1432  
MONGO_ERROR
;

1434 
d©a
 = &
mm
->data;

1435 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ZERO
 );

1436 
d©a
 = 
	`m⁄go_d©a_≠≥nd32
–d©a, &
ONE
 );

1437 
	`m⁄go_d©a_≠≥nd64
–
d©a
, &
curs‹
->
ª∂y
->
fõlds
.
curs‹ID
 );

1439 
ªsu…
 = 
	`m⁄go_mesßge_£nd
–
c⁄n
, 
mm
 );

1442 
	`bs⁄_‰ì
–
curs‹
->
ª∂y
 );

1443 
	`bs⁄_‰ì
––* )
curs‹
->
ns
 );

1445 if–
curs‹
->
Êags
 & 
MONGO_CURSOR_MUST_FREE
 )

1446 
	`bs⁄_‰ì
–
curs‹
 );

1448  
ªsu…
;

1449 
	}
}

1453 
	#INDEX_NAME_BUFFER_SIZE
 255

	)

1454 
	#INDEX_NAME_MAX_LENGTH
 (
INDEX_NAME_BUFFER_SIZE
 - 1)

	)

1456 
MONGO_EXPORT
 
	$m⁄go_¸óã_ödex
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
key
, c⁄° *
«me
, 
›ti⁄s
, bs⁄ *
out
 ) {

1457 
bs⁄
 
b
;

1458 
bs⁄_ôî©‹
 
ô
;

1459 
deÁu…_«me
[
INDEX_NAME_BUFFER_SIZE
] = {'\0'};

1460 
size_t
 
Àn
 = 0;

1461 
size_t
 
ªmaöög
;

1462 
idxns
[1024];

1463 *
p
 = 
NULL
;

1465 i‡–!
«me
 ) {

1466 
	`bs⁄_ôî©‹_öô
–&
ô
, 
key
 );

1467  
Àn
 < 
INDEX_NAME_MAX_LENGTH
 && 
	`bs⁄_ôî©‹_√xt
–&
ô
 ) ) {

1468 
ªmaöög
 = 
INDEX_NAME_MAX_LENGTH
 - 
Àn
;

1469 
	`°∫ˇt
–
deÁu…_«me
, 
	`bs⁄_ôî©‹_key
–&
ô
 ), 
ªmaöög
 );

1470 
Àn
 = 
	`°æí
–
deÁu…_«me
 );

1471 
ªmaöög
 = 
INDEX_NAME_MAX_LENGTH
 - 
Àn
;

1472 
	`°∫ˇt
–
deÁu…_«me
, ( 
	`bs⁄_ôî©‹_öt
–&
ô
 ) < 0 ) ? "_-1" : "_1", 
ªmaöög
 );

1473 
Àn
 = 
	`°æí
–
deÁu…_«me
 );

1477 
	`bs⁄_öô
–&
b
 );

1478 
	`bs⁄_≠≥nd_bs⁄
–&
b
, "key", 
key
 );

1479 
	`bs⁄_≠≥nd_°rög
–&
b
, "ns", 
ns
 );

1480 
	`bs⁄_≠≥nd_°rög
–&
b
, "«me", 
«me
 ?Çamê: 
deÁu…_«me
 );

1481 i‡–
›ti⁄s
 & 
MONGO_INDEX_UNIQUE
 )

1482 
	`bs⁄_≠≥nd_boﬁ
–&
b
, "unique", 1 );

1483 i‡–
›ti⁄s
 & 
MONGO_INDEX_DROP_DUPS
 )

1484 
	`bs⁄_≠≥nd_boﬁ
–&
b
, "dropDups", 1 );

1485 i‡–
›ti⁄s
 & 
MONGO_INDEX_BACKGROUND
 )

1486 
	`bs⁄_≠≥nd_boﬁ
–&
b
, "background", 1 );

1487 i‡–
›ti⁄s
 & 
MONGO_INDEX_SPARSE
 )

1488 
	`bs⁄_≠≥nd_boﬁ
–&
b
, "sparse", 1 );

1489 
	`bs⁄_föish
–&
b
 );

1491 
	`°∫˝y
–
idxns
, 
ns
, 1024-16 );

1492 
p
 = 
	`°rchr
–
idxns
, '.' );

1493 i‡–!
p
 ) {

1494 
	`bs⁄_de°roy
–&
b
 );

1495  
MONGO_ERROR
;

1497 
	`°r˝y
–
p
, ".system.indexes" );

1498 i‡–
	`m⁄go_ö£π
–
c⁄n
, 
idxns
, &
b
, 
NULL
 ) !
MONGO_OK
) {

1499 
	`bs⁄_de°roy
–&
b
 );

1500  
MONGO_ERROR
;

1502 
	`bs⁄_de°roy
–&
b
 );

1504 *
	`°rchr
–
idxns
, '.' ) = '\0';

1505  
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
idxns
, 
out
 );

1506 
	}
}

1508 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$m⁄go_¸óã_sim∂e_ödex
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° *
fõld
, 
›ti⁄s
, 
bs⁄
 *
out
 ) {

1509 
bs⁄
 
b
[1];

1510 
bs⁄_boﬁ_t
 
suc˚ss
;

1512 
	`bs⁄_öô
–
b
 );

1513 
	`bs⁄_≠≥nd_öt
–
b
, 
fõld
, 1 );

1514 
	`bs⁄_föish
–
b
 );

1516 
suc˚ss
 = 
	`m⁄go_¸óã_ödex
–
c⁄n
, 
ns
, 
b
, 
NULL
, 
›ti⁄s
, 
out
 );

1517 
	`bs⁄_de°roy
–
b
 );

1518  
suc˚ss
;

1519 
	}
}

1521 
MONGO_EXPORT
 
	$m⁄go_¸óã_ˇµed_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

1522 c⁄° *
cﬁÀ˘i⁄
, 
size
, 
max
, 
bs⁄
 *
out
 ) {

1524 
bs⁄
 
b
[1];

1525 
ªsu…
;

1527 
	`bs⁄_öô
–
b
 );

1528 
	`bs⁄_≠≥nd_°rög
–
b
, "¸óã", 
cﬁÀ˘i⁄
 );

1529 
	`bs⁄_≠≥nd_boﬁ
–
b
, "capped", 1 );

1530 
	`bs⁄_≠≥nd_öt
–
b
, "size", 
size
 );

1531 if–
max
 > 0 )

1532 
	`bs⁄_≠≥nd_öt
–
b
, "max", 
size
 );

1533 
	`bs⁄_föish
–
b
 );

1535 
ªsu…
 = 
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, 
b
, 
out
 );

1537 
	`bs⁄_de°roy
–
b
 );

1539  
ªsu…
;

1540 
	}
}

1542 
MONGO_EXPORT
 
	$m⁄go_cou¡
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° *
cﬁl
, c⁄° 
bs⁄
 *
quîy
 ) {

1543 
bs⁄
 
cmd
[1];

1544 
bs⁄
 
out
[1];

1545 
cou¡
 = 
MONGO_ERROR
;

1547 
	`bs⁄_öô
–
cmd
 );

1548 
	`bs⁄_≠≥nd_°rög
–
cmd
, "cou¡", 
cﬁl
 );

1549 i‡–
quîy
 && 
	`bs⁄_size
( query ) > 5 )

1550 
	`bs⁄_≠≥nd_bs⁄
–
cmd
, "quîy", 
quîy
 );

1551 
	`bs⁄_föish
–
cmd
 );

1553 if–
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, 
cmd
, 
out
 ) =
MONGO_OK
 ) {

1554 
bs⁄_ôî©‹
 
ô
[1];

1555 if–
	`bs⁄_föd
–
ô
, 
out
, "n" ) )

1556 
cou¡
 = 
	`bs⁄_ôî©‹_doubÀ
–
ô
 );

1558 
	`bs⁄_de°roy
–
out
 );

1559 
	`bs⁄_de°roy
–
cmd
 );

1560  
cou¡
;

1561 
	}
}

1563 
MONGO_EXPORT
 
	$m⁄go_run_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° 
bs⁄
 *
comm™d
,

1564 
bs⁄
 *
out
 ) {

1565 
bs⁄
 
ª•⁄£
[1];

1566 
bs⁄_ôî©‹
 
ô
[1];

1567 
size_t
 
¶
 = 
	`°æí
–
db
 );

1568 *
ns
 = (*Ë
	`bs⁄_mÆloc
–
¶
 + 5 + 1 );

1569 
ªs
 = 0;

1571 
	`°r˝y
–
ns
, 
db
 );

1572 
	`°r˝y
–
ns
+
¶
, ".$cmd" );

1574 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, 
comm™d
, 
	`bs⁄_sh¨ed_em±y
–), 
ª•⁄£
 );

1575 
	`bs⁄_‰ì
–
ns
 );

1577 i‡(
ªs
 =
MONGO_OK
 && (!
	`bs⁄_föd
–
ô
, 
ª•⁄£
, "ok" ) || !
	`bs⁄_ôî©‹_boﬁ
( it )) ) {

1578 
c⁄n
->
îr
 = 
MONGO_COMMAND_FAILED
;

1579 
	`bs⁄_de°roy
–
ª•⁄£
 );

1580 
ªs
 = 
MONGO_ERROR
;

1583 i‡(
out
)

1584 i‡(
ªs
 =
MONGO_OK
)

1585 *
out
 = *
ª•⁄£
;

1587 
	`bs⁄_öô_zîo
(
out
);

1588 i‡(
ªs
 =
MONGO_OK
)

1589 
	`bs⁄_de°roy
(
ª•⁄£
);

1591  
ªs
;

1592 
	}
}

1594 
MONGO_EXPORT
 
	$m⁄go_sim∂e_öt_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

1595 c⁄° *
cmd°r
, 
¨g
, 
bs⁄
 *
out
 ) {

1597 
bs⁄
 
cmd
[1];

1598 
ªsu…
;

1600 
	`bs⁄_öô
–
cmd
 );

1601 
	`bs⁄_≠≥nd_öt
–
cmd
, 
cmd°r
, 
¨g
 );

1602 
	`bs⁄_föish
–
cmd
 );

1604 
ªsu…
 = 
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, 
cmd
, 
out
 );

1606 
	`bs⁄_de°roy
–
cmd
 );

1608  
ªsu…
;

1609 
	}
}

1611 
MONGO_EXPORT
 
	$m⁄go_sim∂e_°r_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

1612 c⁄° *
cmd°r
, c⁄° *
¨g
, 
bs⁄
 *
out
 ) {

1614 
ªsu…
;

1615 
bs⁄
 
cmd
;

1616 
	`bs⁄_öô
–&
cmd
 );

1617 
	`bs⁄_≠≥nd_°rög
–&
cmd
, 
cmd°r
, 
¨g
 );

1618 
	`bs⁄_föish
–&
cmd
 );

1620 
ªsu…
 = 
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, &
cmd
, 
out
 );

1622 
	`bs⁄_de°roy
–&
cmd
 );

1624  
ªsu…
;

1625 
	}
}

1627 
MONGO_EXPORT
 
	$m⁄go_cmd_dr›_db
–
m⁄go
 *
c⁄n
, c⁄° *
db
 ) {

1628  
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, 
db
, "dr›D©aba£", 1, 
NULL
 );

1629 
	}
}

1631 
MONGO_EXPORT
 
	$m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° *
cﬁÀ˘i⁄
, 
bs⁄
 *
out
 ) {

1632  
	`m⁄go_sim∂e_°r_comm™d
–
c⁄n
, 
db
, "dr›", 
cﬁÀ˘i⁄
, 
out
 );

1633 
	}
}

1635 
MONGO_EXPORT
 
	$m⁄go_cmd_ª£t_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
 ) {

1636 
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, 
db
, "ª£ãº‹", 1, 
NULL
 );

1637 
	}
}

1639 
	$m⁄go_cmd_gë_îr‹_hñ≥r
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

1640 
bs⁄
 *
ªÆout
, c⁄° *
cmdty≥
 ) {

1642 
bs⁄
 
out
[1];

1643 
bs⁄_boﬁ_t
 
ha£º‹
 = 0;

1646 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

1647 
	`bs⁄_öô_zîo
(
out
);

1650 if–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, 
db
, 
cmdty≥
, 1, 
out
 ) =
MONGO_OK
 ) {

1651 
bs⁄_ôî©‹
 
ô
[1];

1652 
ha£º‹
 = ( 
	`bs⁄_föd
–
ô
, 
out
, "îr" ) !
BSON_NULL
 );

1653 if–
ha£º‹
 ) 
	`m⁄go_£t_œ°_îr‹
–
c⁄n
, 
ô
, 
out
 );

1656 if–
ªÆout
 )

1657 *
ªÆout
 = *
out
;

1659 
	`bs⁄_de°roy
–
out
 );

1661 if–
ha£º‹
 )

1662  
MONGO_ERROR
;

1664  
MONGO_OK
;

1665 
	}
}

1667 
MONGO_EXPORT
 
	$m⁄go_cmd_gë_¥ev_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
, 
bs⁄
 *
out
 ) {

1668  
	`m⁄go_cmd_gë_îr‹_hñ≥r
–
c⁄n
, 
db
, 
out
, "getpreverror" );

1669 
	}
}

1671 
MONGO_EXPORT
 
	$m⁄go_cmd_gë_œ°_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
, 
bs⁄
 *
out
 ) {

1672  
	`m⁄go_cmd_gë_îr‹_hñ≥r
–
c⁄n
, 
db
, 
out
, "getlasterror" );

1673 
	}
}

1675 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$m⁄go_cmd_isma°î
–
m⁄go
 *
c⁄n
, 
bs⁄
 *
ªÆout
 ) {

1676 
bs⁄
 
out
[1];

1677 
bs⁄_boﬁ_t
 
isma°î
 = 0;

1679 
ªs
 = 
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "isma°î", 1, 
out
 );

1680 i‡(
ªs
 =
MONGO_OK
) {

1681 
bs⁄_ôî©‹
 
ô
[1];

1682 
	`bs⁄_föd
–
ô
, 
out
, "ismaster" );

1683 
isma°î
 = 
	`bs⁄_ôî©‹_boﬁ
–
ô
 );

1684 i‡(
ªÆout
)

1685 *
ªÆout
 = *
out
;

1687 
	`bs⁄_de°roy
–
out
 );

1688 } i‡(
ªÆout
)

1689 
	`bs⁄_öô_zîo
(
ªÆout
);

1691  
isma°î
;

1692 
	}
}

1694 
	$dige°2hex
–
m⁄go_md5_byã_t
 
dige°
[16], 
hex_dige°
[33] ) {

1695 c⁄° 
hex
[16] = {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};

1696 
i
;

1697  
i
=0; i<16; i++ ) {

1698 
hex_dige°
[2*
i
] = 
hex
[–
dige°
[i] & 0xf0 ) >> 4];

1699 
hex_dige°
[2*
i
 + 1] = 
hex
[ 
dige°
[i] & 0x0f ];

1701 
hex_dige°
[32] = '\0';

1702 
	}
}

1704 
	$m⁄go_∑ss_dige°
–
m⁄go
 *
c⁄n
, c⁄° *
u£r
, c⁄° *
∑ss
, 
hex_dige°
[33] ) {

1705 
m⁄go_md5_°©e_t
 
°
;

1706 
m⁄go_md5_byã_t
 
dige°
[16];

1708 if–
	`°æí
–
u£r
 ) >
INT32_MAX
 || såÀn–
∑ss
 ) >= INT32_MAX ) {

1709 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

1710  
MONGO_ERROR
;

1712 
	`m⁄go_md5_öô
–&
°
 );

1713 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )
u£r
, ( )
	`°æí
( user ) );

1714 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )":mongo:", 7 );

1715 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )
∑ss
, ( )
	`°æí
(Öass ) );

1716 
	`m⁄go_md5_föish
–&
°
, 
dige°
 );

1717 
	`dige°2hex
–
dige°
, 
hex_dige°
 );

1719  
MONGO_OK
;

1720 
	}
}

1722 
MONGO_EXPORT
 
	$m⁄go_cmd_add_u£r
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° *
u£r
, c⁄° *
∑ss
 ) {

1723 
bs⁄
 
u£r_obj
;

1724 
bs⁄
 
∑ss_obj
;

1725 
hex_dige°
[33];

1726 *
ns
 = 
	`bs⁄_mÆloc
–
	`°æí
–
db
 ) + strlen( ".system.users" ) + 1 );

1727 
ªs
;

1729 
	`°r˝y
–
ns
, 
db
 );

1730 
	`°r˝y
–
ns
+
	`°æí
–
db
 ), ".system.users" );

1732 
ªs
 = 
	`m⁄go_∑ss_dige°
–
c⁄n
, 
u£r
, 
∑ss
, 
hex_dige°
 );

1733 i‡(
ªs
 !
MONGO_OK
) {

1734 
	`‰ì
(
ns
);

1735  
ªs
;

1738 
	`bs⁄_öô
–&
u£r_obj
 );

1739 
	`bs⁄_≠≥nd_°rög
–&
u£r_obj
, "u£r", 
u£r
 );

1740 
	`bs⁄_föish
–&
u£r_obj
 );

1742 
	`bs⁄_öô
–&
∑ss_obj
 );

1743 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
∑ss_obj
, "$set" );

1744 
	`bs⁄_≠≥nd_°rög
–&
∑ss_obj
, "pwd", 
hex_dige°
 );

1745 
	`bs⁄_≠≥nd_föish_obje˘
–&
∑ss_obj
 );

1746 
	`bs⁄_föish
–&
∑ss_obj
 );

1748 
ªs
 = 
	`m⁄go_upd©e
–
c⁄n
, 
ns
, &
u£r_obj
, &
∑ss_obj
, 
MONGO_UPDATE_UPSERT
, 
NULL
 );

1750 
	`bs⁄_‰ì
–
ns
 );

1751 
	`bs⁄_de°roy
–&
u£r_obj
 );

1752 
	`bs⁄_de°roy
–&
∑ss_obj
 );

1754  
ªs
;

1755 
	}
}

1757 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
	$m⁄go_cmd_authítiˇã
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° *
u£r
, c⁄° *
∑ss
 ) {

1758 
bs⁄
 
‰om_db
;

1759 
bs⁄
 
cmd
;

1760 c⁄° *
n⁄˚
;

1761 
ªsu…
;

1762 
bs⁄_ôî©‹
 
ô
;

1764 
m⁄go_md5_°©e_t
 
°
;

1765 
m⁄go_md5_byã_t
 
dige°
[16];

1766 
hex_dige°
[33];

1768 if–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, 
db
, "gën⁄˚", 1, &
‰om_db
 ) !
MONGO_OK
 )

1769  
MONGO_ERROR
;

1771 
	`bs⁄_föd
–&
ô
, &
‰om_db
, "nonce" );

1772 
n⁄˚
 = 
	`bs⁄_ôî©‹_°rög
–&
ô
 );

1774 
ªsu…
 = 
	`m⁄go_∑ss_dige°
–
c⁄n
, 
u£r
, 
∑ss
, 
hex_dige°
 );

1775 if–
ªsu…
 !
MONGO_OK
 ) {

1776  
ªsu…
;

1779 if–
	`°æí
–
n⁄˚
 ) >
INT32_MAX
 || såÀn–
u£r
 ) >= INT32_MAX ) {

1780 
c⁄n
->
îr
 = 
MONGO_BSON_TOO_LARGE
;

1781  
MONGO_ERROR
;

1784 
	`m⁄go_md5_öô
–&
°
 );

1785 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )
n⁄˚
, ( )
	`°æí
(Çonce ) );

1786 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )
u£r
, ( )
	`°æí
( user ) );

1787 
	`m⁄go_md5_≠≥nd
–&
°
, ( c⁄° 
m⁄go_md5_byã_t
 * )
hex_dige°
, 32 );

1788 
	`m⁄go_md5_föish
–&
°
, 
dige°
 );

1789 
	`dige°2hex
–
dige°
, 
hex_dige°
 );

1791 
	`bs⁄_öô
–&
cmd
 );

1792 
	`bs⁄_≠≥nd_öt
–&
cmd
, "authenticate", 1 );

1793 
	`bs⁄_≠≥nd_°rög
–&
cmd
, "u£r", 
u£r
 );

1794 
	`bs⁄_≠≥nd_°rög
–&
cmd
, "n⁄˚", 
n⁄˚
 );

1795 
	`bs⁄_≠≥nd_°rög
–&
cmd
, "key", 
hex_dige°
 );

1796 
	`bs⁄_föish
–&
cmd
 );

1798 
ªsu…
 = 
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, &
cmd
, 
NULL
 );

1800 
	`bs⁄_de°roy
–&
‰om_db
 );

1801 
	`bs⁄_de°roy
–&
cmd
 );

1803  
ªsu…
;

1804 
	}
}

	@oss/mongo-c-driver/src/mongo.h

21 #i‚de‡
MONGO_H_


22 
	#MONGO_H_


	)

24 
	~"bs⁄.h
"

26 
	gMONGO_EXTERN_C_START


28 #i‡!
deföed
(
MONGO_ENV_STANDARD
Ë&& (deföed(
__APPLE__
Ë|| deföed(
__löux
Ë|| deföed(
__unix
Ë|| deföed(
__posix
))

29 
	tSOCKET
;

31 
size_t
 
	tSOCKET
;

35 
	#MONGO_MAJOR
 0

	)

36 
	#MONGO_MINOR
 7

	)

37 
	#MONGO_PATCH
 0

	)

39 
	#MONGO_OK
 0

	)

40 
	#MONGO_ERROR
 -1

	)

42 
	#MONGO_DEFAULT_PORT
 27017

	)

44 
	#MONGO_DEFAULT_MAX_BSON_SIZE
 4 * 1024 * 1024

	)

46 
	#MONGO_ERR_LEN
 128

	)

48 #i‚de‡
MAXHOSTNAMELEN


49 
	#MAXHOSTNAMELEN
 256

	)

52 
	em⁄go_îr‹_t
 {

53 
	mMONGO_CONN_SUCCESS
 = 0,

54 
	mMONGO_CONN_NO_SOCKET
,

55 
	mMONGO_CONN_FAIL
,

56 
	mMONGO_CONN_ADDR_FAIL
,

57 
	mMONGO_CONN_NOT_MASTER
,

58 
	mMONGO_CONN_BAD_SET_NAME
,

59 
	mMONGO_CONN_NO_PRIMARY
,

61 
	mMONGO_IO_ERROR
,

62 
	mMONGO_SOCKET_ERROR
,

63 
	mMONGO_READ_SIZE_ERROR
,

64 
	mMONGO_COMMAND_FAILED
,

65 
	mMONGO_WRITE_ERROR
,

66 
	mMONGO_NS_INVALID
,

67 
	mMONGO_BSON_INVALID
,

68 
	mMONGO_BSON_NOT_FINISHED
,

69 
	mMONGO_BSON_TOO_LARGE
,

70 
	mMONGO_WRITE_CONCERN_INVALID


71 } 
	tm⁄go_îr‹_t
;

73 
	em⁄go_curs‹_îr‹_t
 {

74 
	mMONGO_CURSOR_EXHAUSTED
,

75 
	mMONGO_CURSOR_INVALID
,

76 
	mMONGO_CURSOR_PENDING
,

77 
	mMONGO_CURSOR_QUERY_FAIL
,

79 
	mMONGO_CURSOR_BSON_ERROR


81 } 
	tm⁄go_curs‹_îr‹_t
;

83 
	em⁄go_curs‹_Êags
 {

84 
	mMONGO_CURSOR_MUST_FREE
 = 1,

85 
	mMONGO_CURSOR_QUERY_SENT
 = ( 1<<1 )

88 
	em⁄go_ödex_›ts
 {

89 
	mMONGO_INDEX_UNIQUE
 = ( 1<<0 ),

90 
	mMONGO_INDEX_DROP_DUPS
 = ( 1<<2 ),

91 
	mMONGO_INDEX_BACKGROUND
 = ( 1<<3 ),

92 
	mMONGO_INDEX_SPARSE
 = ( 1<<4 )

95 
	em⁄go_upd©e_›ts
 {

96 
	mMONGO_UPDATE_UPSERT
 = 0x1,

97 
	mMONGO_UPDATE_MULTI
 = 0x2,

98 
	mMONGO_UPDATE_BASIC
 = 0x4

101 
	em⁄go_ö£π_›ts
 {

102 
	mMONGO_CONTINUE_ON_ERROR
 = 0x1

105 
	em⁄go_curs‹_›ts
 {

106 
	mMONGO_TAILABLE
 = ( 1<<1 ),

107 
	mMONGO_SLAVE_OK
 = ( 1<<2 ),

108 
	mMONGO_NO_CURSOR_TIMEOUT
 = ( 1<<4 ),

109 
	mMONGO_AWAIT_DATA
 = ( 1<<5 ),

110 
	mMONGO_EXHAUST
 = ( 1<<6 ),

111 
	mMONGO_PARTIAL
 = ( 1<<7 )

114 
	em⁄go_›î©i⁄s
 {

115 
	mMONGO_OP_MSG
 = 1000,

116 
	mMONGO_OP_UPDATE
 = 2001,

117 
	mMONGO_OP_INSERT
 = 2002,

118 
	mMONGO_OP_QUERY
 = 2004,

119 
	mMONGO_OP_GET_MORE
 = 2005,

120 
	mMONGO_OP_DELETE
 = 2006,

121 
	mMONGO_OP_KILL_CURSORS
 = 2007

124 #¥agm®
∑ck
(1)

126 
	mÀn
;

127 
	mid
;

128 
	mª•⁄£To
;

129 
	m›
;

130 } 
	tm⁄go_hódî
;

133 
m⁄go_hódî
 
	mhód
;

134 
	md©a
;

135 } 
	tm⁄go_mesßge
;

138 
	mÊag
;

139 
öt64_t
 
	mcurs‹ID
;

140 
	m°¨t
;

141 
	mnum
;

142 } 
	tm⁄go_ª∂y_fõlds
;

145 
m⁄go_hódî
 
	mhód
;

146 
m⁄go_ª∂y_fõlds
 
	mfõlds
;

147 
	mobjs
;

148 } 
	tm⁄go_ª∂y
;

149 #¥agm®
∑ck
()

151 
	sm⁄go_ho°_p‹t
 {

152 
	mho°
[
MAXHOSTNAMELEN
];

153 
	mp‹t
;

154 
m⁄go_ho°_p‹t
 *
	m√xt
;

155 } 
	tm⁄go_ho°_p‹t
;

157 
	sm⁄go_wrôe_c⁄˚∫
 {

158 
	mw
;

159 
	mwtimeout
;

160 
	mj
;

161 
	mfsync
;

162 c⁄° *
	mmode
;

164 
bs⁄
 *
	mcmd
;

165 } 
	tm⁄go_wrôe_c⁄˚∫
;

168 
m⁄go_ho°_p‹t
 *
	m£eds
;

169 
m⁄go_ho°_p‹t
 *
	mho°s
;

170 *
	m«me
;

171 
bs⁄_boﬁ_t
 
	m¥im¨y_c⁄√˘ed
;

172 } 
	tm⁄go_ª∂iˇ_£t
;

174 
	sm⁄go
 {

175 
m⁄go_ho°_p‹t
 *
	m¥im¨y
;

176 
m⁄go_ª∂iˇ_£t
 *
	mª∂iˇ_£t
;

177 
SOCKET
 
	msock
;

178 
	mÊags
;

179 
	mc⁄n_timeout_ms
;

180 
	m›_timeout_ms
;

181 
	mmax_bs⁄_size
;

182 
bs⁄_boﬁ_t
 
	mc⁄√˘ed
;

183 
m⁄go_wrôe_c⁄˚∫
 *
	mwrôe_c⁄˚∫
;

185 
m⁄go_îr‹_t
 
	mîr
;

186 
	mîrcode
;

187 
	mîr°r
[
MONGO_ERR_LEN
];

188 
	mœ°îrcode
;

189 
	mœ°îr°r
[
MONGO_ERR_LEN
];

190 } 
	tm⁄go
;

193 
m⁄go_ª∂y
 *
	mª∂y
;

194 
m⁄go
 *
	mc⁄n
;

195 c⁄° *
	mns
;

196 
	mÊags
;

197 
	m£í
;

198 
bs⁄
 
	mcuºít
;

199 
m⁄go_curs‹_îr‹_t
 
	mîr
;

200 c⁄° 
bs⁄
 *
	mquîy
;

201 c⁄° 
bs⁄
 *
	mfõlds
;

202 
	m›ti⁄s
;

203 
	mlimô
;

204 
	mskù
;

205 } 
	tm⁄go_curs‹
;

213 
MONGO_EXPORT
 
m⁄go_öô_sockës
( );

225 
MONGO_EXPORT
 
m⁄go_öô
–
m⁄go
 *
c⁄n
 );

237 
MONGO_EXPORT
 
m⁄go_˛õ¡
–
m⁄go
 *
c⁄n
 , c⁄° *
ho°
, 
p‹t
 );

250 
MONGO_EXPORT
 
m⁄go_c⁄√˘
–
m⁄go
 *
c⁄n
 , c⁄° *
ho°
, 
p‹t
 );

259 
MONGO_EXPORT
 
m⁄go_ª∂iˇ_£t_öô
–
m⁄go
 *
c⁄n
, c⁄° *
«me
 );

269 
MONGO_EXPORT
 
m⁄go_ª∂£t_öô
–
m⁄go
 *
c⁄n
, c⁄° *
«me
 );

280 
MONGO_EXPORT
 
m⁄go_ª∂iˇ_£t_add_£ed
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 );

292 
MONGO_EXPORT
 
m⁄go_ª∂£t_add_£ed
–
m⁄go
 *
c⁄n
, c⁄° *
ho°
, 
p‹t
 );

301 
m⁄go_∑r£_ho°
–c⁄° *
ho°_°rög
, 
m⁄go_ho°_p‹t
 *
ho°_p‹t
 );

312 
MONGO_EXPORT
 
m⁄go_vÆid©e_ns
–
m⁄go
 *
c⁄n
, c⁄° *
ns
 );

325 
MONGO_EXPORT
 
m⁄go_ª∂iˇ_£t_˛õ¡
–
m⁄go
 *
c⁄n
 );

339 
MONGO_EXPORT
 
m⁄go_ª∂£t_c⁄√˘
–
m⁄go
 *
c⁄n
 );

351 
MONGO_EXPORT
 
m⁄go_£t_›_timeout
–
m⁄go
 *
c⁄n
, 
mûlis
 );

361 
MONGO_EXPORT
 
m⁄go_check_c⁄√˘i⁄
–
m⁄go
 *
c⁄n
 );

374 
MONGO_EXPORT
 
m⁄go_ªc⁄√˘
–
m⁄go
 *
c⁄n
 );

383 
MONGO_EXPORT
 
m⁄go_disc⁄√˘
–
m⁄go
 *
c⁄n
 );

393 
MONGO_EXPORT
 
m⁄go_de°roy
–
m⁄go
 *
c⁄n
 );

404 
MONGO_EXPORT
 
m⁄go_£t_wrôe_c⁄˚∫
–
m⁄go
 *
c⁄n
,

405 
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

411 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_gë_w
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

412 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_gë_wtimeout
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

413 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_gë_j
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

414 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_gë_fsync
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

415 
MONGO_EXPORT
 c⁄° * 
m⁄go_wrôe_c⁄˚∫_gë_mode
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

416 
MONGO_EXPORT
 
bs⁄
* 
m⁄go_wrôe_c⁄˚∫_gë_cmd
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

422 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_£t_w
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
w
 );

423 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_£t_wtimeout
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
wtimeout
 );

424 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_£t_j
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
j
 );

425 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_£t_fsync
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, 
fsync
 );

426 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_£t_mode
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
, c⁄° * 
mode
 );

449 
MONGO_EXPORT
 
m⁄go_ö£π
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
d©a
,

450 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 );

471 
MONGO_EXPORT
 
m⁄go_ö£π_b©ch
–
m⁄go
 *
c⁄n
, c⁄° *
ns
,

472 c⁄° 
bs⁄
 **
d©a
, 
num
, 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
,

473 
Êags
 );

491 
MONGO_EXPORT
 
m⁄go_upd©e
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
c⁄d
,

492 c⁄° 
bs⁄
 *
›
, 
Êags
, 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 );

507 
MONGO_EXPORT
 
m⁄go_ªmove
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
c⁄d
,

508 
m⁄go_wrôe_c⁄˚∫
 *
cu°om_wrôe_c⁄˚∫
 );

519 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_öô
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

528 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_föish
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

534 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_de°roy
–
m⁄go_wrôe_c⁄˚∫
 *
wrôe_c⁄˚∫
 );

555 
MONGO_EXPORT
 
m⁄go_curs‹
 *
m⁄go_föd
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
quîy
,

556 c⁄° 
bs⁄
 *
fõlds
, 
limô
, 
skù
, 
›ti⁄s
 );

565 
MONGO_EXPORT
 
m⁄go_curs‹_öô
–
m⁄go_curs‹
 *
curs‹
, 
m⁄go
 *
c⁄n
, c⁄° *
ns
 );

578 
MONGO_EXPORT
 
m⁄go_curs‹_£t_quîy
–
m⁄go_curs‹
 *
curs‹
, c⁄° 
bs⁄
 *
quîy
 );

588 
MONGO_EXPORT
 
m⁄go_curs‹_£t_fõlds
–
m⁄go_curs‹
 *
curs‹
, c⁄° 
bs⁄
 *
fõlds
 );

596 
MONGO_EXPORT
 
m⁄go_curs‹_£t_skù
–
m⁄go_curs‹
 *
curs‹
, 
skù
 );

604 
MONGO_EXPORT
 
m⁄go_curs‹_£t_limô
–
m⁄go_curs‹
 *
curs‹
, 
limô
 );

613 
MONGO_EXPORT
 
m⁄go_curs‹_£t_›ti⁄s
–
m⁄go_curs‹
 *
curs‹
, 
›ti⁄s
 );

621 
MONGO_EXPORT
 c⁄° *
m⁄go_curs‹_d©a
–
m⁄go_curs‹
 *
curs‹
 );

629 
MONGO_EXPORT
 c⁄° 
bs⁄
 *
m⁄go_curs‹_bs⁄
–
m⁄go_curs‹
 *
curs‹
 );

640 
MONGO_EXPORT
 
m⁄go_curs‹_√xt
–
m⁄go_curs‹
 *
curs‹
 );

651 
MONGO_EXPORT
 
m⁄go_curs‹_de°roy
–
m⁄go_curs‹
 *
curs‹
 );

664 
MONGO_EXPORT
 
m⁄go_föd_⁄e
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
quîy
,

665 c⁄° 
bs⁄
 *
fõlds
, bs⁄ *
out
 );

683 
MONGO_EXPORT
 
m⁄go_cou¡
–
m⁄go
 *
c⁄n
, c⁄° *
db
, c⁄° *
cﬁl
,

684 c⁄° 
bs⁄
 *
quîy
 );

703 
MONGO_EXPORT
 
m⁄go_¸óã_ödex
–
m⁄go
 *
c⁄n
, c⁄° *
ns
, c⁄° 
bs⁄
 *
key
,

704 c⁄° *
«me
, 
›ti⁄s
, 
bs⁄
 *
out
 );

720 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
m⁄go_¸óã_sim∂e_ödex
–
m⁄go
 *
c⁄n
, c⁄° *
ns
,

721 c⁄° *
fõld
, 
›ti⁄s
, 
bs⁄
 *
out
 );

735 
MONGO_EXPORT
 
m⁄go_¸óã_ˇµed_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

736 c⁄° *
cﬁÀ˘i⁄
, 
size
, 
max
, 
bs⁄
 *
out
 );

748 
MONGO_EXPORT
 
m⁄go_run_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

749 c⁄° 
bs⁄
 *
comm™d
, bs⁄ *
out
 );

763 
MONGO_EXPORT
 
m⁄go_sim∂e_öt_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

764 c⁄° *
cmd
, 
¨g
, 
bs⁄
 *
out
 );

778 
MONGO_EXPORT
 
m⁄go_sim∂e_°r_comm™d
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

779 c⁄° *
cmd
, c⁄° *
¨g
, 
bs⁄
 *
out
 );

789 
MONGO_EXPORT
 
m⁄go_cmd_dr›_db
–
m⁄go
 *
c⁄n
, c⁄° *
db
 );

801 
MONGO_EXPORT
 
m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

802 c⁄° *
cﬁÀ˘i⁄
, 
bs⁄
 *
out
 );

814 
MONGO_EXPORT
 
m⁄go_cmd_add_u£r
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

815 c⁄° *
u£r
, c⁄° *
∑ss
 );

827 
MONGO_EXPORT
 
m⁄go_cmd_authítiˇã
–
m⁄go
 *
c⁄n
, c⁄° *
db
,

828 c⁄° *
u£r
, c⁄° *
∑ss
 );

839 
MONGO_EXPORT
 
bs⁄_boﬁ_t
 
m⁄go_cmd_isma°î
–
m⁄go
 *
c⁄n
, 
bs⁄
 *
out
 );

854 
MONGO_EXPORT
 
m⁄go_cmd_gë_œ°_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
, 
bs⁄
 *
out
 );

869 
MONGO_EXPORT
 
m⁄go_cmd_gë_¥ev_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
, 
bs⁄
 *
out
 );

877 
MONGO_EXPORT
 
m⁄go_cmd_ª£t_îr‹
–
m⁄go
 *
c⁄n
, c⁄° *
db
 );

884 
MONGO_EXPORT
 
m⁄go
* 
m⁄go_Æloc
( );

885 
MONGO_EXPORT
 
m⁄go_dóŒoc
(
m⁄go
* 
c⁄n
);

886 
MONGO_EXPORT
 
m⁄go_gë_îr
(
m⁄go
* 
c⁄n
);

887 
MONGO_EXPORT
 
m⁄go_is_c⁄√˘ed
(
m⁄go
* 
c⁄n
);

888 
MONGO_EXPORT
 
m⁄go_gë_›_timeout
(
m⁄go
* 
c⁄n
);

889 
MONGO_EXPORT
 c⁄° * 
m⁄go_gë_¥im¨y
(
m⁄go
* 
c⁄n
);

890 
MONGO_EXPORT
 
SOCKET
 
m⁄go_gë_sockë
(
m⁄go
* 
c⁄n
) ;

891 
MONGO_EXPORT
 
m⁄go_gë_ho°_cou¡
(
m⁄go
* 
c⁄n
);

892 
MONGO_EXPORT
 c⁄° * 
m⁄go_gë_ho°
(
m⁄go
* 
c⁄n
, 
i
);

893 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫
* 
m⁄go_wrôe_c⁄˚∫_Æloc
( );

894 
MONGO_EXPORT
 
m⁄go_wrôe_c⁄˚∫_dóŒoc
(
m⁄go_wrôe_c⁄˚∫
* 
wrôe_c⁄˚∫
);

895 
MONGO_EXPORT
 
m⁄go_curs‹
* 
m⁄go_curs‹_Æloc
( );

896 
MONGO_EXPORT
 
m⁄go_curs‹_dóŒoc
(
m⁄go_curs‹
* 
curs‹
);

897 
MONGO_EXPORT
 
m⁄go_gë_£rvî_îr
(
m⁄go
* 
c⁄n
);

898 
MONGO_EXPORT
 c⁄° * 
m⁄go_gë_£rvî_îr_°rög
(
m⁄go
* 
c⁄n
);

908 
MONGO_EXPORT
 
__m⁄go_£t_îr‹
–
m⁄go
 *
c⁄n
, 
m⁄go_îr‹_t
 
îr
,

909 c⁄° *
îr°r
, 
îr‹code
 );

915 
MONGO_EXPORT
 
m⁄go_˛ór_îr‹s
–
m⁄go
 *
c⁄n
 );

917 
	gMONGO_EXTERN_C_END


	@oss/mongo-c-driver/src/numbers.c

17 c⁄° 
	gbs⁄_num°rs
[1000][4] = {

	@oss/mongo-c-driver/test/auth_test.c

1 
	~"ã°.h
"

2 
	~"m⁄go.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 c⁄° *
	gdb
 = "test";

9 
	$maö
() {

11 
m⁄go
 
c⁄n
[1];

13 
INIT_SOCKETS_FOR_WINDOWS
;

14 
CONN_CLIENT_TEST
;

16 
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
db
 );

18 
	`ASSERT
–
	`m⁄go_cmd_authítiˇã
–
c⁄n
, 
db
, "u£r", "∑ssw‹d" ) =
MONGO_ERROR
 );

19 
	`m⁄go_cmd_add_u£r
–
c⁄n
, 
db
, "user", "password" );

20 
	`ASSERT
–
	`m⁄go_cmd_authítiˇã
–
c⁄n
, 
db
, "u£r", "∑ssw‹d" ) =
MONGO_OK
 );

22 
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
db
 );

23 
	`m⁄go_de°roy
–
c⁄n
 );

25 
	}
}

	@oss/mongo-c-driver/test/bcon_test.c

18 
	~<°dio.h
>

19 
	~<°dlib.h
>

20 
	~<limôs.h
>

21 
	~<as£π.h
>

22 
	~"bc⁄.h
"

24 
	gvîbo£
 = 0;

26 
bc⁄_tokí
(*
s
);

28 
	$ã°_bc⁄_tokí
( ) {

29 
	`as£π
(
Tokí_DeÁu…
 =
	`bc⁄_tokí
(":_i:X"));

30 
	`as£π
(
Tokí_Ty≥•ec
 =
	`bc⁄_tokí
(":_i:"));

31 
	`as£π
(
Tokí_O≥nBø˚
 =
	`bc⁄_tokí
("{"));

32 
	`as£π
(
Tokí_Clo£Bø˚
 =
	`bc⁄_tokí
("}"));

33 
	`as£π
(
Tokí_O≥nBøckë
 =
	`bc⁄_tokí
("["));

34 
	`as£π
(
Tokí_Clo£Bøckë
 =
	`bc⁄_tokí
("]"));

35 
	`as£π
(
Tokí_End
 =
	`bc⁄_tokí
("."));

36 
	`as£π
(
Tokí_EOD
 =
	`bc⁄_tokí
(0));

37 
	}
}

39 
	$ã°_bs⁄_‰om_bc⁄
–c⁄° 
bc⁄
 *
bc
, 
bc⁄_îr‹_t
 
bc_îr
, 
bv_îr
 ) {

40 
bc⁄_îr‹_t
 
ªt
;

41 
bs⁄
 
b
[1];

42 i‡–
vîbo£
 ) { 
	`putch¨
('\t'); 
	`bc⁄_¥öt
(
bc
);Öutchar('\n'); }

43 
ªt
 = 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

44 i‡(
ªt
 !
bc_îr
) {

45 
	`¥ötf
("ã°_bs⁄_‰om_bc⁄Ñë:%d(%sË!bc_îr:%d(%s)\n", 
ªt
, 
bc⁄_îr°r
[ªt], 
bc_îr
, bcon_errstr[bc_err]);

47 
	`as£π
–
ªt
 =
bc_îr
 );

48 
	`as£π
–
b
->
îr
 =
bv_îr
 );

49 i‡–
vîbo£
 )

50 
	`bs⁄_¥öt
(
b
);

51 
	`bs⁄_de°roy
–
b
 );

52 
	}
}

54 
	$ã°_övÆid_°ru˘uª
( ) {

55 
bc⁄
 
bc_öcom∂ëe
[] = { "k0", 
BEND
 };

57 
	`ã°_bs⁄_‰om_bc⁄
–
bc_öcom∂ëe
, 
BCON_DOCUMENT_INCOMPLETE
, 
BSON_VALID
 );

58 
	}
}

60 
	$ã°_¥obÀm©ic_°ru˘uª
( ) {

61 
bc⁄
 
bc_öcom∂ëe
[] = { "k0", 
BEND
 };

62 
bc⁄
 
bc_bøckë_bø˚
[] = { "k0", "v0", "k1", "{", "k11", "v11", "]", "v12", "}", 
BEND
 };

63 
bc⁄
 
bc_bø˚_bøckë
[] = { "k0", "v0", "k1", "[", "k11", "v11", "}", "]", 
BEND
 };

65 
	`ã°_bs⁄_‰om_bc⁄
–
bc_öcom∂ëe
, 
BCON_DOCUMENT_INCOMPLETE
, 
BSON_VALID
 );

66 
	`ã°_bs⁄_‰om_bc⁄
–
bc_bøckë_bø˚
, 
BCON_OK
, 
BSON_VALID
 );

67 
	`ã°_bs⁄_‰om_bc⁄
–
bc_bø˚_bøckë
, 
BCON_OK
, 
BSON_VALID
 );

68 
	}
}

70 
	$ã°_vÆid_°ru˘uª
( ) {

71 
bc⁄
 
bc_key_vÆue
[] = { "k0", "v0", 
BEND
 };

72 
bc⁄
 
bc_key_•ec_vÆue
[] = { "k0", ":_s:", "v0", 
BEND
 };

73 
bc⁄
 
bc_key_vÆue_2
[] = { "k0", "v0", "k1", "v1", 
BEND
 };

74 
bc⁄
 
bc_embedded
[] = { "k0", "v0", "k1", "{", "k10", "v10", "k11", "v11", "}", "k2", "v2", 
BEND
 };

75 
bc⁄
 
bc_embedded_2
[] = { "k0", "v0", "k1", "{", "k10", "v10", "k11", "{", "k110", "v110", "}", "k12", "v12", "}", "k2", "v2", 
BEND
 };

76 
bc⁄
 
bc_¨øy
[] = { "k0", "v0", "k1", "[", "v10", "v11", "v12", "]", "k2", "v2", 
BEND
 };

77 
bc⁄
 
bc_¨øy_wôh_ty≥
[] = { "k0", "v0", "k1", "[", "v10", 
	`BI
(123), 
	`BL
(456789), "v12", "]", "k2", "v2", 
BEND
 };

78 
bc⁄
 
bc_¨øy_2
[] = { "k0", "v0", "k1", "[", "v10", "v11", "[", "v120", "v121", "]", "v13", "]", "k2", "v2", 
BEND
 };

79 
bc⁄
 
bc_doc_¨øy
[] = { "k0", "v0", "k1", "{", "k10", "v10", "k11", "[", "v110", "v111", "]", "k12", "v12", "}", "k2", "v2", 
BEND
 };

80 
bc⁄
 
bc_¨øy_doc
[] = { "k0", "v0", "k1", "[", "v10", "v11", "{", "k120", "v120", "k121", "v121", "}", "v13", "]", "k2", "v2", 
BEND
 };

82 
	`ã°_bs⁄_‰om_bc⁄
–
bc_key_vÆue
, 
BCON_OK
, 
BSON_VALID
 );

83 
	`ã°_bs⁄_‰om_bc⁄
–
bc_key_•ec_vÆue
, 
BCON_OK
, 
BSON_VALID
 );

84 
	`ã°_bs⁄_‰om_bc⁄
–
bc_key_vÆue_2
, 
BCON_OK
, 
BSON_VALID
 );

85 
	`ã°_bs⁄_‰om_bc⁄
–
bc_embedded
, 
BCON_OK
, 
BSON_VALID
 );

86 
	`ã°_bs⁄_‰om_bc⁄
–
bc_embedded_2
, 
BCON_OK
, 
BSON_VALID
 );

87 
	`ã°_bs⁄_‰om_bc⁄
–
bc_¨øy
, 
BCON_OK
, 
BSON_VALID
 );

88 
	`ã°_bs⁄_‰om_bc⁄
–
bc_¨øy_wôh_ty≥
, 
BCON_OK
, 
BSON_VALID
 );

89 
	`ã°_bs⁄_‰om_bc⁄
–
bc_¨øy_2
, 
BCON_OK
, 
BSON_VALID
 );

90 
	`ã°_bs⁄_‰om_bc⁄
–
bc_doc_¨øy
, 
BCON_OK
, 
BSON_VALID
 );

91 
	`ã°_bs⁄_‰om_bc⁄
–
bc_¨øy_doc
, 
BCON_OK
, 
BSON_VALID
 );

92 
	}
}

94 
	$ã°_basic_ty≥s
( ) {

95 
bc⁄
 
doc
[] = { "k0", "v0", "k1", "v1", 
BEND
 };

96 
bc⁄
 
¨øy
[] = { "v0", "v1", "v2", 
BEND
 };

97 
bc⁄
 
basic_ty≥s
[] = {

98 "f(doubÀ)", 
	`BF
(3.14159),

99 "°rög", 
	`BS
("a string"),

100 "doc", 
	`BD
(
doc
),

101 "¨øy", 
	`BA
(
¨øy
),

102 "oid", 
	`BO
("010203040506070809101112"),

103 "boﬁón", 
	`BB
(1),

104 "time", 
	`BT
(
	`time
(0)),

105 "nuŒ", 
BNULL
,

106 "symbﬁ", 
	`BX
("a symbol"),

107 "öt", 
	`BI
(123),

108 "l⁄g", 
	`BL
(456789L),

109 
BEND


111 
	`ã°_bs⁄_‰om_bc⁄
–
basic_ty≥s
, 
BCON_OK
, 
BSON_VALID
 );

112 
	}
}

114 
	$ã°_ª„ªn˚_öãΩﬁ©i⁄
( ) {

115 
f
 = 3.14159;

116 
s
[] = "a_string";

117 
bc⁄
 
doc
[] = { "k0", "v0", "k1", "v1", 
BEND
 };

118 
bc⁄
 
¨øy
[] = { "v0", "v1", "v2", 
BEND
 };

119 
oid_s
[] = "010203040506070809101112";

120 
bs⁄_boﬁ_t
 
bb
 = 1;

121 
time_t
 
t
 = 
	`time
(0);

122 
x
[] = "a symbol";

123 
i
 = 123;

124 
l
 = 456789L;

125 
bc⁄
 
ª„ªn˚_öãΩﬁ©i⁄
[] = {

126 "f", 
	`BRF
(&
f
),

127 "°rög", 
	`BRS
(
s
),

128 "doc", 
	`BRD
(
doc
),

129 "¨øy", 
	`BRA
(
¨øy
),

130 "oid", 
	`BRO
(
oid_s
),

131 "boﬁón", 
	`BRB
(&
bb
),

132 "time", 
	`BRT
(&
t
),

133 "symbﬁ", 
	`BRX
(
x
),

134 "öt", 
	`BRI
(&
i
),

135 "l⁄g", 
	`BRL
(&
l
),

136 
BEND


138 
	`ã°_bs⁄_‰om_bc⁄
–
ª„ªn˚_öãΩﬁ©i⁄
, 
BCON_OK
, 
BSON_VALID
 );

139 
f
 = 2.71828;

140 
	`°r˝y
(
s
, "b_string");

141 
doc
[0].
s
 = "key";

142 
¨øy
[1].
s
 = "val";

143 
	`°r˝y
(
oid_s
, "987654321506070809101112");

144 
bb
 = 0;

145 
t
 = 
	`time
(0);

146 
	`°r˝y
(
x
, "b symbol");

147 
i
 = 456;

148 
l
 = 123456L;

149 
	`ã°_bs⁄_‰om_bc⁄
–
ª„ªn˚_öãΩﬁ©i⁄
, 
BCON_OK
, 
BSON_VALID
 );

150 
	}
}

152 
	$ã°_poöãr_öãΩﬁ©i⁄
( ) {

153 
f
 = 3.14159;

154 *
pf
 = &
f
;

155 
s
[] = "a_string";

156 **
ps
 = (**)&
s
;

157 
bc⁄
 
doc
[] = { "k0", "v0", "k1", "v1", 
BEND
 };

158 
bc⁄
 **
pdoc
 = (bc⁄**)&
doc
;

159 
bc⁄
 
¨øy
[] = { "v0", "v1", "v2", 
BEND
 };

160 
bc⁄
 **
∑ºay
 = (bc⁄**)&
¨øy
;

161 
oid_s
[] = "010203040506070809101112";

162 **
poid_s
 = (**)&
oid_s
;

163 
bs⁄_boﬁ_t
 
bb
 = 1;

164 
bs⁄_boﬁ_t
 *
pbb
 = &
bb
;

165 
time_t
 
t
 = 
	`time
(0);

166 
time_t
 *
±
 = &
t
;

167 
x
[] = "a symbol";

168 **
px
 = (**)&
x
;

169 
i
 = 123;

170 *
pi
 = &
i
;

171 
l
 = 456789L;

172 *
∂
 = &
l
;

173 
bc⁄
 
poöãr_öãΩﬁ©i⁄
[] = {

175 "f", 
	`BPF
(&
pf
),

176 "°rög", 
	`BPS
(&
ps
),

177 "doc", 
	`BPD
(&
pdoc
),

178 "¨øy", 
	`BPA
(&
∑ºay
),

179 "oid", 
	`BPO
(&
poid_s
),

180 "boﬁón", 
	`BPB
(&
pbb
),

181 "time", 
	`BPT
(&
±
),

182 "symbﬁ", 
	`BPX
(&
px
),

183 "öt", 
	`BPI
(&
pi
),

184 "l⁄g", 
	`BPL
(&
∂
),

186 
BEND


188 
	`ã°_bs⁄_‰om_bc⁄
–
poöãr_öãΩﬁ©i⁄
, 
BCON_OK
, 
BSON_VALID
 );

189 
f
 = 2.71828;

190 
	`°r˝y
(
s
, "b_string");

191 
doc
[0].
s
 = "key";

192 
¨øy
[1].
s
 = "val";

193 
	`°r˝y
(
oid_s
, "987654321506070809101112");

194 
bb
 = 0;

195 
t
 = 
	`time
(0);

196 
	`°r˝y
(
x
, "b symbol");

197 
i
 = 456;

198 
l
 = 123456L;

199 
	`ã°_bs⁄_‰om_bc⁄
–
poöãr_öãΩﬁ©i⁄
, 
BCON_OK
, 
BSON_VALID
 );

200 
pf
 = 0; 
ps
 = 0; 
pdoc
 = 0; 
∑ºay
 = 0; 
poid_s
 = 0; 
pbb
 = 0; 
±
 = 0; 
px
 = 0; 
pi
 = 0; 
∂
 = 0;

201 
	`ã°_bs⁄_‰om_bc⁄
–
poöãr_öãΩﬁ©i⁄
, 
BCON_OK
, 
BSON_VALID
 );

202 
	}
}

204 
	$ã°_oid_gíî©i⁄
( ) {

205 
oid_s
[] = "010203040506070809101112";

206 **
poid_s
 = (**)&
oid_s
;

207 
bc⁄
 
oid_bc
[] = { "_id", 
	`BO
(""), "u£r_id", 
	`BRO
(
oid_s
), "admö_id", 
	`BPO
(&
poid_s
), 
BEND
 };

208 
	`ã°_bs⁄_‰om_bc⁄
–
oid_bc
, 
BCON_OK
, 
BSON_VALID
 );

209 
oid_s
[0] = '\0';

210 
	`ã°_bs⁄_‰om_bc⁄
–
oid_bc
, 
BCON_OK
, 
BSON_VALID
 );

211 
	}
}

213 
	$ã°_ª„ªn˚_öãΩﬁ©i⁄_exam∂e
( ) {

214 
bs⁄
 
b
[1];

215 
«me
[] = "pi";

216 
vÆue
 = 3.14159;

217 
bc⁄
 
bc
[] = { "«me", 
	`BRS
(
«me
), "vÆue", 
	`BRF
(&
vÆue
), 
BEND
 };

218 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

219 i‡(
vîbo£
Ë
	`bs⁄_¥öt
–
b
 );

220 
	`°r˝y
(
«me
, "e");

221 
vÆue
 = 2.71828;

222 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

223 i‡(
vîbo£
Ë
	`bs⁄_¥öt
–
b
 );

224 
	}
}

226 
	$ã°_poöãr_öãΩﬁ©i⁄_exam∂e
( ) {

227 
bs⁄
 
b
[1];

228 
«me
[] = "pi";

229 
√w_«me
[] = "log(0)";

230 **
≤ame
 = (**)&
«me
;

231 
vÆue
 = 3.14159;

232 *
pvÆue
 = &
vÆue
;

233 
bc⁄
 
bc
[] = { "«me", 
	`BPS
(&
≤ame
), "vÆue", 
	`BPF
(&
pvÆue
), 
BEND
 };

234 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

235 
	`ã°_bs⁄_‰om_bc⁄
–
bc
, 
BCON_OK
, 
BSON_VALID
 );

236 
≤ame
 = (**)&
√w_«me
;

237 
pvÆue
 = 0;

238 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

239 
	`ã°_bs⁄_‰om_bc⁄
–
bc
, 
BCON_OK
, 
BSON_VALID
 );

240 
	}
}

242 
	$ã°_addôi⁄Æ_nŸes_exam∂e
( ) {

243 
bs⁄
 
b
[1];

244 
bc⁄
 
bc
[] = { "•ec", 
	`BS
(":_s:"), 
BEND
 };

245 
	`bs⁄_‰om_bc⁄
–
b
, 
bc
 );

246 
	`ã°_bs⁄_‰om_bc⁄
–
bc
, 
BCON_OK
, 
BSON_VALID
 );

247 
	}
}

249 
	$ã°_exam∂e_hñlo_w‹ld
( ) {

250 
bc⁄_îr‹_t
 
ªt
;

251 
bs⁄
 
b
[1];

255 
bc⁄
 
hñlo
[] = {"hñlo", "w‹ld", 
BEND
};

256 
	`ã°_bs⁄_‰om_bc⁄
–
hñlo
, 
BCON_OK
, 
BSON_VALID
 );

258 i‡–
vîbo£
 )

259 
	`¥ötf
("\t--------\n");

261 
	`bs⁄_öô
–
b
 );

262 
	`bs⁄_≠≥nd_°rög
–
b
, "hello", "world" );

263 
ªt
 = 
	`bs⁄_föish
–
b
 );

264 i‡–
vîbo£
 )

265 
	`bs⁄_¥öt
–
b
 );

266 
	`bs⁄_de°roy
–
b
 );

267 
	}
}

269 
	$ã°_exam∂e_awesome
( ) {

270 
bc⁄_îr‹_t
 
ªt
;

271 
bs⁄
 
b
[1];

275 
bc⁄
 
awesome
[] = { "BSON", "[", "awesome", 
	`BF
(5.05), 
	`BI
(1986), "]", 
BEND
 };

276 
	`ã°_bs⁄_‰om_bc⁄
–
awesome
, 
BCON_OK
, 
BSON_VALID
 );

278 i‡(
vîbo£
 )

279 
	`¥ötf
("\t--------\n");

281 
	`bs⁄_öô
–
b
 );

282 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, "BSON" );

283 
	`bs⁄_≠≥nd_°rög
–
b
, "0", "awesome" );

284 
	`bs⁄_≠≥nd_doubÀ
–
b
, "1", 5.05 );

285 
	`bs⁄_≠≥nd_öt
–
b
, "2", 1986 );

286 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

287 
ªt
 = 
	`bs⁄_föish
–
b
 );

288 i‡–
vîbo£
 )

289 
	`bs⁄_¥öt
–
b
 );

290 
	`bs⁄_de°roy
–
b
 );

291 
	}
}

293 
	$ã°_exam∂e_wikùedü_bc⁄
(
size_t
 
ôî©i⁄s
) {

294 
bc⁄_îr‹_t
 
ªt
;

295 
size_t
 
i
;

296 
bs⁄
 
b
[1];

297 
bc⁄
 
wikùedü
[] = {

300 "age" , 
	`BI
(25),

319 
BEND


321 
i
 = 0; i < 
ôî©i⁄s
; i++) {

322 
ªt
 = 
	`bs⁄_‰om_bc⁄
–
b
, 
wikùedü
 );

323 
	`bs⁄_de°roy
–
b
 );

325 
	`as£π
(
ªt
 =
BCON_OK
);

326 
	}
}

328 
	$ã°_exam∂e_wikùedü_bs⁄
(
size_t
 
ôî©i⁄s
) {

329 
bc⁄_îr‹_t
 
ªt
;

330 
size_t
 
i
;

331 
bs⁄
 
b
[1];

332 
i
 = 0; i < 
ôî©i⁄s
; i++) {

333 
	`bs⁄_öô
–
b
 );

334 
	`bs⁄_≠≥nd_°rög
–
b
, "firstName", "John" );

335 
	`bs⁄_≠≥nd_°rög
–
b
, "lastName" , "Smith" );

336 
	`bs⁄_≠≥nd_öt
–
b
, "age" , 25);

337 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "address" );

338 
	`bs⁄_≠≥nd_°rög
–
b
, "streetAddress", "21 2nd Street" );

339 
	`bs⁄_≠≥nd_°rög
–
b
, "city" , "New York" );

340 
	`bs⁄_≠≥nd_°rög
–
b
, "state" , "NY" );

341 
	`bs⁄_≠≥nd_°rög
–
b
, "postalCode" , "10021" );

342 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

343 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, "phoneNumber" );

344 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "0" );

345 
	`bs⁄_≠≥nd_°rög
–
b
, "type" , "home" );

346 
	`bs⁄_≠≥nd_°rög
–
b
, "number", "212 555-1234" );

347 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

348 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "1" );

349 
	`bs⁄_≠≥nd_°rög
–
b
, "type" , "fax" );

350 
	`bs⁄_≠≥nd_°rög
–
b
, "number", "646 555-4567" );

351 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

352 
	`bs⁄_≠≥nd_föish_¨øy
–
b
 );

353 
ªt
 = 
	`bs⁄_föish
–
b
 );

354 
	`bs⁄_de°roy
–
b
 );

356 
	`as£π
(
ªt
 =
BSON_OK
);

357 
	}
}

359 
	$ã°_exam∂e_wikùedü
( ) {

398 
	}
}

400 
	#NAME_VALUE
(
x
Ë{ #x, x }

	)

402 
	sã°_suôe
 {

403 *
	m«me
;

404 (*
	m‚
)( );

405 } 
	gã°_suôe
[] = {

406 
NAME_VALUE
(
ã°_bc⁄_tokí
),

407 
NAME_VALUE
(
ã°_övÆid_°ru˘uª
),

408 
NAME_VALUE
(
ã°_vÆid_°ru˘uª
),

409 
NAME_VALUE
(
ã°_¥obÀm©ic_°ru˘uª
),

410 
NAME_VALUE
(
ã°_basic_ty≥s
),

411 
NAME_VALUE
(
ã°_ª„ªn˚_öãΩﬁ©i⁄
),

412 
NAME_VALUE
(
ã°_poöãr_öãΩﬁ©i⁄
),

413 
NAME_VALUE
(
ã°_oid_gíî©i⁄
),

414 
NAME_VALUE
(
ã°_ª„ªn˚_öãΩﬁ©i⁄_exam∂e
),

415 
NAME_VALUE
(
ã°_poöãr_öãΩﬁ©i⁄_exam∂e
),

416 
NAME_VALUE
(
ã°_addôi⁄Æ_nŸes_exam∂e
),

417 
NAME_VALUE
(
ã°_exam∂e_hñlo_w‹ld
),

418 
NAME_VALUE
(
ã°_exam∂e_awesome
),

422 
	$maö
(
¨gc
, **
¨gv
) {

423 
i
;

424 i‡(
¨gc
 > 1)

425 
vîbo£
 = 1;

426 
i
 = 0; i < (
ã°_suôe
)/(test_suite); i++) {

427 i‡–
vîbo£
 )

428 
	`¥ötf
("%s:\n", 
ã°_suôe
[
i
].
«me
);

429 (*
ã°_suôe
[
i
].
‚
)();

432 
	}
}

	@oss/mongo-c-driver/test/benchmark_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

9 #i‚de‡
_WIN32


10 
	~<sys/time.h
>

14 
	#DB
 "bíchm¨ks"

	)

17 
	#DO_SLOW_TESTS
 1

	)

19 #i‚de‡
TEST_SERVER


20 
	#TEST_SERVER
 "127.0.0.1"

	)

23 
	#PER_TRIAL
 5000

	)

24 
	#BATCH_SIZE
 100

	)

26 
m⁄go
 
	gc⁄n
[1];

28 
	$make_smÆl
–
bs⁄
 *
out
, 
i
 ) {

29 
	`bs⁄_öô
–
out
 );

30 
	`bs⁄_≠≥nd_√w_oid
–
out
, "_id" );

31 
	`bs⁄_≠≥nd_öt
–
out
, "x", 
i
 );

32 
	`bs⁄_föish
–
out
 );

33 
	}
}

35 
	$make_medium
–
bs⁄
 *
out
, 
i
 ) {

36 
	`bs⁄_öô
–
out
 );

37 
	`bs⁄_≠≥nd_√w_oid
–
out
, "_id" );

38 
	`bs⁄_≠≥nd_öt
–
out
, "x", 
i
 );

39 
	`bs⁄_≠≥nd_öt
–
out
, "integer", 5 );

40 
	`bs⁄_≠≥nd_doubÀ
–
out
, "number", 5.05 );

41 
	`bs⁄_≠≥nd_boﬁ
–
out
, "boolean", 0 );

43 
	`bs⁄_≠≥nd_°¨t_¨øy
–
out
, "array" );

44 
	`bs⁄_≠≥nd_°rög
–
out
, "0", "test" );

45 
	`bs⁄_≠≥nd_°rög
–
out
, "1", "benchmark" );

46 
	`bs⁄_≠≥nd_föish_obje˘
–
out
 );

48 
	`bs⁄_föish
–
out
 );

49 
	}
}

51 c⁄° *
	gw‹ds
[14] = {

57 
	$make_œrge
–
bs⁄
 *
out
, 
i
 ) {

58 
num
;

59 
num°r
[4];

60 
	`bs⁄_öô
–
out
 );

62 
	`bs⁄_≠≥nd_√w_oid
–
out
, "_id" );

63 
	`bs⁄_≠≥nd_öt
–
out
, "x", 
i
 );

64 
	`bs⁄_≠≥nd_°rög
–
out
, "base_url", "http://www.example.com/test-me" );

65 
	`bs⁄_≠≥nd_öt
–
out
, "total_word_count", 6743 );

66 
	`bs⁄_≠≥nd_öt
–
out
, "access_time", 999 );

68 
	`bs⁄_≠≥nd_°¨t_obje˘
–
out
, "meta_tags" );

69 
	`bs⁄_≠≥nd_°rög
–
out
, "description", "iámáÜong description string" );

70 
	`bs⁄_≠≥nd_°rög
–
out
, "author", "Holly Man" );

71 
	`bs⁄_≠≥nd_°rög
–
out
, "dynamically_created_meta_tag", "who know\n what" );

72 
	`bs⁄_≠≥nd_föish_obje˘
–
out
 );

74 
	`bs⁄_≠≥nd_°¨t_obje˘
–
out
, "page_structure" );

75 
	`bs⁄_≠≥nd_öt
–
out
, "counted_tags", 3450 );

76 
	`bs⁄_≠≥nd_öt
–
out
, "no_of_js_attached", 10 );

77 
	`bs⁄_≠≥nd_öt
–
out
, "no_of_images", 6 );

78 
	`bs⁄_≠≥nd_föish_obje˘
–
out
 );

81 
	`bs⁄_≠≥nd_°¨t_¨øy
–
out
, "harvested_words" );

82  
num
=0;Çum < 14*20;Çum++ ) {

83 
	`bs⁄_num°r
–
num°r
, 
num
 );

84 
	`bs⁄_≠≥nd_°rög
–
out
, 
num°r
, 
w‹ds
[
num
%14] );

86 
	`bs⁄_≠≥nd_föish_obje˘
–
out
 );

88 
	`bs⁄_föish
–
out
 );

89 
	}
}

91 
	$£rülize_smÆl_ã°
( ) {

92 
i
;

93 
bs⁄
 
b
;

94  
i
=0; i<
PER_TRIAL
; i++ ) {

95 
	`make_smÆl
–&
b
, 
i
 );

96 
	`bs⁄_de°roy
–&
b
 );

98 
	}
}

99 
	$£rülize_medium_ã°
( ) {

100 
i
;

101 
bs⁄
 
b
;

102  
i
=0; i<
PER_TRIAL
; i++ ) {

103 
	`make_medium
–&
b
, 
i
 );

104 
	`bs⁄_de°roy
–&
b
 );

106 
	}
}

107 
	$£rülize_œrge_ã°
( ) {

108 
i
;

109 
bs⁄
 
b
;

110  
i
=0; i<
PER_TRIAL
; i++ ) {

111 
	`make_œrge
–&
b
, 
i
 );

112 
	`bs⁄_de°roy
–&
b
 );

114 
	}
}

115 
	$sögÀ_ö£π_smÆl_ã°
( ) {

116 
i
;

117 
bs⁄
 
b
;

118  
i
=0; i<
PER_TRIAL
; i++ ) {

119 
	`make_smÆl
–&
b
, 
i
 );

120 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".sögÀ.smÆl", &
b
, 
NULL
 );

121 
	`bs⁄_de°roy
–&
b
 );

123 
	}
}

125 
	$sögÀ_ö£π_medium_ã°
( ) {

126 
i
;

127 
bs⁄
 
b
;

128  
i
=0; i<
PER_TRIAL
; i++ ) {

129 
	`make_medium
–&
b
, 
i
 );

130 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".sögÀ.medium", &
b
, 
NULL
 );

131 
	`bs⁄_de°roy
–&
b
 );

133 
	}
}

135 
	$sögÀ_ö£π_œrge_ã°
( ) {

136 
i
;

137 
bs⁄
 
b
;

138  
i
=0; i<
PER_TRIAL
; i++ ) {

139 
	`make_œrge
–&
b
, 
i
 );

140 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".sögÀ.œrge", &
b
, 
NULL
 );

141 
	`bs⁄_de°roy
–&
b
 );

143 
	}
}

145 
	$ödex_ö£π_smÆl_ã°
( ) {

146 
i
;

147 
bs⁄
 
b
;

148 
	`ASSERT
–
	`m⁄go_¸óã_sim∂e_ödex
–
c⁄n
, 
DB
 ".ödex.smÆl", "x", 0, 
NULL
 ) =
MONGO_OK
 );

149  
i
=0; i<
PER_TRIAL
; i++ ) {

150 
	`make_smÆl
–&
b
, 
i
 );

151 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".ödex.smÆl", &
b
, 
NULL
 );

152 
	`bs⁄_de°roy
–&
b
 );

154 
	}
}

156 
	$ödex_ö£π_medium_ã°
( ) {

157 
i
;

158 
bs⁄
 
b
;

159 
	`ASSERT
–
	`m⁄go_¸óã_sim∂e_ödex
–
c⁄n
, 
DB
 ".ödex.medium", "x", 0, 
NULL
 ) =
MONGO_OK
 );

160  
i
=0; i<
PER_TRIAL
; i++ ) {

161 
	`make_medium
–&
b
, 
i
 );

162 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".ödex.medium", &
b
, 
NULL
 );

163 
	`bs⁄_de°roy
–&
b
 );

165 
	}
}

167 
	$ödex_ö£π_œrge_ã°
( ) {

168 
i
;

169 
bs⁄
 
b
;

170 
	`ASSERT
–
	`m⁄go_¸óã_sim∂e_ödex
–
c⁄n
, 
DB
 ".ödex.œrge", "x", 0, 
NULL
 ) =
MONGO_OK
 );

171  
i
=0; i<
PER_TRIAL
; i++ ) {

172 
	`make_œrge
–&
b
, 
i
 );

173 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".ödex.œrge", &
b
, 
NULL
 );

174 
	`bs⁄_de°roy
–&
b
 );

176 
	}
}

178 
	$b©ch_ö£π_smÆl_ã°
( ) {

179 
i
, 
j
;

180 
bs⁄
 
b
[
BATCH_SIZE
];

181 
bs⁄
 *
bp
[
BATCH_SIZE
];

182  
j
=0; j < 
BATCH_SIZE
; j++ )

183 
bp
[
j
] = &
b
[j];

185  
i
=0; i < ( 
PER_TRIAL
 / 
BATCH_SIZE
 ); i++ ) {

186  
j
=0; j < 
BATCH_SIZE
; j++ )

187 
	`make_smÆl
–&
b
[
j
], 
i
 );

189 
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
DB
 ".b©ch.smÆl", 
bp
, 
BATCH_SIZE
, 
NULL
 );

191  
j
=0; j < 
BATCH_SIZE
; j++ )

192 
	`bs⁄_de°roy
–&
b
[
j
] );

194 
	}
}

196 
	$b©ch_ö£π_medium_ã°
( ) {

197 
i
, 
j
;

198 
bs⁄
 
b
[
BATCH_SIZE
];

199 
bs⁄
 *
bp
[
BATCH_SIZE
];

200  
j
=0; j < 
BATCH_SIZE
; j++ )

201 
bp
[
j
] = &
b
[j];

203  
i
=0; i < ( 
PER_TRIAL
 / 
BATCH_SIZE
 ); i++ ) {

204  
j
=0; j < 
BATCH_SIZE
; j++ )

205 
	`make_medium
–&
b
[
j
], 
i
 );

207 
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
DB
 ".b©ch.medium", 
bp
, 
BATCH_SIZE
, 
NULL
 );

209  
j
=0; j < 
BATCH_SIZE
; j++ )

210 
	`bs⁄_de°roy
–&
b
[
j
] );

212 
	}
}

214 
	$b©ch_ö£π_œrge_ã°
( ) {

215 
i
, 
j
;

216 
bs⁄
 
b
[
BATCH_SIZE
];

217 
bs⁄
 *
bp
[
BATCH_SIZE
];

218  
j
=0; j < 
BATCH_SIZE
; j++ )

219 
bp
[
j
] = &
b
[j];

221  
i
=0; i < ( 
PER_TRIAL
 / 
BATCH_SIZE
 ); i++ ) {

222  
j
=0; j < 
BATCH_SIZE
; j++ )

223 
	`make_œrge
–&
b
[
j
], 
i
 );

225 
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
DB
 ".b©ch.œrge", 
bp
, 
BATCH_SIZE
, 
NULL
 );

227  
j
=0; j < 
BATCH_SIZE
; j++ )

228 
	`bs⁄_de°roy
–&
b
[
j
] );

230 
	}
}

232 
	$make_quîy
–
bs⁄
 *
b
 ) {

233 
	`bs⁄_öô
–
b
 );

234 
	`bs⁄_≠≥nd_öt
–
b
, "x", 
PER_TRIAL
/2 );

235 
	`bs⁄_föish
–
b
 );

236 
	}
}

238 
	$föd_⁄e
–c⁄° *
ns
 ) {

239 
bs⁄
 
b
;

240 
i
;

241  
i
=0; i < 
PER_TRIAL
; i++ ) {

242 
	`make_quîy
–&
b
 );

243 
	`ASSERT
–
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, &
b
, 
NULL
, NULL ) =
MONGO_OK
 );

244 
	`bs⁄_de°roy
–&
b
 );

246 
	}
}

248 
	$föd_⁄e_noödex_smÆl_ã°
( ) {

249 
	`föd_⁄e
–
DB
 ".single.small" );

250 
	}
}

251 
	$föd_⁄e_noödex_medium_ã°
( ) {

252 
	`föd_⁄e
–
DB
 ".single.medium" );

253 
	}
}

254 
	$föd_⁄e_noödex_œrge_ã°
( ) {

255 
	`föd_⁄e
–
DB
 ".single.large" );

256 
	}
}

258 
	$föd_⁄e_ödex_smÆl_ã°
( ) {

259 
	`föd_⁄e
–
DB
 ".index.small" );

260 
	}
}

261 
	$föd_⁄e_ödex_medium_ã°
( ) {

262 
	`föd_⁄e
–
DB
 ".index.medium" );

263 
	}
}

264 
	$föd_⁄e_ödex_œrge_ã°
( ) {

265 
	`föd_⁄e
–
DB
 ".index.large" );

266 
	}
}

268 
	$föd
–c⁄° *
ns
 ) {

269 
bs⁄
 
b
;

270 
i
;

271  
i
=0; i < 
PER_TRIAL
; i++ ) {

272 
m⁄go_curs‹
 *
curs‹
;

273 
	`make_quîy
–&
b
 );

274 
curs‹
 = 
	`m⁄go_föd
–
c⁄n
, 
ns
, &
b
, 
NULL
, 0,0,0 );

275 
	`ASSERT
–
curs‹
 );

277  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 )

280 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

281 
	`bs⁄_de°roy
–&
b
 );

283 
	}
}

285 
	$föd_noödex_smÆl_ã°
( ) {

286 
	`föd
–
DB
 ".single.small" );

287 
	}
}

288 
	$föd_noödex_medium_ã°
( ) {

289 
	`föd
–
DB
 ".single.medium" );

290 
	}
}

291 
	$föd_noödex_œrge_ã°
( ) {

292 
	`föd
–
DB
 ".single.large" );

293 
	}
}

295 
	$föd_ödex_smÆl_ã°
( ) {

296 
	`föd
–
DB
 ".index.small" );

297 
	}
}

298 
	$föd_ödex_medium_ã°
( ) {

299 
	`föd
–
DB
 ".index.medium" );

300 
	}
}

301 
	$föd_ödex_œrge_ã°
( ) {

302 
	`föd
–
DB
 ".index.large" );

303 
	}
}

306 
	$föd_ønge
–c⁄° *
ns
 ) {

307 
i
;

308 
bs⁄
 
bb
;

309 
m⁄go_curs‹
 *
curs‹
;

311  
i
=0; i < 
PER_TRIAL
; i++ ) {

312 
j
=0;

314 
	`bs⁄_öô
–&
bb
 );

315 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
bb
, "x" );

316 
	`bs⁄_≠≥nd_öt
–&
bb
, "$gt", 
PER_TRIAL
/2 );

317 
	`bs⁄_≠≥nd_öt
–&
bb
, "$…", 
PER_TRIAL
/2 + 
BATCH_SIZE
 );

318 
	`bs⁄_≠≥nd_föish_obje˘
–&
bb
 );

319 
	`bs⁄_föish
–&
bb
 );

321 
curs‹
 = 
	`m⁄go_föd
–
c⁄n
, 
ns
, &
bb
, 
NULL
, 0,0,0 );

322 
	`ASSERT
–
curs‹
 );

324  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 ) {

325 
j
++;

327 
	`ASSERT
–
j
 =
BATCH_SIZE
-1 );

329 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

330 
	`bs⁄_de°roy
–&
bb
 );

332 
	}
}

334 
	$föd_ønge_smÆl_ã°
( ) {

335 
	`föd_ønge
–
DB
 ".index.small" );

336 
	}
}

337 
	$föd_ønge_medium_ã°
( ) {

338 
	`föd_ønge
–
DB
 ".index.medium" );

339 
	}
}

340 
	$föd_ønge_œrge_ã°
( ) {

341 
	`föd_ønge
–
DB
 ".index.large" );

342 
	}
}

344 –*
	tnuŒ¨y
 )( );

345 
	$time_ô
–
nuŒ¨y
 
func
, c⁄° *
«me
, 
bs⁄_boﬁ_t
 
gÀ
 ) {

346 
timî
;

347 
›s
;

349 #ifde‡
_WIN32


350 
öt64_t
 
°¨t
, 
íd
;

352 
°¨t
 = 
	`GëTickCou¡64
();

353 
	`func
();

354 i‡–
gÀ
 ) 
	`ASSERT
–!
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
DB
, 
NULL
 ) );

355 
íd
 = 
	`GëTickCou¡64
();

357 
timî
 = 
íd
 - 
°¨t
;

359 
timevÆ
 
°¨t
, 
íd
;

361 
	`gëtimeofday
–&
°¨t
, 
NULL
 );

362 
	`func
();

363 i‡–
gÀ
 ) 
	`ASSERT
–!
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
DB
, 
NULL
 ) );

364 
	`gëtimeofday
–&
íd
, 
NULL
 );

366 
timî
 = 
íd
.
tv_£c
 - 
°¨t
.tv_sec;

367 
timî
 *= 1000000;

368 
timî
 +
íd
.
tv_u£c
 - 
°¨t
.tv_usec;

371 
›s
 = 
PER_TRIAL
 / 
timî
;

372 
›s
 *= 1000000;

374 
	`¥ötf
–"%-45s\t%15f\n", 
«me
, 
›s
 );

375 
	}
}

377 
	#TIME
(
func
, 
gÀ
Ë(
	`time_ô
(func, #func, gÀ))

	)

379 
	$˛ón
( ) {

380 
bs⁄
 
b
;

381 i‡–
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
DB
 ) !
MONGO_OK
 ) {

382 
	`¥ötf
( "failedÅo drop db\n" );

383 
	`exô
( 1 );

387 
	`m⁄go_ö£π
–
c⁄n
, 
DB
 ".¸óti⁄", 
	`bs⁄_em±y
–&
b
 ), 
NULL
 );

388 
	`ASSERT
–!
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
DB
, 
NULL
 ) );

389 
	}
}

391 
	$maö
() {

392 
INIT_SOCKETS_FOR_WINDOWS
;

393 
CONN_CONNECT_TEST
;

395 
	`˛ón
();

397 
	`¥ötf
( "-----\n" );

398 
	`TIME
–
£rülize_smÆl_ã°
, 0 );

399 
	`TIME
–
£rülize_medium_ã°
, 0 );

400 
	`TIME
–
£rülize_œrge_ã°
, 0 );

402 
	`¥ötf
( "-----\n" );

403 
	`TIME
–
sögÀ_ö£π_smÆl_ã°
, 1 );

404 
	`TIME
–
sögÀ_ö£π_medium_ã°
, 1 );

405 
	`TIME
–
sögÀ_ö£π_œrge_ã°
, 1 );

407 
	`¥ötf
( "-----\n" );

408 
	`TIME
–
ödex_ö£π_smÆl_ã°
, 1 );

409 
	`TIME
–
ödex_ö£π_medium_ã°
, 1 );

410 
	`TIME
–
ödex_ö£π_œrge_ã°
, 1 );

412 
	`¥ötf
( "-----\n" );

413 
	`TIME
–
b©ch_ö£π_smÆl_ã°
, 1 );

414 
	`TIME
–
b©ch_ö£π_medium_ã°
, 1 );

415 
	`TIME
–
b©ch_ö£π_œrge_ã°
, 1 );

417 #i‡
DO_SLOW_TESTS


418 
	`¥ötf
( "-----\n" );

419 
	`TIME
–
föd_⁄e_noödex_smÆl_ã°
, 0 );

420 
	`TIME
–
föd_⁄e_noödex_medium_ã°
, 0 );

421 
	`TIME
–
föd_⁄e_noödex_œrge_ã°
, 0 );

424 
	`¥ötf
( "-----\n" );

425 
	`TIME
–
föd_⁄e_ödex_smÆl_ã°
, 0 );

426 
	`TIME
–
föd_⁄e_ödex_medium_ã°
, 0 );

427 
	`TIME
–
föd_⁄e_ödex_œrge_ã°
, 0 );

429 #i‡
DO_SLOW_TESTS


430 
	`¥ötf
( "-----\n" );

431 
	`TIME
–
föd_noödex_smÆl_ã°
, 0 );

432 
	`TIME
–
föd_noödex_medium_ã°
, 0 );

433 
	`TIME
–
föd_noödex_œrge_ã°
, 0 );

436 
	`¥ötf
( "-----\n" );

437 
	`TIME
–
föd_ödex_smÆl_ã°
, 0 );

438 
	`TIME
–
föd_ödex_medium_ã°
, 0 );

439 
	`TIME
–
föd_ödex_œrge_ã°
, 0 );

441 
	`¥ötf
( "-----\n" );

442 
	`TIME
–
föd_ønge_smÆl_ã°
, 0 );

443 
	`TIME
–
föd_ønge_medium_ã°
, 0 );

444 
	`TIME
–
föd_ønge_œrge_ã°
, 0 );

447 
	`m⁄go_de°roy
–
c⁄n
 );

450 
	}
}

	@oss/mongo-c-driver/test/bson_alloc_test.c

1 
	~"ã°.h
"

2 
	~"bs⁄.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 
	gbs⁄_mÆloc_Ælowed
 = 0;

8 
	gbs⁄_mÆloc_was_ˇŒed
 = 0;

9 
	#ALLOW_AND_REQUIRE_MALLOC_BEGIN
 
bs⁄_mÆloc_Ælowed
 = 1; 
bs⁄_mÆloc_was_ˇŒed
 = 0

	)

10 
	#ALLOW_AND_REQUIRE_MALLOC_END
 
bs⁄_mÆloc_Ælowed
 = 0; 
	`ASSERT
–
bs⁄_mÆloc_was_ˇŒed
 )

	)

12 
	gbs⁄_‰ì_Ælowed
 = 0;

13 
	gbs⁄_‰ì_was_ˇŒed
 = 0;

14 
	#ALLOW_AND_REQUIRE_FREE_BEGIN
 
bs⁄_‰ì_Ælowed
 = 1; 
bs⁄_‰ì_was_ˇŒed
 = 0

	)

15 
	#ALLOW_AND_REQUIRE_FREE_END
 
bs⁄_‰ì_Ælowed
 = 0; 
	`ASSERT
–
bs⁄_‰ì_was_ˇŒed
 )

	)

17 * 
	$mÆloc_f‹_ã°s
–
size_t
 
size
 ) {

18 i‡–! 
bs⁄_mÆloc_Ælowed
 ) {

20 
	`ASSERT
–
bs⁄_mÆloc_Ælowed
 );

22 
bs⁄_mÆloc_was_ˇŒed
 = 1;

23  
	`mÆloc
–
size
 );

24 
	}
}

26 * 
	$ªÆloc_f‹_ã°s
–* 
±r
, 
size_t
 
size
 ) {

27 i‡–! 
bs⁄_mÆloc_Ælowed
 ) {

29 
	`ASSERT
–
bs⁄_mÆloc_Ælowed
 );

31 
bs⁄_mÆloc_was_ˇŒed
 = 1;

32  
	`ªÆloc
–
±r
, 
size
 );

33 
	}
}

35 
	$‰ì_f‹_ã°s
–* 
±r
 ) {

36 i‡–! 
bs⁄_‰ì_Ælowed
 ) {

38 
	`ASSERT
–
bs⁄_‰ì_Ælowed
 );

40 
bs⁄_‰ì_was_ˇŒed
 = 1;

41 
	`‰ì
–
±r
 );

42 
	}
}

44 
	$ã°_bs⁄_em±y
( ) {

45 c⁄° 
bs⁄
 *
em±y1
;

46 
em±y1
 = 
	`bs⁄_sh¨ed_em±y
();

47 
	`ASSERT
–
em±y1
->
d©a
 );

48 
	`ASSERT
–
	`bs⁄_size
(
em±y1
) > 0 );

50 
ALLOW_AND_REQUIRE_MALLOC_BEGIN
;

51 
bs⁄
 * 
em±y2
 = 
	`bs⁄_Æloc
();

52 
ALLOW_AND_REQUIRE_MALLOC_END
;

53 
	`mem£t
–
em±y2
, 0, –
bs⁄
) );

54 
	`bs⁄_öô_em±y
–
em±y2
 );

55 
	`ASSERT
–
em±y2
->
d©a
 );

56 
	`ASSERT
–
	`bs⁄_size
–
em±y2
 ) > 0 );

57 
	`bs⁄_de°roy
–
em±y2
 );

58 
ALLOW_AND_REQUIRE_FREE_BEGIN
;

59 
	`bs⁄_dóŒoc
–
em±y2
 );

60 
ALLOW_AND_REQUIRE_FREE_END
;

63 
	}
}

65 
	$ã°_bs⁄_öô_föished
( ) {

66 
bs⁄
 
b
;

67 
ALLOW_AND_REQUIRE_MALLOC_BEGIN
;

68 
	`bs⁄_öô
–&
b
 );

69 
ALLOW_AND_REQUIRE_MALLOC_END
;

70 
	`bs⁄_≠≥nd_doubÀ
–&
b
, "d", 3.14 );

71 
	`bs⁄_≠≥nd_°rög
–&
b
, "s", "hello" );

72 
	`bs⁄_föish
–&
b
 );

73 
	`ASSERT
–
	`bs⁄_size
–&
b
 ) == 29 );

75 
bs⁄
 
b2
;

76 
	`bs⁄_öô_föished_d©a
–&
b2
, (*Ë
	`bs⁄_d©a
–&
b
 ), 0 );

77 
	`ASSERT
–
	`bs⁄_size
–&
b
 ) =bs⁄_size–&
b2
 ) );

78 
	`bs⁄_de°roy
–&
b2
 );

80 
ALLOW_AND_REQUIRE_MALLOC_BEGIN
;

81 
	`bs⁄_öô_föished_d©a_wôh_c›y
–&
b2
, (*Ë
	`bs⁄_d©a
–&
b
 ) );

82 
ALLOW_AND_REQUIRE_MALLOC_END
;

83 
	`ASSERT
–
	`bs⁄_size
–&
b
 ) =bs⁄_size–&
b2
 ) );

84 
ALLOW_AND_REQUIRE_FREE_BEGIN
;

85 
	`bs⁄_de°roy
–&
b2
 );

86 
ALLOW_AND_REQUIRE_FREE_END
;

88 
	`bs⁄_öô_föished_d©a
–&
b2
, (*Ë
	`bs⁄_d©a
–&
b
 ), 1 );

89 
	`ASSERT
–
	`bs⁄_size
–&
b
 ) =bs⁄_size–&
b2
 ) );

90 
ALLOW_AND_REQUIRE_FREE_BEGIN
;

91 
	`bs⁄_de°roy
–&
b2
 );

92 
ALLOW_AND_REQUIRE_FREE_END
;

95 
	}
}

97 
	$maö
() {

98 
bs⁄_mÆloc_func
 = 
mÆloc_f‹_ã°s
;

99 
bs⁄_ªÆloc_func
 = 
ªÆloc_f‹_ã°s
;

100 
bs⁄_‰ì_func
 = 
‰ì_f‹_ã°s
;

102 
	`ã°_bs⁄_em±y
();

103 
	`ã°_bs⁄_öô_föished
();

106 
	}
}

	@oss/mongo-c-driver/test/bson_subobject_test.c

1 
	~"ã°.h
"

2 
	~"bs⁄.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 
	$maö
() {

8 
bs⁄_ôî©‹
 
ô
[1], 
ô2
[1];

9 
bs⁄
 
b
[1];

10 
bs⁄
 
sub
[1];

11 
bs⁄
 
c›y
[1];

12 
bs⁄_ty≥
 
ty≥
;

14 
	`bs⁄_öô
–
b
 );

15 
	`bs⁄_≠≥nd_°rög
–
b
, "foo", "hello" );

18 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "o" );

19 
	`bs⁄_≠≥nd_°rög
–
b
, "bar", "goodbye" );

20 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

23 
	`bs⁄_ôî©‹_öô
–
ô
, 
b
 );

25 
	`bs⁄_ôî©‹_√xt
–
ô
 );

26 
ty≥
 = 
	`bs⁄_ôî©‹_√xt
–
ô
 );

28 
	`ASSERT
–
BSON_OBJECT
 =
ty≥
 );

30 
	`bs⁄_ôî©‹_subobje˘_öô
–
ô
, 
sub
, 0 );

31 
	`ASSERT
–
sub
->
föished
 == 1 );

33 
	`bs⁄_ôî©‹_öô
–
ô2
, 
sub
 );

35 
ty≥
 = 
	`bs⁄_ôî©‹_√xt
–
ô2
 );

36 
	`ASSERT
–
BSON_STRING
 =
ty≥
 );

37 
ty≥
 = 
	`bs⁄_ôî©‹_√xt
–
ô2
 );

38 
	`ASSERT
–
BSON_EOO
 =
ty≥
 );

40 
	`bs⁄_c›y
–
c›y
, 
sub
 );

42 
	`ASSERT
–1 =
c›y
->
föished
 );

43 
	`ASSERT
–0 =
c›y
->
°ackPos
 );

44 
	`ASSERT
–0 =
c›y
->
îr
 );

46 
	`bs⁄_de°roy
–
c›y
 );

47 
	`bs⁄_de°roy
–
b
 );

50 
	}
}

	@oss/mongo-c-driver/test/bson_test.c

1 
	~"ã°.h
"

2 
	~"bs⁄.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 
	$ã°_bs⁄_gíîic
( ) {

9 
bs⁄_ôî©‹
 
ô
, 
ô2
, 
ô3
;

10 
bs⁄_oid_t
 
oid
;

11 
bs⁄_time°amp_t
 
ts
;

12 
bs⁄_time°amp_t
 
ts_ªsu…
;

13 
bs⁄
 
b
[1];

14 
bs⁄
 
c›y
[1];

15 
bs⁄
 
sc›e
[1];

17 
ts
.
i
 = 1;

18 
ts
.
t
 = 2;

20 
	`bs⁄_öô
–
b
 );

21 
	`bs⁄_≠≥nd_doubÀ
–
b
, "d", 3.14 );

22 
	`bs⁄_≠≥nd_°rög
–
b
, "s", "hello" );

23 
	`bs⁄_≠≥nd_°rög_n
–
b
, "s_n", "goodbye cruel world", 7 );

26 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "o" );

27 
	`bs⁄_≠≥nd_°¨t_¨øy
–
b
, "a" );

28 
	`bs⁄_≠≥nd_bö¨y
–
b
, "0", 8, "w\0rld", 5 );

29 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

30 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

33 
	`bs⁄_≠≥nd_undeföed
–
b
, "u" );

35 
	`bs⁄_oid_‰om_°rög
–&
oid
, "010203040506070809101112" );

36 
	`ASSERT
–!
	`memcmp
–
oid
.
byãs
, "\x001\x002\x003\x004\x005\x006\x007\x008\x009\x010\x011\x012", 12 ) );

37 
	`bs⁄_≠≥nd_oid
–
b
, "oid", &
oid
 );

39 
	`bs⁄_≠≥nd_boﬁ
–
b
, "b", 1 );

40 
	`bs⁄_≠≥nd_d©e
–
b
, "date", 0x0102030405060708 );

41 
	`bs⁄_≠≥nd_nuŒ
–
b
, "n" );

42 
	`bs⁄_≠≥nd_ªgex
–
b
, "r", "^asdf", "imx" );

44 
	`bs⁄_≠≥nd_code
–
b
, "c", "function(){}" );

45 
	`bs⁄_≠≥nd_code_n
–
b
, "c_n", "function(){}garbage", 12 );

46 
	`bs⁄_≠≥nd_symbﬁ
–
b
, "symbol", "symbol" );

47 
	`bs⁄_≠≥nd_symbﬁ_n
–
b
, "symbol_n", "symbolánd garbage", 6 );

50 
	`bs⁄_öô
–
sc›e
 );

51 
	`bs⁄_≠≥nd_öt
–
sc›e
, "i", 123 );

52 
	`bs⁄_föish
–
sc›e
 );

54 
	`bs⁄_≠≥nd_code_w_sc›e
–
b
, "cws", "fun˘i⁄(){ªtu∫ i}", 
sc›e
 );

55 
	`bs⁄_de°roy
–
sc›e
 );

58 
	`bs⁄_≠≥nd_time°amp
–
b
, "time°amp", &
ts
 );

59 
	`bs⁄_≠≥nd_l⁄g
–
b
, "l", 0x1122334455667788 );

62 
	`ASSERT
–
	`bs⁄_c›y
–
c›y
, 
b
 ) =
BSON_ERROR
 );

64 
	`bs⁄_föish
–
b
 );

66 
	`ASSERT
–
b
->
îr
 =
BSON_VALID
 );

69 
	`ASSERT
–
	`bs⁄_≠≥nd_°rög
–
b
, "foo", "b¨" ) =
BSON_ERROR
 );

70 
	`ASSERT
–
b
->
îr
 & 
BSON_ALREADY_FINISHED
 );

72 
	`ASSERT
–
	`bs⁄_c›y
–
c›y
, 
b
 ) =
BSON_OK
 );

74 
	`ASSERT
–1 =
c›y
->
föished
 );

75 
	`ASSERT
–0 =
c›y
->
îr
 );

77 
	`bs⁄_de°roy
–
c›y
 );

79 
	`bs⁄_¥öt
–
b
 );

81 
	`bs⁄_ôî©‹_öô
–&
ô
, 
b
 );

83 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

84 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

85 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_DOUBLE
 );

86 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "d" ) );

87 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == 3.14 );

89 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

90 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_STRING
 );

91 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_STRING
 );

92 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "s" ) );

93 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "hello" ) );

94 
	`ASSERT
–
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "" ) );

96 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

97 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_STRING
 );

98 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_STRING
 );

99 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "s_n" ) );

100 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "goodbye" ) );

102 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

103 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_OBJECT
 );

104 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_OBJECT
 );

105 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "o" ) );

106 
	`bs⁄_ôî©‹_subôî©‹
–&
ô
, &
ô2
 );

108 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

109 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô2
 ) =
BSON_ARRAY
 );

110 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô2
 ) =
BSON_ARRAY
 );

111 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô2
 ), "a" ) );

112 
	`bs⁄_ôî©‹_subôî©‹
–&
ô2
, &
ô3
 );

114 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô3
 ) );

115 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô3
 ) =
BSON_BINDATA
 );

116 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô3
 ) =
BSON_BINDATA
 );

117 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô3
 ), "0" ) );

118 
	`ASSERT
–
	`bs⁄_ôî©‹_bö_ty≥
–&
ô3
 ) == 8 );

119 
	`ASSERT
–
	`bs⁄_ôî©‹_bö_Àn
–&
ô3
 ) == 5 );

120 
	`ASSERT
–!
	`memcmp
–
	`bs⁄_ôî©‹_bö_d©a
–&
ô3
 ), "w\0rld", 5 ) );

122 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô3
 ) );

123 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô3
 ) =
BSON_EOO
 );

124 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô3
 ) =
BSON_EOO
 );

125 
	`ASSERT
–!
	`bs⁄_ôî©‹_m‹e
–&
ô3
 ) );

127 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

128 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô2
 ) =
BSON_EOO
 );

129 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô2
 ) =
BSON_EOO
 );

130 
	`ASSERT
–!
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

132 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

133 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_UNDEFINED
 );

134 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_UNDEFINED
 );

135 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "u" ) );

137 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

138 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_OID
 );

139 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_OID
 );

140 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "oid" ) );

141 
	`ASSERT
–!
	`memcmp
–
	`bs⁄_ôî©‹_oid
–&
ô
 )->
byãs
, "\x001\x002\x003\x004\x005\x006\x007\x008\x009\x010\x011\x012", 12 ) );

142 
	`ASSERT
–
	`bs⁄_ôî©‹_oid
–&
ô
 )->
öts
[0] =
oid
.ints[0] );

143 
	`ASSERT
–
	`bs⁄_ôî©‹_oid
–&
ô
 )->
öts
[1] =
oid
.ints[1] );

144 
	`ASSERT
–
	`bs⁄_ôî©‹_oid
–&
ô
 )->
öts
[2] =
oid
.ints[2] );

146 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

147 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_BOOL
 );

148 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_BOOL
 );

149 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "b" ) );

150 
	`ASSERT
–
	`bs⁄_ôî©‹_boﬁ
–&
ô
 ) == 1 );

152 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

153 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DATE
 );

154 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_DATE
 );

155 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "date" ) );

156 
	`ASSERT
–
	`bs⁄_ôî©‹_d©e
–&
ô
 ) == 0x0102030405060708 );

158 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

159 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_NULL
 );

160 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_NULL
 );

161 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "n" ) );

163 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

164 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_REGEX
 );

165 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_REGEX
 );

166 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "r" ) );

167 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_ªgex
–&
ô
 ), "^asdf" ) );

168 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_ªgex_›ts
–&
ô
 ), "imx" ) );

170 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

171 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_CODE
 );

172 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_CODE
 );

173 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_code
(&
ô
), "function(){}") );

174 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "c" ) );

175 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "" ) );

177 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

178 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_CODE
 );

179 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_CODE
 );

180 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "c_n" ) );

181 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "" ) );

182 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_code
–&
ô
 ), "function(){}" ) );

184 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

185 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_SYMBOL
 );

186 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_SYMBOL
 );

187 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "symbol" ) );

188 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "symbol" ) );

190 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

191 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_SYMBOL
 );

192 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_SYMBOL
 );

193 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "symbol_n" ) );

194 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_°rög
–&
ô
 ), "symbol" ) );

196 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

197 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_CODEWSCOPE
 );

198 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_CODEWSCOPE
 );

199 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "cws" ) );

200 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_code
–&
ô
 ), "function(){return i}" ) );

203 
bs⁄
 
sc›e
;

204 
	`bs⁄_ôî©‹_code_sc›e_öô
–&
ô
, &
sc›e
, 0 );

205 
	`bs⁄_ôî©‹_öô
–&
ô2
, &
sc›e
 );

207 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

208 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô2
 ) =
BSON_INT
 );

209 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô2
 ) =
BSON_INT
 );

210 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô2
 ), "i" ) );

211 
	`ASSERT
–
	`bs⁄_ôî©‹_öt
–&
ô2
 ) == 123 );

213 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

214 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô2
 ) =
BSON_EOO
 );

215 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô2
 ) =
BSON_EOO
 );

216 
	`ASSERT
–!
	`bs⁄_ôî©‹_m‹e
–&
ô2
 ) );

219 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

220 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_TIMESTAMP
 );

221 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_TIMESTAMP
 );

222 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "timestamp" ) );

223 
ts_ªsu…
 = 
	`bs⁄_ôî©‹_time°amp
–&
ô
 );

224 
	`ASSERT
–
ts_ªsu…
.
i
 == 1 );

225 
	`ASSERT
–
ts_ªsu…
.
t
 == 2 );

227 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

228 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_LONG
 );

229 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_LONG
 );

230 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "l" ) );

231 
	`ASSERT
–
	`bs⁄_ôî©‹_l⁄g
–&
ô
 ) == 0x1122334455667788 );

233 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

234 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_EOO
 );

235 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_EOO
 );

236 
	`ASSERT
–!
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

238 
	`bs⁄_de°roy
–
b
 );

241 
bs⁄
 
b§c
[1];

242 
	`bs⁄_öô
–
b§c
 );

243 
	`bs⁄_≠≥nd_doubÀ
–
b§c
, "d", 3.14 );

244 
	`bs⁄_föish
–
b§c
 );

245 
	`ASSERT
–
b§c
->
îr
 =
BSON_VALID
 );

246 
	`bs⁄_öô
–
b
 );

247 
	`bs⁄_≠≥nd_doubÀ
–
b
, "", 3.14 );

248 
	`bs⁄_ôî©‹_öô
–&
ô
, 
b§c
 );

249 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

250 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

251 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_DOUBLE
 );

252 
	`bs⁄_≠≥nd_ñemít
–
b
, "d", &
ô
 );

253 
	`bs⁄_≠≥nd_ñemít
–
b
, 0, &
ô
 );

254 
	`bs⁄_≠≥nd_ñemít
–
b
, "", &
ô
 );

255 
	`bs⁄_föish
–
b
 );

256 
	`ASSERT
–
b
->
îr
 =
BSON_VALID
 );

258 
	`bs⁄_ôî©‹_öô
–&
ô
, 
b
 );

259 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

260 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

261 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "" ) );

262 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == 3.14 );

263 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

264 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

265 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "d" ) );

266 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == 3.14 );

267 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

268 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

269 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "d" ) );

270 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == 3.14 );

271 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

272 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_DOUBLE
 );

273 
	`ASSERT
–!
	`°rcmp
–
	`bs⁄_ôî©‹_key
–&
ô
 ), "" ) );

274 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == 3.14 );

275 
	`ASSERT
–
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

276 
	`ASSERT
–
	`bs⁄_ôî©‹_√xt
–&
ô
 ) =
BSON_EOO
 );

277 
	`ASSERT
–!
	`bs⁄_ôî©‹_m‹e
–&
ô
 ) );

278 
	`bs⁄_de°roy
–
b§c
 );

279 
	`bs⁄_de°roy
–
b
 );

283 
	}
}

285 
	$ã°_bs⁄_ôî©‹
( ) {

286 
bs⁄_ôî©‹
 
i
[1];

288 
	`bs⁄_ôî©‹_öô
–
i
, 
	`bs⁄_sh¨ed_em±y
( ) );

289 
	`bs⁄_ôî©‹_√xt
–
i
 );

290 
	`bs⁄_ôî©‹_ty≥
–
i
 );

292 
	`bs⁄_föd
–
i
, 
	`bs⁄_sh¨ed_em±y
( ), "foo" );

295 
	}
}

297 
	$ã°_bs⁄_size
( ) {

298 
bs⁄
 
bsmÆl
[1];

300 
	`bs⁄_öô
–
bsmÆl
 );

301 
	`bs⁄_≠≥nd_öt
–
bsmÆl
, "a", 1 );

302 
	`bs⁄_föish
–
bsmÆl
 );

304 
	`ASSERT
–
	`bs⁄_size
–
bsmÆl
 ) == 12 );

306 
	`bs⁄_de°roy
–
bsmÆl
 );

309 
	}
}

311 
	$ã°_bs⁄_dìp_√°ög
( ) {

312 
i
;

313 
bs⁄
 
b
[1];

314 
	`bs⁄_öô
–
b
 );

316  
i
 = 0; i < 128; ++i )

318 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "sub" );

319 
	`bs⁄_≠≥nd_°rög
–
b
, "hello", "hi" );

322  
i
 = 0; i < 128; ++i )

324 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

327 
	`bs⁄_föish
–
b
 );

328 
	`bs⁄_de°roy
–
b
 );

331 
	}
}

333 
	$ã°_bs⁄_oid_gíî©ed_time
( ) {

334 
time_t
 
cur_time
;

335 
bs⁄_oid_t
 
oid
;

337 
	`¥ötf
("\nsizeof—ime_tËi†%lu\n\n", (Ë(
time_t
));

339 
cur_time
 = 
	`time
 ( 
NULL
 );

340 
	`bs⁄_oid_gí
(&
oid
);

342 
	`ASSERT
–
	`bs⁄_oid_gíî©ed_time
(&
oid
Ë>
cur_time
 );

343 
	`ASSERT
–
	`bs⁄_oid_gíî©ed_time
(&
oid
Ë< 
cur_time
 + 1 );

346 
	}
}

348 
	$maö
() {

350 
	`ã°_bs⁄_gíîic
();

351 
	`ã°_bs⁄_ôî©‹
();

352 
	`ã°_bs⁄_size
();

353 
	`ã°_bs⁄_dìp_√°ög
();

354 
	`ã°_bs⁄_oid_gíî©ed_time
();

357 
	}
}

	@oss/mongo-c-driver/test/commands_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

9 
	$maö
() {

10 
m⁄go
 
c⁄n
[1];

11 
bs⁄
 
cmd
[1];

12 
bs⁄
 
out
[1];

13 
bs⁄_ôî©‹
 
ô
[1];

14 
vîsi⁄
[10];

16 c⁄° *
db
 = "test";

17 c⁄° *
cﬁ
 = "c.capped";

19 
INIT_SOCKETS_FOR_WINDOWS
;

20 
CONN_CLIENT_TEST
;

22 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, 
db
, 
cﬁ
, 
NULL
 );

24 
	`ASSERT
–
	`m⁄go_¸óã_ˇµed_cﬁÀ˘i⁄
–
c⁄n
, 
db
, 
cﬁ
,

25 1024, 100, 
NULL
 ) =
MONGO_OK
 );

27 
	`bs⁄_öô
–
cmd
 );

28 
	`bs⁄_≠≥nd_°rög
–
cmd
, "cﬁl°©s", 
cﬁ
 );

29 
	`bs⁄_föish
–
cmd
 );

31 
	`ASSERT
–
	`m⁄go_run_comm™d
–
c⁄n
, 
db
, 
cmd
, 
out
 ) =
MONGO_OK
 );

33 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 ){

34 if–
vîsi⁄
[0] == '2' && version[2] >= '1' )

35 
	`ASSERT
–
	`bs⁄_föd
–
ô
, 
out
, "ˇµed" ) =
BSON_BOOL
 );

36 
	`ASSERT
–
	`bs⁄_föd
–
ô
, 
out
, "ˇµed" ) =
BSON_INT
 );

39 
	`ASSERT
–
	`bs⁄_föd
–
ô
, 
out
, "max" ) =
BSON_INT
 );

41 
	`bs⁄_de°roy
–
cmd
 );

42 
	`bs⁄_de°roy
–
out
 );

44 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 );

45 
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
db
 );

47 
	`m⁄go_de°roy
–
c⁄n
 );

49 
	}
}

	@oss/mongo-c-driver/test/connect_test.c

4 
	~"ã°.h
"

5 
	~"m⁄go.h
"

6 
	~<°dio.h
>

7 
	~<°rög.h
>

8 
	~<°dlib.h
>

10 
	$maö
() {

11 
m⁄go
 
c⁄n
[1];

12 
vîsi⁄
[10];

14 
INIT_SOCKETS_FOR_WINDOWS
;

16 if–
	`m⁄go_c⁄√˘
–
c⁄n
, 
TEST_SERVER
, 27017 ) !
MONGO_OK
 ) {

17 
	`¥ötf
( "failedÅo connect\n" );

18 
	`exô
( 1 );

23 
	`ASSERT
–
c⁄n
->
wrôe_c⁄˚∫
 == (*)0 );

25 
	`m⁄go_de°roy
–
c⁄n
 );

27 
	}
}

	@oss/mongo-c-driver/test/count_delete_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

9 
	$maö
() {

10 
m⁄go
 
c⁄n
[1];

11 
bs⁄
 
b
;

12 
i
;

14 c⁄° *
db
 = "test";

15 c⁄° *
cﬁ
 = "c.simple";

16 c⁄° *
ns
 = "test.c.simple";

18 
INIT_SOCKETS_FOR_WINDOWS
;

19 
CONN_CLIENT_TEST
;

22 i‡–!
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 )

23 && 
	`m⁄go_cou¡
–
c⁄n
, 
db
, 
cﬁ
, 
NULL
 ) != 0 ) {

24 
	`¥ötf
( "failedÅo drop collection\n" );

25 
	`exô
( 1 );

28  
i
=0; i< 5; i++ ) {

29 
	`bs⁄_öô
–&
b
 );

31 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "_id" );

32 
	`bs⁄_≠≥nd_öt
–&
b
 , "a" , 
i
+1 );

33 
	`bs⁄_föish
–&
b
 );

35 
	`m⁄go_ö£π
–
c⁄n
 , 
ns
 , &
b
, 
NULL
 );

36 
	`bs⁄_de°roy
–&
b
 );

40 
	`bs⁄_öô
–&
b
 );

42 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "a" );

43 
	`bs⁄_≠≥nd_öt
–&
b
, "$gt", 3 );

44 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

46 
	`bs⁄_föish
–&
b
 );

48 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
db
, 
cﬁ
, 
NULL
 ) == 5 );

49 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
db
, 
cﬁ
, &
b
 ) == 2 );

51 
	`m⁄go_ªmove
–
c⁄n
, 
ns
, &
b
, 
NULL
 );

53 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
db
, 
cﬁ
, 
NULL
 ) == 3 );

54 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
db
, 
cﬁ
, &
b
 ) == 0 );

56 
	`bs⁄_de°roy
–&
b
 );

57 
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
db
 );

58 
	`m⁄go_de°roy
–
c⁄n
 );

60 
	}
}

	@oss/mongo-c-driver/test/cursors_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<time.h
>

10 
	$¸óã_ˇµed_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
 ) {

11 
bs⁄
 
b
;

13 
	`bs⁄_öô
–&
b
 );

14 
	`bs⁄_≠≥nd_°rög
–&
b
, "create", "cursors" );

15 
	`bs⁄_≠≥nd_boﬁ
–&
b
, "capped", 1 );

16 
	`bs⁄_≠≥nd_öt
–&
b
, "size", 1000000 );

17 
	`bs⁄_föish
–&
b
 );

19 
	`ASSERT
–
	`m⁄go_run_comm™d
–
c⁄n
, "ã°", &
b
, 
NULL
 ) =
MONGO_OK
 );

21 
	`bs⁄_de°roy
–&
b
 );

22 
	}
}

24 
	$ö£π_ßm∂e_d©a
–
m⁄go
 *
c⁄n
, 
n
 ) {

25 
bs⁄
 
b
;

26 
i
;

28  
i
=0; i<
n
; i++ ) {

29 
	`bs⁄_öô
–&
b
 );

30 
	`bs⁄_≠≥nd_öt
–&
b
, "a", 
i
 );

31 
	`bs⁄_föish
–&
b
 );

33 
	`m⁄go_ö£π
–
c⁄n
, "ã°.curs‹s", &
b
, 
NULL
 );

35 
	`bs⁄_de°roy
–&
b
 );

37 
	}
}

39 
	$ªmove_ßm∂e_d©a
–
m⁄go
 *
c⁄n
 ) {

40 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", "curs‹s", 
NULL
 );

41 
	}
}

43 
	$ã°_mu…ùÀ_gëm‹e
–
m⁄go
 *
c⁄n
 ) {

44 
m⁄go_curs‹
 *
curs‹
;

45 
cou¡
;

47 
	`ªmove_ßm∂e_d©a
–
c⁄n
 );

48 
	`¸óã_ˇµed_cﬁÀ˘i⁄
–
c⁄n
 );

49 
	`ö£π_ßm∂e_d©a
–
c⁄n
, 10000 );

51 
curs‹
 = 
	`m⁄go_föd
–
c⁄n
, "ã°.curs‹s", 
	`bs⁄_sh¨ed_em±y
( ), bson_shared_empty( ), 0, 0, 0 );

53 
cou¡
 = 0;

54  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 )

55 
cou¡
++;

57 
	`ASSERT
–
cou¡
 == 10000 );

59 
	`ASSERT
–
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_ERROR
 );

60 
	`ASSERT
–
curs‹
->
îr
 =
MONGO_CURSOR_EXHAUSTED
 );

62 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

63 
	`ªmove_ßm∂e_d©a
–
c⁄n
 );

65 
	}
}

67 
	$ã°_èûabÀ
–
m⁄go
 *
c⁄n
 ) {

68 
m⁄go_curs‹
 *
curs‹
;

69 
bs⁄
 
b
;

70 
cou¡
;

72 
	`ªmove_ßm∂e_d©a
–
c⁄n
 );

73 
	`¸óã_ˇµed_cﬁÀ˘i⁄
–
c⁄n
 );

74 
	`ö£π_ßm∂e_d©a
–
c⁄n
, 10000 );

76 
	`bs⁄_öô
–&
b
 );

77 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "$query" );

78 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

79 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "$sort" );

80 
	`bs⁄_≠≥nd_öt
–&
b
, "$natural", -1 );

81 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

82 
	`bs⁄_föish
–&
b
 );

84 
curs‹
 = 
	`m⁄go_föd
–
c⁄n
, "ã°.curs‹s", &
b
, 
	`bs⁄_sh¨ed_em±y
–), 0, 0, 
MONGO_TAILABLE
 );

85 
	`bs⁄_de°roy
–&
b
 );

87 
cou¡
 = 0;

88  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 )

89 
cou¡
++;

91 
	`ASSERT
–
cou¡
 == 10000 );

93 
	`ASSERT
–
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_ERROR
 );

94 
	`ASSERT
–
curs‹
->
îr
 =
MONGO_CURSOR_PENDING
 );

96 
	`ö£π_ßm∂e_d©a
–
c⁄n
, 10 );

98 
cou¡
 = 0;

99  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 ) {

100 
cou¡
++;

103 
	`ASSERT
–
cou¡
 == 10 );

105 
	`ASSERT
–
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_ERROR
 );

106 
	`ASSERT
–
curs‹
->
îr
 =
MONGO_CURSOR_PENDING
 );

108 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

109 
	`ªmove_ßm∂e_d©a
–
c⁄n
 );

112 
	}
}

114 
	$ã°_buûdî_≠i
–
m⁄go
 *
c⁄n
 ) {

115 
cou¡
 = 0;

116 
m⁄go_curs‹
 
curs‹
[1];

118 
	`ªmove_ßm∂e_d©a
–
c⁄n
 );

119 
	`ö£π_ßm∂e_d©a
–
c⁄n
, 10000 );

120 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, "test.cursors" );

122  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 ) {

123 
cou¡
++;

125 
	`ASSERT
–
cou¡
 == 10000 );

127 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

129 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, "test.cursors" );

130 
	`m⁄go_curs‹_£t_limô
–
curs‹
, 10 );

131 
cou¡
 = 0;

132  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 ) {

133 
cou¡
++;

135 
	`ASSERT
–
cou¡
 == 10 );

136 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

139 
	}
}

141 
	$ã°_bad_quîy
–
m⁄go
 *
c⁄n
 ) {

142 
m⁄go_curs‹
 
curs‹
[1];

143 
bs⁄
 
b
[1];

145 
	`bs⁄_öô
–
b
 );

146 
	`bs⁄_≠≥nd_°¨t_obje˘
–
b
, "foo" );

147 
	`bs⁄_≠≥nd_öt
–
b
, "$bad", 1 );

148 
	`bs⁄_≠≥nd_föish_obje˘
–
b
 );

149 
	`bs⁄_föish
–
b
 );

151 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, "test.cursors" );

152 
	`m⁄go_curs‹_£t_quîy
–
curs‹
, 
b
 );

154 
	`ASSERT
–
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_ERROR
 );

155 
	`ASSERT
–
curs‹
->
îr
 =
MONGO_CURSOR_QUERY_FAIL
 );

156 
	`ASSERT
–
curs‹
->
c⁄n
->
œ°îrcode
 == 10068 || cursor->conn->lasterrcode == 16810 );

157 
	`ASSERT
–
	`°æí
–
curs‹
->
c⁄n
->
œ°îr°r
 ) > 0 );

159 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

160 
	`bs⁄_de°roy
–
b
 );

162 
	}
}

164 
	$ã°_c›y_curs‹_d©a
–
m⁄go
 *
c⁄n
 ) {

165 
m⁄go_curs‹
 
curs‹
[1];

166 
bs⁄
 
b
[1];

168 
	`ö£π_ßm∂e_d©a
–
c⁄n
, 10 );

169 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, "test.cursors" );

171 
	`m⁄go_curs‹_√xt
–
curs‹
 );

173 
	`ASSERT
–
	`bs⁄_c›y
–
b
, 
	`m⁄go_curs‹_bs⁄
–
curs‹
 ) ) =
MONGO_OK
 );

175 
	`ASSERT
–
	`memcmp
–(*)
b
->
d©a
, (*)(
curs‹
->
cuºít
).data,

176 
	`bs⁄_size
–&
curs‹
->
cuºít
 ) ) == 0 );

178 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

179 
	`bs⁄_de°roy
–
b
 );

182 
	}
}

184 
	$maö
() {

186 
m⁄go
 
c⁄n
[1];

188 
INIT_SOCKETS_FOR_WINDOWS
;

189 
CONN_CLIENT_TEST
;

191 
	`ã°_mu…ùÀ_gëm‹e
–
c⁄n
 );

192 
	`ã°_èûabÀ
–
c⁄n
 );

193 
	`ã°_buûdî_≠i
–
c⁄n
 );

194 
	`ã°_bad_quîy
–
c⁄n
 );

195 
	`ã°_c›y_curs‹_d©a
–
c⁄n
 );

197 
	`m⁄go_de°roy
–
c⁄n
 );

199 
	}
}

	@oss/mongo-c-driver/test/endian_swap_test.c

3 
	~"ã°.h
"

4 
	~"bs⁄.h
"

5 
	~<°dio.h
>

7 
	$maö
() {

8 
smÆl
 = 0x00112233;

9 
öt64_t
 
big
 = 0x0011223344556677;

10 
d
 = 1.2345;

12 
smÆl_sw≠
;

13 
öt64_t
 
big_sw≠
;

14 
öt64_t
 
d_sw≠
;

16 
	`bs⁄_sw≠_ídün32
–&
smÆl_sw≠
, &
smÆl
 );

17 
	`ASSERT
–
smÆl_sw≠
 == 0x33221100 );

18 
	`bs⁄_sw≠_ídün32
–&
smÆl
, &
smÆl_sw≠
 );

19 
	`ASSERT
–
smÆl
 == 0x00112233 );

21 
	`bs⁄_sw≠_ídün64
–&
big_sw≠
, &
big
 );

22 
	`ASSERT
–
big_sw≠
 == 0x7766554433221100 );

23 
	`bs⁄_sw≠_ídün64
–&
big
, &
big_sw≠
 );

24 
	`ASSERT
–
big
 == 0x0011223344556677 );

26 
	`bs⁄_sw≠_ídün64
–&
d_sw≠
, &
d
 );

27 
	`bs⁄_sw≠_ídün64
–&
d
, &
d_sw≠
 );

28 
	`ASSERT
–
d
 == 1.2345 );

31 
	}
}

	@oss/mongo-c-driver/test/env_posix_test.c

5 
	~"ã°.h
"

6 
	~"m⁄go.h
"

7 
	~<°dio.h
>

8 
	~<°rög.h
>

9 
	~<°dlib.h
>

10 
	~<î∫o.h
>

15 
	$ã°_ªad_timeout
( ) {

16 
m⁄go
 
c⁄n
[1];

17 
bs⁄
 
b
, 
obj
, 
out
;

18 
ªs
;

20 
CONN_CLIENT_TEST
;

22 
	`bs⁄_öô
–&
b
 );

23 
	`bs⁄_≠≥nd_code
–&
b
, "$where", "sleep( 10 * 1000 );");

24 
	`bs⁄_föish
–&
b
 );

26 
	`bs⁄_öô
–&
obj
 );

27 
	`bs⁄_≠≥nd_°rög
–&
obj
, "foo", "bar");

28 
	`bs⁄_föish
–&
obj
 );

30 
ªs
 = 
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", &
obj
, 
NULL
 );

33 
	`m⁄go_£t_›_timeout
–
c⁄n
, 1000 );

34 
	`ASSERT
–
ªs
 =
MONGO_OK
 );

36 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.foo", &
b
, 
	`bs⁄_sh¨ed_em±y
–), &
out
 );

37 
	`ASSERT
–
ªs
 =
MONGO_ERROR
 );

39 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

40 
	`ASSERT
–
	`°rcmp
–"Resour˚Åemp‹¨ûy u«vaûabÀ", 
c⁄n
->
îr°r
 ) == 0 );

42 
	`bs⁄_de°roy
–&
obj
 );

43 
	`bs⁄_de°roy
–&
b
 );

45 
	`m⁄go_de°roy
–
c⁄n
 );

48 
	}
}

51 
	$ã°_gëaddröfo
( ) {

52 
m⁄go
 
c⁄n
[1];

53 
bs⁄
 
b
[1];

54 *
ns
 = "test.foo";

56 
CONN_CLIENT_TEST
;

58 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", "foo", 
NULL
 );

60 
	`bs⁄_öô
–
b
 );

61 
	`bs⁄_≠≥nd_öt
–
b
, "foo", 17 );

62 
	`bs⁄_föish
–
b
 );

64 
	`m⁄go_ö£π
–
c⁄n
 , 
ns
 , 
b
, 
NULL
 );

66 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, "ã°", "foo", 
NULL
 ) == 1 );

68 
	`bs⁄_de°roy
–
b
 );

69 
	`m⁄go_de°roy
–
c⁄n
 );

73 
	}
}

75 
	$ã°_îr‹_mesßges
( ) {

76 
m⁄go
 
c⁄n
[1];

77 
bs⁄
 
b
[1];

78 c⁄° *
ns
 = "test.foo";

80 
	`m⁄go_öô
–
c⁄n
 );

82 
	`bs⁄_öô
–
b
 );

83 
	`bs⁄_≠≥nd_öt
–
b
, "foo", 17 );

84 
	`bs⁄_föish
–
b
 );

86 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
ns
, 
b
, 
NULL
 ) !
MONGO_OK
 );

87 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

88 
	`ASSERT
–
c⁄n
->
îrcode
 =
ENOTSOCK
 );

90 
	`bs⁄_de°roy
–
b
 );

92 
	`m⁄go_öô
–
c⁄n
 );

94 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, "ã°", "foo", 
NULL
 ) =
MONGO_ERROR
 );

95 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

96 
	`ASSERT
–
c⁄n
->
îrcode
 =
ENOTSOCK
 );

99 
	}
}

101 
	$maö
() {

102 
vîsi⁄
[10];

104 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] != '1' ) {

105 
	`ã°_ªad_timeout
();

107 
	`ã°_gëaddröfo
();

108 
	`ã°_îr‹_mesßges
();

111 
	}
}

	@oss/mongo-c-driver/test/env_win32_test.c

5 
	~"ã°.h
"

6 
	~"m⁄go.h
"

7 
	~<°dio.h
>

8 
	~<°rög.h
>

9 
	~<°dlib.h
>

11 #ifde‡
_MSC_VER


12 
	~<ws2t˝ù.h
>

13 
	~<w•üpi.h
>

15 
	~<wödows.h
>

16 
	~<wösock.h
>

17 
	tsockÀn_t
;

23 
	$ã°_ªad_timeout
( ) {

24 
m⁄go
 
c⁄n
[1];

25 
bs⁄
 
b
, 
obj
, 
out
, 
fõlds
;

26 
ªs
;

28 
CONN_CLIENT_TEST
;

30 
	`bs⁄_öô
–&
b
 );

31 
	`bs⁄_≠≥nd_code
–&
b
, "$where", "sleep( 10 * 1000 );");

32 
	`bs⁄_föish
–&
b
 );

34 
	`bs⁄_öô
–&
obj
 );

35 
	`bs⁄_≠≥nd_°rög
–&
obj
, "foo", "bar");

36 
	`bs⁄_föish
–&
obj
 );

38 
ªs
 = 
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", &
obj
, 
NULL
 );

42 if–
	`m⁄go_£t_›_timeout
–
c⁄n
, 1000 ) !
MONGO_OK
 ) {

43 
	`¥ötf
("CouldÇot set socketÅimeout!.");

44 
	`exô
(1);

47 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.foo", &
b
, 
	`bs⁄_em±y
(&
fõlds
), &
out
 );

48 
	`ASSERT
–
ªs
 =
MONGO_ERROR
 );

50 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

51 
	`ASSERT
–
c⁄n
->
îrcode
 =
WSAETIMEDOUT
 );

54 
	}
}

57 
	$ã°_gëaddröfo
( ) {

58 
m⁄go
 
c⁄n
[1];

59 
bs⁄
 
b
[1];

60 c⁄° *
ns
 = "test.foo";

61 c⁄° *
îrmsg
 = "getaddrinfo failed";

63 if–
	`m⁄go_˛õ¡
–
c⁄n
, "badho°.exam∂e.com", 27017 ) =
MONGO_OK
 ) {

64 
	`¥ötf
( "connectedÅo bad host!\n" );

65 
	`exô
( 1 );

67 
	`ASSERT
–
	`°∫cmp
–
îrmsg
, 
c⁄n
->
îr°r
, 
	`°æí
(Érrmsg ) ) == 0 );

71 if–
	`m⁄go_˛õ¡
–
c⁄n
, "loˇlho°", 27017 ) !
MONGO_OK
 ) {

72 
	`¥ötf
( "failedÅo connect\n" );

73 
	`exô
( 1 );

76 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", "foo", 
NULL
 );

78 
	`bs⁄_öô
–
b
 );

79 
	`bs⁄_≠≥nd_öt
–
b
, "foo", 17 );

80 
	`bs⁄_föish
–
b
 );

82 
	`m⁄go_ö£π
–
c⁄n
 , 
ns
 , 
b
, 
NULL
 );

84 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, "ã°", "foo", 
NULL
 ) == 1 );

86 
	`bs⁄_de°roy
–
b
 );

87 
	`m⁄go_de°roy
–
c⁄n
 );

91 
	}
}

93 
	$ã°_îr‹_mesßges
( ) {

94 
m⁄go
 
c⁄n
[1];

95 
bs⁄
 
b
[1];

96 c⁄° *
ns
 = "test.foo";

98 
	`m⁄go_öô
–
c⁄n
 );

100 
	`bs⁄_öô
–
b
 );

101 
	`bs⁄_≠≥nd_öt
–
b
, "foo", 17 );

102 
	`bs⁄_föish
–
b
 );

104 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
ns
, 
b
, 
NULL
 ) !
MONGO_OK
 );

105 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

106 
	`ASSERT
–
c⁄n
->
îrcode
 =
WSAENOTSOCK
 );

108 
	`m⁄go_öô
–
c⁄n
 );

110 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, "ã°", "foo", 
NULL
 ) =
MONGO_ERROR
 );

111 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

112 
	`ASSERT
–
c⁄n
->
îrcode
 =
WSAENOTSOCK
 );

115 
	}
}

117 
	$maö
() {

118 
vîsi⁄
[10];

119 
INIT_SOCKETS_FOR_WINDOWS
;

121 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] != '1' ) {

122 
	`ã°_ªad_timeout
();

124 
	`ã°_gëaddröfo
();

125 
	`ã°_îr‹_mesßges
();

128 
	}
}

	@oss/mongo-c-driver/test/errors_test.c

1 
	~"ã°.h
"

2 
	~"m⁄go.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 c⁄° *
	gdb
 = "test";

8 c⁄° *
	gns
 = "test.c.error";

10 
	$ã°_«me•a˚_vÆid©i⁄
( ) {

11 
m⁄go
 
c⁄n
[1];

12 
l⁄gns
[130] = "test.foo";

13 
i
;

15 
	`m⁄go_öô
–
c⁄n
 );

18 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.foo" ) =
MONGO_OK
 );

19 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

21 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.f" ) =
MONGO_OK
 );

22 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

24 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.foo.b¨" ) =
MONGO_OK
 );

25 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

28 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, ".ã°.foo" ) =
MONGO_ERROR
 );

29 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

30 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "ns cannot start with", 20 ) == 0 );

31 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

33 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°..foo" ) =
MONGO_ERROR
 );

34 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

35 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "ns cannot start with", 20 ) == 0 );

36 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

38 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°" ) =
MONGO_ERROR
 );

39 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

40 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "CollectionÇame missing.", 24 ) == 0 );

41 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

43 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°." ) =
MONGO_ERROR
 );

44 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

45 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "CollectionÇame missing.", 24 ) == 0 );

46 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

48 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "." ) =
MONGO_ERROR
 );

49 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

50 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "ns cannot start with", 20 ) == 0 );

51 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

53 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã†t.foo" ) =
MONGO_ERROR
 );

54 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

55 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "DatabaseÇame mayÇot contain", 28 ) == 0 );

56 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

58 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã$°.foo" ) =
MONGO_ERROR
 );

59 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

60 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "DatabaseÇame mayÇot contain", 28 ) == 0 );

61 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

63 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã/°.foo" ) =
MONGO_ERROR
 );

64 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

65 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "DatabaseÇame mayÇot contain", 28 ) == 0 );

66 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

68 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã\\°.foo" ) =
MONGO_ERROR
 );

69 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

70 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "DatabaseÇame mayÇot contain", 28 ) == 0 );

71 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

73 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.fo$o" ) =
MONGO_ERROR
 );

74 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

75 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "Collection mayÇot contain '$'", 29 ) == 0 );

76 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

78 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.fo..o" ) =
MONGO_ERROR
 );

79 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

80 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "Collection mayÇot containÅwo consecutive '.'", 46 ) == 0 );

81 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

83 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, "ã°.fo.o." ) =
MONGO_ERROR
 );

84 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

85 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "Collection mayÇotÉnd with '.'", 30 ) == 0 );

86 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

88 
i
 = 8; i < 129; i++ )

89 
l⁄gns
[
i
] = 'a';

90 
l⁄gns
[129] = '\0';

92 
	`ASSERT
–
	`m⁄go_vÆid©e_ns
–
c⁄n
, 
l⁄gns
 ) =
MONGO_ERROR
 );

93 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

94 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "NamespaceÅooÜong; has 129 but must <= 128.", 32 ) == 0 );

95 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

98 
	}
}

100 
	$ã°_«me•a˚_vÆid©i⁄_⁄_ö£π
( ) {

101 
m⁄go
 
c⁄n
[1];

102 
bs⁄
 
b
[1], 
b2
[1];

103 
bs⁄
 *
objs
[2];

105 
INIT_SOCKETS_FOR_WINDOWS
;

106 
CONN_CLIENT_TEST
;

108 
	`bs⁄_öô
–
b
 );

109 
	`bs⁄_≠≥nd_öt
–
b
, "foo", 1 );

110 
	`bs⁄_föish
–
b
 );

112 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, "ãt.fo$o", 
b
, 
NULL
 ) =
MONGO_ERROR
 );

113 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

114 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "Collection mayÇot contain '$'", 29 ) == 0 );

115 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

117 
	`bs⁄_öô
–
b2
 );

118 
	`bs⁄_≠≥nd_öt
–
b2
, "foo", 1 );

119 
	`bs⁄_föish
–
b2
 );

121 
objs
[0] = 
b
;

122 
objs
[1] = 
b2
;

124 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, "tet.fo$o",

125 (c⁄° 
bs⁄
 **)
objs
, 2, 
NULL
, 0 ) =
MONGO_ERROR
 );

126 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_NS_INVALID
 );

127 
	`ASSERT
–
	`°∫cmp
–
c⁄n
->
îr°r
, "Collection mayÇot contain '$'", 29 ) == 0 );

129 
	`bs⁄_de°roy
–
b
 );

130 
	`bs⁄_de°roy
–
b2
 );

131 
	`m⁄go_de°roy
–
c⁄n
 );

134 
	}
}

136 
	$ã°_ö£π_limôs
( ) {

137 
vîsi⁄
[10];

138 
m⁄go
 
c⁄n
[1];

139 
i
;

140 
key
[10];

141 
bs⁄
 
b
[1], 
b2
[1];

142 
bs⁄
 *
objs
[2];

145 
	`m⁄go_öô
–
c⁄n
 );

146 
	`ASSERT
–
c⁄n
->
max_bs⁄_size
 =
MONGO_DEFAULT_MAX_BSON_SIZE
 );

149 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] <= '1' )

152 
CONN_CLIENT_TEST
;

154 
	`ASSERT
–
c⁄n
->
max_bs⁄_size
 > 
MONGO_DEFAULT_MAX_BSON_SIZE
 );

156 
	`bs⁄_öô
–
b
 );

157 
i
=0; i<1200000; i++) {

158 
	`•rötf
–
key
, "%d", 
i
 + 10000000 );

159 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, 
i
 );

161 
	`bs⁄_föish
–
b
 );

163 
	`ASSERT
–
	`bs⁄_size
–
b
 ) > 
c⁄n
->
max_bs⁄_size
 );

165 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", 
b
, 
NULL
 ) =
MONGO_ERROR
 );

166 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

168 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

169 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

171 
	`bs⁄_öô
–
b2
 );

172 
	`bs⁄_≠≥nd_öt
–
b2
, "foo", 1 );

173 
	`bs⁄_föish
–
b2
 );

175 
objs
[0] = 
b
;

176 
objs
[1] = 
b2
;

178 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, "ã°.foo", (c⁄° 
bs⁄
 **)
objs
, 2,

179 
NULL
, 0 ) =
MONGO_ERROR
 );

180 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

182 
	`bs⁄_de°roy
–
b
 );

183 
	`bs⁄_de°roy
–
b2
 );

184 
	`m⁄go_de°roy
–
c⁄n
 );

187 
	}
}

189 
	$ã°_gë_œ°_îr‹_comm™ds
( ) {

190 
m⁄go
 
c⁄n
[1];

191 
bs⁄
 
obj
;

193 
INIT_SOCKETS_FOR_WINDOWS
;

194 
CONN_CLIENT_TEST
;

197 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_OK
 );

198 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 0 );

199 
	`ASSERT
–
c⁄n
->
œ°îr°r
[0] == 0 );

201 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_OK
 );

202 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 0 );

203 
	`ASSERT
–
c⁄n
->
œ°îr°r
[0] == 0 );

205 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_OK
 );

206 
	`bs⁄_de°roy
–&
obj
 );

208 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_OK
 );

209 
	`bs⁄_de°roy
–&
obj
 );

212 
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, 
db
, "f‹˚îr‹", 1, 
NULL
 );

214 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_ERROR
 );

215 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 10038 );

216 
	`ASSERT
–
	`°rcmp
––c⁄° * )
c⁄n
->
œ°îr°r
, "forcedÉrror" ) == 0 );

218 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_ERROR
 );

220 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_ERROR
 );

221 
	`bs⁄_de°roy
–&
obj
 );

223 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_ERROR
 );

224 
	`bs⁄_de°roy
–&
obj
 );

227 
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, 
	`bs⁄_sh¨ed_em±y
–), bs⁄_sh¨ed_em±y–), 
NULL
 );

229 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_ERROR
 );

230 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_OK
 );

232 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_ERROR
 );

233 
	`bs⁄_de°roy
–&
obj
 );

235 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_OK
 );

236 
	`bs⁄_de°roy
–&
obj
 );

239 
	`m⁄go_cmd_ª£t_îr‹
–
c⁄n
, 
db
 );

241 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_OK
 );

242 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, 
NULL
 ) =
MONGO_OK
 );

244 
	`ASSERT
–
	`m⁄go_cmd_gë_¥ev_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_OK
 );

245 
	`bs⁄_de°roy
–&
obj
 );

247 
	`ASSERT
–
	`m⁄go_cmd_gë_œ°_îr‹
–
c⁄n
, 
db
, &
obj
 ) =
MONGO_OK
 );

248 
	`bs⁄_de°roy
–&
obj
 );

251 
	`m⁄go_cmd_dr›_db
–
c⁄n
, 
db
 );

252 
	`m⁄go_de°roy
–
c⁄n
 );

255 
	}
}

257 
	$maö
() {

258 
	`ã°_gë_œ°_îr‹_comm™ds
();

259 
	`ã°_ö£π_limôs
();

260 
	`ã°_«me•a˚_vÆid©i⁄
();

261 
	`ã°_«me•a˚_vÆid©i⁄_⁄_ö£π
();

264 
	}
}

	@oss/mongo-c-driver/test/examples_test.c

1 
	~"ã°.h
"

2 
	~"bs⁄.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 
	$maö
() {

8 
bs⁄
 
b
, 
sub
;

9 
bs⁄_ôî©‹
 
ô
;

36 
	`bs⁄_öô
–&
b
 );

37 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "_id" );

38 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "user_id" );

40 
	`bs⁄_≠≥nd_°¨t_¨øy
–&
b
, "items" );

41 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "0" );

42 
	`bs⁄_≠≥nd_°rög
–&
b
, "name", "John Coltrane: Impressions" );

43 
	`bs⁄_≠≥nd_öt
–&
b
, "price", 1099 );

44 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

46 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "1" );

47 
	`bs⁄_≠≥nd_°rög
–&
b
, "name", "Larry Young: Unity" );

48 
	`bs⁄_≠≥nd_öt
–&
b
, "price", 1199 );

49 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

50 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

52 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "address" );

53 
	`bs⁄_≠≥nd_°rög
–&
b
, "street", "59 18th St." );

54 
	`bs⁄_≠≥nd_öt
–&
b
, "zip", 10010 );

55 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

57 
	`bs⁄_≠≥nd_öt
–&
b
, "total", 2298 );

59 
	`bs⁄_föish
–&
b
 );

62 
	`bs⁄_föd
–&
ô
, &
b
, "items" );

65 
	`bs⁄_ôî©‹_subobje˘_öô
–&
ô
, &
sub
, 0 );

68 
	`bs⁄_¥öt
–&
sub
 );

70 
	`bs⁄_de°roy
–&
b
 );

73 
	}
}

	@oss/mongo-c-driver/test/functions_test.c

3 #i‚de‡
_WIN32


4 
	~"ã°.h
"

5 
	~"m⁄go.h
"

6 
	~<°dio.h
>

7 
	~<°rög.h
>

8 
	~<°dlib.h
>

9 
	~<°d¨g.h
>

11 
	gã°_vÆue
 = 0;

13 *
	$my_mÆloc
–
size_t
 
size
 ) {

14 
ã°_vÆue
 = 1;

15  
	`mÆloc
–
size
 );

16 
	}
}

18 *
	$my_ªÆloc
–*
±r
, 
size_t
 
size
 ) {

19 
ã°_vÆue
 = 2;

20  
	`ªÆloc
–
±r
, 
size
 );

21 
	}
}

23 
	$my_‰ì
–*
±r
 ) {

24 
ã°_vÆue
 = 3;

25 
	`‰ì
–
±r
 );

26 
	}
}

28 
	$my_¥ötf
–c⁄° *
f‹m©
, ... ) {

29 
ªt
 = 0;

30 
ã°_vÆue
 = 4;

32  
ªt
;

33 
	}
}

35 
	$my_Ârötf
–
FILE
 *
Â
, c⁄° *
f‹m©
, ... ) {

36 
ªt
 = 0;

37 
ã°_vÆue
 = 5;

39  
ªt
;

40 
	}
}

42 
	$my_•rötf
–*
s
, c⁄° *
f‹m©
, ... ) {

43 
ªt
 = 0;

44 
ã°_vÆue
 = 6;

46  
ªt
;

47 
	}
}

49 
	$my_îΩrötf
–c⁄° *
f‹m©
, ... ) {

50 
ªt
 = 0;

51 
ã°_vÆue
 = 7;

53  
ªt
;

54 
	}
}

56 
	$maö
() {

58 *
±r
;

59 
°r
[32];

60 
size
 = 256;

62 
±r
 = 
	`bs⁄_mÆloc
–
size
 );

63 
	`ASSERT
–
ã°_vÆue
 == 0 );

64 
±r
 = 
	`bs⁄_ªÆloc
–±r, 
size
 + 64 );

65 
	`ASSERT
–
ã°_vÆue
 == 0 );

66 
	`bs⁄_‰ì
–
±r
 );

67 
	`ASSERT
–
ã°_vÆue
 == 0 );

69 
bs⁄_mÆloc_func
 = 
my_mÆloc
;

70 
bs⁄_ªÆloc_func
 = 
my_ªÆloc
;

71 
bs⁄_‰ì_func
 = 
my_‰ì
;

73 
±r
 = 
	`bs⁄_mÆloc
–
size
 );

74 
	`ASSERT
–
ã°_vÆue
 == 1 );

75 
±r
 = 
	`bs⁄_ªÆloc
–±r, 
size
 + 64 );

76 
	`ASSERT
–
ã°_vÆue
 == 2 );

77 
	`bs⁄_‰ì
–
±r
 );

78 
	`ASSERT
–
ã°_vÆue
 == 3 );

80 
ã°_vÆue
 = 0;

82 
	`bs⁄_¥ötf
–"Te°Öröt‡%d\n", 
ã°_vÆue
 );

83 
	`ASSERT
–
ã°_vÆue
 == 0 );

84 
	`bs⁄_Ârötf
–
°dout
, "Te° f¥öt‡%d\n", 
ã°_vÆue
 );

85 
	`ASSERT
–
ã°_vÆue
 == 0 );

86 
	`bs⁄_•rötf
–
°r
, "Te° s¥öt‡%d\n", 
ã°_vÆue
 );

87 
	`¥ötf
–"%s", 
°r
 );

88 
	`ASSERT
–
ã°_vÆue
 == 0 );

89 
	`bs⁄_îΩrötf
–"Te°Éº %d\n", 
ã°_vÆue
 );

90 
	`ASSERT
–
ã°_vÆue
 == 0 );

92 
bs⁄_¥ötf
 = 
my_¥ötf
;

93 
bs⁄_•rötf
 = 
my_•rötf
;

94 
bs⁄_Ârötf
 = 
my_Ârötf
;

95 
bs⁄_îΩrötf
 = 
my_îΩrötf
;

97 
	`bs⁄_¥ötf
–"Te° %d\n", 
ã°_vÆue
 );

98 
	`ASSERT
–
ã°_vÆue
 == 4 );

99 
	`bs⁄_Ârötf
–
°dout
, "Te° %d\n", 
ã°_vÆue
 );

100 
	`ASSERT
–
ã°_vÆue
 == 5 );

101 
	`bs⁄_•rötf
–
°r
, "Te° %d\n", 
ã°_vÆue
 );

102 
	`ASSERT
–
ã°_vÆue
 == 6 );

103 
	`bs⁄_¥ötf
–"Så: %s\n", 
°r
 );

104 
	`bs⁄_îΩrötf
–"Te° %d\n", 
ã°_vÆue
 );

105 
	`ASSERT
–
ã°_vÆue
 == 7 );

108 
	}
}

110 
	$maö
() {

112 
	}
}

	@oss/mongo-c-driver/test/gridfs_test.c

1 
	~"ã°.h
"

2 
	~"md5.h
"

3 
	~"m⁄go.h
"

4 
	~"gridfs.h
"

5 
	~<°dlib.h
>

6 
	~<°rög.h
>

7 
	~<˘y≥.h
>

8 
	~<°dio.h
>

9 
	~<limôs.h
>

10 #i‚de‡
_WIN32


11 
	~<uni°d.h
>

14 
	#LARGE
 3*1024*1024

	)

15 
	#UPPER
 2000*1024

	)

16 
	#MEDIUM
 1024*512

	)

17 
	#LOWER
 1024*128

	)

18 
	#DELTA
 1024*128

	)

19 
	#READ_WRITE_BUF_SIZE
 10 * 1024

	)

21 
	#GRIDFILE_COMPRESS
 2

	)

23 #ifde‡
_MSC_VER


24 
	#gridfs_ã°_u∆ök
 
_u∆ök


	)

26 
	#gridfs_ã°_u∆ök
 
u∆ök


	)

29 
	#GFS_INIT
 \

30 
	`gridfs_öô
–
c⁄n
, "ã°", "fs", 
gfs
 )

	)

32 
	$fûl_buf„r_øndomly
–*
d©a
, 
öt64_t
 
Àngth
 ) {

33 
öt64_t
 
i
;

34 
øndom
;

35 *
Àâîs
 = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";

36 
∆ëãrs
 = ()
	`°æí
–
Àâîs
 );

37 *
cur
;

39  
i
 = 0, 
cur
 = 
d©a
; i < 
Àngth
; i++, cur++ ) {

40 
øndom
 = 
	`ønd
(Ë% 
∆ëãrs
;

41 *
cur
 = 
Àâîs
[
øndom
];

43 
	}
}

45 
	$dige°2hex
–
m⁄go_md5_byã_t
 
dige°
[16], 
hex_dige°
[33] ) {

46 c⁄° 
hex
[16] = {'0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f'};

47 
i
;

48  
i
=0; i<16; i++ ) {

49 
hex_dige°
[2*
i
] = 
hex
[–
dige°
[i] & 0xf0 ) >> 4];

50 
hex_dige°
[2*
i
 + 1] = 
hex
[ 
dige°
[i] & 0x0f ];

52 
hex_dige°
[32] = '\0';

53 
	}
}

55 
	$ã°_gridfûe
–
gridfs
 *
gfs
, *
d©a_bef‹e
, 
öt64_t
 
Àngth
, *
fûíame
, *
c⁄ã¡_ty≥
 ) {

56 
gridfûe
 
gfûe
[1];

57 
FILE
 *
°ªam
;

58 
m⁄go_md5_°©e_t
 
pms
[1];

59 
m⁄go_md5_byã_t
 
dige°
[16];

60 
hex_dige°
[33];

61 
öt64_t
 
i
 = 
Àngth
;

62 
n
;

63 *
d©a_a·î
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

64 
åuncByãs
;

65 * 
lowîName
;

67 
	`ASSERT
(
	`gridfs_föd_fûíame
–
gfs
, 
fûíame
, 
gfûe
 ) =
MONGO_OK
);

68 
	`ASSERT
–
	`gridfûe_exi°s
–
gfûe
 ) );

70 
°ªam
 = 
	`f›í
( "output", "w+" );

71 
	`gridfûe_wrôe_fûe
–
gfûe
, 
°ªam
 );

72 
	`f£ek
–
°ªam
, 0, 
SEEK_SET
 );

73 
	`ASSERT
–
	`‰ód
–
d©a_a·î
, (
size_t
)
Àngth
, –), 
°ªam
 ) );

74 
	`f˛o£
–
°ªam
 );

75 
	`ASSERT
–
	`memcmp
–
d©a_bef‹e
, 
d©a_a·î
, (
size_t
)
Àngth
 ) == 0 );

77 
	`gridfûe_ªad_buf„r
–
gfûe
, 
d©a_a·î
, 
Àngth
 );

78 
	`ASSERT
–
	`memcmp
–
d©a_bef‹e
, 
d©a_a·î
, (
size_t
)
Àngth
 ) == 0 );

80 
lowîName
 = (*Ë
	`bs⁄_mÆloc
–()
	`°æí
–
fûíame
 ) + 1);

81 
	`°r˝y
–
lowîName
, 
fûíame
 );

82 
	`_°æwr
–
lowîName
 );

84 
	`ASSERT
–
	`°rcmp
–
	`gridfûe_gë_fûíame
–
gfûe
 ), 
lowîName
 ) == 0 );

85 
	`bs⁄_‰ì
–
lowîName
 );

87 
	`ASSERT
–
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) =(
size_t
)
Àngth
 );

89 
	`ASSERT
–
	`gridfûe_gë_chunksize
–
gfûe
 ) =
DEFAULT_CHUNK_SIZE
 );

91 
	`ASSERT
–
	`°rcmp
–
	`gridfûe_gë_c⁄ã¡ty≥
–
gfûe
 ), 
c⁄ã¡_ty≥
 ) == 0 ) ;

93 
	`ASSERT
–
	`memcmp
–
d©a_bef‹e
, 
d©a_a·î
, (
size_t
)
Àngth
 ) == 0 );

95 if–!–
gfûe
->
Êags
 & 
GRIDFILE_COMPRESS
 ) ) {

96 
	`m⁄go_md5_öô
–
pms
 );

98 
n
 = 0;

99  
i
 > 
INT_MAX
 ) {

100 
	`m⁄go_md5_≠≥nd
–
pms
, ( c⁄° 
m⁄go_md5_byã_t
 * )
d©a_bef‹e
 + ( 
n
 * 
INT_MAX
 ), INT_MAX );

101 
i
 -
INT_MAX
;

102 
n
 += 1;

104 if–
i
 > 0 )

105 
	`m⁄go_md5_≠≥nd
–
pms
, ( c⁄° 
m⁄go_md5_byã_t
 * )
d©a_bef‹e
 + ( 
n
 * 
INT_MAX
 ), ()
i
 );

107 
	`m⁄go_md5_föish
–
pms
, 
dige°
 );

108 
	`dige°2hex
–
dige°
, 
hex_dige°
 );

109 
	`ASSERT
–
	`°rcmp
–
	`gridfûe_gë_md5
–
gfûe
 ), 
hex_dige°
 ) == 0 );

112 
åuncByãs
 = (Ë(
Àngth
 > 
DEFAULT_CHUNK_SIZE
 * 4 ?Üength - DEFAULT_CHUNK_SIZE * 2 - 13 : 23);

113 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, 
fûíame
, 
c⁄ã¡_ty≥
, 
GRIDFILE_DEFAULT
);

114 
	`ASSERT
–
	`gridfûe_åunˇã
(
gfûe
, (
size_t
)(
Àngth
 - 
åuncByãs
)) == (size_t)(length -ÅruncBytes));

115 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

117 
	`gridfûe_£ek
(
gfûe
, 0);

118 
	`ASSERT
–
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) =(
size_t
)(
Àngth
 - 
åuncByãs
) );

119 
	`ASSERT
–
	`gridfûe_ªad_buf„r
–
gfûe
, 
d©a_a·î
, 
Àngth
 ) =(
size_t
)÷ígth - 
åuncByãs
));

120 
	`ASSERT
–
	`memcmp
–
d©a_bef‹e
, 
d©a_a·î
, (
size_t
)(
Àngth
 - 
åuncByãs
) ) == 0 );

122 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, 
fûíame
, 
c⁄ã¡_ty≥
, 
GRIDFILE_DEFAULT
);

123 
	`gridfûe_åunˇã
(
gfûe
, 0);

124 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

126 
	`ASSERT
–
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) == 0 );

127 
	`ASSERT
–
	`gridfûe_ªad_buf„r
–
gfûe
, 
d©a_a·î
, 
Àngth
 ) == 0 );

129 
	`gridfûe_de°roy
–
gfûe
 );

130 
	`ASSERT
–
	`gridfs_ªmove_fûíame
–
gfs
, 
fûíame
 ) =
MONGO_OK
 );

131 
	`‰ì
–
d©a_a·î
 );

132 
	`gridfs_ã°_u∆ök
( "output" );

133 
	}
}

135 
	$ã°_basic
( ) {

136 
m⁄go
 
c⁄n
[1];

137 
gridfs
 
gfs
[1];

138 *
d©a_bef‹e
 = (*)
	`bs⁄_mÆloc
–
UPPER
 );

139 
öt64_t
 
i
;

140 
FILE
 *
fd
;

142 
	`§™d
((Ë
	`time
–
NULL
 ) );

144 
INIT_SOCKETS_FOR_WINDOWS
;

145 
CONN_CLIENT_TEST
;

146 
GFS_INIT
;

148 
	`fûl_buf„r_øndomly
–
d©a_bef‹e
, 
UPPER
 );

149  
i
 = 
LOWER
; i <
UPPER
; i +
DELTA
 ) {

152 
	`gridfs_°‹e_buf„r
–
gfs
, 
d©a_bef‹e
, 
i
, "öput-buf„r", "ãxt/html", 
GRIDFILE_COMPRESS
 );

153 
	`ã°_gridfûe
–
gfs
, 
d©a_bef‹e
, 
i
, "input-buffer", "text/html" );

156 
fd
 = 
	`f›í
( "input-file", "w" );

157 
	`fwrôe
–
d©a_bef‹e
, –), (
size_t
)
i
, 
fd
 );

158 
	`f˛o£
–
fd
 );

159 
	`gridfs_°‹e_fûe
–
gfs
, "öput-fûe", "öput-fûe", "ãxt/html", 
GRIDFILE_DEFAULT
 );

160 
	`ã°_gridfûe
–
gfs
, 
d©a_bef‹e
, 
i
, "input-file", "text/html" );

162 
gfs
->
ˇ£In£nsôive
 = 1;

163 
	`gridfs_°‹e_fûe
–
gfs
, "öput-fûe", "öput-fûe", "ãxt/html", 
GRIDFILE_DEFAULT
 );

164 
	`ã°_gridfûe
–
gfs
, 
d©a_bef‹e
, 
i
, "inPut-file", "text/html" );

167 
	`gridfs_de°roy
–
gfs
 );

168 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

169 
	`m⁄go_de°roy
–
c⁄n
 );

170 
	`‰ì
–
d©a_bef‹e
 );

173 
	`gridfs_ã°_u∆ök
( "input-file" );

174 
	`gridfs_ã°_u∆ök
( "output" );

175 
	}
}

177 
	$ã°_dñëe
( ) {

178 
m⁄go
 
c⁄n
[1];

179 
gridfs
 
gfs
[1];

180 
gridfûe
 
gfûe
[1];

181 *
d©a
 = (*)
	`bs⁄_mÆloc
( 1024 );

182 c⁄° *
ã°Fûe
 = "test-delete";

184 
INIT_SOCKETS_FOR_WINDOWS
;

185 
CONN_CLIENT_TEST
;

186 
GFS_INIT
;

188 
	`ASSERT
–
	`gridfs_°‹e_buf„r
–
gfs
, 
d©a
, 1024, 
ã°Fûe
, "ãxt/html", 
GRIDFILE_DEFAULT
 ) =
MONGO_OK
 );

189 
	`ASSERT
–
	`gridfs_föd_fûíame
–
gfs
, 
ã°Fûe
, 
gfûe
 ) =
MONGO_OK
 );

190 
	`gridfûe_de°roy
–
gfûe
 );

192 
	`ASSERT
–
	`gridfs_ªmove_fûíame
–
gfs
, 
ã°Fûe
 ) =
MONGO_OK
 );

193 
	`ASSERT
–
	`gridfs_föd_fûíame
–
gfs
, 
ã°Fûe
, 
gfûe
 ) =
MONGO_ERROR
 );

195 
	`ASSERT
–
	`gridfs_föd_fûíame
–
gfs
, "bogus-fûe-d€s-nŸ-exi°", 
gfûe
 ) =
MONGO_ERROR
 );

196 
	`ASSERT
–
	`gridfs_ªmove_fûíame
–
gfs
, "bogus-fûe-d€s-nŸ-exi°" ) =
MONGO_ERROR
 );

198 
	`gridfs_de°roy
–
gfs
 );

199 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

200 
	`m⁄go_de°roy
–
c⁄n
 );

201 
	`bs⁄_‰ì
–
d©a
 );

202 
	}
}

204 
	$ã°_°ªamög
( ) {

205 
m⁄go
 
c⁄n
[1];

206 
gridfs
 
gfs
[1];

207 
gridfûe
 
gfûe
[1];

208 *
medium
 = (*)
	`bs⁄_mÆloc
–2*
MEDIUM
 );

209 *
smÆl
 = (*)
	`bs⁄_mÆloc
–
LOWER
 );

210 *
buf
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

211 
n
;

213 if–
buf
 =
NULL
 || 
smÆl
 == NULL ) {

214 
	`¥ötf
( "FailedÅoállocate" );

215 
	`exô
( 1 );

218 
	`§™d
–()
	`time
–
NULL
 ) );

220 
INIT_SOCKETS_FOR_WINDOWS
;

221 
CONN_CLIENT_TEST
;

223 
	`fûl_buf„r_øndomly
–
medium
, ( 
öt64_t
 )2 * 
MEDIUM
 );

224 
	`fûl_buf„r_øndomly
–
smÆl
, ( 
öt64_t
 )
LOWER
 );

225 
	`fûl_buf„r_øndomly
–
buf
, ( 
öt64_t
 )
LARGE
 );

227 
GFS_INIT
;

228 
	`gridfûe_öô
–
gfs
, 
NULL
, 
gfûe
 );

229 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "medium", "ãxt/html", 
GRIDFILE_DEFAULT
 );

231 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
–
gfûe
, 
medium
, 
MEDIUM
 ) == MEDIUM);

232 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
–
gfûe
, 
medium
 + 
MEDIUM
, MEDIUM ) == MEDIUM);

233 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

234 
	`ã°_gridfûe
–
gfs
, 
medium
, 2 * 
MEDIUM
, "medium", "text/html" );

235 
	`gridfs_de°roy
–
gfs
 );

237 
GFS_INIT
;

238 
	`gridfs_°‹e_buf„r
–
gfs
, 
smÆl
, 
LOWER
, "smÆl", "ãxt/html", 
GRIDFILE_DEFAULT
 );

239 
	`ã°_gridfûe
–
gfs
, 
smÆl
, 
LOWER
, "small", "text/html" );

240 
	`gridfs_de°roy
–
gfs
 );

242 
GFS_INIT
;

243 
	`gridfs_ªmove_fûíame
–
gfs
, "large" );

244 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "œrge", "ãxt/html", 
GRIDFILE_DEFAULT
 );

245  
n
=0;Ç < ( 
LARGE
 / 1024 );Ç++ ) {

246 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
–
gfûe
, 
buf
 + ( 
n
 * 1024 ), 1024 ) == 1024 );

248 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

249 
	`ã°_gridfûe
–
gfs
, 
buf
, 
LARGE
, "large", "text/html" );

251 
	`gridfs_de°roy
–
gfs
 );

252 
	`m⁄go_de°roy
–
c⁄n
 );

253 
	`‰ì
–
buf
 );

254 
	`‰ì
–
smÆl
 );

255 
	`‰ì
–
medium
 );

256 
	}
}

258 
	$ã°_øndom_wrôe
() {

259 
m⁄go
 
c⁄n
[1];

260 
gridfs
 
gfs
[1];

261 
gridfûe
* 
gfûe
;

262 *
d©a_bef‹e
 = (*)
	`bs⁄_mÆloc
–
UPPER
 );

263 *
øndom_d©a
 = (*)
	`bs⁄_mÆloc
–
UPPER
 );

264 *
buf
 = (*Ë
	`bs⁄_mÆloc
–
UPPER
 );

265 
öt64_t
 
i
;

266 
FILE
 *
fd
;

268 
	`§™d
((Ë
	`time
–
NULL
 ) );

270 
INIT_SOCKETS_FOR_WINDOWS
;

271 
CONN_CLIENT_TEST
;

272 
GFS_INIT
;

274 
	`fûl_buf„r_øndomly
–
d©a_bef‹e
, 
UPPER
 );

275 
	`fûl_buf„r_øndomly
–
øndom_d©a
, 
UPPER
 );

276  
i
 = 
LOWER
; i <
UPPER
; i +
DELTA
 ) {

277 
öt64_t
 
j
 = 
i
 / 2 - 3;

278 
n
, 
byãs_to_wrôe_fú°
;

281 
	`gridfs_°‹e_buf„r
–
gfs
, 
d©a_bef‹e
, 
i
, "öput-buf„r", "ãxt/html", 
GRIDFILE_DEFAULT
 );

282 i‡–
i
 > 
DEFAULT_CHUNK_SIZE
 * 4 ) {

283 
n
 = 
DEFAULT_CHUNK_SIZE
 * 3 + 6;

284 
	`mem˝y
(&
d©a_bef‹e
[
j
], 
øndom_d©a
, 
n
);

285 
byãs_to_wrôe_fú°
 = 10;

287 
n
 = 6;

288 
	`mem˝y
(
øndom_d©a
, "123456", 
n
);

289 
	`°∫˝y
(&
d©a_bef‹e
[
j
], 
øndom_d©a
, 
n
);

290 
byãs_to_wrôe_fú°
 = 0;

292 
gfûe
 = 
	`gridfûe_¸óã
();

293 
	`ASSERT
(
	`gridfs_föd_fûíame
(
gfs
, "öput-buf„r", 
gfûe
) == 0);

294 
	`gridfûe_wrôî_öô
(
gfûe
, 
gfs
, "öput-buf„r", "ãxt/html", 
GRIDFILE_DEFAULT
 );

295 
	`gridfûe_£ek
(
gfûe
, 
j
);

296 i‡–
byãs_to_wrôe_fú°
 ) {

297 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
(
gfûe
, 
øndom_d©a
, 
byãs_to_wrôe_fú°
) == bytes_to_write_first );

299 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
(
gfûe
, &
øndom_d©a
[
byãs_to_wrôe_fú°
], 
n
 - bytes_to_write_first) ==Ç - bytes_to_write_first );

300 
	`gridfûe_£ek
(
gfûe
, 
j
);

301 
	`gridfûe_ªad_buf„r
–
gfûe
, 
buf
, 
n
 );

302 
	`ASSERT
(
	`memcmp
–
buf
, &
d©a_bef‹e
[
j
], 
n
) == 0);

304 
	`gridfûe_wrôî_d⁄e
(
gfûe
);

305 
	`ASSERT
(
gfûe
->
pos
 =
j
 + 
n
);

306 
	`gridfûe_dóŒoc
(
gfûe
);

307 
	`ã°_gridfûe
–
gfs
, 
d©a_bef‹e
, 
j
 + 
n
 > 
i
 ? j +Ç : i, "input-buffer", "text/html" );

310 
fd
 = 
	`f›í
( "input-file", "w" );

311 
	`fwrôe
–
d©a_bef‹e
, –), (
size_t
Ë(
j
 + 
n
 > 
i
 ? j +Ç : i), 
fd
 );

312 
	`f˛o£
–
fd
 );

313 
	`gridfs_°‹e_fûe
–
gfs
, "öput-fûe", "öput-fûe", "ãxt/html", 
GRIDFILE_DEFAULT
 );

314 
	`ã°_gridfûe
–
gfs
, 
d©a_bef‹e
, 
j
 + 
n
 > 
i
 ? j +Ç : i, "input-file", "text/html" );

317 
	`gridfs_de°roy
–
gfs
 );

318 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

319 
	`m⁄go_de°roy
–
c⁄n
 );

320 
	`‰ì
–
d©a_bef‹e
 );

321 
	`‰ì
–
øndom_d©a
 );

322 
	`‰ì
–
buf
 );

325 
	`gridfs_ã°_u∆ök
( "input-file" );

326 
	`gridfs_ã°_u∆ök
( "output" );

327 
	}
}

329 
	$ã°_øndom_wrôe2
( ) {

330 
m⁄go
 
c⁄n
[1];

331 
gridfs
 
gfs
[1];

332 
gridfûe
 
gfûe
[1];

333 
bs⁄
 
mëa
;

334 *
buf
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

335 *
zî€dbuf
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

336 
n
;

338 if–
buf
 =
NULL
 ) {

339 
	`¥ötf
( "FailedÅoállocate" );

340 
	`exô
( 1 );

343 
	`§™d
( 123 );

345 
INIT_SOCKETS_FOR_WINDOWS
;

346 
CONN_CLIENT_TEST
;

348 
	`fûl_buf„r_øndomly
–
buf
, ( 
öt64_t
 )
LARGE
 );

349 
	`mem£t
–
zî€dbuf
, 0, 
LARGE
 );

351 
	`bs⁄_öô_em±y
–&
mëa
 );

353 
GFS_INIT
;

357 
	`gridfûe_öô
–
gfs
, &
mëa
, 
gfûe
 );

358 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "random_access", "text/html", 0 );

359 
	`gridfûe_£t_size
–
gfûe
, 
LARGE
 );

360 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

361 
	`ã°_gridfûe
–
gfs
, 
zî€dbuf
, 
LARGE
, "random_access", "text/html" );

364 
	`gridfûe_öô
–
gfs
, &
mëa
, 
gfûe
 );

365 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "random_access", "text/html", 0 );

366 
	`gridfûe_£t_size
–
gfûe
, 
LARGE
 );

367 
	`gridfûe_åunˇã
–
gfûe
, 
LARGE
 / 2 );

368 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

369 
	`ã°_gridfûe
–
gfs
, 
zî€dbuf
, 
LARGE
 / 2, "random_access", "text/html" );

372 
	`gridfûe_öô
–
gfs
, &
mëa
, 
gfûe
 );

373 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "random_access", "text/html", 0 );

374 
	`gridfûe_£t_size
–
gfûe
, 
LARGE
 );

378  
n
 = 
LARGE
 / 3072 - 1;Ç >= 0;Ç-- ) {

379 
	`gridfûe_£ek
–
gfûe
, 3072 * 
n
 );

380 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
–
gfûe
, 
buf
 + ( 
n
 * 3072 ), 3072 ) == 3072 );

382 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

383 
	`ã°_gridfûe
–
gfs
, 
buf
, 
LARGE
, "random_access", "text/html" );

385 
	`gridfs_de°roy
–
gfs
 );

386 
	`m⁄go_de°roy
–
c⁄n
 );

388 
	`‰ì
–
buf
 );

389 
	`‰ì
–
zî€dbuf
 );

390 
	}
}

392 
	$ã°_œrge
( ) {

393 
m⁄go
 
c⁄n
[1];

394 
gridfs
 
gfs
[1];

395 
gridfûe
 
gfûe
[1];

396 
FILE
 *
fd
;

397 
size_t
 
i
, 
n
;

398 *
buf„r
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

399 *
ªad_buf
 = (*)
	`bs⁄_mÆloc
–
LARGE
 );

400 
öt64_t
 
fûesize
 = ( i¡64_à)1024 * ( i¡64_à)
LARGE
;

401 
m⁄go_wrôe_c⁄˚∫
 
wc
;

402 
bs⁄
 
œ°Eº‹
;

403 
bs⁄
 
œ°Eº‹Cmd
;

405 
	`§™d
–(Ë
	`time
–
NULL
 ) );

407 
INIT_SOCKETS_FOR_WINDOWS
;

408 
CONN_CLIENT_TEST
;

410 
	`m⁄go_wrôe_c⁄˚∫_öô
(&
wc
);

411 
wc
.
j
 = 1;

412 
	`m⁄go_wrôe_c⁄˚∫_föish
(&
wc
);

413 
	`m⁄go_£t_wrôe_c⁄˚∫
(
c⁄n
, &
wc
);

415 
GFS_INIT
;

417 
fd
 = 
	`f›í
( "bigfile", "r" );

418 if–
fd
 ) {

419 
	`f˛o£
–
fd
 );

422 
	`fûl_buf„r_øndomly
–
buf„r
, ( 
öt64_t
 )
LARGE
 );

423 
fd
 = 
	`f›í
( "bigfile", "w" );

424  
i
=0; i<1024; i++ ) {

425 
	`fwrôe
–
buf„r
, 1, 
LARGE
, 
fd
 );

427 
	`f˛o£
–
fd
 );

431 
	`gridfs_ªmove_fûíame
–
gfs
, "bigfile" );

432 
	`gridfs_°‹e_fûe
–
gfs
, "bigfûe", "bigfûe", "ãxt/html", 
GRIDFILE_NOMD5
 | 
GRIDFILE_COMPRESS
);

434 
	`gridfs_föd_fûíame
–
gfs
, "bigfûe", 
gfûe
 );

436 
	`ASSERT
–
	`°rcmp
–
	`gridfûe_gë_fûíame
–
gfûe
 ), "bigfile" ) == 0 );

437 
	`ASSERT
–
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) =
fûesize
 );

439 
fd
 = 
	`f›í
( "bigfile", "r" );

441  ( 
n
 = 
	`‰ód
–
buf„r
, 1, 
MEDIUM
, 
fd
 ) ) != 0 ) {

442 
	`ASSERT
–
	`gridfûe_ªad_buf„r
–
gfûe
, 
ªad_buf
, 
MEDIUM
 ) =
n
 );

443 
	`ASSERT
–
	`memcmp
–
buf„r
, 
ªad_buf
, 
n
 ) == 0 );

446 
	`f˛o£
–
fd
 );

447 
	`gridfûe_de°roy
–
gfûe
 );

450 
	`gridfs_ªmove_fûíame
–
gfs
, "bigfile" );

451 
	`gridfs_ªmove_fûíame
–
gfs
, "bigfile-stream" );

452 
	`gridfûe_wrôî_öô
–
gfûe
, 
gfs
, "bigfûe-°ªam", "ãxt/html", 
GRIDFILE_NOMD5
 | 
GRIDFILE_COMPRESS
 );

454 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–&
wc
 );

455 
	`m⁄go_wrôe_c⁄˚∫_öô
(&
wc
);

456 
wc
.
j
 = 0;

457 
	`m⁄go_wrôe_c⁄˚∫_föish
(&
wc
);

458 
	`m⁄go_£t_wrôe_c⁄˚∫
(
c⁄n
, &
wc
);

460 
fd
 = 
	`f›í
( "bigfile", "r" );

461 
i
 = 0;

462  ( 
n
 = 
	`‰ód
–
buf„r
, 1, 
READ_WRITE_BUF_SIZE
, 
fd
 ) ) != 0 ) {

463 
	`ASSERT
–
	`gridfûe_wrôe_buf„r
–
gfûe
, 
buf„r
, 
n
 ) ==Ç );

464 if(
i
++ % 10 == 0) {

465 
	`bs⁄_öô
–&
œ°Eº‹Cmd
 );

466 
	`bs⁄_≠≥nd_öt
–&
œ°Eº‹Cmd
, "getLastError", 1);

467 
	`bs⁄_≠≥nd_öt
–&
œ°Eº‹Cmd
, "j", 1);

468 
	`bs⁄_föish
–&
œ°Eº‹Cmd
 );

470 
	`bs⁄_öô
–&
œ°Eº‹
 );

471 
	`m⁄go_run_comm™d
–
c⁄n
, "ã°", &
œ°Eº‹Cmd
, &
œ°Eº‹
 );

473 
	`bs⁄_de°roy
–&
œ°Eº‹
 );

474 
	`bs⁄_de°roy
–&
œ°Eº‹Cmd
 );

478 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–&
wc
 );

479 
	`m⁄go_wrôe_c⁄˚∫_öô
(&
wc
);

480 
wc
.
j
 = 1;

481 
	`m⁄go_wrôe_c⁄˚∫_föish
(&
wc
);

482 
	`m⁄go_£t_wrôe_c⁄˚∫
(
c⁄n
, &
wc
);

484 
	`f˛o£
–
fd
 );

485 
	`gridfûe_wrôî_d⁄e
–
gfûe
 );

487 
	`gridfs_föd_fûíame
–
gfs
, "bigfûe-°ªam", 
gfûe
 );

489 
	`ASSERT
–
	`°rcmp
–
	`gridfûe_gë_fûíame
–
gfûe
 ), "bigfile-stream" ) == 0 );

490 
	`ASSERT
–
	`gridfûe_gë_c⁄ã¡Àngth
–
gfûe
 ) =
fûesize
 );

491 
	`gridfs_ªmove_fûíame
–
gfs
, "bigfile-stream" );

493 
	`gridfs_de°roy
–
gfs
 );

494 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

495 
	`m⁄go_de°roy
–
c⁄n
 );

497 
	`bs⁄_‰ì
–
buf„r
 );

498 
	`bs⁄_‰ì
–
ªad_buf
 );

499 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–&
wc
 );

500 
	}
}

502 
	$maö
( ) {

506 
	`ã°_basic
();

507 
	`ã°_dñëe
();

508 
	`ã°_°ªamög
();

509 
	`ã°_øndom_wrôe
();

510 
	`ã°_øndom_wrôe2
();

518 
	}
}

	@oss/mongo-c-driver/test/helpers_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<time.h
>

10 
	$ã°_ödex_hñ≥r
–
m⁄go
 *
c⁄n
 ) {

11 
ªt
;

13 
bs⁄
 
b
, 
out
;

14 
bs⁄_ôî©‹
 
ô
;

16 
	`bs⁄_öô
–&
b
 );

17 
	`bs⁄_≠≥nd_öt
–&
b
, "foo", -1 );

18 
	`bs⁄_föish
–&
b
 );

20 
	`m⁄go_¸óã_ödex
–
c⁄n
, "ã°.b¨", &
b
, 
NULL
, 
MONGO_INDEX_SPARSE
 | 
MONGO_INDEX_UNIQUE
, &
out
 );

22 
	`bs⁄_de°roy
–&
b
 );

23 
	`bs⁄_de°roy
–&
out
 );

25 
	`bs⁄_öô
–&
b
 );

26 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "key" );

27 
	`bs⁄_≠≥nd_öt
–&
b
, "foo", -1 );

28 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

30 
	`bs⁄_föish
–&
b
 );

32 
ªt
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.sy°em.ödexes", &
b
, 
NULL
, &
out
 );

33 
	`ASSERT
–
ªt
 =
MONGO_OK
 );

35 
	`bs⁄_¥öt
–&
out
 );

37 
	`bs⁄_ôî©‹_öô
–&
ô
, &
out
 );

39 
	`ASSERT
–
	`bs⁄_föd
–&
ô
, &
out
, "unique" ) );

40 
	`ASSERT
–
	`bs⁄_föd
–&
ô
, &
out
, "sparse" ) );

42 
	`bs⁄_de°roy
–&
b
 );

43 
	`bs⁄_de°roy
–&
out
 );

44 
	}
}

46 
	$ã°_ödex_hñ≥r_övÆid
–
m⁄go
 *
c⁄n
 ) {

47 
bs⁄
 
b
, 
out
;

49 
	`bs⁄_öô
–&
b
 );

50 
	`bs⁄_≠≥nd_öt
–&
b
, "foo", -1 );

51 
	`bs⁄_föish
–&
b
 );

53 
	`ASSERT
–
MONGO_ERROR
 =
	`m⁄go_¸óã_ödex
–
c⁄n
, "ã°b¨", &
b
, 
NULL
, 
MONGO_INDEX_SPARSE
 | 
MONGO_INDEX_UNIQUE
, &
out
 ));

55 
	`bs⁄_de°roy
–&
b
 );

56 
	`bs⁄_de°roy
–&
out
 );

57 
	}
}

59 
	$maö
() {

61 
m⁄go
 
c⁄n
[1];

63 
INIT_SOCKETS_FOR_WINDOWS
;

64 
CONN_CLIENT_TEST
;

66 
	`ã°_ödex_hñ≥r
–
c⁄n
 );

67 
	`ã°_ödex_hñ≥r_övÆid
–
c⁄n
 );

69 
	`m⁄go_de°roy
–
c⁄n
 );

72 
	}
}

	@oss/mongo-c-driver/test/json_test.c

3 
	~"ã°.h
"

4 
	~<°dio.h
>

5 
	~<°rög.h
>

7 
	~"m⁄go.h
"

8 
	~"js⁄/js⁄.h
"

9 
	~"md5.h
"

11 
js⁄_to_bs⁄_≠≥nd_ñemít
–
bs⁄_buf„r
 *
bb
 , c⁄° *
k
 , 
js⁄_obje˘
 *
v
 );

17 
	$js⁄_to_bs⁄_≠≥nd_¨øy
–
bs⁄_buf„r
 *
bb
 , 
js⁄_obje˘
 *
a
 ) {

18 
i
;

19 
buf
[10];

20  
i
=0; i<
	`js⁄_obje˘_¨øy_Àngth
–
a
 ); i++ ) {

21 
	`•rötf
–
buf
 , "%d" , 
i
 );

22 
	`js⁄_to_bs⁄_≠≥nd_ñemít
–
bb
 , 
buf
 , 
	`js⁄_obje˘_¨øy_gë_idx
–
a
 , 
i
 ) );

24 
	}
}

26 
	$js⁄_to_bs⁄_≠≥nd
–
bs⁄_buf„r
 *
bb
 , 
js⁄_obje˘
 *
o
 ) {

27 
	`js⁄_obje˘_obje˘_f‹óch
–
o
,
k
,
v
 ) {

28 
	`js⁄_to_bs⁄_≠≥nd_ñemít
–
bb
 , 
k
 , 
v
 );

30 
	}
}

32 
	$js⁄_to_bs⁄_≠≥nd_ñemít
–
bs⁄_buf„r
 *
bb
 , c⁄° *
k
 , 
js⁄_obje˘
 *
v
 ) {

33 i‡–! 
v
 ) {

34 
	`bs⁄_≠≥nd_nuŒ
–
bb
 , 
k
 );

38  
	`js⁄_obje˘_gë_ty≥
–
v
 ) ) {

39 
js⁄_ty≥_öt
:

40 
	`bs⁄_≠≥nd_öt
–
bb
 , 
k
 , 
	`js⁄_obje˘_gë_öt
–
v
 ) );

42 
js⁄_ty≥_boﬁón
:

43 
	`bs⁄_≠≥nd_boﬁ
–
bb
 , 
k
 , 
	`js⁄_obje˘_gë_boﬁón
–
v
 ) );

45 
js⁄_ty≥_doubÀ
:

46 
	`bs⁄_≠≥nd_doubÀ
–
bb
 , 
k
 , 
	`js⁄_obje˘_gë_doubÀ
–
v
 ) );

48 
js⁄_ty≥_°rög
:

49 
	`bs⁄_≠≥nd_°rög
–
bb
 , 
k
 , 
	`js⁄_obje˘_gë_°rög
–
v
 ) );

51 
js⁄_ty≥_obje˘
:

52 
	`bs⁄_≠≥nd_°¨t_obje˘
–
bb
 , 
k
 );

53 
	`js⁄_to_bs⁄_≠≥nd
–
bb
 , 
v
 );

54 
	`bs⁄_≠≥nd_föish_obje˘
–
bb
 );

56 
js⁄_ty≥_¨øy
:

57 
	`bs⁄_≠≥nd_°¨t_¨øy
–
bb
 , 
k
 );

58 
	`js⁄_to_bs⁄_≠≥nd_¨øy
–
bb
 , 
v
 );

59 
	`bs⁄_≠≥nd_föish_obje˘
–
bb
 );

62 
	`Ârötf
–
°dîr
 , "ˇn'àh™dÀÅy≥ f‹ : %s\n" , 
	`js⁄_obje˘_to_js⁄_°rög
–
v
 ) );

64 
	}
}

67 *
	$js⁄_to_bs⁄
–*
js
 ) {

68 
js⁄_obje˘
 *
o
 = 
	`js⁄_tokíî_∑r£
–
js
 );

69 
bs⁄_buf„r
 
bb
;

71 i‡–
	`is_îr‹
–
o
 ) ) {

72 
	`Ârötf
–
°dîr
 , "\t ERROR PARSING\n" );

76 i‡–! 
	`js⁄_obje˘_is_ty≥
–
o
 , 
js⁄_ty≥_obje˘
 ) ) {

77 
	`Ârötf
–
°dîr
 , "json_to_bsonÇeedsá JSON object,ÇotÅype\n" );

81 
	`bs⁄_buf„r_öô
–&
bb
 );

82 
	`js⁄_to_bs⁄_≠≥nd
–&
bb
 , 
o
 );

83 
	`bs⁄_buf„r_föish
–&
bb
 );

84  
bb
.
buf
;

85 
	}
}

87 
	$js⁄_to_bs⁄_ã°
–*
js
 , 
size
 , c⁄° *
hash
 ) {

88 
bs⁄
 
b
;

89 
m⁄go_md5_°©e_t
 
°
;

90 
m⁄go_md5_byã_t
 
dige°
[16];

91 
myhash
[33];

92 
i
;

94 
	`Ârötf
–
°dîr
 , "----\n%s\n" , 
js
 );

97 
	`bs⁄_öô
–&
b
 , 
	`js⁄_to_bs⁄
–
js
 ) , 1 );

99 i‡–
b
.
d©a
 == 0 ) {

100 i‡–
size
 == 0 )

102 
	`Ârötf
–
°dîr
 , "Áûed whí wa¢'àsuµo£dÅo: %s\n" , 
js
 );

107 i‡–
size
 !
	`bs⁄_size
–&
b
 ) ) {

108 
	`Ârötf
–
°dîr
 , "size†d⁄'àm©ch [%s] w™à!gŸ %d !%d\n" , 
js
 , 
size
 , 
	`bs⁄_size
–&
b
 ) );

109 
	`bs⁄_de°roy
–&
b
 );

113 
	`m⁄go_md5_öô
–&
°
 );

114 
	`m⁄go_md5_≠≥nd
–&
°
 , ( c⁄° 
m⁄go_md5_byã_t
 * )
b
.
d©a
 , 
	`bs⁄_size
( &b ) );

115 
	`m⁄go_md5_föish
–&
°
, 
dige°
 );

117  
i
=0; i<16; i++ )

118 
	`•rötf
–
myhash
 + ( 
i
 * 2 ) , "%.2x" , 
dige°
[i] );

119 
myhash
[32] = 0;

121 i‡–
	`°æí
–
hash
 ) != 32 ) {

122 
	`¥ötf
–"\tövÆid hash giví gŸ %s\n" , 
myhash
 );

123 
	`bs⁄_de°roy
–&
b
 );

125 } i‡–
	`°r°r
–
myhash
 , 
hash
 ) != myhash ) {

126 
	`¥ötf
( " hashes don't match\n" );

127 
	`¥ötf
–" JSON: %s\n\t%s\n", 
hash
, 
js
 );

128 
	`¥ötf
–" BSON: %s\n", 
myhash
 );

129 
	`bs⁄_¥öt
–&
b
 );

130 
	`bs⁄_de°roy
–&
b
 );

134 
	`bs⁄_de°roy
–&
b
 );

136 
	}
}

138 
	gtŸÆ
 = 0;

139 
	gÁûs
 = 0;

141 
	$run_js⁄_to_bs⁄_ã°
–*
js
 , 
size
 , c⁄° *
hash
 ) {

142 
tŸÆ
++;

143 i‡–! 
	`js⁄_to_bs⁄_ã°
–
js
 , 
size
 , 
hash
 ) )

144 
Áûs
++;

146  
Áûs
;

147 
	}
}

149 
	#JSONBSONTEST
 
run_js⁄_to_bs⁄_ã°


	)

151 
	$maö
() {

153 
	`run_js⁄_to_bs⁄_ã°
( "1" , 0 , 0 );

155 
	`JSONBSONTEST
( "{ 'x' :Årue }" , 9 , "6fe24623e4efc5cf07f027f9c66b5456" );

156 
	`JSONBSONTEST
( "{ 'x' :Çull }" , 8 , "12d43430ff6729af501faf0638e68888" );

157 
	`JSONBSONTEST
( "{ 'x' : 5.2 }" , 16 , "aaeeac4a58e9c30eec6b0b0319d0dff2" );

158 
	`JSONBSONTEST
( "{ 'x' : 'eliot' }" , 18 , "331a3b8b7cbbe0706c80acdb45d4ebbe" );

159 
	`JSONBSONTEST
( "{ 'x' : 5.2 , 'y' : 'truth' , 'z' : 1.1 }" , 40 , "7c77b3a6e63e2f988ede92624409da58" );

160 
	`JSONBSONTEST
( "{ 'x' : 4 }" , 12 , "d1ed8dbf79b78fa215e2ded74548d89d" );

161 
	`JSONBSONTEST
( "{ 'x' : 5.2 , 'y' : 'truth' , 'z' : 1 }" , 36 , "8993953de080e9d4ef449d18211ef88a" );

162 
	`JSONBSONTEST
( "{ 'x' : 'eliot' , 'y' :Årue , 'z' : 1 }" , 29 , "24e79c12e6c746966b123310cb1a3290" );

163 
	`JSONBSONTEST
( "{ 'a' : { 'b' : 1.1 } }" , 24 , "31887a4b9d55cd9f17752d6a8a45d51f" );

164 
	`JSONBSONTEST
( "{ 'x' : 5.2 , 'y' : { 'a' : 'eliot' , 'b' :Årue } , 'z' :Çull }" , 44 , "b3de8a0739ab329e7aea138d87235205" );

165 
	`JSONBSONTEST
( "{ 'x' : 5.2 , 'y' : [ 'a' , 'eliot' , 'b' ,Årue ] , 'z' :Çull }" , 62 , "cb7bad5697714ba0cbf51d113b6a0ee8" );

167 
	`Ârötf
–
°dîr
, "----\¡ŸÆ: %d\nÁû†: %d\n" , 
tŸÆ
 , 
Áûs
 );

168  
Áûs
;

169 
	}
}

	@oss/mongo-c-driver/test/oid_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<time.h
>

10 
	$ö¸emít
( ) {

11 
i
 = 1000;

12 
i
++;

13  
i
;

14 
	}
}

16 
	$fuzz
( ) {

18 
	}
}

21 
	$maö
() {

23 
bs⁄_oid_t
 
o
;

24 
ªs
;

26 
	`bs⁄_£t_oid_öc
–
ö¸emít
 );

27 
	`bs⁄_£t_oid_fuzz
–
fuzz
 );

29 
	`bs⁄_oid_gí
–&
o
 );

30 
	`bs⁄_big_ídün32
–&
ªs
, &–
o
.
öts
[2] ) );

32 
	`ASSERT
–
o
.
öts
[1] == 50000 );

33 
	`ASSERT
–
ªs
 == 1001 );

36 
	}
}

	@oss/mongo-c-driver/test/platform/linux/timeouts.c

3 
	~"../../ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<time.h
>

10 
	$maö
() {

12 
m⁄go
 
c⁄n
[1];

13 
bs⁄
 
b
;

14 
ªs
;

16 if–
	`m⁄go_˛õ¡
–
c⁄n
, 
TEST_SERVER
, 27017 ) !
MONGO_OK
 ) {

17 
	`¥ötf
("FailedÅo connect");

18 
	`exô
(1);

21 
ªs
 = 
	`m⁄go_sim∂e_°r_comm™d
–
c⁄n
, "test", "$eval",

22 "f‹(i=0; i<100000; i++Ë{ db.foo.föd(Ë}", &
b
 );

24 
	`ASSERT
–
ªs
 =
MONGO_OK
 );

27 
	`m⁄go_£t_›_timeout
–
c⁄n
, 50 );

29 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

30 
ªs
 = 
	`m⁄go_sim∂e_°r_comm™d
–
c⁄n
, "test", "$eval",

31 "f‹(i=0; i<100000; i++Ë{ db.foo.föd(Ë}", &
b
 );

33 
	`ASSERT
–
ªs
 =
MONGO_ERROR
 );

34 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_IO_ERROR
 );

37 
	}
}

	@oss/mongo-c-driver/test/replica_set_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<uni°d.h
>

10 #i‚de‡
SEED_START_PORT


11 
	#SEED_START_PORT
 30000

	)

14 #i‚de‡
REPLICA_SET_NAME


15 
	#REPLICA_SET_NAME
 "ª∂iˇ-£t-foo"

	)

18 
	$ã°_c⁄√˘_dïªˇãd
–c⁄° *
£t_«me
 ) {

20 
m⁄go
 
c⁄n
[1];

21 
ªs
;

23 
INIT_SOCKETS_FOR_WINDOWS
;

25 
	`m⁄go_ª∂iˇ_£t_öô
–
c⁄n
, 
£t_«me
 );

26 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

27 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

29 
ªs
 = 
	`m⁄go_ª∂iˇ_£t_c⁄√˘
–
c⁄n
 );

33 
	`ASSERT
–
c⁄n
->
wrôe_c⁄˚∫
 == (*)0 );

35 if–
ªs
 !
MONGO_OK
 ) {

36 
ªs
 = 
c⁄n
->
îr
;

37  
ªs
;

40 
	`ASSERT
–
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 ||

41 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 1 ||

42 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 2 );

44 
	`m⁄go_de°roy
–
c⁄n
 );

45  
ªs
;

46 
	}
}

48 
	$ã°_c⁄√˘
–c⁄° *
£t_«me
 ) {

50 
m⁄go
 
c⁄n
[1];

51 
ªs
;

53 
INIT_SOCKETS_FOR_WINDOWS
;

55 
	`m⁄go_ª∂iˇ_£t_öô
–
c⁄n
, 
£t_«me
 );

56 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

57 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

59 
ªs
 = 
	`m⁄go_ª∂iˇ_£t_˛õ¡
–
c⁄n
 );

61 if–
ªs
 !
MONGO_OK
 ) {

62 
ªs
 = 
c⁄n
->
îr
;

63  
ªs
;

66 
	`ASSERT
–
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 ||

67 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 1 ||

68 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 2 );

70 
	`m⁄go_de°roy
–
c⁄n
 );

71  
ªs
;

72 
	}
}

74 
	$ã°_ªc⁄√˘
–c⁄° *
£t_«me
 ) {

76 
m⁄go
 
c⁄n
[1];

77 
ªs
 = 0;

78 
e
 = 0;

79 
bs⁄
 
b
;

81 
INIT_SOCKETS_FOR_WINDOWS
;

83 
	`m⁄go_ª∂iˇ_£t_öô
–
c⁄n
, 
£t_«me
 );

84 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

85 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

88 if––
	`m⁄go_ª∂iˇ_£t_˛õ¡
–
c⁄n
 ) !
MONGO_OK
 ) ) {

89 
	`m⁄go_de°roy
–
c⁄n
 );

90  
MONGO_ERROR
;

92 
	`Ârötf
–
°dîr
, "DisconnectÇow:\n" );

93 
	`¶ìp
( 10 );

94 
e
 = 1;

96 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, "foo.b¨", 
	`bs⁄_em±y
–&
b
 ), bs⁄_em±y–&b ), 
NULL
 );

97 if–
ªs
 =
MONGO_ERROR
 && 
c⁄n
->
îr
 =
MONGO_IO_ERROR
 ) {

98 
	`¶ìp
( 2 );

99 if–
e
++ < 30 ) {

100 
	`Ârötf
–
°dîr
, "Aâem±ögÑec⁄√˘ %d.\n", 
e
 );

101 
	`m⁄go_ªc⁄√˘
–
c⁄n
 );

103 
	`Ârötf
–
°dîr
, "Fail.\n" );

112 
	}
}

114 
	$ã°_ö£π_limôs
–c⁄° *
£t_«me
 ) {

115 
vîsi⁄
[10];

116 
m⁄go
 
c⁄n
[1];

117 
m⁄go_wrôe_c⁄˚∫
 
wc
[1];

118 
i
;

119 
key
[10];

120 
ªs
 = 0;

121 
bs⁄
 
b
[1], 
b2
[1];

122 
bs⁄
 *
objs
[2];

124 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc
 );

125 
wc
->
w
 = 1;

126 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc
 );

129 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] <= '1' )

132 
	`m⁄go_ª∂iˇ_£t_öô
–
c⁄n
, 
£t_«me
 );

133 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

134 
	`m⁄go_ª∂iˇ_£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

135 
ªs
 = 
	`m⁄go_ª∂iˇ_£t_˛õ¡
–
c⁄n
 );

137 if–
ªs
 !
MONGO_OK
 ) {

138 
ªs
 = 
c⁄n
->
îr
;

139  
ªs
;

142 
	`ASSERT
–
c⁄n
->
max_bs⁄_size
 > 
MONGO_DEFAULT_MAX_BSON_SIZE
 );

144 
	`bs⁄_öô
–
b
 );

145 
i
=0; i<1200000; i++) {

146 
	`•rötf
–
key
, "%d", 
i
 + 10000000 );

147 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, 
i
 );

149 
	`bs⁄_föish
–
b
 );

151 
	`ASSERT
–
	`bs⁄_size
–
b
 ) > 
c⁄n
->
max_bs⁄_size
 );

153 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", 
b
, 
wc
 ) =
MONGO_ERROR
 );

154 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

156 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

157 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

159 
	`bs⁄_öô
–
b2
 );

160 
	`bs⁄_≠≥nd_öt
–
b2
, "foo", 1 );

161 
	`bs⁄_föish
–
b2
 );

163 
objs
[0] = 
b
;

164 
objs
[1] = 
b2
;

166 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, "ã°.foo", (c⁄° 
bs⁄
**)
objs
, 2, 
wc
, 0 ) =
MONGO_ERROR
 );

167 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

169 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc
 );

172 
	}
}

174 
	$maö
() {

175 
	`ASSERT
–
	`ã°_c⁄√˘_dïªˇãd
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

176 
	`ASSERT
–
	`ã°_c⁄√˘
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

177 
	`ASSERT
–
	`ã°_c⁄√˘
–"ã°-foob¨" ) =
MONGO_CONN_BAD_SET_NAME
 );

178 
	`ASSERT
–
	`ã°_ö£π_limôs
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

185 
	}
}

	@oss/mongo-c-driver/test/replset_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

8 
	~<uni°d.h
>

10 #i‚de‡
SEED_START_PORT


11 
	#SEED_START_PORT
 30000

	)

14 #i‚de‡
REPLICA_SET_NAME


15 
	#REPLICA_SET_NAME
 "ª∂iˇ-£t-foo"

	)

18 
	$ã°_c⁄√˘_dïªˇãd
–c⁄° *
£t_«me
 ) {

20 
m⁄go
 
c⁄n
[1];

21 
ªs
;

23 
INIT_SOCKETS_FOR_WINDOWS
;

25 
	`m⁄go_ª∂£t_öô
–
c⁄n
, 
£t_«me
 );

26 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

27 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

29 
ªs
 = 
	`m⁄go_ª∂£t_c⁄√˘
–
c⁄n
 );

33 
	`ASSERT
–
c⁄n
->
wrôe_c⁄˚∫
 == (*)0 );

35 if–
ªs
 !
MONGO_OK
 ) {

36 
ªs
 = 
c⁄n
->
îr
;

37  
ªs
;

40 
	`ASSERT
–
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 ||

41 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 1 ||

42 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 2 );

44 
	`m⁄go_de°roy
–
c⁄n
 );

45  
ªs
;

46 
	}
}

48 
	$ã°_c⁄√˘
–c⁄° *
£t_«me
 ) {

50 
m⁄go
 
c⁄n
[1];

51 
ªs
;

53 
INIT_SOCKETS_FOR_WINDOWS
;

55 
	`m⁄go_ª∂£t_öô
–
c⁄n
, 
£t_«me
 );

56 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

57 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

59 
ªs
 = 
	`m⁄go_ª∂£t_˛õ¡
–
c⁄n
 );

61 if–
ªs
 !
MONGO_OK
 ) {

62 
ªs
 = 
c⁄n
->
îr
;

63  
ªs
;

66 
	`ASSERT
–
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 ||

67 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 1 ||

68 
c⁄n
->
¥im¨y
->
p‹t
 =
SEED_START_PORT
 + 2 );

70 
	`m⁄go_de°roy
–
c⁄n
 );

71  
ªs
;

72 
	}
}

74 
	$ã°_ªc⁄√˘
–c⁄° *
£t_«me
 ) {

76 
m⁄go
 
c⁄n
[1];

77 
ªs
 = 0;

78 
e
 = 0;

80 
INIT_SOCKETS_FOR_WINDOWS
;

82 
	`m⁄go_ª∂£t_öô
–
c⁄n
, 
£t_«me
 );

83 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

84 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

87 if––
	`m⁄go_ª∂£t_˛õ¡
–
c⁄n
 ) !
MONGO_OK
 ) ) {

88 
	`m⁄go_de°roy
–
c⁄n
 );

89  
MONGO_ERROR
;

91 
	`Ârötf
–
°dîr
, "DisconnectÇow:\n" );

92 
	`¶ìp
( 10 );

93 
e
 = 1;

95 
ªs
 = 
	`m⁄go_föd_⁄e
–
c⁄n
, "foo.b¨", 
	`bs⁄_em±y
–), bs⁄_em±y–), 
NULL
 );

96 if–
ªs
 =
MONGO_ERROR
 && 
c⁄n
->
îr
 =
MONGO_IO_ERROR
 ) {

97 
	`¶ìp
( 2 );

98 if–
e
++ < 30 ) {

99 
	`Ârötf
–
°dîr
, "Aâem±ögÑec⁄√˘ %d.\n", 
e
 );

100 
	`m⁄go_ªc⁄√˘
–
c⁄n
 );

102 
	`Ârötf
–
°dîr
, "Fail.\n" );

111 
	}
}

113 
	$ã°_ö£π_limôs
–c⁄° *
£t_«me
 ) {

114 
vîsi⁄
[10];

115 
m⁄go
 
c⁄n
[1];

116 
m⁄go_wrôe_c⁄˚∫
 
wc
[1];

117 
i
;

118 
key
[10];

119 
ªs
 = 0;

120 
bs⁄
 
b
[1], 
b2
[1];

121 
bs⁄
 *
objs
[2];

123 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc
 );

124 
wc
->
w
 = 1;

125 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc
 );

128 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] <= '1' )

131 
	`m⁄go_ª∂£t_öô
–
c⁄n
, 
£t_«me
 );

132 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 + 1 );

133 
	`m⁄go_ª∂£t_add_£ed
–
c⁄n
, 
TEST_SERVER
, 
SEED_START_PORT
 );

134 
ªs
 = 
	`m⁄go_ª∂£t_˛õ¡
–
c⁄n
 );

136 if–
ªs
 !
MONGO_OK
 ) {

137 
ªs
 = 
c⁄n
->
îr
;

138  
ªs
;

141 
	`ASSERT
–
c⁄n
->
max_bs⁄_size
 > 
MONGO_DEFAULT_MAX_BSON_SIZE
 );

143 
	`bs⁄_öô
–
b
 );

144 
i
=0; i<1200000; i++) {

145 
	`•rötf
–
key
, "%d", 
i
 + 10000000 );

146 
	`bs⁄_≠≥nd_öt
–
b
, 
key
, 
i
 );

148 
	`bs⁄_föish
–
b
 );

150 
	`ASSERT
–
	`bs⁄_size
–
b
 ) > 
c⁄n
->
max_bs⁄_size
 );

152 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", 
b
, 
wc
 ) =
MONGO_ERROR
 );

153 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

155 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

156 
	`ASSERT
–
c⁄n
->
îr
 == 0 );

158 
	`bs⁄_öô
–
b2
 );

159 
	`bs⁄_≠≥nd_öt
–
b2
, "foo", 1 );

160 
	`bs⁄_föish
–
b2
 );

162 
objs
[0] = 
b
;

163 
objs
[1] = 
b2
;

165 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, "ã°.foo", (c⁄° 
bs⁄
**)
objs
, 2, 
wc
, 0 ) =
MONGO_ERROR
 );

166 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_TOO_LARGE
 );

168 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc
 );

171 
	}
}

173 
	$maö
() {

174 
	`ASSERT
–
	`ã°_c⁄√˘_dïªˇãd
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

175 
	`ASSERT
–
	`ã°_c⁄√˘
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

176 
	`ASSERT
–
	`ã°_c⁄√˘
–"ã°-foob¨" ) =
MONGO_CONN_BAD_SET_NAME
 );

177 
	`ASSERT
–
	`ã°_ö£π_limôs
–
REPLICA_SET_NAME
 ) =
MONGO_OK
 );

184 
	}
}

	@oss/mongo-c-driver/test/resize_test.c

3 
	~"ã°.h
"

4 
	~"bs⁄.h
"

5 
	~<°rög.h
>

8 c⁄° *
	gbig°rög
 = "XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX";

10 
	$maö
() {

11 
bs⁄
 
b
;

13 
	`bs⁄_öô
–&
b
 );

14 
	`bs⁄_≠≥nd_°rög
–&
b
, "a", 
big°rög
 );

15 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "sub" );

16 
	`bs⁄_≠≥nd_°rög
–&
b
,"a", 
big°rög
 );

17 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "sub" );

18 
	`bs⁄_≠≥nd_°rög
–&
b
,"a", 
big°rög
 );

19 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
, "sub" );

20 
	`bs⁄_≠≥nd_°rög
–&
b
,"a", 
big°rög
 );

21 
	`bs⁄_≠≥nd_°rög
–&
b
,"b", 
big°rög
 );

22 
	`bs⁄_≠≥nd_°rög
–&
b
,"c", 
big°rög
 );

23 
	`bs⁄_≠≥nd_°rög
–&
b
,"d", 
big°rög
 );

24 
	`bs⁄_≠≥nd_°rög
–&
b
,"e", 
big°rög
 );

25 
	`bs⁄_≠≥nd_°rög
–&
b
,"f", 
big°rög
 );

26 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

27 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

28 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

29 
	`bs⁄_föish
–&
b
 );

32 
	`bs⁄_de°roy
–&
b
 );

34 
	}
}

	@oss/mongo-c-driver/test/simple_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~"ív.h
"

6 
	~<°dio.h
>

7 
	~<°rög.h
>

8 
	~<°dlib.h
>

10 
	$maö
() {

11 
m⁄go
 
c⁄n
[1];

12 
m⁄go_curs‹
 
curs‹
[1];

13 
bs⁄
 
b
;

14 
i
;

15 
hex_oid
[25];

16 
bs⁄_time°amp_t
 
ts
 = { 1, 2 };

18 c⁄° *
cﬁ
 = "c.simple";

19 c⁄° *
ns
 = "test.c.simple";

64 
INIT_SOCKETS_FOR_WINDOWS
;

65 
CONN_CLIENT_TEST
;

67 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 );

68 
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, 
	`bs⁄_sh¨ed_em±y
–), bs⁄_sh¨ed_em±y–), 
NULL
 );

70  
i
=0; i< 5; i++ ) {

71 
	`bs⁄_öô
–&
b
 );

73 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "_id" );

74 
	`bs⁄_≠≥nd_time°amp
–&
b
, "ts", &
ts
 );

75 
	`bs⁄_≠≥nd_doubÀ
–&
b
 , "a" , 17 );

76 
	`bs⁄_≠≥nd_öt
–&
b
 , "b" , 17 );

77 
	`bs⁄_≠≥nd_°rög
–&
b
 , "c" , "17" );

80 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
b
 , "d" );

81 
	`bs⁄_≠≥nd_öt
–&
b
, "i", 71 );

82 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

85 
	`bs⁄_≠≥nd_°¨t_¨øy
–&
b
 , "e" );

86 
	`bs⁄_≠≥nd_öt
–&
b
, "0", 71 );

87 
	`bs⁄_≠≥nd_°rög
–&
b
, "1", "71" );

88 
	`bs⁄_≠≥nd_föish_obje˘
–&
b
 );

91 
	`bs⁄_föish
–&
b
 );

92 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
 , 
ns
 , &
b
, 
NULL
 ) =
MONGO_OK
 );

93 
	`bs⁄_de°roy
–&
b
 );

96 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, 
ns
 );

98  
	`m⁄go_curs‹_√xt
–
curs‹
 ) =
MONGO_OK
 ) {

99 
bs⁄_ôî©‹
 
ô
;

100 
	`bs⁄_ôî©‹_öô
–&
ô
, 
	`m⁄go_curs‹_bs⁄
–
curs‹
 ) );

101  
	`bs⁄_ôî©‹_√xt
–&
ô
 ) ) {

102 
	`Ârötf
–
°dîr
, " %s: ", 
	`bs⁄_ôî©‹_key
–&
ô
 ) );

104  
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) ) {

105 
BSON_DOUBLE
:

106 
	`Ârötf
–
°dîr
, "(doubÀË%e\n", 
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) );

108 
BSON_INT
:

109 
	`Ârötf
–
°dîr
, "(ötË%d\n", 
	`bs⁄_ôî©‹_öt
–&
ô
 ) );

111 
BSON_STRING
:

112 
	`Ârötf
–
°dîr
, "(°rögË\"%s\"\n", 
	`bs⁄_ôî©‹_°rög
–&
ô
 ) );

114 
BSON_OID
:

115 
	`bs⁄_oid_to_°rög
–
	`bs⁄_ôî©‹_oid
–&
ô
 ), 
hex_oid
 );

116 
	`Ârötf
–
°dîr
, "(oidË\"%s\"\n", 
hex_oid
 );

118 
BSON_OBJECT
:

119 
	`Ârötf
–
°dîr
, "(subobject) {...}\n" );

121 
BSON_ARRAY
:

122 
	`Ârötf
–
°dîr
, "(array) [...]\n" );

124 
BSON_TIMESTAMP
:

125 
	`Ârötf
–
°dîr
, "(timestamp) [...]\n" );

128 
	`Ârötf
–
°dîr
, "—y≥ %d)\n", 
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) );

132 
	`Ârötf
–
°dîr
, "\n" );

135 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

136 
	`ASSERT
–
	`m⁄go_cmd_dr›_db
–
c⁄n
, "ã°" ) =
MONGO_OK
 );

137 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

139 
	`ASSERT
–
	`m⁄go_check_c⁄√˘i⁄
–
c⁄n
 ) =
MONGO_ERROR
 );

141 
	`m⁄go_ªc⁄√˘
–
c⁄n
 );

143 
	`ASSERT
–
	`m⁄go_check_c⁄√˘i⁄
–
c⁄n
 ) =
MONGO_OK
 );

145 
	`m⁄go_ív_˛o£_sockë
–
c⁄n
->
sock
 );

147 
	`ASSERT
–
	`m⁄go_check_c⁄√˘i⁄
–
c⁄n
 ) =
MONGO_ERROR
 );

149 
	`m⁄go_ªc⁄√˘
–
c⁄n
 );

151 
	`ASSERT
–
	`m⁄go_sim∂e_öt_comm™d
–
c⁄n
, "admö", "pög", 1, 
NULL
 ) =
MONGO_OK
 );

153 
	`m⁄go_de°roy
–
c⁄n
 );

155 
	}
}

	@oss/mongo-c-driver/test/sizes_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

7 
	$maö
() {

8 
m⁄go_ª∂y
 
mr
;

10 
	`ASSERT
( ( ) == 4 );

11 
	`ASSERT
––
öt64_t
 ) == 8 );

12 
	`ASSERT
( ( ) == 8 );

13 
	`ASSERT
––
bs⁄_oid_t
 ) == 12 );

15 
	`ASSERT
––
m⁄go_hódî
 ) == 4+4+4+4 );

16 
	`ASSERT
––
m⁄go_ª∂y_fõlds
 ) == 4+8+4+4 );

19 
	`ASSERT
––&
mr
.
objs
 - ( * )&mr ) == ( 4+4+4+4 + 4+8+4+4 ) );

22 
	}
}

	@oss/mongo-c-driver/test/test.h

1 
	~"m⁄go.h
"

2 
	~<°dlib.h
>

4 
	#ASSERT
(
x
) \

6 if(!(
x
)){ \

7 
	`¥ötf
("\nFaûed ASSERT [%s] (%d):\¿ %s\n\n", 
__FILE__
, 
__LINE__
, #x); \

8 
	`exô
(1); \

10 }0)

	)

12 
	#ASSERT_EQUAL_STRINGS
(
x
, 
y
) \

14 if((
	`°∫cmp
–
x
, 
y
, 
	`°æí
( y ) ) != 0 )){ \

15 
	`¥ötf
("\nFaûed ASSERT_EQUAL_STRINGS [%s] (%d):\¿ \"%s\" d€†nŸÉquÆ\¿ %s\n", 
__FILE__
, 
__LINE__
, 
x
, #y); \

16 
	`exô
(1); \

18 }0)

	)

20 #ifde‡
_WIN32


21 
	#INIT_SOCKETS_FOR_WINDOWS
 
	`m⁄go_öô_sockës
();

	)

23 
	#INIT_SOCKETS_FOR_WINDOWS
 dÿ{} 0)

	)

26 c⁄° *
	gTEST_DB
 = "test";

27 c⁄° *
	gTEST_COL
 = "foo";

28 c⁄° *
	gTEST_NS
 = "test.foo";

30 
	#CONN_CLIENT_TEST
 \

31 if–
	`m⁄go_˛õ¡
–
c⁄n
, 
TEST_SERVER
, 27017 ) !
MONGO_OK
 ) { \

32 
	`¥ötf
( "FailedÅo connect" ); \

33 
	`exô
( 1 ); \

35 

	)

36 
MONGO_EXTERN_C_START


38 
	$m⁄go_gë_£rvî_vîsi⁄
–*
vîsi⁄
 ) {

39 
ªt
 = 0;

40 
m⁄go
 
c⁄n
[1];

41 
bs⁄
 
cmd
[1], 
out
[1];

42 
bs⁄_ôî©‹
 
ô
[1];

43 c⁄° *
ªsu…
;

45 
	`m⁄go_˛õ¡
–
c⁄n
, 
TEST_SERVER
, 27017 );

47 
	`bs⁄_öô
–
cmd
 );

48 
	`bs⁄_≠≥nd_öt
–
cmd
, "buildinfo", 1 );

49 
	`bs⁄_föish
–
cmd
 );

51 if–
	`m⁄go_run_comm™d
–
c⁄n
, "admö", 
cmd
, 
out
 ) =
MONGO_ERROR
 ) {

52 
ªt
 = -1;

55 
	`bs⁄_ôî©‹_öô
–
ô
, 
out
 );

56 
ªsu…
 = 
	`bs⁄_ôî©‹_°rög
–
ô
 );

58 
	`mem˝y
–
vîsi⁄
, 
ªsu…
, 
	`°æí
(Ñesult ) );

59 
	`bs⁄_de°roy
–
out
 );

61 
	`bs⁄_de°roy
–
cmd
 );

62 
	`m⁄go_de°roy
–
c⁄n
 );

64 
	}
}

66 
	gMONGO_EXTERN_C_END


	@oss/mongo-c-driver/test/unix_socket_test.c

1 
	~"ã°.h
"

2 
	~"m⁄go.h
"

3 
	~<°dio.h
>

4 
	~<°dlib.h
>

6 
	$maö
() {

8 
m⁄go
 
c⁄n
[1];

9 
bs⁄
 
b
;

10 c⁄° *
sock_∑th
 = "/tmp/mongodb-27017.sock";

11 c⁄° *
ns
 = "test.c.unix_socket";

12 c⁄° *
cﬁ
 = "c.unix_socket";

14 
	`ASSERT
–
	`m⁄go_˛õ¡
–
c⁄n
, 
sock_∑th
, -1 ) =
MONGO_OK
 );

16 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 );

18 
	`bs⁄_öô
–&
b
 );

19 
	`bs⁄_≠≥nd_√w_oid
–&
b
, "_id" );

20 
	`bs⁄_≠≥nd_°rög
–&
b
, "foo", "bar" );

21 
	`bs⁄_≠≥nd_öt
–&
b
, "x", 1);

22 
	`bs⁄_föish
–&
b
 );

24 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
ns
, &
b
, 
NULL
 ) =
MONGO_OK
 );

26 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 );

28 
	`bs⁄_de°roy
–&
b
 );

29 
	`m⁄go_de°roy
–
c⁄n
 );

32 
	}
}

	@oss/mongo-c-driver/test/update_test.c

1 
	~"ã°.h
"

2 
	~"m⁄go.h
"

3 
	~<°dio.h
>

4 
	~<°rög.h
>

5 
	~<°dlib.h
>

7 
	$maö
() {

8 
m⁄go
 
c⁄n
[1];

9 
bs⁄
 
obj
;

10 
bs⁄
 
c⁄d
;

11 
i
;

12 
bs⁄_oid_t
 
oid
;

13 c⁄° *
cﬁ
 = "c.update_test";

14 c⁄° *
ns
 = "test.c.update_test";

16 
INIT_SOCKETS_FOR_WINDOWS
;

17 
CONN_CLIENT_TEST
;

20 i‡–
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", 
cﬁ
, 
NULL
 ) =
MONGO_OK


21 && 
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, 
	`bs⁄_sh¨ed_em±y
–), bs⁄_sh¨ed_em±y–), 
NULL
 ) !
MONGO_OK
 ) {

22 
	`¥ötf
( "failedÅo drop collection\n" );

23 
	`exô
( 1 );

26 
	`bs⁄_oid_gí
–&
oid
 );

30 
	`bs⁄_öô
–&
obj
 );

31 
	`bs⁄_≠≥nd_oid
–&
obj
, "_id", &
oid
 );

32 
	`bs⁄_≠≥nd_öt
–&
obj
, "a", 3 );

33 
	`bs⁄_föish
–&
obj
 );

34 
	`m⁄go_ö£π
–
c⁄n
, 
ns
, &
obj
, 
NULL
 );

35 
	`bs⁄_de°roy
–&
obj
 );

40 
bs⁄
 
›
;

42 
	`bs⁄_öô
–&
c⁄d
 );

43 
	`bs⁄_≠≥nd_oid
–&
c⁄d
, "_id", &
oid
 );

44 
	`bs⁄_föish
–&
c⁄d
 );

46 
	`bs⁄_öô
–&
›
 );

48 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
›
, "$inc" );

49 
	`bs⁄_≠≥nd_öt
–&
›
, "a", 2 );

50 
	`bs⁄_≠≥nd_föish_obje˘
–&
›
 );

53 
	`bs⁄_≠≥nd_°¨t_obje˘
–&
›
, "$set" );

54 
	`bs⁄_≠≥nd_doubÀ
–&
›
, "b", -1.5 );

55 
	`bs⁄_≠≥nd_föish_obje˘
–&
›
 );

57 
	`bs⁄_föish
–&
›
 );

59  
i
=0; i<5; i++ )

60 
	`m⁄go_upd©e
–
c⁄n
, 
ns
, &
c⁄d
, &
›
, 0, 
NULL
 );

63 
	`bs⁄_de°roy
–&
›
 );

66 if–
	`m⁄go_föd_⁄e
–
c⁄n
, 
ns
, &
c⁄d
, 0, &
obj
 ) !
MONGO_OK
 ) {

67 
	`¥ötf
( "FailedÅo find object\n" );

68 
	`exô
( 1 );

70 
fõlds
 = 0;

71 
bs⁄_ôî©‹
 
ô
;

72 
	`bs⁄_ôî©‹_öô
–&
ô
, &
obj
 );

74 
	`bs⁄_de°roy
–&
c⁄d
 );

76  
	`bs⁄_ôî©‹_√xt
–&
ô
 ) ) {

77  
	`bs⁄_ôî©‹_key
–&
ô
 )[0] ) {

79 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_OID
 );

80 
	`ASSERT
–!
	`memcmp
–
	`bs⁄_ôî©‹_oid
–&
ô
 )->
byãs
, 
oid
.bytes, 12 ) );

81 
fõlds
++;

84 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_INT
 );

85 
	`ASSERT
–
	`bs⁄_ôî©‹_öt
–&
ô
 ) == 3 + 5*2 );

86 
fõlds
++;

89 
	`ASSERT
–
	`bs⁄_ôî©‹_ty≥
–&
ô
 ) =
BSON_DOUBLE
 );

90 
	`ASSERT
–
	`bs⁄_ôî©‹_doubÀ
–&
ô
 ) == -1.5 );

91 
fõlds
++;

96 
	`ASSERT
–
fõlds
 == 3 );

99 
	`bs⁄_de°roy
–&
obj
 );

101 
	`m⁄go_cmd_dr›_db
–
c⁄n
, "test" );

102 
	`m⁄go_de°roy
–
c⁄n
 );

104 
	}
}

	@oss/mongo-c-driver/test/validate_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~"ícodög.h
"

6 
	~<°dio.h
>

7 
	~<°rög.h
>

8 
	~<°dlib.h
>

10 
	#BATCH_SIZE
 10

	)

12 
	$make_smÆl_övÆid
–
bs⁄
 *
out
, 
i
 ) {

13 
	`bs⁄_öô
–
out
 );

14 
	`bs⁄_≠≥nd_√w_oid
–
out
, "$_id" );

15 
	`bs⁄_≠≥nd_öt
–
out
, "x.foo", 
i
 );

16 
	`bs⁄_föish
–
out
 );

17 
	}
}

19 
	$maö
() {

20 
m⁄go
 
c⁄n
[1];

21 
bs⁄
 
b
;

22 
m⁄go_curs‹
 
curs‹
[1];

23 
nŸ_utf8
[3];

24 
ªsu…
 = 0;

25 c⁄° *
ns
 = "test.c.validate";

27 
i
=0, 
j
=0;

28 
bs⁄
 
bs
[
BATCH_SIZE
];

29 
bs⁄
 *
bp
[
BATCH_SIZE
];

31 
nŸ_utf8
[0] = 0xC0;

32 
nŸ_utf8
[1] = 0xC0;

33 
nŸ_utf8
[2] = '\0';

35 
INIT_SOCKETS_FOR_WINDOWS
;

36 
CONN_CLIENT_TEST
;

39 
	`bs⁄_öô
–&
b
 );

40 
	`bs⁄_≠≥nd_öt
–&
b
, "foo", 1 );

41 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, "ã°.foo", &
b
, 
NULL
 ) =
MONGO_ERROR
 );

42 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_NOT_FINISHED
 );

43 
	`bs⁄_de°roy
–&
b
 );

46 
	`bs⁄_öô
–&
b
 );

47 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "a.b" , "17" );

48 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

50 
	`ASSERT
–
b
.
îr
 & 
BSON_FIELD_HAS_DOT
 );

53 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "$id" , "17" );

54 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

55 
	`ASSERT
–!(
b
.
îr
 & 
BSON_FIELD_INIT_DOLLAR
) );

57 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "$ref" , "17" );

58 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

59 
	`ASSERT
–!(
b
.
îr
 & 
BSON_FIELD_INIT_DOLLAR
) );

61 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "$db" , "17" );

62 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

63 
	`ASSERT
–!(
b
.
îr
 & 
BSON_FIELD_INIT_DOLLAR
) );

65 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "$ab" , "17" );

66 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

67 
	`ASSERT
–
b
.
îr
 & 
BSON_FIELD_INIT_DOLLAR
 );

69 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "ab" , "this is valid utf8" );

70 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

71 
	`ASSERT
–! ( 
b
.
îr
 & 
BSON_NOT_UTF8
 ) );

73 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , ( c⁄° * )
nŸ_utf8
, "valid" );

74 
	`ASSERT
–
ªsu…
 =
BSON_ERROR
 );

75 
	`ASSERT
–
b
.
îr
 & 
BSON_NOT_UTF8
 );

77 
	`ASSERT
–
	`bs⁄_föish
–&
b
 ) =
BSON_ERROR
 );

78 
	`ASSERT
–
b
.
îr
 & 
BSON_FIELD_HAS_DOT
 );

79 
	`ASSERT
–
b
.
îr
 & 
BSON_FIELD_INIT_DOLLAR
 );

80 
	`ASSERT
–
b
.
îr
 & 
BSON_NOT_UTF8
 );

82 
ªsu…
 = 
	`m⁄go_ö£π
–
c⁄n
, 
ns
, &
b
, 
NULL
 );

83 
	`ASSERT
–
ªsu…
 =
MONGO_ERROR
 );

84 
	`ASSERT
–
c⁄n
->
îr
 & 
MONGO_BSON_NOT_FINISHED
 );

86 
ªsu…
 = 
	`m⁄go_upd©e
–
c⁄n
, 
ns
, 
	`bs⁄_sh¨ed_em±y
–), &
b
, 0, 
NULL
 );

87 
	`ASSERT
–
ªsu…
 =
MONGO_ERROR
 );

88 
	`ASSERT
–
c⁄n
->
îr
 & 
MONGO_BSON_NOT_FINISHED
 );

90 
	`m⁄go_curs‹_öô
–
curs‹
, 
c⁄n
, "test.cursors" );

91 
	`m⁄go_curs‹_£t_quîy
–
curs‹
, &
b
 );

92 
ªsu…
 = 
	`m⁄go_curs‹_√xt
–
curs‹
 );

93 
	`ASSERT
–
ªsu…
 =
MONGO_ERROR
 );

94 
	`ASSERT
–
curs‹
->
îr
 & 
MONGO_CURSOR_BSON_ERROR
 );

95 
	`ASSERT
–
curs‹
->
c⁄n
->
îr
 & 
MONGO_BSON_NOT_FINISHED
 );

97 
	`bs⁄_de°roy
–&
b
 );

98 
	`m⁄go_curs‹_de°roy
–
curs‹
 );

101 
	`bs⁄_öô
–&
b
 );

102 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "foo" , "bar" );

103 
	`ASSERT
–
ªsu…
 =
BSON_OK
 );

104 
	`ASSERT
–
b
.
îr
 == 0 );

106 
ªsu…
 = 
	`bs⁄_≠≥nd_°rög
–&
b
 , "foo" , ( c⁄° * )
nŸ_utf8
 );

107 
	`ASSERT
–
ªsu…
 =
BSON_ERROR
 );

108 
	`ASSERT
–
b
.
îr
 & 
BSON_NOT_UTF8
 );

110 
b
.
îr
 = 0;

111 
	`ASSERT
–
b
.
îr
 == 0 );

113 
ªsu…
 = 
	`bs⁄_≠≥nd_ªgex
–&
b
 , "foo" , ( c⁄° * )
nŸ_utf8
, "s" );

114 
	`ASSERT
–
ªsu…
 =
BSON_ERROR
 );

115 
	`ASSERT
–
b
.
îr
 & 
BSON_NOT_UTF8
 );

117  
j
=0; j < 
BATCH_SIZE
; j++ )

118 
bp
[
j
] = &
bs
[j];

120  
j
=0; j < 
BATCH_SIZE
; j++ )

121 
	`make_smÆl_övÆid
–&
bs
[
j
], 
i
 );

123 
ªsu…
 = 
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
ns
, (c⁄° 
bs⁄
 **)
bp
, 
BATCH_SIZE
, 
NULL
, 0 );

124 
	`ASSERT
–
ªsu…
 =
MONGO_ERROR
 );

125 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_BSON_INVALID
 );

127  
j
=0; j < 
BATCH_SIZE
; j++ )

128 
	`bs⁄_de°roy
–&
bs
[
j
] );

130 
	`bs⁄_de°roy
–&
b
 );

131 
	`m⁄go_cmd_dr›_db
–
c⁄n
, "test" );

132 
	`m⁄go_disc⁄√˘
–
c⁄n
 );

134 
	`m⁄go_de°roy
–
c⁄n
 );

137 
	}
}

	@oss/mongo-c-driver/test/write_concern_test.c

3 
	~"ã°.h
"

4 
	~"m⁄go.h
"

5 
	~<°dio.h
>

6 
	~<°rög.h
>

7 
	~<°dlib.h
>

10 
	$¸óã_ˇµed_cﬁÀ˘i⁄
–
m⁄go
 *
c⁄n
 ) {

11 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, "ã°", "wc", 
NULL
 );

12 
	`m⁄go_¸óã_ˇµed_cﬁÀ˘i⁄
–
c⁄n
, "ã°", "wc", 1000000, 0, 
NULL
 );

13 
	}
}

21 
	$bs⁄_dump
–
bs⁄
 * 
b
 ) {

22 
i
;

23 *
dñim
;

24 
	`¥ötf
("b: {\n");

25 
	`¥ötf
("\td©a: 0x%lx,\n", ()
b
->
d©a
);

26 
	`¥ötf
("\tdata: {");

27 
dñim
 = "";

28 
i
 = 0; i < 32; i++) {

29 
	`¥ötf
("%s%d", 
dñim
, 
b
->
d©a
[
i
]);

30 
dñim
 = ",";

32 
	`¥ötf
("}\n");

33 
	`¥ötf
("\tcur: 0x%lx,\n", ()
b
->
cur
);

34 
	`¥ötf
("\td©aSize: %d,\n", 
b
->
d©aSize
);

35 
	`¥ötf
("\tföished: %d,\n", 
b
->
föished
);

36 
	`¥ötf
("\tstack: {");

37 
dñim
 = "";

38 
i
 = 0; i < 32; i++) {

39 
	`¥ötf
("%s%zd", 
dñim
, 
b
->
°ack
[
i
]);

40 
dñim
 = ",";

42 
	`¥ötf
("},\n");

43 
	`¥ötf
("\t°ackPos: %d,\n", 
b
->
°ackPos
);

44 
	`¥ötf
("\ãº: %d,\n", 
b
->
îr
);

45 
	`¥ötf
("}\n");

46 
	}
}

49 
	gWC1_d©a
[] = {23,0,0,0,16,103,101,116,108,97,115,116,101,114,114,111,114,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0};

50 
bs⁄
 
	gWC1_cmd
 = { 
WC1_d©a
, WC1_data, 128, 1, 0 };

51 
m⁄go_wrôe_c⁄˚∫
 
	gDWC1
 = { 1, 0, 0, 0, 0, 0 };

53 
	$ã°_wrôe_c⁄˚∫_föish
( ) {

54 
bs⁄_ôî©‹
 
ô
;

55 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_föish
–&
DWC1
 ) =
MONGO_OK
 );

56 
	`ASSERT
–
	`bs⁄_föd
–&
ô
, 
DWC1
.
cmd
, "w" ) =
BSON_EOO
 );

59 
	`ASSERT
–
DWC1
.
cmd
->
d©aSize
 =
WC1_cmd
.dataSize );

60 
	`ASSERT
–
	`memcmp
–
DWC1
.
cmd
->
d©a
, 
WC1_cmd
.d©a, DWC1.cmd->
d©aSize
 ) );

61 
	`ASSERT
–
DWC1
.
cmd
->
föished
 =
WC1_cmd
.finished );

62 
	`ASSERT
–
DWC1
.
cmd
->
îr
 =
WC1_cmd
.err );

63 
	}
}

65 
	$ã°_b©ch_ö£π_wôh_c⁄töue
–
m⁄go
 *
c⁄n
 ) {

66 
bs⁄
 *
objs
[5];

67 
bs⁄
 *
objs2
[5];

68 
i
;

70 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, 
TEST_DB
, 
TEST_COL
, 
NULL
 );

71 
	`m⁄go_¸óã_sim∂e_ödex
–
c⁄n
, 
TEST_NS
, "n", 
MONGO_INDEX_UNIQUE
, 
NULL
 );

73  
i
=0; i<5; i++ ) {

74 
objs
[
i
] = 
	`bs⁄_Æloc
();

75 
	`bs⁄_öô
–
objs
[
i
] );

76 
	`bs⁄_≠≥nd_öt
–
objs
[
i
], "n", i );

77 
	`bs⁄_föish
–
objs
[
i
] );

80 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs
, 5,

81 
NULL
, 0 ) =
MONGO_OK
 );

83 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
TEST_DB
, 
TEST_COL
,

84 
	`bs⁄_sh¨ed_em±y
( ) ) == 5 );

87 
objs2
[0] = 
	`bs⁄_Æloc
();

88 
	`bs⁄_öô
–
objs2
[0] );

89 
	`bs⁄_≠≥nd_öt
–
objs2
[0], "n", 1 );

90 
	`bs⁄_föish
–
objs2
[0] );

93  
i
 = 1; i < 5; i++ ) {

94 
objs2
[
i
] = 
	`bs⁄_Æloc
();

95 
	`bs⁄_öô
–
objs2
[
i
] );

96 
	`bs⁄_≠≥nd_öt
–
objs2
[
i
], "n", i + 5 );

97 
	`bs⁄_föish
–
objs2
[
i
] );

101 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs2
, 5,

102 
NULL
, 0 ) =
MONGO_OK
 );

103 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
TEST_DB
, 
TEST_COL
,

104 
	`bs⁄_sh¨ed_em±y
( ) ) == 5 );

107 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs2
, 5,

108 
NULL
, 
MONGO_CONTINUE_ON_ERROR
 ) =
MONGO_OK
 );

109 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
TEST_DB
, 
TEST_COL
,

110 
	`bs⁄_sh¨ed_em±y
( ) ) == 9 );

112  
i
=0; i<5; i++ ) {

113 
	`bs⁄_de°roy
–
objs2
[
i
] );

114 
	`bs⁄_dóŒoc
–
objs2
[
i
] );

116 
	`bs⁄_de°roy
–
objs
[
i
] );

117 
	`bs⁄_dóŒoc
–
objs
[
i
] );

119 
	}
}

123 
	$ã°_upd©e_™d_ªmove
–
m⁄go
 *
c⁄n
 ) {

124 
m⁄go_wrôe_c⁄˚∫
 
wc
[1];

125 
bs⁄
 *
objs
[5];

126 
bs⁄
 
quîy
[1], 
upd©e
[1];

127 
i
;

129 
	`¸óã_ˇµed_cﬁÀ˘i⁄
–
c⁄n
 );

131  
i
=0; i<5; i++ ) {

132 
objs
[
i
] = 
	`bs⁄_Æloc
();

133 
	`bs⁄_öô
–
objs
[
i
] );

134 
	`bs⁄_≠≥nd_öt
–
objs
[
i
], "n", i );

135 
	`bs⁄_föish
–
objs
[
i
] );

138 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, "ã°.wc", (c⁄° 
bs⁄
 **)
objs
, 5,

139 
NULL
, 0 ) =
MONGO_OK
 );

141 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, "ã°", "wc", 
	`bs⁄_sh¨ed_em±y
( ) ) == 5 );

143 
	`bs⁄_öô
–
quîy
 );

144 
	`bs⁄_≠≥nd_öt
–
quîy
, "n", 2 );

145 
	`bs⁄_föish
–
quîy
 );

147 
	`ASSERT
–
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.wc", 
quîy
, 
	`bs⁄_sh¨ed_em±y
–), 
NULL
 ) =
MONGO_OK
 );

149 
	`bs⁄_öô
–
upd©e
 );

150 
	`bs⁄_≠≥nd_°¨t_obje˘
–
upd©e
, "$set" );

151 
	`bs⁄_≠≥nd_°rög
–
upd©e
, "n", "a bigÜong string" );

152 
	`bs⁄_≠≥nd_föish_obje˘
–
upd©e
 );

153 
	`bs⁄_föish
–
upd©e
 );

156 
	`ASSERT
–
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.wc", 
quîy
, 
	`bs⁄_sh¨ed_em±y
–), 
NULL
 ) =
MONGO_OK
 );

157 
	`ASSERT
–
	`m⁄go_upd©e
–
c⁄n
, "ã°.wc", 
quîy
, 
upd©e
, 0, 
NULL
 ) =
MONGO_OK
 );

158 
	`ASSERT
–
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.wc", 
quîy
, 
	`bs⁄_sh¨ed_em±y
–), 
NULL
 ) =
MONGO_OK
 );

161 
	`ASSERT
–
	`m⁄go_ªmove
–
c⁄n
, "ã°.wc", 
quîy
, 
NULL
 ) =
MONGO_OK
 );

162 
	`ASSERT
–
	`m⁄go_föd_⁄e
–
c⁄n
, "ã°.wc", 
quîy
, 
	`bs⁄_sh¨ed_em±y
–), 
NULL
 ) =
MONGO_OK
 );

164 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc
 );

165 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–
wc
, 1 );

166 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc
 );

168 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

169 
	`ASSERT
–
	`m⁄go_upd©e
–
c⁄n
, "ã°.wc", 
quîy
, 
upd©e
, 0, 
wc
 ) =
MONGO_ERROR
 );

170 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

171 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "failing update: objects iná cappedÇs cannot grow" );

173 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

174 
	`ASSERT
–
	`m⁄go_ªmove
–
c⁄n
, "ã°.wc", 
quîy
, 
wc
 ) =
MONGO_ERROR
 );

175 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

176 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "can'tÑemove fromá capped collection" );

178 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc
 );

179 
	`bs⁄_de°roy
–
quîy
 );

180 
	`bs⁄_de°roy
–
upd©e
 );

181  
i
=0; i<5; i++ ) {

182 
	`bs⁄_de°roy
–
objs
[
i
] );

183 
	`bs⁄_dóŒoc
–
objs
[
i
] );

185 
	}
}

187 
	$ã°_wrôe_c⁄˚∫_öput
–
m⁄go
 *
c⁄n
 ) {

188 
m⁄go_wrôe_c⁄˚∫
 
wc
[1], 
wcbad
[1];

189 
bs⁄
 
b
[1];

191 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, 
TEST_DB
, 
TEST_COL
, 
NULL
 );

193 
	`bs⁄_öô
–
b
 );

194 
	`bs⁄_≠≥nd_√w_oid
–
b
, "_id" );

195 
	`bs⁄_föish
–
b
 );

197 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc
 );

198 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–
wc
, 1 );

201 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
wc
 ) !
MONGO_OK
 );

202 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_CONCERN_INVALID
 );

203 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
îr°r
,

206 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc
 );

209 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

210 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wcbad
 );

211 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–
wcbad
, 2 );

212 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wcbad
 );

213 
	`m⁄go_£t_wrôe_c⁄˚∫
–
c⁄n
, 
wcbad
 );

214 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
NULL
 ) !
MONGO_OK
 );

215 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

216 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "norepl" );

219 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

220 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
wc
 ) !
MONGO_OK
 );

221 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

222 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
îr°r
, "See conn->lasterrstr for details." );

223 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "E11000 duplicate keyÉrror index" );

224 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 11000 );

226 
c⁄n
->
wrôe_c⁄˚∫
 = 
NULL
;

227 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc
 );

228 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wcbad
 );

229 
	`bs⁄_de°roy
–
b
 );

230 
	}
}

232 
	$ã°_ö£π
–
m⁄go
 *
c⁄n
 ) {

233 
m⁄go_wrôe_c⁄˚∫
 
wc0
[1], 
wc1
[1];

234 
bs⁄
 
b
[1], 
b2
[1], 
b3
[1], 
b4
[1];

235 
bs⁄
 *
objs
[2];

237 
	`m⁄go_cmd_dr›_cﬁÀ˘i⁄
–
c⁄n
, 
TEST_DB
, 
TEST_COL
, 
NULL
 );

239 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc0
 );

240 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–
wc0
, 0 );

241 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc0
 );

242 
	`m⁄go_wrôe_c⁄˚∫_öô
–
wc1
 );

243 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–
wc1
, 1 );

244 
	`m⁄go_wrôe_c⁄˚∫_föish
–
wc1
 );

246 
	`bs⁄_öô
–
b4
 );

247 
	`bs⁄_≠≥nd_°rög
–
b4
, "foo", "bar" );

248 
	`bs⁄_föish
–
b4
 );

250 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b4
, 
wc1
 ) =
MONGO_OK
 );

252 
	`ASSERT
–
	`m⁄go_ªmove
–
c⁄n
, 
TEST_NS
, 
	`bs⁄_sh¨ed_em±y
–), 
wc1
 ) =
MONGO_OK
 );

254 
	`bs⁄_öô
–
b
 );

255 
	`bs⁄_≠≥nd_√w_oid
–
b
, "_id" );

256 
	`bs⁄_föish
–
b
 );

258 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
NULL
 ) =
MONGO_OK
 );

261 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
wc0
 ) =
MONGO_OK
 );

263 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
wc1
 ) =
MONGO_ERROR
 );

264 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

265 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
îr°r
, "See conn->lasterrstr for details." );

266 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "E11000 duplicate keyÉrror index" );

267 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 11000 );

268 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

271 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
wc0
 ) =
MONGO_OK
 );

274 
	`m⁄go_£t_wrôe_c⁄˚∫
–
c⁄n
, 
wc1
 );

275 
	`ASSERT
–
	`m⁄go_ö£π
–
c⁄n
, 
TEST_NS
, 
b
, 
NULL
 ) !
MONGO_OK
 );

276 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

277 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
îr°r
, "See conn->lasterrstr for details." );

278 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "E11000 duplicate keyÉrror index" );

279 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 11000 );

282 
	`bs⁄_öô
–
b2
 );

283 
	`bs⁄_≠≥nd_√w_oid
–
b2
, "_id" );

284 
	`bs⁄_föish
–
b2
 );

286 
	`bs⁄_öô
–
b3
 );

287 
	`bs⁄_≠≥nd_√w_oid
–
b3
, "_id" );

288 
	`bs⁄_föish
–
b3
 );

290 
objs
[0] = 
b2
;

291 
objs
[1] = 
b3
;

294 
c⁄n
->
wrôe_c⁄˚∫
 = 
NULL
;

295 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
TEST_DB
, 
TEST_COL
, 
	`bs⁄_sh¨ed_em±y
( ) ) == 1 );

296 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs
, 2, 
NULL
, 0 ) =
MONGO_OK
 );

297 
	`ASSERT
–
	`m⁄go_cou¡
–
c⁄n
, 
TEST_DB
, 
TEST_COL
, 
	`bs⁄_sh¨ed_em±y
( ) ) == 3 );

300 
	`m⁄go_˛ór_îr‹s
–
c⁄n
 );

301 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs
, 2, 
wc1
, 0 ) =
MONGO_ERROR
 );

302 
	`ASSERT
–
c⁄n
->
îr
 =
MONGO_WRITE_ERROR
 );

303 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
îr°r
, "See conn->lasterrstr for details." );

304 
	`ASSERT_EQUAL_STRINGS
–
c⁄n
->
œ°îr°r
, "E11000 duplicate keyÉrror index" );

305 
	`ASSERT
–
c⁄n
->
œ°îrcode
 == 11000 );

308 
	`ASSERT
–
	`m⁄go_ö£π_b©ch
–
c⁄n
, 
TEST_NS
, (c⁄° 
bs⁄
 **)
objs
, 2, 
NULL
, 0 ) =
MONGO_OK
 );

310 
	`bs⁄_de°roy
–
b
 );

311 
	`bs⁄_de°roy
–
b2
 );

312 
	`bs⁄_de°roy
–
b3
 );

313 
	`bs⁄_de°roy
–
b4
 );

314 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc0
 );

315 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–
wc1
 );

316 
	}
}

318 
	$ã°_wrôe_c⁄˚∫_≠i
( ){

323 c⁄° * 
wc_mode
 = "TEST";

324 
m⁄go_wrôe_c⁄˚∫
 
wc
;

325 
	`mem£t
–&
wc
, 0, ( wc ));

327 
	`m⁄go_wrôe_c⁄˚∫_£t_w
–&
wc
, 1 );

328 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_w
–&
wc
 ) == 1 );

330 
	`m⁄go_wrôe_c⁄˚∫_£t_wtimeout
–&
wc
, 1000 );

331 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_wtimeout
–&
wc
 ) == 1000 );

333 
	`m⁄go_wrôe_c⁄˚∫_£t_j
–&
wc
, 2 );

334 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_j
–&
wc
 ) == 2 );

336 
	`m⁄go_wrôe_c⁄˚∫_£t_fsync
–&
wc
, 3 );

337 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_fsync
–&
wc
 ) == 3 );

339 
	`m⁄go_wrôe_c⁄˚∫_£t_mode
–&
wc
, 
wc_mode
 );

340 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_mode
–&
wc
 ) =
wc_mode
 );

342 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_cmd
–&
wc
 ) =
NULL
 );

343 
	`m⁄go_wrôe_c⁄˚∫_föish
–&
wc
 );

344 
	`ASSERT
–
	`m⁄go_wrôe_c⁄˚∫_gë_cmd
–&
wc
 ) !
NULL
 );

346 
	`m⁄go_wrôe_c⁄˚∫_de°roy
–&
wc
 );

347 
	}
}

349 
	$maö
() {

350 
m⁄go
 
c⁄n
[1];

351 
vîsi⁄
[10];

353 
INIT_SOCKETS_FOR_WINDOWS
;

355 
	`ã°_wrôe_c⁄˚∫_föish
( );

357 
CONN_CLIENT_TEST
;

359 
	`ASSERT
–
c⁄n
->
wrôe_c⁄˚∫
 != (*)0 );

361 
	`ã°_ö£π
–
c⁄n
 );

362 if–
	`m⁄go_gë_£rvî_vîsi⁄
–
vîsi⁄
 ) != -1 && version[0] != '1' ) {

363 
	`ã°_wrôe_c⁄˚∫_öput
–
c⁄n
 );

364 
	`ã°_upd©e_™d_ªmove
–
c⁄n
 );

365 
	`ã°_b©ch_ö£π_wôh_c⁄töue
–
c⁄n
 );

368 
	`m⁄go_de°roy
–
c⁄n
 );

369 
	`ã°_wrôe_c⁄˚∫_≠i
();

371 
	}
}

	@policy/include/policy.h

1 #i‚de‡
__POLICY_H__


2 
	#__POLICY_H__


	)

4 
	#NUM_BUCKETS
 16

	)

5 
	#POLICY_TAG_LEN
 16

	)

7 
	~<Judy.h
>

9 
	eªt_code


11 
	mFALSE
,

12 
	mTRUE
,

19 
	s©åibuã


21 
uöt32_t
 
	mvî
;

22 
uöt8_t
 
	ma_qo¶evñ
;

23 
uöt8_t
 
	ma_ishiddí
:1;

24 
uöt8_t
 
	ma_is°rùed
:1;

32 
pﬁicy_∂ugö
 
	tpﬁicy_∂ugö_t
;

34 
	spﬁicy_∂ugö


36 
uöt32_t
 
	mvî
;

37 
uöt8_t
 
	mis_a˘iv©ed
;

38 
uöt32_t
 
	mµ_ªfcou¡
;

39 
	mµ_pﬁicy_èg
[
POLICY_TAG_LEN
];

40 
±hªad_•ölock_t
 
	mµ_lock
;

41 
	mpﬁicy_∂ugö_t
 * (*
	möô_pﬁicy
)();

42 (*
	mdeöô_pﬁicy
)(
	mpﬁicy_∂ugö_t
 *);

43 
uöt32_t
 (*
≠∂y_pﬁicy
)(c⁄° *
	m∑th
);

44 
uöt32_t
 (*
ªmove_pﬁicy
)(c⁄° *
	m∑th
, *
	mbuf„r
);

45 } 
	tpﬁicy_∂ugö_t
;

51 
	spﬁicy_íåy


53 
©åibuã
 *
	m≥_©å
;

54 
size_t
 
	m≥_num_∂ugös
;

55 
uöt32_t
 
	m≥_ªfcou¡
;

56 
±hªad_•ölock_t
 
	m≥_lock
;

57 
pﬁicy_∂ugö
 *
	m≥_pﬁicy
[0];

66 
	spﬁicy_èbÀ


68 
±hªad_rwlock_t
 
	m±_èbÀ_lock
;

69 
pﬁicy_∂ugö
 *
	m±_èbÀ
[64];

70 
uöt64_t
 
	mpﬁicy_¶Ÿs
;

77 
	spﬁicy_£¨ch_èbÀ


80 
Pvoid_t
 
	mp°_hód
[
NUM_BUCKETS
];

81 
±hªad_rwlock_t
 
	mp°_lock
[
NUM_BUCKETS
];

86 
uöt32_t
 
ªgi°î_∂ugö
(
pﬁicy_∂ugö
 *
∂ugö
,

87 
uöt32_t
 *
∂ugö_id
);

88 
uöt32_t
 
uƒegi°î_∂ugö
(uöt32_à
∂ugö_id
);

89 
uöt32_t
 
a˘iv©e_∂ugö
(uöt32_à
∂ugö_id
);

92 
pﬁicy_íåy
* 
gë_pﬁicy
(c⁄° *
∑th
);

	@policy/src/policy.c

20 
	~<°dio.h
>

21 
	~<°döt.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

24 
	~<î∫o.h
>

25 
	~<limôs.h
>

26 
	~<uni°d.h
>

27 
	~<˘y≥.h
>

28 
	~<Judy.h
>

29 
	~<±hªad.h
>

30 
	~<pﬁicy.h
>

32 
	#NUM_BUCKETS
 16

	)

33 
	#MAX_POLICIES
 64

	)

34 
	#TYPE_LEN
 8

	)

36 
	#POLICY_FILE
 "/home/shubhro/pﬁicy/pﬁicy.c⁄f"

	)

38 
	spﬁicy_öput


40 
uid_t
 
	mpi_uid
;

41 
gid_t
 
	mpi_gid
;

42 
	mpi_pﬁicy_èg
[
MAX_POLICIES
][
POLICY_TAG_LEN
];

43 
	mpi_·y≥
 [
TYPE_LEN
];

44 
	mpi_‚ame
[
PATH_MAX
];

45 
size_t
 
	mpi_num_pﬁicy
;

46 
©åibuã
 *
	mpi_©å
;

49 
uöt32_t
 
ªad_pﬁicy_c⁄figuøti⁄
();

50 
∑r£_löe
(*
löe
, 
pﬁicy_öput
 **
pi
);

51 
uöt32_t
 
add_pﬁicy
(
pﬁicy_öput
 *
öput
);

52 
buûd_©åibuã_°ru˘uª
(*
tokí
,

53 
pﬁicy_öput
 *
pi
);

54 
buûd_pﬁicy_°ru˘uª
(*
tokí
,

55 
pﬁicy_öput
 *
pi
);

56 * 
gë_fûe_ty≥
(c⁄° *
Â©h
);

60 
pﬁicy_èbÀ
 
	gpﬁicy_èb
;

61 
pﬁicy_£¨ch_èbÀ
 
	gp°
;

64 
	$öô_pﬁicy
()

66 
öt32_t
 
i
 = 0;

67 
	`mem£t
(&
pﬁicy_èb
, 0, (
pﬁicy_èbÀ
));

68 
	`±hªad_rwlock_öô
(&
pﬁicy_èb
.
±_èbÀ_lock
, 
NULL
);

69 
pﬁicy_èb
.
pﬁicy_¶Ÿs
 = (
uöt64_t
) (-1);

70 
i
 = 0; i < 
NUM_BUCKETS
; i++) {

71 
p°
.
p°_hód
[
i
] = (
Pvoid_t
)
NULL
;

72 
	`±hªad_rwlock_öô
(&
p°
.
p°_lock
[
i
], 
NULL
);

75 
	}
}

77 
uöt32_t
 
	$ªgi°î_∂ugö
(
pﬁicy_∂ugö
 *
pﬁicy
,

78 
uöt32_t
 *
∂ugö_id
)

80 
uöt64_t
 
¶Ÿ
;

81 
uöt64_t
 
ãmp
;

82 i‡(
pﬁicy
 =
NULL
) {

83 
	`¥ötf
 ("InvalidÖolicy supplied");

84  -
EINVAL
;

86 
	`±hªad_rwlock_wæock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

88 
¶Ÿ
 = 
	`ffs
(
pﬁicy_èb
.
pﬁicy_¶Ÿs
);

89 
pﬁicy_èb
.
±_èbÀ
[
¶Ÿ
 - 1] = 
pﬁicy
;

90 
ãmp
 = 1 << (
¶Ÿ
 - 1);

91 
pﬁicy_èb
.
pﬁicy_¶Ÿs
 ^
ãmp
;

92 
	`±hªad_rwlock_u∆ock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

93 *
∂ugö_id
 = (
¶Ÿ
 - 1);

96 
	}
}

98 
uöt32_t
 
	$a˘iv©e_∂ugö
(
uöt32_t
 
∂ugö_id
)

100 
	`±hªad_rwlock_rdlock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

101 
	`±hªad_•ö_lock
(&
pﬁicy_èb
.
±_èbÀ
[
∂ugö_id
]->
µ_lock
);

102 
pﬁicy_èb
.
±_èbÀ
[
∂ugö_id
]->
is_a˘iv©ed
 = 
TRUE
;

103 
	`±hªad_•ö_u∆ock
(&
pﬁicy_èb
.
±_èbÀ
[
∂ugö_id
]->
µ_lock
);

104 
	`±hªad_rwlock_u∆ock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

107 
	}
}

109 
uöt32_t
 
	$uƒegi°î_∂ugö
(
uöt32_t
 
∂ugö_id
)

111 
pﬁicy_∂ugö
 *
∂ugö
;

115 
	`±hªad_rwlock_wæock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

116 
∂ugö
 = 
pﬁicy_èb
.
±_èbÀ
[
∂ugö_id
];

117 
pﬁicy_èb
.
±_èbÀ
[
∂ugö_id
] = 
NULL
;

118 
pﬁicy_èb
.
pﬁicy_¶Ÿs
 ^1 << (
∂ugö_id
 + 1);

119 
	`±hªad_rwlock_u∆ock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

121 
	`±hªad_•ö_lock
(&
∂ugö
->
µ_lock
);

122 i‡(
∂ugö
->
µ_ªfcou¡
 == 0) {

123 
	`‰ì
(
∂ugö
);

125 
	`±hªad_•ö_u∆ock
(&
∂ugö
->
µ_lock
);

127 
	}
}

134 
uöt32_t
 
	$ªad_pﬁicy_c⁄figuøti⁄
()

136 
FILE
 *
Â
 = 
NULL
;

137 *
löe
 = 
NULL
;

138 
size_t
 
Àn
 = 0;

139 
pﬁicy_öput
 *
pi
 = 
NULL
;

141 i‡((
Â
 = 
	`f›í
(
POLICY_FILE
, "r")Ë=
NULL
) {

142 
	`≥º‹
("UnableÅo openÖolicy file");

143  -
î∫o
;

146 
	`gëlöe
((**)&
löe
, &
Àn
, 
Â
) > 0) {

147 
	`∑r£_löe
(
löe
, &
pi
);

148 i‡(
pi
 !
NULL
)

149 
	`add_pﬁicy
(
pi
);

151 
	`‰ì
(
löe
);

152  
EXIT_SUCCESS
;

153 
	}
}

156 
	$∑r£_löe
(*
löe
, 
pﬁicy_öput
 **policy_input)

158 *
tokí
 = 
NULL
;

159 *
ßvïå
 = 
NULL
;

160 
uöt32_t
 
cou¡
 = 0;

161 
pﬁicy_öput
 *
pi
 = 
NULL
;

163 
	`is•a˚
(*
löe
++));

164 i‡(*(--
löe
) == '#')

167 i‡((
pi
 = 
	`mÆloc
((*pi))Ë=
NULL
)

170 
cou¡
 = 0;

171 
tokí
 = 
	`°πok_r
(
löe
, " \t\n", &
ßvïå
);

172 
tokí
) {

173 i‡(
tokí
[0] == '#')

175 
cou¡
) {

177 
	`°r˝y
(
pi
->
pi_‚ame
, 
tokí
);

180 
	`°r˝y
(
pi
->
pi_·y≥
, 
tokí
);

183 i‡(
tokí
[0] == '*')

184 
pi
->
pi_uid
 = -1;

186 
pi
->
pi_uid
 = 
	`©oi
(
tokí
);

189 i‡(
tokí
[0] == '*')

190 
pi
->
pi_gid
 = -1;

192 
pi
->
pi_gid
 = 
	`©oi
(
tokí
);

195 
	`buûd_©åibuã_°ru˘uª
(
tokí
, 
pi
);

198 
	`buûd_pﬁicy_°ru˘uª
(
tokí
, 
pi
);

201 
cou¡
++;

202 
tokí
 = 
	`°πok_r
(
NULL
, " \t\n", &
ßvïå
);

204 i‡(
pi
->
pi_num_pﬁicy
 == 0 &&

205 
pi
->
pi_©å
 =
NULL
) {

207 
	`‰ì
(
pi
);

208 *
pﬁicy_öput
 = 
NULL
;

210 *
pﬁicy_öput
 = 
pi
;

213 
	}
}

215 
	$buûd_©åibuã_°ru˘uª
(*
°rög
,

216 
pﬁicy_öput
 *policy_input)

218 *
tokí
 = 
NULL
;

219 *
ßvïå
 = 
NULL
;

220 
©åibuã
 *©åibuã = 
NULL
;

222 
tokí
 = 
	`°πok_r
(
°rög
, ",\t", &
ßvïå
);

223 
	`is•a˚
(*
tokí
++));

224 i‡(*(--
tokí
) == '#')

226 i‡((
©åibuã
 = 
	`mÆloc
((*©åibuã))Ë=
NULL
)

228 
	`mem£t
(
©åibuã
, 0, (*attribute));

230 
tokí
) {

231 i‡(!
	`°rcmp
(
tokí
, "hidden"))

232 
©åibuã
->
a_ishiddí
 = 1;

233 i‡(!
	`°rcmp
(
tokí
, "qos-high"))

234 
©åibuã
->
a_qo¶evñ
 = 1;

235 i‡(!
	`°rcmp
(
tokí
, "qos-low"))

236 
©åibuã
->
a_qo¶evñ
 = 0;

237 i‡(!
	`°rcmp
(
tokí
, "striped"))

238 
©åibuã
->
a_is°rùed
 = 1;

239 
tokí
 = 
	`°πok_r
(
NULL
, ",\t", &
ßvïå
);

241 
pﬁicy_öput
->
pi_©å
 = 
©åibuã
;

243 
	}
}

245 
	$buûd_pﬁicy_°ru˘uª
(*
°rög
,

246 
pﬁicy_öput
 *
pi
)

248 *
tokí
 = 
NULL
;

249 *
ßvïå
 = 
NULL
;

250 
uöt32_t
 
i
 = 0;

252 
tokí
 = 
	`°πok_r
(
°rög
, ",\t\¿", &
ßvïå
);

253 
	`is•a˚
(*
tokí
++));

254 i‡(*(--
tokí
) == '#')

257 
tokí
 && (
i
 < 
MAX_POLICIES
)) {

260 
	`°∫˝y
(
pi
->
pi_pﬁicy_èg
[
i
], 
tokí
, 
POLICY_TAG_LEN
);

261 
pi
->
pi_num_pﬁicy
++;

262 
tokí
 = 
	`°πok_r
(
NULL
, ",\t\n", &
ßvïå
);

263 
i
++;

266 
	}
}

268 
uöt32_t
 
	$add_pﬁicy
(
pﬁicy_öput
 *
pi
)

270 
öt32_t
 
i
 = 0, 
j
 = 0, 
k
 = 0;

271 
öt32_t
 
ödex
 = 0, 
fûÀd_pﬁicõs
 = 0;

272 
buf
[
PATH_MAX
 + 16

273 + 
TYPE_LEN
 + 4 ];

274 
pﬁicy_íåy
 *
≥
 = 
NULL
;

275 
pﬁicy_∂ugö
 *
µ
;

276 
W‹d_t
 *
pvÆue
;

278 i‡(
pi
->
pi_·y≥
[0] != '*')

279 
ödex
 |= 1;

280 i‡(
pi
->
pi_gid
 != -1)

281 
ödex
 |= 2;

282 i‡(
pi
->
pi_uid
 != -1)

283 
ödex
 |= 4;

284 i‡(
pi
->
pi_‚ame
[0] != '*')

285 
ödex
 |= 8;

287 
	`•rötf
(
buf
, "%s^%x^%x^%s", 
pi
->
pi_‚ame
,

288 
pi
->
pi_uid
,Öi->
pi_gid
,Öi->
pi_·y≥
);

290 i‡((
≥
 = 
	`mÆloc
((*≥Ë+
pi
->
pi_num_pﬁicy
 *

291 (*))Ë=
NULL
)

292  -
ENOMEM
;

293 
	`±hªad_•ö_öô
(&
≥
->
≥_lock
, 
PTHREAD_PROCESS_PRIVATE
);

295 
	`±hªad_rwlock_rdlock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

296 
fûÀd_pﬁicõs
 = 
	`__buûtö_p›cou¡
(~(
pﬁicy_èb
.
pﬁicy_¶Ÿs
));

297 
i
 = 0, 
k
 = 0; i < 
pi
->
pi_num_pﬁicy
; i++) {

298 
j
 = 0; j < 
fûÀd_pﬁicõs
; j++) {

299 i‡(!
	`°rcmp
(
pi
->
pi_pﬁicy_èg
[
i
],

300 
pﬁicy_èb
.
±_èbÀ
[
j
]->
µ_pﬁicy_èg
)) {

301 
µ
 = 
pﬁicy_èb
.
±_èbÀ
[
j
];

302 
≥
->
≥_pﬁicy
[
k
++] = 
µ
;

303 
≥
->
≥_num_∂ugös
++;

304 
	`±hªad_•ö_lock
(&
µ
->
µ_lock
);

305 
µ
->
µ_ªfcou¡
++;

306 
	`±hªad_•ö_u∆ock
(&
µ
->
µ_lock
);

310 
	`±hªad_rwlock_u∆ock
(&
pﬁicy_èb
.
±_èbÀ_lock
);

311 
≥
->
≥_©å
 = 
pi
->
pi_©å
;

313 
	`±hªad_rwlock_wæock
(&
p°
.
p°_lock
[
ödex
]);

314 
	`JSLI
(
pvÆue
, 
p°
.
p°_hód
[
ödex
], 
buf
);

315 
	`±hªad_rwlock_u∆ock
(&
p°
.
p°_lock
[
ödex
]);

316 i‡(
pvÆue
)

317 *
pvÆue
 = (
W‹d_t
Ë
≥
;

319 
	}
}

322 *
	$gë_fûe_ty≥
(c⁄° *
Â©h
)

324 
comm™d
[
PATH_MAX
 + 6];

325 
FILE
 *
Â
 = 
NULL
;

326 *
·y≥
 = 
NULL
;

327 *
ßvïå
;

328 
	`•rötf
 (
comm™d
, "fûê%s", 
Â©h
);

329 i‡((
Â
 = 
	`p›í
(
comm™d
, "r")Ë=
NULL
)

331 i‡(!
	`fgës
(
comm™d
, 
PATH_MAX
, 
Â
)) {

332 
	`p˛o£
(
Â
);

335 
·y≥
 = 
	`°πok_r
(
comm™d
, ": \t", &
ßvïå
);

336 
·y≥
 = 
	`°πok_r
(
NULL
, ":", &
ßvïå
);

337 
	`¥ötf
 ("%s(Ë: Fûêty≥: %s\n", 
__FUNCTION__
, 
·y≥
);

338 i‡(
	`°r°r
(
·y≥
, "text"))

339 
·y≥
 = "text";

340  
·y≥
;

341 
	}
}

344 
pﬁicy_íåy
* 
	$gë_pﬁicy
(c⁄° * 
∑th
)

346 
öt32_t
 
i
;

347 
pﬁicy_íåy
 *
≥
 = 
NULL
;

348 
W‹d_t
 *
pvÆue
;

351 *
‚ame
[2], *
ödex_‚ame
;

352 *
·y≥
[2], *
ödex_·y≥
;

353 
uid_t
 
uid
[2], 
ödex_uid
;

354 
gid_t
 
gid
[2], 
ödex_gid
;

356 
ödex
[
PATH_MAX
 + 16

357 + 
TYPE_LEN
 + 4 ];

360 
uid
[0] = -1;

361 
uid
[1] = 
	`gëuid
();

363 
gid
[0] = -1;

364 
gid
[1] = 
	`gëgid
();

367 
·y≥
[0] = "*";

368 
·y≥
[1] = 
	`gë_fûe_ty≥
(
∑th
);

369 
	`¥ötf
 ("Fûêty≥ fëched: %s\n", 
·y≥
[1]);

372 
‚ame
[0] = "*";

373 
‚ame
[1] = (*)
∑th
;

376 
i
 = (
NUM_BUCKETS
 - 1); (ò>0Ë&& (
≥
 =
NULL
); i--) {

380 
ödex_‚ame
 = 
‚ame
[(
i
 >> 3) & 1];

381 
ödex_uid
 = 
uid
[(
i
 >> 2) & 1];

382 
ödex_gid
 = 
gid
[(
i
 >> 1) & 1];

383 
ödex_·y≥
 = 
·y≥
[(
i
 & 1)];

384 
	`•rötf
 (
ödex
, "%s^%x^%x^%s", 
ödex_‚ame
,
ödex_uid
,

385 
ödex_gid
, 
ödex_·y≥
);

386 
	`±hªad_rwlock_rdlock
(&
p°
.
p°_lock
[
i
]);

387 
	`JSLG
(
pvÆue
, 
p°
.
p°_hód
[
i
], 
ödex
);

388 i‡(
pvÆue
 =
NULL
) {

389 
	`±hªad_rwlock_u∆ock
(&
p°
.
p°_lock
[
i
]);

392 
≥
 = (
pﬁicy_íåy
 *)(*
pvÆue
);

393 
	`±hªad_•ö_lock
(&
≥
->
≥_lock
);

394 
≥
->
≥_ªfcou¡
++;

395 
	`±hªad_•ö_u∆ock
(&
≥
->
≥_lock
);

396 
	`±hªad_rwlock_u∆ock
(&
p°
.
p°_lock
[
i
]);

398  
≥
;

399 
	}
}

401 #ifde‡
POLICY_TEST


402 
	$maö
()

404 
pﬁicy_∂ugö
 
∂ugö
[3];

405 
∂ugö_id
[3];

406 
i
 = 0;

407 
pﬁicy_íåy
 *
≥
 = 
NULL
;

408 
	`öô_pﬁicy
();

409 
	#NUM_PLUGIN
 3

	)

411 
	`°r˝y
(
∂ugö
[0].
µ_pﬁicy_èg
, "encryption");

412 
	`°r˝y
(
∂ugö
[1].
µ_pﬁicy_èg
, "plugin1");

413 
	`°r˝y
(
∂ugö
[2].
µ_pﬁicy_èg
, "plugin2");

415 
i
=0; i < 
NUM_PLUGIN
; i++) {

416 
	`±hªad_•ö_öô
(&
∂ugö
[
i
].
µ_lock
,

417 
PTHREAD_PROCESS_PRIVATE
);

418 
	`ªgi°î_∂ugö
(&
∂ugö
[
i
], &
∂ugö_id
[i]);

419 
	`¥ötf
 ("Plugin (%d)Ñegisteredát : %d (id)\n",

420 
i
, 
∂ugö_id
[i]);

422 
	`¥ötf
 ("pﬁicyÑëu∫: %d\n", 
	`ªad_pﬁicy_c⁄figuøti⁄
());

423 
	`¥ötf
 ("============FETCH DETAILS================\n");

424 
≥
 = 
	`gë_pﬁicy
("/home/shubhro/policy/policy.c");

425 i‡(
≥
 !
NULL
) {

426 
i
 = 0; i < 
≥
->
≥_num_∂ugös
; ++i)

427 
	`¥ötf
 ("policyÅag: %s\n",

428 
≥
->
≥_pﬁicy
[
i
]->
µ_pﬁicy_èg
);

430 
	`¥ötf
 ("NoÖolicy found\n");

433 
	}
}

	@protobuf-template/jobs.pb-c.c

4 #i‚de‡
PROTOBUF_C_NO_DEPRECATED


5 
	#PROTOBUF_C_NO_DEPRECATED


	)

8 
	~"jobs.pb-c.h
"

9 
	gnfs_ªad_cmd__öô


10 (
NfsRódCmd
 *
	gmesßge
)

12 
NfsRódCmd
 
	göô_vÆue
 = 
NFS_READ_CMD__INIT
;

13 *
	gmesßge
 = 
öô_vÆue
;

15 
size_t
 
	gnfs_ªad_cmd__gë_∑cked_size


16 (c⁄° 
NfsRódCmd
 *
	gmesßge
)

18 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_cmd__des¸ùt‹
);

19  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

21 
size_t
 
	gnfs_ªad_cmd__∑ck


22 (c⁄° 
NfsRódCmd
 *
	gmesßge
,

23 
uöt8_t
 *
	gout
)

25 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_cmd__des¸ùt‹
);

26  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

28 
size_t
 
	gnfs_ªad_cmd__∑ck_to_buf„r


29 (c⁄° 
NfsRódCmd
 *
	gmesßge
,

30 
PrŸobufCBuf„r
 *
	gbuf„r
)

32 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_cmd__des¸ùt‹
);

33  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

35 
NfsRódCmd
 *

36 
	gnfs_ªad_cmd__u≈ack


37 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

38 
size_t
 
	gÀn
,

39 c⁄° 
uöt8_t
 *
	gd©a
)

41  (
	gNfsRódCmd
 *)

42 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ªad_cmd__des¸ùt‹
,

43 
Æloˇt‹
, 
Àn
, 
d©a
);

45 
	gnfs_ªad_cmd__‰ì_u≈acked


46 (
NfsRódCmd
 *
	gmesßge
,

47 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

49 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_cmd__des¸ùt‹
);

50 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

52 
	gnfs_d©a__öô


53 (
NfsD©a
 *
	gmesßge
)

55 
NfsD©a
 
	göô_vÆue
 = 
NFS_DATA__INIT
;

56 *
	gmesßge
 = 
öô_vÆue
;

58 
size_t
 
	gnfs_d©a__gë_∑cked_size


59 (c⁄° 
NfsD©a
 *
	gmesßge
)

61 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_d©a__des¸ùt‹
);

62  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

64 
size_t
 
	gnfs_d©a__∑ck


65 (c⁄° 
NfsD©a
 *
	gmesßge
,

66 
uöt8_t
 *
	gout
)

68 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_d©a__des¸ùt‹
);

69  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

71 
size_t
 
	gnfs_d©a__∑ck_to_buf„r


72 (c⁄° 
NfsD©a
 *
	gmesßge
,

73 
PrŸobufCBuf„r
 *
	gbuf„r
)

75 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_d©a__des¸ùt‹
);

76  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

78 
NfsD©a
 *

79 
	gnfs_d©a__u≈ack


80 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

81 
size_t
 
	gÀn
,

82 c⁄° 
uöt8_t
 *
	gd©a
)

84  (
	gNfsD©a
 *)

85 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_d©a__des¸ùt‹
,

86 
Æloˇt‹
, 
Àn
, 
d©a
);

88 
	gnfs_d©a__‰ì_u≈acked


89 (
NfsD©a
 *
	gmesßge
,

90 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

92 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_d©a__des¸ùt‹
);

93 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

95 
	gnfs_wrôe_cmd__öô


96 (
NfsWrôeCmd
 *
	gmesßge
)

98 
NfsWrôeCmd
 
	göô_vÆue
 = 
NFS_WRITE_CMD__INIT
;

99 *
	gmesßge
 = 
öô_vÆue
;

101 
size_t
 
	gnfs_wrôe_cmd__gë_∑cked_size


102 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
)

104 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_cmd__des¸ùt‹
);

105  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

107 
size_t
 
	gnfs_wrôe_cmd__∑ck


108 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
,

109 
uöt8_t
 *
	gout
)

111 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_cmd__des¸ùt‹
);

112  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

114 
size_t
 
	gnfs_wrôe_cmd__∑ck_to_buf„r


115 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
,

116 
PrŸobufCBuf„r
 *
	gbuf„r
)

118 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_cmd__des¸ùt‹
);

119  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

121 
NfsWrôeCmd
 *

122 
	gnfs_wrôe_cmd__u≈ack


123 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

124 
size_t
 
	gÀn
,

125 c⁄° 
uöt8_t
 *
	gd©a
)

127  (
	gNfsWrôeCmd
 *)

128 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_wrôe_cmd__des¸ùt‹
,

129 
Æloˇt‹
, 
Àn
, 
d©a
);

131 
	gnfs_wrôe_cmd__‰ì_u≈acked


132 (
NfsWrôeCmd
 *
	gmesßge
,

133 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

135 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_cmd__des¸ùt‹
);

136 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

138 
	gnfs_¸óã_cmd__öô


139 (
NfsCª©eCmd
 *
	gmesßge
)

141 
NfsCª©eCmd
 
	göô_vÆue
 = 
NFS_CREATE_CMD__INIT
;

142 *
	gmesßge
 = 
öô_vÆue
;

144 
size_t
 
	gnfs_¸óã_cmd__gë_∑cked_size


145 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
)

147 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_cmd__des¸ùt‹
);

148  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

150 
size_t
 
	gnfs_¸óã_cmd__∑ck


151 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
,

152 
uöt8_t
 *
	gout
)

154 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_cmd__des¸ùt‹
);

155  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

157 
size_t
 
	gnfs_¸óã_cmd__∑ck_to_buf„r


158 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
,

159 
PrŸobufCBuf„r
 *
	gbuf„r
)

161 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_cmd__des¸ùt‹
);

162  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

164 
NfsCª©eCmd
 *

165 
	gnfs_¸óã_cmd__u≈ack


166 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

167 
size_t
 
	gÀn
,

168 c⁄° 
uöt8_t
 *
	gd©a
)

170  (
	gNfsCª©eCmd
 *)

171 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_¸óã_cmd__des¸ùt‹
,

172 
Æloˇt‹
, 
Àn
, 
d©a
);

174 
	gnfs_¸óã_cmd__‰ì_u≈acked


175 (
NfsCª©eCmd
 *
	gmesßge
,

176 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

178 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_cmd__des¸ùt‹
);

179 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

181 
	gnfs_ac˚ss_cmd__öô


182 (
NfsAc˚ssCmd
 *
	gmesßge
)

184 
NfsAc˚ssCmd
 
	göô_vÆue
 = 
NFS_ACCESS_CMD__INIT
;

185 *
	gmesßge
 = 
öô_vÆue
;

187 
size_t
 
	gnfs_ac˚ss_cmd__gë_∑cked_size


188 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
)

190 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_cmd__des¸ùt‹
);

191  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

193 
size_t
 
	gnfs_ac˚ss_cmd__∑ck


194 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
,

195 
uöt8_t
 *
	gout
)

197 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_cmd__des¸ùt‹
);

198  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

200 
size_t
 
	gnfs_ac˚ss_cmd__∑ck_to_buf„r


201 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
,

202 
PrŸobufCBuf„r
 *
	gbuf„r
)

204 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_cmd__des¸ùt‹
);

205  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

207 
NfsAc˚ssCmd
 *

208 
	gnfs_ac˚ss_cmd__u≈ack


209 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

210 
size_t
 
	gÀn
,

211 c⁄° 
uöt8_t
 *
	gd©a
)

213  (
	gNfsAc˚ssCmd
 *)

214 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ac˚ss_cmd__des¸ùt‹
,

215 
Æloˇt‹
, 
Àn
, 
d©a
);

217 
	gnfs_ac˚ss_cmd__‰ì_u≈acked


218 (
NfsAc˚ssCmd
 *
	gmesßge
,

219 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

221 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_cmd__des¸ùt‹
);

222 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

224 
	gnfs_ª«me_cmd__öô


225 (
NfsRíameCmd
 *
	gmesßge
)

227 
NfsRíameCmd
 
	göô_vÆue
 = 
NFS_RENAME_CMD__INIT
;

228 *
	gmesßge
 = 
öô_vÆue
;

230 
size_t
 
	gnfs_ª«me_cmd__gë_∑cked_size


231 (c⁄° 
NfsRíameCmd
 *
	gmesßge
)

233 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_cmd__des¸ùt‹
);

234  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

236 
size_t
 
	gnfs_ª«me_cmd__∑ck


237 (c⁄° 
NfsRíameCmd
 *
	gmesßge
,

238 
uöt8_t
 *
	gout
)

240 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_cmd__des¸ùt‹
);

241  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

243 
size_t
 
	gnfs_ª«me_cmd__∑ck_to_buf„r


244 (c⁄° 
NfsRíameCmd
 *
	gmesßge
,

245 
PrŸobufCBuf„r
 *
	gbuf„r
)

247 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_cmd__des¸ùt‹
);

248  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

250 
NfsRíameCmd
 *

251 
	gnfs_ª«me_cmd__u≈ack


252 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

253 
size_t
 
	gÀn
,

254 c⁄° 
uöt8_t
 *
	gd©a
)

256  (
	gNfsRíameCmd
 *)

257 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ª«me_cmd__des¸ùt‹
,

258 
Æloˇt‹
, 
Àn
, 
d©a
);

260 
	gnfs_ª«me_cmd__‰ì_u≈acked


261 (
NfsRíameCmd
 *
	gmesßge
,

262 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

264 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_cmd__des¸ùt‹
);

265 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

267 
	gnfs_commô_cmd__öô


268 (
NfsCommôCmd
 *
	gmesßge
)

270 
NfsCommôCmd
 
	göô_vÆue
 = 
NFS_COMMIT_CMD__INIT
;

271 *
	gmesßge
 = 
öô_vÆue
;

273 
size_t
 
	gnfs_commô_cmd__gë_∑cked_size


274 (c⁄° 
NfsCommôCmd
 *
	gmesßge
)

276 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_cmd__des¸ùt‹
);

277  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

279 
size_t
 
	gnfs_commô_cmd__∑ck


280 (c⁄° 
NfsCommôCmd
 *
	gmesßge
,

281 
uöt8_t
 *
	gout
)

283 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_cmd__des¸ùt‹
);

284  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

286 
size_t
 
	gnfs_commô_cmd__∑ck_to_buf„r


287 (c⁄° 
NfsCommôCmd
 *
	gmesßge
,

288 
PrŸobufCBuf„r
 *
	gbuf„r
)

290 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_cmd__des¸ùt‹
);

291  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

293 
NfsCommôCmd
 *

294 
	gnfs_commô_cmd__u≈ack


295 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

296 
size_t
 
	gÀn
,

297 c⁄° 
uöt8_t
 *
	gd©a
)

299  (
	gNfsCommôCmd
 *)

300 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_commô_cmd__des¸ùt‹
,

301 
Æloˇt‹
, 
Àn
, 
d©a
);

303 
	gnfs_commô_cmd__‰ì_u≈acked


304 (
NfsCommôCmd
 *
	gmesßge
,

305 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

307 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_cmd__des¸ùt‹
);

308 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

310 
	gs°ack_nfs_comm™d_°ru˘__öô


311 (
S°ackNfsComm™dSåu˘
 *
	gmesßge
)

313 
S°ackNfsComm™dSåu˘
 
	göô_vÆue
 = 
SSTACK_NFS_COMMAND_STRUCT__INIT
;

314 *
	gmesßge
 = 
öô_vÆue
;

316 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__gë_∑cked_size


317 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
)

319 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
);

320  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

322 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__∑ck


323 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

324 
uöt8_t
 *
	gout
)

326 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
);

327  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

329 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__∑ck_to_buf„r


330 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

331 
PrŸobufCBuf„r
 *
	gbuf„r
)

333 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
);

334  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

336 
S°ackNfsComm™dSåu˘
 *

337 
	gs°ack_nfs_comm™d_°ru˘__u≈ack


338 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

339 
size_t
 
	gÀn
,

340 c⁄° 
uöt8_t
 *
	gd©a
)

342  (
	gS°ackNfsComm™dSåu˘
 *)

343 
¥Ÿobuf_c_mesßge_u≈ack
 (&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
,

344 
Æloˇt‹
, 
Àn
, 
d©a
);

346 
	gs°ack_nfs_comm™d_°ru˘__‰ì_u≈acked


347 (
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

348 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

350 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
);

351 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

353 
	gnfs_lookup_ª•__öô


354 (
NfsLookupRe•
 *
	gmesßge
)

356 
NfsLookupRe•
 
	göô_vÆue
 = 
NFS_LOOKUP_RESP__INIT
;

357 *
	gmesßge
 = 
öô_vÆue
;

359 
size_t
 
	gnfs_lookup_ª•__gë_∑cked_size


360 (c⁄° 
NfsLookupRe•
 *
	gmesßge
)

362 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_lookup_ª•__des¸ùt‹
);

363  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

365 
size_t
 
	gnfs_lookup_ª•__∑ck


366 (c⁄° 
NfsLookupRe•
 *
	gmesßge
,

367 
uöt8_t
 *
	gout
)

369 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_lookup_ª•__des¸ùt‹
);

370  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

372 
size_t
 
	gnfs_lookup_ª•__∑ck_to_buf„r


373 (c⁄° 
NfsLookupRe•
 *
	gmesßge
,

374 
PrŸobufCBuf„r
 *
	gbuf„r
)

376 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_lookup_ª•__des¸ùt‹
);

377  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

379 
NfsLookupRe•
 *

380 
	gnfs_lookup_ª•__u≈ack


381 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

382 
size_t
 
	gÀn
,

383 c⁄° 
uöt8_t
 *
	gd©a
)

385  (
	gNfsLookupRe•
 *)

386 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_lookup_ª•__des¸ùt‹
,

387 
Æloˇt‹
, 
Àn
, 
d©a
);

389 
	gnfs_lookup_ª•__‰ì_u≈acked


390 (
NfsLookupRe•
 *
	gmesßge
,

391 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

393 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_lookup_ª•__des¸ùt‹
);

394 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

396 
	gnfs_ac˚ss_ª•__öô


397 (
NfsAc˚ssRe•
 *
	gmesßge
)

399 
NfsAc˚ssRe•
 
	göô_vÆue
 = 
NFS_ACCESS_RESP__INIT
;

400 *
	gmesßge
 = 
öô_vÆue
;

402 
size_t
 
	gnfs_ac˚ss_ª•__gë_∑cked_size


403 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
)

405 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_ª•__des¸ùt‹
);

406  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

408 
size_t
 
	gnfs_ac˚ss_ª•__∑ck


409 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
,

410 
uöt8_t
 *
	gout
)

412 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_ª•__des¸ùt‹
);

413  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

415 
size_t
 
	gnfs_ac˚ss_ª•__∑ck_to_buf„r


416 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
,

417 
PrŸobufCBuf„r
 *
	gbuf„r
)

419 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_ª•__des¸ùt‹
);

420  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

422 
NfsAc˚ssRe•
 *

423 
	gnfs_ac˚ss_ª•__u≈ack


424 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

425 
size_t
 
	gÀn
,

426 c⁄° 
uöt8_t
 *
	gd©a
)

428  (
	gNfsAc˚ssRe•
 *)

429 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ac˚ss_ª•__des¸ùt‹
,

430 
Æloˇt‹
, 
Àn
, 
d©a
);

432 
	gnfs_ac˚ss_ª•__‰ì_u≈acked


433 (
NfsAc˚ssRe•
 *
	gmesßge
,

434 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

436 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ac˚ss_ª•__des¸ùt‹
);

437 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

439 
	gnfs_ªad_ª•__öô


440 (
NfsRódRe•
 *
	gmesßge
)

442 
NfsRódRe•
 
	göô_vÆue
 = 
NFS_READ_RESP__INIT
;

443 *
	gmesßge
 = 
öô_vÆue
;

445 
size_t
 
	gnfs_ªad_ª•__gë_∑cked_size


446 (c⁄° 
NfsRódRe•
 *
	gmesßge
)

448 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_ª•__des¸ùt‹
);

449  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

451 
size_t
 
	gnfs_ªad_ª•__∑ck


452 (c⁄° 
NfsRódRe•
 *
	gmesßge
,

453 
uöt8_t
 *
	gout
)

455 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_ª•__des¸ùt‹
);

456  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

458 
size_t
 
	gnfs_ªad_ª•__∑ck_to_buf„r


459 (c⁄° 
NfsRódRe•
 *
	gmesßge
,

460 
PrŸobufCBuf„r
 *
	gbuf„r
)

462 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_ª•__des¸ùt‹
);

463  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

465 
NfsRódRe•
 *

466 
	gnfs_ªad_ª•__u≈ack


467 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

468 
size_t
 
	gÀn
,

469 c⁄° 
uöt8_t
 *
	gd©a
)

471  (
	gNfsRódRe•
 *)

472 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ªad_ª•__des¸ùt‹
,

473 
Æloˇt‹
, 
Àn
, 
d©a
);

475 
	gnfs_ªad_ª•__‰ì_u≈acked


476 (
NfsRódRe•
 *
	gmesßge
,

477 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

479 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªad_ª•__des¸ùt‹
);

480 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

482 
	gnfs_wrôe_ª•__öô


483 (
NfsWrôeRe•
 *
	gmesßge
)

485 
NfsWrôeRe•
 
	göô_vÆue
 = 
NFS_WRITE_RESP__INIT
;

486 *
	gmesßge
 = 
öô_vÆue
;

488 
size_t
 
	gnfs_wrôe_ª•__gë_∑cked_size


489 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
)

491 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_ª•__des¸ùt‹
);

492  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

494 
size_t
 
	gnfs_wrôe_ª•__∑ck


495 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
,

496 
uöt8_t
 *
	gout
)

498 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_ª•__des¸ùt‹
);

499  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

501 
size_t
 
	gnfs_wrôe_ª•__∑ck_to_buf„r


502 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
,

503 
PrŸobufCBuf„r
 *
	gbuf„r
)

505 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_ª•__des¸ùt‹
);

506  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

508 
NfsWrôeRe•
 *

509 
	gnfs_wrôe_ª•__u≈ack


510 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

511 
size_t
 
	gÀn
,

512 c⁄° 
uöt8_t
 *
	gd©a
)

514  (
	gNfsWrôeRe•
 *)

515 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_wrôe_ª•__des¸ùt‹
,

516 
Æloˇt‹
, 
Àn
, 
d©a
);

518 
	gnfs_wrôe_ª•__‰ì_u≈acked


519 (
NfsWrôeRe•
 *
	gmesßge
,

520 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

522 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_wrôe_ª•__des¸ùt‹
);

523 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

525 
	gnfs_¸óã_ª•__öô


526 (
NfsCª©eRe•
 *
	gmesßge
)

528 
NfsCª©eRe•
 
	göô_vÆue
 = 
NFS_CREATE_RESP__INIT
;

529 *
	gmesßge
 = 
öô_vÆue
;

531 
size_t
 
	gnfs_¸óã_ª•__gë_∑cked_size


532 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
)

534 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_ª•__des¸ùt‹
);

535  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

537 
size_t
 
	gnfs_¸óã_ª•__∑ck


538 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
,

539 
uöt8_t
 *
	gout
)

541 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_ª•__des¸ùt‹
);

542  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

544 
size_t
 
	gnfs_¸óã_ª•__∑ck_to_buf„r


545 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
,

546 
PrŸobufCBuf„r
 *
	gbuf„r
)

548 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_ª•__des¸ùt‹
);

549  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

551 
NfsCª©eRe•
 *

552 
	gnfs_¸óã_ª•__u≈ack


553 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

554 
size_t
 
	gÀn
,

555 c⁄° 
uöt8_t
 *
	gd©a
)

557  (
	gNfsCª©eRe•
 *)

558 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_¸óã_ª•__des¸ùt‹
,

559 
Æloˇt‹
, 
Àn
, 
d©a
);

561 
	gnfs_¸óã_ª•__‰ì_u≈acked


562 (
NfsCª©eRe•
 *
	gmesßge
,

563 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

565 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_¸óã_ª•__des¸ùt‹
);

566 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

568 
	gnfs_ªmove_ª•__öô


569 (
NfsRemoveRe•
 *
	gmesßge
)

571 
NfsRemoveRe•
 
	göô_vÆue
 = 
NFS_REMOVE_RESP__INIT
;

572 *
	gmesßge
 = 
öô_vÆue
;

574 
size_t
 
	gnfs_ªmove_ª•__gë_∑cked_size


575 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
)

577 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªmove_ª•__des¸ùt‹
);

578  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

580 
size_t
 
	gnfs_ªmove_ª•__∑ck


581 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
,

582 
uöt8_t
 *
	gout
)

584 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªmove_ª•__des¸ùt‹
);

585  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

587 
size_t
 
	gnfs_ªmove_ª•__∑ck_to_buf„r


588 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
,

589 
PrŸobufCBuf„r
 *
	gbuf„r
)

591 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªmove_ª•__des¸ùt‹
);

592  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

594 
NfsRemoveRe•
 *

595 
	gnfs_ªmove_ª•__u≈ack


596 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

597 
size_t
 
	gÀn
,

598 c⁄° 
uöt8_t
 *
	gd©a
)

600  (
	gNfsRemoveRe•
 *)

601 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ªmove_ª•__des¸ùt‹
,

602 
Æloˇt‹
, 
Àn
, 
d©a
);

604 
	gnfs_ªmove_ª•__‰ì_u≈acked


605 (
NfsRemoveRe•
 *
	gmesßge
,

606 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

608 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ªmove_ª•__des¸ùt‹
);

609 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

611 
	gnfs_ª«me_ª•__öô


612 (
NfsRíameRe•
 *
	gmesßge
)

614 
NfsRíameRe•
 
	göô_vÆue
 = 
NFS_RENAME_RESP__INIT
;

615 *
	gmesßge
 = 
öô_vÆue
;

617 
size_t
 
	gnfs_ª«me_ª•__gë_∑cked_size


618 (c⁄° 
NfsRíameRe•
 *
	gmesßge
)

620 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_ª•__des¸ùt‹
);

621  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

623 
size_t
 
	gnfs_ª«me_ª•__∑ck


624 (c⁄° 
NfsRíameRe•
 *
	gmesßge
,

625 
uöt8_t
 *
	gout
)

627 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_ª•__des¸ùt‹
);

628  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

630 
size_t
 
	gnfs_ª«me_ª•__∑ck_to_buf„r


631 (c⁄° 
NfsRíameRe•
 *
	gmesßge
,

632 
PrŸobufCBuf„r
 *
	gbuf„r
)

634 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_ª•__des¸ùt‹
);

635  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

637 
NfsRíameRe•
 *

638 
	gnfs_ª«me_ª•__u≈ack


639 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

640 
size_t
 
	gÀn
,

641 c⁄° 
uöt8_t
 *
	gd©a
)

643  (
	gNfsRíameRe•
 *)

644 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_ª«me_ª•__des¸ùt‹
,

645 
Æloˇt‹
, 
Àn
, 
d©a
);

647 
	gnfs_ª«me_ª•__‰ì_u≈acked


648 (
NfsRíameRe•
 *
	gmesßge
,

649 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

651 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_ª«me_ª•__des¸ùt‹
);

652 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

654 
	gnfs_fs°©_ª•__öô


655 (
NfsFs°©Re•
 *
	gmesßge
)

657 
NfsFs°©Re•
 
	göô_vÆue
 = 
NFS_FSSTAT_RESP__INIT
;

658 *
	gmesßge
 = 
öô_vÆue
;

660 
size_t
 
	gnfs_fs°©_ª•__gë_∑cked_size


661 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
)

663 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fs°©_ª•__des¸ùt‹
);

664  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

666 
size_t
 
	gnfs_fs°©_ª•__∑ck


667 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
,

668 
uöt8_t
 *
	gout
)

670 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fs°©_ª•__des¸ùt‹
);

671  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

673 
size_t
 
	gnfs_fs°©_ª•__∑ck_to_buf„r


674 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
,

675 
PrŸobufCBuf„r
 *
	gbuf„r
)

677 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fs°©_ª•__des¸ùt‹
);

678  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

680 
NfsFs°©Re•
 *

681 
	gnfs_fs°©_ª•__u≈ack


682 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

683 
size_t
 
	gÀn
,

684 c⁄° 
uöt8_t
 *
	gd©a
)

686  (
	gNfsFs°©Re•
 *)

687 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_fs°©_ª•__des¸ùt‹
,

688 
Æloˇt‹
, 
Àn
, 
d©a
);

690 
	gnfs_fs°©_ª•__‰ì_u≈acked


691 (
NfsFs°©Re•
 *
	gmesßge
,

692 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

694 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fs°©_ª•__des¸ùt‹
);

695 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

697 
	gnfs_fsöfo_ª•__öô


698 (
NfsFsöfoRe•
 *
	gmesßge
)

700 
NfsFsöfoRe•
 
	göô_vÆue
 = 
NFS_FSINFO_RESP__INIT
;

701 *
	gmesßge
 = 
öô_vÆue
;

703 
size_t
 
	gnfs_fsöfo_ª•__gë_∑cked_size


704 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
)

706 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fsöfo_ª•__des¸ùt‹
);

707  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

709 
size_t
 
	gnfs_fsöfo_ª•__∑ck


710 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
,

711 
uöt8_t
 *
	gout
)

713 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fsöfo_ª•__des¸ùt‹
);

714  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

716 
size_t
 
	gnfs_fsöfo_ª•__∑ck_to_buf„r


717 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
,

718 
PrŸobufCBuf„r
 *
	gbuf„r
)

720 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fsöfo_ª•__des¸ùt‹
);

721  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

723 
NfsFsöfoRe•
 *

724 
	gnfs_fsöfo_ª•__u≈ack


725 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

726 
size_t
 
	gÀn
,

727 c⁄° 
uöt8_t
 *
	gd©a
)

729  (
	gNfsFsöfoRe•
 *)

730 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_fsöfo_ª•__des¸ùt‹
,

731 
Æloˇt‹
, 
Àn
, 
d©a
);

733 
	gnfs_fsöfo_ª•__‰ì_u≈acked


734 (
NfsFsöfoRe•
 *
	gmesßge
,

735 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

737 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_fsöfo_ª•__des¸ùt‹
);

738 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

740 
	gnfs_∑thc⁄f_ª•__öô


741 (
NfsP©hc⁄fRe•
 *
	gmesßge
)

743 
NfsP©hc⁄fRe•
 
	göô_vÆue
 = 
NFS_PATHCONF_RESP__INIT
;

744 *
	gmesßge
 = 
öô_vÆue
;

746 
size_t
 
	gnfs_∑thc⁄f_ª•__gë_∑cked_size


747 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
)

749 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_∑thc⁄f_ª•__des¸ùt‹
);

750  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

752 
size_t
 
	gnfs_∑thc⁄f_ª•__∑ck


753 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
,

754 
uöt8_t
 *
	gout
)

756 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_∑thc⁄f_ª•__des¸ùt‹
);

757  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

759 
size_t
 
	gnfs_∑thc⁄f_ª•__∑ck_to_buf„r


760 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
,

761 
PrŸobufCBuf„r
 *
	gbuf„r
)

763 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_∑thc⁄f_ª•__des¸ùt‹
);

764  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

766 
NfsP©hc⁄fRe•
 *

767 
	gnfs_∑thc⁄f_ª•__u≈ack


768 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

769 
size_t
 
	gÀn
,

770 c⁄° 
uöt8_t
 *
	gd©a
)

772  (
	gNfsP©hc⁄fRe•
 *)

773 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_∑thc⁄f_ª•__des¸ùt‹
,

774 
Æloˇt‹
, 
Àn
, 
d©a
);

776 
	gnfs_∑thc⁄f_ª•__‰ì_u≈acked


777 (
NfsP©hc⁄fRe•
 *
	gmesßge
,

778 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

780 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_∑thc⁄f_ª•__des¸ùt‹
);

781 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

783 
	gnfs_commô_ª•__öô


784 (
NfsCommôRe•
 *
	gmesßge
)

786 
NfsCommôRe•
 
	göô_vÆue
 = 
NFS_COMMIT_RESP__INIT
;

787 *
	gmesßge
 = 
öô_vÆue
;

789 
size_t
 
	gnfs_commô_ª•__gë_∑cked_size


790 (c⁄° 
NfsCommôRe•
 *
	gmesßge
)

792 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_ª•__des¸ùt‹
);

793  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

795 
size_t
 
	gnfs_commô_ª•__∑ck


796 (c⁄° 
NfsCommôRe•
 *
	gmesßge
,

797 
uöt8_t
 *
	gout
)

799 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_ª•__des¸ùt‹
);

800  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

802 
size_t
 
	gnfs_commô_ª•__∑ck_to_buf„r


803 (c⁄° 
NfsCommôRe•
 *
	gmesßge
,

804 
PrŸobufCBuf„r
 *
	gbuf„r
)

806 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_ª•__des¸ùt‹
);

807  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

809 
NfsCommôRe•
 *

810 
	gnfs_commô_ª•__u≈ack


811 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

812 
size_t
 
	gÀn
,

813 c⁄° 
uöt8_t
 *
	gd©a
)

815  (
	gNfsCommôRe•
 *)

816 
¥Ÿobuf_c_mesßge_u≈ack
 (&
nfs_commô_ª•__des¸ùt‹
,

817 
Æloˇt‹
, 
Àn
, 
d©a
);

819 
	gnfs_commô_ª•__‰ì_u≈acked


820 (
NfsCommôRe•
 *
	gmesßge
,

821 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

823 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
nfs_commô_ª•__des¸ùt‹
);

824 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

826 
	gs°ack_nfs_ªsu…_°ru˘__öô


827 (
S°ackNfsResu…Såu˘
 *
	gmesßge
)

829 
S°ackNfsResu…Såu˘
 
	göô_vÆue
 = 
SSTACK_NFS_RESULT_STRUCT__INIT
;

830 *
	gmesßge
 = 
öô_vÆue
;

832 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__gë_∑cked_size


833 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
)

835 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
);

836  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

838 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__∑ck


839 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
,

840 
uöt8_t
 *
	gout
)

842 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
);

843  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

845 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__∑ck_to_buf„r


846 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
,

847 
PrŸobufCBuf„r
 *
	gbuf„r
)

849 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
);

850  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

852 
S°ackNfsResu…Såu˘
 *

853 
	gs°ack_nfs_ªsu…_°ru˘__u≈ack


854 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

855 
size_t
 
	gÀn
,

856 c⁄° 
uöt8_t
 *
	gd©a
)

858  (
	gS°ackNfsResu…Såu˘
 *)

859 
¥Ÿobuf_c_mesßge_u≈ack
 (&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
,

860 
Æloˇt‹
, 
Àn
, 
d©a
);

862 
	gs°ack_nfs_ªsu…_°ru˘__‰ì_u≈acked


863 (
S°ackNfsResu…Såu˘
 *
	gmesßge
,

864 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

866 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
);

867 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

869 
	gs°ack_∑ylﬂd_hdr_t__öô


870 (
S°ackPaylﬂdHdrT
 *
	gmesßge
)

872 
S°ackPaylﬂdHdrT
 
	göô_vÆue
 = 
SSTACK_PAYLOAD_HDR_T__INIT
;

873 *
	gmesßge
 = 
öô_vÆue
;

875 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__gë_∑cked_size


876 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
)

878 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
);

879  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

881 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__∑ck


882 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
,

883 
uöt8_t
 *
	gout
)

885 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
);

886  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

888 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__∑ck_to_buf„r


889 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
,

890 
PrŸobufCBuf„r
 *
	gbuf„r
)

892 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
);

893  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

895 
S°ackPaylﬂdHdrT
 *

896 
	gs°ack_∑ylﬂd_hdr_t__u≈ack


897 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

898 
size_t
 
	gÀn
,

899 c⁄° 
uöt8_t
 *
	gd©a
)

901  (
	gS°ackPaylﬂdHdrT
 *)

902 
¥Ÿobuf_c_mesßge_u≈ack
 (&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
,

903 
Æloˇt‹
, 
Àn
, 
d©a
);

905 
	gs°ack_∑ylﬂd_hdr_t__‰ì_u≈acked


906 (
S°ackPaylﬂdHdrT
 *
	gmesßge
,

907 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

909 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
);

910 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

912 
	gs°ack_∑ylﬂd_t__öô


913 (
S°ackPaylﬂdT
 *
	gmesßge
)

915 
S°ackPaylﬂdT
 
	göô_vÆue
 = 
SSTACK_PAYLOAD_T__INIT
;

916 *
	gmesßge
 = 
öô_vÆue
;

918 
size_t
 
	gs°ack_∑ylﬂd_t__gë_∑cked_size


919 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
)

921 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_t__des¸ùt‹
);

922  
¥Ÿobuf_c_mesßge_gë_∑cked_size
 ((c⁄° 
PrŸobufCMesßge
*)(
mesßge
));

924 
size_t
 
	gs°ack_∑ylﬂd_t__∑ck


925 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
,

926 
uöt8_t
 *
	gout
)

928 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_t__des¸ùt‹
);

929  
¥Ÿobuf_c_mesßge_∑ck
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
out
);

931 
size_t
 
	gs°ack_∑ylﬂd_t__∑ck_to_buf„r


932 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
,

933 
PrŸobufCBuf„r
 *
	gbuf„r
)

935 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_t__des¸ùt‹
);

936  
¥Ÿobuf_c_mesßge_∑ck_to_buf„r
 ((c⁄° 
PrŸobufCMesßge
*)
mesßge
, 
buf„r
);

938 
S°ackPaylﬂdT
 *

939 
	gs°ack_∑ylﬂd_t__u≈ack


940 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

941 
size_t
 
	gÀn
,

942 c⁄° 
uöt8_t
 *
	gd©a
)

944  (
	gS°ackPaylﬂdT
 *)

945 
¥Ÿobuf_c_mesßge_u≈ack
 (&
s°ack_∑ylﬂd_t__des¸ùt‹
,

946 
Æloˇt‹
, 
Àn
, 
d©a
);

948 
	gs°ack_∑ylﬂd_t__‰ì_u≈acked


949 (
S°ackPaylﬂdT
 *
	gmesßge
,

950 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
)

952 
PROTOBUF_C_ASSERT
 (
mesßge
->
ba£
.
des¸ùt‹
 =&
s°ack_∑ylﬂd_t__des¸ùt‹
);

953 
¥Ÿobuf_c_mesßge_‰ì_u≈acked
 ((
PrŸobufCMesßge
*)
mesßge
, 
Æloˇt‹
);

955 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ªad_cmd__fõld_des¸ùt‹s
[3] =

960 
PROTOBUF_C_LABEL_REQUIRED
,

961 
PROTOBUF_C_TYPE_UINT64
,

963 
PROTOBUF_C_OFFSETOF
(
NfsRódCmd
, 
off£t
),

964 
NULL
,

965 
NULL
,

967 0,
NULL
,NULL

972 
PROTOBUF_C_LABEL_REQUIRED
,

973 
PROTOBUF_C_TYPE_UINT64
,

975 
PROTOBUF_C_OFFSETOF
(
NfsRódCmd
, 
cou¡
),

976 
NULL
,

977 
NULL
,

979 0,
NULL
,NULL

984 
PROTOBUF_C_LABEL_REQUIRED
,

985 
PROTOBUF_C_TYPE_MESSAGE
,

987 
PROTOBUF_C_OFFSETOF
(
NfsRódCmd
, 
d©a
),

988 &
nfs_d©a__des¸ùt‹
,

989 
NULL
,

991 0,
NULL
,NULL

994 c⁄° 
	gnfs_ªad_cmd__fõld_ödi˚s_by_«me
[] = {

999 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ªad_cmd__numbî_ønges
[1 + 1] =

1004 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ªad_cmd__des¸ùt‹
 =

1006 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1011 (
NfsRódCmd
),

1013 
nfs_ªad_cmd__fõld_des¸ùt‹s
,

1014 
nfs_ªad_cmd__fõld_ödi˚s_by_«me
,

1015 1, 
nfs_ªad_cmd__numbî_ønges
,

1016 (
PrŸobufCMesßgeInô
Ë
nfs_ªad_cmd__öô
,

1017 
NULL
,NULL,NULL

1019 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_d©a__fõld_des¸ùt‹s
[2] =

1024 
PROTOBUF_C_LABEL_REQUIRED
,

1025 
PROTOBUF_C_TYPE_UINT64
,

1027 
PROTOBUF_C_OFFSETOF
(
NfsD©a
, 
d©a_Àn
),

1028 
NULL
,

1029 
NULL
,

1031 0,
NULL
,NULL

1036 
PROTOBUF_C_LABEL_REQUIRED
,

1037 
PROTOBUF_C_TYPE_BYTES
,

1039 
PROTOBUF_C_OFFSETOF
(
NfsD©a
, 
d©a_vÆ
),

1040 
NULL
,

1041 
NULL
,

1043 0,
NULL
,NULL

1046 c⁄° 
	gnfs_d©a__fõld_ödi˚s_by_«me
[] = {

1050 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_d©a__numbî_ønges
[1 + 1] =

1055 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_d©a__des¸ùt‹
 =

1057 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1062 (
NfsD©a
),

1064 
nfs_d©a__fõld_des¸ùt‹s
,

1065 
nfs_d©a__fõld_ödi˚s_by_«me
,

1066 1, 
nfs_d©a__numbî_ønges
,

1067 (
PrŸobufCMesßgeInô
Ë
nfs_d©a__öô
,

1068 
NULL
,NULL,NULL

1070 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_wrôe_cmd__fõld_des¸ùt‹s
[3] =

1075 
PROTOBUF_C_LABEL_REQUIRED
,

1076 
PROTOBUF_C_TYPE_UINT64
,

1078 
PROTOBUF_C_OFFSETOF
(
NfsWrôeCmd
, 
off£t
),

1079 
NULL
,

1080 
NULL
,

1082 0,
NULL
,NULL

1087 
PROTOBUF_C_LABEL_REQUIRED
,

1088 
PROTOBUF_C_TYPE_UINT64
,

1090 
PROTOBUF_C_OFFSETOF
(
NfsWrôeCmd
, 
cou¡
),

1091 
NULL
,

1092 
NULL
,

1094 0,
NULL
,NULL

1099 
PROTOBUF_C_LABEL_REQUIRED
,

1100 
PROTOBUF_C_TYPE_MESSAGE
,

1102 
PROTOBUF_C_OFFSETOF
(
NfsWrôeCmd
, 
d©a
),

1103 &
nfs_d©a__des¸ùt‹
,

1104 
NULL
,

1106 0,
NULL
,NULL

1109 c⁄° 
	gnfs_wrôe_cmd__fõld_ödi˚s_by_«me
[] = {

1114 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_wrôe_cmd__numbî_ønges
[1 + 1] =

1119 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_wrôe_cmd__des¸ùt‹
 =

1121 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1126 (
NfsWrôeCmd
),

1128 
nfs_wrôe_cmd__fõld_des¸ùt‹s
,

1129 
nfs_wrôe_cmd__fõld_ödi˚s_by_«me
,

1130 1, 
nfs_wrôe_cmd__numbî_ønges
,

1131 (
PrŸobufCMesßgeInô
Ë
nfs_wrôe_cmd__öô
,

1132 
NULL
,NULL,NULL

1134 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_¸óã_cmd__fõld_des¸ùt‹s
[2] =

1139 
PROTOBUF_C_LABEL_REQUIRED
,

1140 
PROTOBUF_C_TYPE_UINT32
,

1142 
PROTOBUF_C_OFFSETOF
(
NfsCª©eCmd
, 
mode
),

1143 
NULL
,

1144 
NULL
,

1146 0,
NULL
,NULL

1151 
PROTOBUF_C_LABEL_REQUIRED
,

1152 
PROTOBUF_C_TYPE_MESSAGE
,

1154 
PROTOBUF_C_OFFSETOF
(
NfsCª©eCmd
, 
d©a
),

1155 &
nfs_d©a__des¸ùt‹
,

1156 
NULL
,

1158 0,
NULL
,NULL

1161 c⁄° 
	gnfs_¸óã_cmd__fõld_ödi˚s_by_«me
[] = {

1165 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_¸óã_cmd__numbî_ønges
[1 + 1] =

1170 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_¸óã_cmd__des¸ùt‹
 =

1172 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1177 (
NfsCª©eCmd
),

1179 
nfs_¸óã_cmd__fõld_des¸ùt‹s
,

1180 
nfs_¸óã_cmd__fõld_ödi˚s_by_«me
,

1181 1, 
nfs_¸óã_cmd__numbî_ønges
,

1182 (
PrŸobufCMesßgeInô
Ë
nfs_¸óã_cmd__öô
,

1183 
NULL
,NULL,NULL

1185 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ac˚ss_cmd__fõld_des¸ùt‹s
[1] =

1190 
PROTOBUF_C_LABEL_REQUIRED
,

1191 
PROTOBUF_C_TYPE_UINT32
,

1193 
PROTOBUF_C_OFFSETOF
(
NfsAc˚ssCmd
, 
mode
),

1194 
NULL
,

1195 
NULL
,

1197 0,
NULL
,NULL

1200 c⁄° 
	gnfs_ac˚ss_cmd__fõld_ödi˚s_by_«me
[] = {

1203 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ac˚ss_cmd__numbî_ønges
[1 + 1] =

1208 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ac˚ss_cmd__des¸ùt‹
 =

1210 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1215 (
NfsAc˚ssCmd
),

1217 
nfs_ac˚ss_cmd__fõld_des¸ùt‹s
,

1218 
nfs_ac˚ss_cmd__fõld_ödi˚s_by_«me
,

1219 1, 
nfs_ac˚ss_cmd__numbî_ønges
,

1220 (
PrŸobufCMesßgeInô
Ë
nfs_ac˚ss_cmd__öô
,

1221 
NULL
,NULL,NULL

1223 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ª«me_cmd__fõld_des¸ùt‹s
[1] =

1228 
PROTOBUF_C_LABEL_REQUIRED
,

1229 
PROTOBUF_C_TYPE_BYTES
,

1231 
PROTOBUF_C_OFFSETOF
(
NfsRíameCmd
, 
√w_∑th
),

1232 
NULL
,

1233 
NULL
,

1235 0,
NULL
,NULL

1238 c⁄° 
	gnfs_ª«me_cmd__fõld_ödi˚s_by_«me
[] = {

1241 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ª«me_cmd__numbî_ønges
[1 + 1] =

1246 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ª«me_cmd__des¸ùt‹
 =

1248 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1253 (
NfsRíameCmd
),

1255 
nfs_ª«me_cmd__fõld_des¸ùt‹s
,

1256 
nfs_ª«me_cmd__fõld_ödi˚s_by_«me
,

1257 1, 
nfs_ª«me_cmd__numbî_ønges
,

1258 (
PrŸobufCMesßgeInô
Ë
nfs_ª«me_cmd__öô
,

1259 
NULL
,NULL,NULL

1261 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_commô_cmd__fõld_des¸ùt‹s
[2] =

1266 
PROTOBUF_C_LABEL_REQUIRED
,

1267 
PROTOBUF_C_TYPE_UINT64
,

1269 
PROTOBUF_C_OFFSETOF
(
NfsCommôCmd
, 
off£t
),

1270 
NULL
,

1271 
NULL
,

1273 0,
NULL
,NULL

1278 
PROTOBUF_C_LABEL_REQUIRED
,

1279 
PROTOBUF_C_TYPE_UINT64
,

1281 
PROTOBUF_C_OFFSETOF
(
NfsCommôCmd
, 
cou¡
),

1282 
NULL
,

1283 
NULL
,

1285 0,
NULL
,NULL

1288 c⁄° 
	gnfs_commô_cmd__fõld_ödi˚s_by_«me
[] = {

1292 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_commô_cmd__numbî_ønges
[1 + 1] =

1297 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_commô_cmd__des¸ùt‹
 =

1299 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1304 (
NfsCommôCmd
),

1306 
nfs_commô_cmd__fõld_des¸ùt‹s
,

1307 
nfs_commô_cmd__fõld_ödi˚s_by_«me
,

1308 1, 
nfs_commô_cmd__numbî_ønges
,

1309 (
PrŸobufCMesßgeInô
Ë
nfs_commô_cmd__öô
,

1310 
NULL
,NULL,NULL

1312 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gs°ack_nfs_comm™d_°ru˘__fõld_des¸ùt‹s
[6] =

1317 
PROTOBUF_C_LABEL_OPTIONAL
,

1318 
PROTOBUF_C_TYPE_MESSAGE
,

1320 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
ªad_cmd
),

1321 &
nfs_ªad_cmd__des¸ùt‹
,

1322 
NULL
,

1324 0,
NULL
,NULL

1329 
PROTOBUF_C_LABEL_OPTIONAL
,

1330 
PROTOBUF_C_TYPE_MESSAGE
,

1332 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
wrôe_cmd
),

1333 &
nfs_wrôe_cmd__des¸ùt‹
,

1334 
NULL
,

1336 0,
NULL
,NULL

1341 
PROTOBUF_C_LABEL_OPTIONAL
,

1342 
PROTOBUF_C_TYPE_MESSAGE
,

1344 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
¸óã_cmd
),

1345 &
nfs_¸óã_cmd__des¸ùt‹
,

1346 
NULL
,

1348 0,
NULL
,NULL

1353 
PROTOBUF_C_LABEL_OPTIONAL
,

1354 
PROTOBUF_C_TYPE_MESSAGE
,

1356 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
ac˚ss_cmd
),

1357 &
nfs_ac˚ss_cmd__des¸ùt‹
,

1358 
NULL
,

1360 0,
NULL
,NULL

1365 
PROTOBUF_C_LABEL_OPTIONAL
,

1366 
PROTOBUF_C_TYPE_MESSAGE
,

1368 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
ª«me_cmd
),

1369 &
nfs_ª«me_cmd__des¸ùt‹
,

1370 
NULL
,

1372 0,
NULL
,NULL

1377 
PROTOBUF_C_LABEL_OPTIONAL
,

1378 
PROTOBUF_C_TYPE_MESSAGE
,

1380 
PROTOBUF_C_OFFSETOF
(
S°ackNfsComm™dSåu˘
, 
commô_cmd
),

1381 &
nfs_commô_cmd__des¸ùt‹
,

1382 
NULL
,

1384 0,
NULL
,NULL

1387 c⁄° 
	gs°ack_nfs_comm™d_°ru˘__fõld_ödi˚s_by_«me
[] = {

1395 c⁄° 
PrŸobufCI¡R™ge
 
	gs°ack_nfs_comm™d_°ru˘__numbî_ønges
[1 + 1] =

1400 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gs°ack_nfs_comm™d_°ru˘__des¸ùt‹
 =

1402 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1407 (
S°ackNfsComm™dSåu˘
),

1409 
s°ack_nfs_comm™d_°ru˘__fõld_des¸ùt‹s
,

1410 
s°ack_nfs_comm™d_°ru˘__fõld_ödi˚s_by_«me
,

1411 1, 
s°ack_nfs_comm™d_°ru˘__numbî_ønges
,

1412 (
PrŸobufCMesßgeInô
Ë
s°ack_nfs_comm™d_°ru˘__öô
,

1413 
NULL
,NULL,NULL

1415 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_lookup_ª•__fõld_des¸ùt‹s
[1] =

1420 
PROTOBUF_C_LABEL_REQUIRED
,

1421 
PROTOBUF_C_TYPE_BYTES
,

1423 
PROTOBUF_C_OFFSETOF
(
NfsLookupRe•
, 
lookup_∑th
),

1424 
NULL
,

1425 
NULL
,

1427 0,
NULL
,NULL

1430 c⁄° 
	gnfs_lookup_ª•__fõld_ödi˚s_by_«me
[] = {

1433 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_lookup_ª•__numbî_ønges
[1 + 1] =

1438 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_lookup_ª•__des¸ùt‹
 =

1440 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1445 (
NfsLookupRe•
),

1447 
nfs_lookup_ª•__fõld_des¸ùt‹s
,

1448 
nfs_lookup_ª•__fõld_ödi˚s_by_«me
,

1449 1, 
nfs_lookup_ª•__numbî_ønges
,

1450 (
PrŸobufCMesßgeInô
Ë
nfs_lookup_ª•__öô
,

1451 
NULL
,NULL,NULL

1453 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ac˚ss_ª•__fõld_des¸ùt‹s
[1] =

1458 
PROTOBUF_C_LABEL_REQUIRED
,

1459 
PROTOBUF_C_TYPE_UINT32
,

1461 
PROTOBUF_C_OFFSETOF
(
NfsAc˚ssRe•
, 
ac˚ss
),

1462 
NULL
,

1463 
NULL
,

1465 0,
NULL
,NULL

1468 c⁄° 
	gnfs_ac˚ss_ª•__fõld_ödi˚s_by_«me
[] = {

1471 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ac˚ss_ª•__numbî_ønges
[1 + 1] =

1476 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ac˚ss_ª•__des¸ùt‹
 =

1478 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1483 (
NfsAc˚ssRe•
),

1485 
nfs_ac˚ss_ª•__fõld_des¸ùt‹s
,

1486 
nfs_ac˚ss_ª•__fõld_ödi˚s_by_«me
,

1487 1, 
nfs_ac˚ss_ª•__numbî_ønges
,

1488 (
PrŸobufCMesßgeInô
Ë
nfs_ac˚ss_ª•__öô
,

1489 
NULL
,NULL,NULL

1491 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ªad_ª•__fõld_des¸ùt‹s
[3] =

1496 
PROTOBUF_C_LABEL_REQUIRED
,

1497 
PROTOBUF_C_TYPE_UINT64
,

1499 
PROTOBUF_C_OFFSETOF
(
NfsRódRe•
, 
cou¡
),

1500 
NULL
,

1501 
NULL
,

1503 0,
NULL
,NULL

1508 
PROTOBUF_C_LABEL_REQUIRED
,

1509 
PROTOBUF_C_TYPE_INT32
,

1511 
PROTOBUF_C_OFFSETOF
(
NfsRódRe•
, 
eof
),

1512 
NULL
,

1513 
NULL
,

1515 0,
NULL
,NULL

1520 
PROTOBUF_C_LABEL_REQUIRED
,

1521 
PROTOBUF_C_TYPE_MESSAGE
,

1523 
PROTOBUF_C_OFFSETOF
(
NfsRódRe•
, 
d©a
),

1524 &
nfs_d©a__des¸ùt‹
,

1525 
NULL
,

1527 0,
NULL
,NULL

1530 c⁄° 
	gnfs_ªad_ª•__fõld_ödi˚s_by_«me
[] = {

1535 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ªad_ª•__numbî_ønges
[1 + 1] =

1540 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ªad_ª•__des¸ùt‹
 =

1542 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1547 (
NfsRódRe•
),

1549 
nfs_ªad_ª•__fõld_des¸ùt‹s
,

1550 
nfs_ªad_ª•__fõld_ödi˚s_by_«me
,

1551 1, 
nfs_ªad_ª•__numbî_ønges
,

1552 (
PrŸobufCMesßgeInô
Ë
nfs_ªad_ª•__öô
,

1553 
NULL
,NULL,NULL

1555 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_wrôe_ª•__fõld_des¸ùt‹s
[2] =

1560 
PROTOBUF_C_LABEL_REQUIRED
,

1561 
PROTOBUF_C_TYPE_UINT32
,

1563 
PROTOBUF_C_OFFSETOF
(
NfsWrôeRe•
, 
fûe_wrôe_ok
),

1564 
NULL
,

1565 
NULL
,

1567 0,
NULL
,NULL

1572 
PROTOBUF_C_LABEL_REQUIRED
,

1573 
PROTOBUF_C_TYPE_UINT32
,

1575 
PROTOBUF_C_OFFSETOF
(
NfsWrôeRe•
, 
fûe_wc
),

1576 
NULL
,

1577 
NULL
,

1579 0,
NULL
,NULL

1582 c⁄° 
	gnfs_wrôe_ª•__fõld_ödi˚s_by_«me
[] = {

1586 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_wrôe_ª•__numbî_ønges
[1 + 1] =

1591 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_wrôe_ª•__des¸ùt‹
 =

1593 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1598 (
NfsWrôeRe•
),

1600 
nfs_wrôe_ª•__fõld_des¸ùt‹s
,

1601 
nfs_wrôe_ª•__fõld_ödi˚s_by_«me
,

1602 1, 
nfs_wrôe_ª•__numbî_ønges
,

1603 (
PrŸobufCMesßgeInô
Ë
nfs_wrôe_ª•__öô
,

1604 
NULL
,NULL,NULL

1606 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_¸óã_ª•__fõld_des¸ùt‹s
[2] =

1611 
PROTOBUF_C_LABEL_REQUIRED
,

1612 
PROTOBUF_C_TYPE_UINT32
,

1614 
PROTOBUF_C_OFFSETOF
(
NfsCª©eRe•
, 
fûe_¸óã_ok
),

1615 
NULL
,

1616 
NULL
,

1618 0,
NULL
,NULL

1623 
PROTOBUF_C_LABEL_REQUIRED
,

1624 
PROTOBUF_C_TYPE_UINT32
,

1626 
PROTOBUF_C_OFFSETOF
(
NfsCª©eRe•
, 
fûe_wc
),

1627 
NULL
,

1628 
NULL
,

1630 0,
NULL
,NULL

1633 c⁄° 
	gnfs_¸óã_ª•__fõld_ödi˚s_by_«me
[] = {

1637 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_¸óã_ª•__numbî_ønges
[1 + 1] =

1642 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_¸óã_ª•__des¸ùt‹
 =

1644 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1649 (
NfsCª©eRe•
),

1651 
nfs_¸óã_ª•__fõld_des¸ùt‹s
,

1652 
nfs_¸óã_ª•__fõld_ödi˚s_by_«me
,

1653 1, 
nfs_¸óã_ª•__numbî_ønges
,

1654 (
PrŸobufCMesßgeInô
Ë
nfs_¸óã_ª•__öô
,

1655 
NULL
,NULL,NULL

1657 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ªmove_ª•__fõld_des¸ùt‹s
[1] =

1662 
PROTOBUF_C_LABEL_REQUIRED
,

1663 
PROTOBUF_C_TYPE_UINT32
,

1665 
PROTOBUF_C_OFFSETOF
(
NfsRemoveRe•
, 
fûe_ªmove_ok
),

1666 
NULL
,

1667 
NULL
,

1669 0,
NULL
,NULL

1672 c⁄° 
	gnfs_ªmove_ª•__fõld_ödi˚s_by_«me
[] = {

1675 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ªmove_ª•__numbî_ønges
[1 + 1] =

1680 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ªmove_ª•__des¸ùt‹
 =

1682 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1687 (
NfsRemoveRe•
),

1689 
nfs_ªmove_ª•__fõld_des¸ùt‹s
,

1690 
nfs_ªmove_ª•__fõld_ödi˚s_by_«me
,

1691 1, 
nfs_ªmove_ª•__numbî_ønges
,

1692 (
PrŸobufCMesßgeInô
Ë
nfs_ªmove_ª•__öô
,

1693 
NULL
,NULL,NULL

1695 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_ª«me_ª•__fõld_des¸ùt‹s
[1] =

1700 
PROTOBUF_C_LABEL_REQUIRED
,

1701 
PROTOBUF_C_TYPE_UINT32
,

1703 
PROTOBUF_C_OFFSETOF
(
NfsRíameRe•
, 
fûe_ª«me_ok
),

1704 
NULL
,

1705 
NULL
,

1707 0,
NULL
,NULL

1710 c⁄° 
	gnfs_ª«me_ª•__fõld_ödi˚s_by_«me
[] = {

1713 c⁄° 
PrŸobufCI¡R™ge
 
	gnfs_ª«me_ª•__numbî_ønges
[1 + 1] =

1718 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_ª«me_ª•__des¸ùt‹
 =

1720 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1725 (
NfsRíameRe•
),

1727 
nfs_ª«me_ª•__fõld_des¸ùt‹s
,

1728 
nfs_ª«me_ª•__fõld_ödi˚s_by_«me
,

1729 1, 
nfs_ª«me_ª•__numbî_ønges
,

1730 (
PrŸobufCMesßgeInô
Ë
nfs_ª«me_ª•__öô
,

1731 
NULL
,NULL,NULL

1733 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_fs°©_ª•__fõld_des¸ùt‹s
[0] =

1736 c⁄° 
	gnfs_fs°©_ª•__fõld_ödi˚s_by_«me
[] = {

1738 
	#nfs_fs°©_ª•__numbî_ønges
 
NULL


	)

1739 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_fs°©_ª•__des¸ùt‹
 =

1741 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1746 (
NfsFs°©Re•
),

1748 
nfs_fs°©_ª•__fõld_des¸ùt‹s
,

1749 
nfs_fs°©_ª•__fõld_ödi˚s_by_«me
,

1750 0, 
nfs_fs°©_ª•__numbî_ønges
,

1751 (
PrŸobufCMesßgeInô
Ë
nfs_fs°©_ª•__öô
,

1752 
NULL
,NULL,NULL

1754 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_fsöfo_ª•__fõld_des¸ùt‹s
[0] =

1757 c⁄° 
	gnfs_fsöfo_ª•__fõld_ödi˚s_by_«me
[] = {

1759 
	#nfs_fsöfo_ª•__numbî_ønges
 
NULL


	)

1760 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_fsöfo_ª•__des¸ùt‹
 =

1762 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1767 (
NfsFsöfoRe•
),

1769 
nfs_fsöfo_ª•__fõld_des¸ùt‹s
,

1770 
nfs_fsöfo_ª•__fõld_ödi˚s_by_«me
,

1771 0, 
nfs_fsöfo_ª•__numbî_ønges
,

1772 (
PrŸobufCMesßgeInô
Ë
nfs_fsöfo_ª•__öô
,

1773 
NULL
,NULL,NULL

1775 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_∑thc⁄f_ª•__fõld_des¸ùt‹s
[0] =

1778 c⁄° 
	gnfs_∑thc⁄f_ª•__fõld_ödi˚s_by_«me
[] = {

1780 
	#nfs_∑thc⁄f_ª•__numbî_ønges
 
NULL


	)

1781 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_∑thc⁄f_ª•__des¸ùt‹
 =

1783 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1788 (
NfsP©hc⁄fRe•
),

1790 
nfs_∑thc⁄f_ª•__fõld_des¸ùt‹s
,

1791 
nfs_∑thc⁄f_ª•__fõld_ödi˚s_by_«me
,

1792 0, 
nfs_∑thc⁄f_ª•__numbî_ønges
,

1793 (
PrŸobufCMesßgeInô
Ë
nfs_∑thc⁄f_ª•__öô
,

1794 
NULL
,NULL,NULL

1796 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gnfs_commô_ª•__fõld_des¸ùt‹s
[0] =

1799 c⁄° 
	gnfs_commô_ª•__fõld_ödi˚s_by_«me
[] = {

1801 
	#nfs_commô_ª•__numbî_ønges
 
NULL


	)

1802 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gnfs_commô_ª•__des¸ùt‹
 =

1804 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1809 (
NfsCommôRe•
),

1811 
nfs_commô_ª•__fõld_des¸ùt‹s
,

1812 
nfs_commô_ª•__fõld_ödi˚s_by_«me
,

1813 0, 
nfs_commô_ª•__numbî_ønges
,

1814 (
PrŸobufCMesßgeInô
Ë
nfs_commô_ª•__öô
,

1815 
NULL
,NULL,NULL

1817 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gs°ack_nfs_ªsu…_°ru˘__fõld_des¸ùt‹s
[11] =

1822 
PROTOBUF_C_LABEL_OPTIONAL
,

1823 
PROTOBUF_C_TYPE_MESSAGE
,

1825 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
lookup_ª•
),

1826 &
nfs_lookup_ª•__des¸ùt‹
,

1827 
NULL
,

1829 0,
NULL
,NULL

1834 
PROTOBUF_C_LABEL_OPTIONAL
,

1835 
PROTOBUF_C_TYPE_MESSAGE
,

1837 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
ac˚ss_ª•
),

1838 &
nfs_ac˚ss_ª•__des¸ùt‹
,

1839 
NULL
,

1841 0,
NULL
,NULL

1846 
PROTOBUF_C_LABEL_OPTIONAL
,

1847 
PROTOBUF_C_TYPE_MESSAGE
,

1849 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
ªad_ª•
),

1850 &
nfs_ªad_ª•__des¸ùt‹
,

1851 
NULL
,

1853 0,
NULL
,NULL

1858 
PROTOBUF_C_LABEL_OPTIONAL
,

1859 
PROTOBUF_C_TYPE_MESSAGE
,

1861 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
wrôe_ª•
),

1862 &
nfs_wrôe_ª•__des¸ùt‹
,

1863 
NULL
,

1865 0,
NULL
,NULL

1870 
PROTOBUF_C_LABEL_OPTIONAL
,

1871 
PROTOBUF_C_TYPE_MESSAGE
,

1873 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
¸óã_ª•
),

1874 &
nfs_¸óã_ª•__des¸ùt‹
,

1875 
NULL
,

1877 0,
NULL
,NULL

1882 
PROTOBUF_C_LABEL_OPTIONAL
,

1883 
PROTOBUF_C_TYPE_MESSAGE
,

1885 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
ªmove_ª•
),

1886 &
nfs_ªmove_ª•__des¸ùt‹
,

1887 
NULL
,

1889 0,
NULL
,NULL

1894 
PROTOBUF_C_LABEL_OPTIONAL
,

1895 
PROTOBUF_C_TYPE_MESSAGE
,

1897 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
ª«me_ª•
),

1898 &
nfs_ª«me_ª•__des¸ùt‹
,

1899 
NULL
,

1901 0,
NULL
,NULL

1906 
PROTOBUF_C_LABEL_OPTIONAL
,

1907 
PROTOBUF_C_TYPE_MESSAGE
,

1909 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
fs°©_ª•
),

1910 &
nfs_fs°©_ª•__des¸ùt‹
,

1911 
NULL
,

1913 0,
NULL
,NULL

1918 
PROTOBUF_C_LABEL_OPTIONAL
,

1919 
PROTOBUF_C_TYPE_MESSAGE
,

1921 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
fsöfo_ª•
),

1922 &
nfs_fsöfo_ª•__des¸ùt‹
,

1923 
NULL
,

1925 0,
NULL
,NULL

1930 
PROTOBUF_C_LABEL_OPTIONAL
,

1931 
PROTOBUF_C_TYPE_MESSAGE
,

1933 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
∑thc⁄f_ª•
),

1934 &
nfs_∑thc⁄f_ª•__des¸ùt‹
,

1935 
NULL
,

1937 0,
NULL
,NULL

1942 
PROTOBUF_C_LABEL_OPTIONAL
,

1943 
PROTOBUF_C_TYPE_MESSAGE
,

1945 
PROTOBUF_C_OFFSETOF
(
S°ackNfsResu…Såu˘
, 
commô_ª•
),

1946 &
nfs_commô_ª•__des¸ùt‹
,

1947 
NULL
,

1949 0,
NULL
,NULL

1952 c⁄° 
	gs°ack_nfs_ªsu…_°ru˘__fõld_ödi˚s_by_«me
[] = {

1965 c⁄° 
PrŸobufCI¡R™ge
 
	gs°ack_nfs_ªsu…_°ru˘__numbî_ønges
[1 + 1] =

1970 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gs°ack_nfs_ªsu…_°ru˘__des¸ùt‹
 =

1972 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

1977 (
S°ackNfsResu…Såu˘
),

1979 
s°ack_nfs_ªsu…_°ru˘__fõld_des¸ùt‹s
,

1980 
s°ack_nfs_ªsu…_°ru˘__fõld_ödi˚s_by_«me
,

1981 1, 
s°ack_nfs_ªsu…_°ru˘__numbî_ønges
,

1982 (
PrŸobufCMesßgeInô
Ë
s°ack_nfs_ªsu…_°ru˘__öô
,

1983 
NULL
,NULL,NULL

1985 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gs°ack_∑ylﬂd_hdr_t__fõld_des¸ùt‹s
[2] =

1990 
PROTOBUF_C_LABEL_REQUIRED
,

1991 
PROTOBUF_C_TYPE_UINT32
,

1993 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdHdrT
, 
£quí˚
),

1994 
NULL
,

1995 
NULL
,

1997 0,
NULL
,NULL

2002 
PROTOBUF_C_LABEL_REQUIRED
,

2003 
PROTOBUF_C_TYPE_UINT32
,

2005 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdHdrT
, 
∑ylﬂd_Àn
),

2006 
NULL
,

2007 
NULL
,

2009 0,
NULL
,NULL

2012 c⁄° 
	gs°ack_∑ylﬂd_hdr_t__fõld_ödi˚s_by_«me
[] = {

2016 c⁄° 
PrŸobufCI¡R™ge
 
	gs°ack_∑ylﬂd_hdr_t__numbî_ønges
[1 + 1] =

2021 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gs°ack_∑ylﬂd_hdr_t__des¸ùt‹
 =

2023 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

2028 (
S°ackPaylﬂdHdrT
),

2030 
s°ack_∑ylﬂd_hdr_t__fõld_des¸ùt‹s
,

2031 
s°ack_∑ylﬂd_hdr_t__fõld_ödi˚s_by_«me
,

2032 1, 
s°ack_∑ylﬂd_hdr_t__numbî_ønges
,

2033 (
PrŸobufCMesßgeInô
Ë
s°ack_∑ylﬂd_hdr_t__öô
,

2034 
NULL
,NULL,NULL

2036 c⁄° 
PrŸobufCEnumVÆue
 
	gs°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__íum_vÆues_by_numbî
[21] =

2060 c⁄° 
PrŸobufCI¡R™ge
 
	gs°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__vÆue_ønges
[] = {

2063 c⁄° 
PrŸobufCEnumVÆueIndex
 
	gs°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__íum_vÆues_by_«me
[22] =

2088 c⁄° 
PrŸobufCEnumDes¸ùt‹
 
	gs°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__des¸ùt‹
 =

2090 
PROTOBUF_C_ENUM_DESCRIPTOR_MAGIC
,

2096 
s°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__íum_vÆues_by_numbî
,

2098 
s°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__íum_vÆues_by_«me
,

2100 
s°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__vÆue_ønges
,

2101 
NULL
,NULL,NULL,NULL

2103 c⁄° 
PrŸobufCFõldDes¸ùt‹
 
	gs°ack_∑ylﬂd_t__fõld_des¸ùt‹s
[4] =

2108 
PROTOBUF_C_LABEL_REQUIRED
,

2109 
PROTOBUF_C_TYPE_MESSAGE
,

2111 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdT
, 
hdr
),

2112 &
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
,

2113 
NULL
,

2115 0,
NULL
,NULL

2120 
PROTOBUF_C_LABEL_REQUIRED
,

2121 
PROTOBUF_C_TYPE_ENUM
,

2123 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdT
, 
comm™d
),

2124 &
s°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__des¸ùt‹
,

2125 
NULL
,

2127 0,
NULL
,NULL

2132 
PROTOBUF_C_LABEL_OPTIONAL
,

2133 
PROTOBUF_C_TYPE_MESSAGE
,

2135 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdT
, 
comm™d_°ru˘
),

2136 &
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
,

2137 
NULL
,

2139 0,
NULL
,NULL

2144 
PROTOBUF_C_LABEL_OPTIONAL
,

2145 
PROTOBUF_C_TYPE_MESSAGE
,

2147 
PROTOBUF_C_OFFSETOF
(
S°ackPaylﬂdT
, 
ªsu…_°ru˘
),

2148 &
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
,

2149 
NULL
,

2151 0,
NULL
,NULL

2154 c⁄° 
	gs°ack_∑ylﬂd_t__fõld_ödi˚s_by_«me
[] = {

2160 c⁄° 
PrŸobufCI¡R™ge
 
	gs°ack_∑ylﬂd_t__numbî_ønges
[1 + 1] =

2165 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
	gs°ack_∑ylﬂd_t__des¸ùt‹
 =

2167 
PROTOBUF_C_MESSAGE_DESCRIPTOR_MAGIC
,

2172 (
S°ackPaylﬂdT
),

2174 
s°ack_∑ylﬂd_t__fõld_des¸ùt‹s
,

2175 
s°ack_∑ylﬂd_t__fõld_ödi˚s_by_«me
,

2176 1, 
s°ack_∑ylﬂd_t__numbî_ønges
,

2177 (
PrŸobufCMesßgeInô
Ë
s°ack_∑ylﬂd_t__öô
,

2178 
NULL
,NULL,NULL

	@protobuf-template/jobs.pb-c.h

3 #i‚de‡
PROTOBUF_C_jobs_2ïrŸo__INCLUDED


4 
	#PROTOBUF_C_jobs_2ïrŸo__INCLUDED


	)

6 
	~<googÀ/¥Ÿobuf-c/¥Ÿobuf-c.h
>

8 
PROTOBUF_C_BEGIN_DECLS


11 
_NfsRódCmd
 
	tNfsRódCmd
;

12 
_NfsD©a
 
	tNfsD©a
;

13 
_NfsWrôeCmd
 
	tNfsWrôeCmd
;

14 
_NfsCª©eCmd
 
	tNfsCª©eCmd
;

15 
_NfsAc˚ssCmd
 
	tNfsAc˚ssCmd
;

16 
_NfsRíameCmd
 
	tNfsRíameCmd
;

17 
_NfsCommôCmd
 
	tNfsCommôCmd
;

18 
_S°ackNfsComm™dSåu˘
 
	tS°ackNfsComm™dSåu˘
;

19 
_NfsLookupRe•
 
	tNfsLookupRe•
;

20 
_NfsAc˚ssRe•
 
	tNfsAc˚ssRe•
;

21 
_NfsRódRe•
 
	tNfsRódRe•
;

22 
_NfsWrôeRe•
 
	tNfsWrôeRe•
;

23 
_NfsCª©eRe•
 
	tNfsCª©eRe•
;

24 
_NfsRemoveRe•
 
	tNfsRemoveRe•
;

25 
_NfsRíameRe•
 
	tNfsRíameRe•
;

26 
_NfsFs°©Re•
 
	tNfsFs°©Re•
;

27 
_NfsFsöfoRe•
 
	tNfsFsöfoRe•
;

28 
_NfsP©hc⁄fRe•
 
	tNfsP©hc⁄fRe•
;

29 
_NfsCommôRe•
 
	tNfsCommôRe•
;

30 
_S°ackNfsResu…Såu˘
 
	tS°ackNfsResu…Såu˘
;

31 
_S°ackPaylﬂdHdrT
 
	tS°ackPaylﬂdHdrT
;

32 
_S°ackPaylﬂdT
 
	tS°ackPaylﬂdT
;

37 
	e_S°ackPaylﬂdT__S°ackNfsComm™dT
 {

38 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_GETATTR
 = 1,

39 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_SETATTR
 = 2,

40 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_LOOKUP
 = 3,

41 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_ACCESS
 = 4,

42 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_READLINK
 = 5,

43 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_READ
 = 6,

44 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_WRITE
 = 7,

45 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_CREATE
 = 8,

46 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_MKDIR
 = 9,

47 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_SYMLINK
 = 10,

48 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_MKNOD
 = 11,

49 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_REMOVE
 = 12,

50 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_RMDIR
 = 13,

51 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_RENAME
 = 14,

52 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_LINK
 = 15,

53 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_READDIR
 = 16,

54 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_READDIRPLUS
 = 17,

55 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_FSSTAT
 = 18,

56 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_FSINFO
 = 19,

57 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_PATHCONF
 = 20,

58 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_COMMIT
 = 21,

59 
	mSSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_VALID_MAX
 = 21

60 } 
	tS°ackPaylﬂdT__S°ackNfsComm™dT
;

64 
	s_NfsRódCmd


66 
PrŸobufCMesßge
 
	mba£
;

67 
uöt64_t
 
	moff£t
;

68 
uöt64_t
 
	mcou¡
;

69 
NfsD©a
 *
	md©a
;

71 
	#NFS_READ_CMD__INIT
 \

72 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ªad_cmd__des¸ùt‹
) \

73 , 0, 0, 
NULL
 }

	)

76 
	s_NfsD©a


78 
PrŸobufCMesßge
 
	mba£
;

79 
uöt64_t
 
	md©a_Àn
;

80 
PrŸobufCBö¨yD©a
 
	md©a_vÆ
;

82 
	#NFS_DATA__INIT
 \

83 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_d©a__des¸ùt‹
) \

84 , 0, {0,
NULL
} }

	)

87 
	s_NfsWrôeCmd


89 
PrŸobufCMesßge
 
	mba£
;

90 
uöt64_t
 
	moff£t
;

91 
uöt64_t
 
	mcou¡
;

92 
NfsD©a
 *
	md©a
;

94 
	#NFS_WRITE_CMD__INIT
 \

95 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_wrôe_cmd__des¸ùt‹
) \

96 , 0, 0, 
NULL
 }

	)

99 
	s_NfsCª©eCmd


101 
PrŸobufCMesßge
 
	mba£
;

102 
uöt32_t
 
	mmode
;

103 
NfsD©a
 *
	md©a
;

105 
	#NFS_CREATE_CMD__INIT
 \

106 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_¸óã_cmd__des¸ùt‹
) \

107 , 0, 
NULL
 }

	)

110 
	s_NfsAc˚ssCmd


112 
PrŸobufCMesßge
 
	mba£
;

113 
uöt32_t
 
	mmode
;

115 
	#NFS_ACCESS_CMD__INIT
 \

116 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ac˚ss_cmd__des¸ùt‹
) \

117 , 0 }

	)

120 
	s_NfsRíameCmd


122 
PrŸobufCMesßge
 
	mba£
;

123 
PrŸobufCBö¨yD©a
 
	m√w_∑th
;

125 
	#NFS_RENAME_CMD__INIT
 \

126 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ª«me_cmd__des¸ùt‹
) \

127 , {0,
NULL
} }

	)

130 
	s_NfsCommôCmd


132 
PrŸobufCMesßge
 
	mba£
;

133 
uöt64_t
 
	moff£t
;

134 
uöt64_t
 
	mcou¡
;

136 
	#NFS_COMMIT_CMD__INIT
 \

137 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_commô_cmd__des¸ùt‹
) \

138 , 0, 0 }

	)

141 
	s_S°ackNfsComm™dSåu˘


143 
PrŸobufCMesßge
 
	mba£
;

144 
NfsRódCmd
 *
	mªad_cmd
;

145 
NfsWrôeCmd
 *
	mwrôe_cmd
;

146 
NfsCª©eCmd
 *
	m¸óã_cmd
;

147 
NfsAc˚ssCmd
 *
	mac˚ss_cmd
;

148 
NfsRíameCmd
 *
	mª«me_cmd
;

149 
NfsCommôCmd
 *
	mcommô_cmd
;

151 
	#SSTACK_NFS_COMMAND_STRUCT__INIT
 \

152 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
) \

153 , 
NULL
, NULL, NULL, NULL, NULL, NULL }

	)

156 
	s_NfsLookupRe•


158 
PrŸobufCMesßge
 
	mba£
;

159 
PrŸobufCBö¨yD©a
 
	mlookup_∑th
;

161 
	#NFS_LOOKUP_RESP__INIT
 \

162 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_lookup_ª•__des¸ùt‹
) \

163 , {0,
NULL
} }

	)

166 
	s_NfsAc˚ssRe•


168 
PrŸobufCMesßge
 
	mba£
;

169 
uöt32_t
 
	mac˚ss
;

171 
	#NFS_ACCESS_RESP__INIT
 \

172 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ac˚ss_ª•__des¸ùt‹
) \

173 , 0 }

	)

176 
	s_NfsRódRe•


178 
PrŸobufCMesßge
 
	mba£
;

179 
uöt64_t
 
	mcou¡
;

180 
öt32_t
 
	meof
;

181 
NfsD©a
 *
	md©a
;

183 
	#NFS_READ_RESP__INIT
 \

184 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ªad_ª•__des¸ùt‹
) \

185 , 0, 0, 
NULL
 }

	)

188 
	s_NfsWrôeRe•


190 
PrŸobufCMesßge
 
	mba£
;

191 
uöt32_t
 
	mfûe_wrôe_ok
;

192 
uöt32_t
 
	mfûe_wc
;

194 
	#NFS_WRITE_RESP__INIT
 \

195 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_wrôe_ª•__des¸ùt‹
) \

196 , 0, 0 }

	)

199 
	s_NfsCª©eRe•


201 
PrŸobufCMesßge
 
	mba£
;

202 
uöt32_t
 
	mfûe_¸óã_ok
;

203 
uöt32_t
 
	mfûe_wc
;

205 
	#NFS_CREATE_RESP__INIT
 \

206 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_¸óã_ª•__des¸ùt‹
) \

207 , 0, 0 }

	)

210 
	s_NfsRemoveRe•


212 
PrŸobufCMesßge
 
	mba£
;

213 
uöt32_t
 
	mfûe_ªmove_ok
;

215 
	#NFS_REMOVE_RESP__INIT
 \

216 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ªmove_ª•__des¸ùt‹
) \

217 , 0 }

	)

220 
	s_NfsRíameRe•


222 
PrŸobufCMesßge
 
	mba£
;

223 
uöt32_t
 
	mfûe_ª«me_ok
;

225 
	#NFS_RENAME_RESP__INIT
 \

226 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_ª«me_ª•__des¸ùt‹
) \

227 , 0 }

	)

230 
	s_NfsFs°©Re•


232 
PrŸobufCMesßge
 
	mba£
;

234 
	#NFS_FSSTAT_RESP__INIT
 \

235 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_fs°©_ª•__des¸ùt‹
) \

236 }

	)

239 
	s_NfsFsöfoRe•


241 
PrŸobufCMesßge
 
	mba£
;

243 
	#NFS_FSINFO_RESP__INIT
 \

244 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_fsöfo_ª•__des¸ùt‹
) \

245 }

	)

248 
	s_NfsP©hc⁄fRe•


250 
PrŸobufCMesßge
 
	mba£
;

252 
	#NFS_PATHCONF_RESP__INIT
 \

253 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_∑thc⁄f_ª•__des¸ùt‹
) \

254 }

	)

257 
	s_NfsCommôRe•


259 
PrŸobufCMesßge
 
	mba£
;

261 
	#NFS_COMMIT_RESP__INIT
 \

262 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
nfs_commô_ª•__des¸ùt‹
) \

263 }

	)

266 
	s_S°ackNfsResu…Såu˘


268 
PrŸobufCMesßge
 
	mba£
;

269 
NfsLookupRe•
 *
	mlookup_ª•
;

270 
NfsAc˚ssRe•
 *
	mac˚ss_ª•
;

271 
NfsRódRe•
 *
	mªad_ª•
;

272 
NfsWrôeRe•
 *
	mwrôe_ª•
;

273 
NfsCª©eRe•
 *
	m¸óã_ª•
;

274 
NfsRemoveRe•
 *
	mªmove_ª•
;

275 
NfsRíameRe•
 *
	mª«me_ª•
;

276 
NfsFs°©Re•
 *
	mfs°©_ª•
;

277 
NfsFsöfoRe•
 *
	mfsöfo_ª•
;

278 
NfsP©hc⁄fRe•
 *
	m∑thc⁄f_ª•
;

279 
NfsCommôRe•
 *
	mcommô_ª•
;

281 
	#SSTACK_NFS_RESULT_STRUCT__INIT
 \

282 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
) \

283 , 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL }

	)

286 
	s_S°ackPaylﬂdHdrT


288 
PrŸobufCMesßge
 
	mba£
;

289 
uöt32_t
 
	m£quí˚
;

290 
uöt32_t
 
	m∑ylﬂd_Àn
;

292 
	#SSTACK_PAYLOAD_HDR_T__INIT
 \

293 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
) \

294 , 0, 0 }

	)

297 
	s_S°ackPaylﬂdT


299 
PrŸobufCMesßge
 
	mba£
;

300 
S°ackPaylﬂdHdrT
 *
	mhdr
;

301 
S°ackPaylﬂdT__S°ackNfsComm™dT
 
	mcomm™d
;

302 
S°ackNfsComm™dSåu˘
 *
	mcomm™d_°ru˘
;

303 
S°ackNfsResu…Såu˘
 *
	mªsu…_°ru˘
;

305 
	#SSTACK_PAYLOAD_T__INIT
 \

306 { 
	`PROTOBUF_C_MESSAGE_INIT
 (&
s°ack_∑ylﬂd_t__des¸ùt‹
) \

307 , 
NULL
, 0, NULL, NULL }

	)

311 
	gnfs_ªad_cmd__öô


312 (
NfsRódCmd
 *
	gmesßge
);

313 
size_t
 
	gnfs_ªad_cmd__gë_∑cked_size


314 (c⁄° 
NfsRódCmd
 *
	gmesßge
);

315 
size_t
 
	gnfs_ªad_cmd__∑ck


316 (c⁄° 
NfsRódCmd
 *
	gmesßge
,

317 
uöt8_t
 *
	gout
);

318 
size_t
 
	gnfs_ªad_cmd__∑ck_to_buf„r


319 (c⁄° 
NfsRódCmd
 *
	gmesßge
,

320 
PrŸobufCBuf„r
 *
	gbuf„r
);

321 
NfsRódCmd
 *

322 
	gnfs_ªad_cmd__u≈ack


323 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

324 
size_t
 
	gÀn
,

325 c⁄° 
uöt8_t
 *
	gd©a
);

326 
	gnfs_ªad_cmd__‰ì_u≈acked


327 (
NfsRódCmd
 *
	gmesßge
,

328 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

330 
	gnfs_d©a__öô


331 (
NfsD©a
 *
	gmesßge
);

332 
size_t
 
	gnfs_d©a__gë_∑cked_size


333 (c⁄° 
NfsD©a
 *
	gmesßge
);

334 
size_t
 
	gnfs_d©a__∑ck


335 (c⁄° 
NfsD©a
 *
	gmesßge
,

336 
uöt8_t
 *
	gout
);

337 
size_t
 
	gnfs_d©a__∑ck_to_buf„r


338 (c⁄° 
NfsD©a
 *
	gmesßge
,

339 
PrŸobufCBuf„r
 *
	gbuf„r
);

340 
NfsD©a
 *

341 
	gnfs_d©a__u≈ack


342 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

343 
size_t
 
	gÀn
,

344 c⁄° 
uöt8_t
 *
	gd©a
);

345 
	gnfs_d©a__‰ì_u≈acked


346 (
NfsD©a
 *
	gmesßge
,

347 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

349 
	gnfs_wrôe_cmd__öô


350 (
NfsWrôeCmd
 *
	gmesßge
);

351 
size_t
 
	gnfs_wrôe_cmd__gë_∑cked_size


352 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
);

353 
size_t
 
	gnfs_wrôe_cmd__∑ck


354 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
,

355 
uöt8_t
 *
	gout
);

356 
size_t
 
	gnfs_wrôe_cmd__∑ck_to_buf„r


357 (c⁄° 
NfsWrôeCmd
 *
	gmesßge
,

358 
PrŸobufCBuf„r
 *
	gbuf„r
);

359 
NfsWrôeCmd
 *

360 
	gnfs_wrôe_cmd__u≈ack


361 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

362 
size_t
 
	gÀn
,

363 c⁄° 
uöt8_t
 *
	gd©a
);

364 
	gnfs_wrôe_cmd__‰ì_u≈acked


365 (
NfsWrôeCmd
 *
	gmesßge
,

366 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

368 
	gnfs_¸óã_cmd__öô


369 (
NfsCª©eCmd
 *
	gmesßge
);

370 
size_t
 
	gnfs_¸óã_cmd__gë_∑cked_size


371 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
);

372 
size_t
 
	gnfs_¸óã_cmd__∑ck


373 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
,

374 
uöt8_t
 *
	gout
);

375 
size_t
 
	gnfs_¸óã_cmd__∑ck_to_buf„r


376 (c⁄° 
NfsCª©eCmd
 *
	gmesßge
,

377 
PrŸobufCBuf„r
 *
	gbuf„r
);

378 
NfsCª©eCmd
 *

379 
	gnfs_¸óã_cmd__u≈ack


380 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

381 
size_t
 
	gÀn
,

382 c⁄° 
uöt8_t
 *
	gd©a
);

383 
	gnfs_¸óã_cmd__‰ì_u≈acked


384 (
NfsCª©eCmd
 *
	gmesßge
,

385 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

387 
	gnfs_ac˚ss_cmd__öô


388 (
NfsAc˚ssCmd
 *
	gmesßge
);

389 
size_t
 
	gnfs_ac˚ss_cmd__gë_∑cked_size


390 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
);

391 
size_t
 
	gnfs_ac˚ss_cmd__∑ck


392 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
,

393 
uöt8_t
 *
	gout
);

394 
size_t
 
	gnfs_ac˚ss_cmd__∑ck_to_buf„r


395 (c⁄° 
NfsAc˚ssCmd
 *
	gmesßge
,

396 
PrŸobufCBuf„r
 *
	gbuf„r
);

397 
NfsAc˚ssCmd
 *

398 
	gnfs_ac˚ss_cmd__u≈ack


399 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

400 
size_t
 
	gÀn
,

401 c⁄° 
uöt8_t
 *
	gd©a
);

402 
	gnfs_ac˚ss_cmd__‰ì_u≈acked


403 (
NfsAc˚ssCmd
 *
	gmesßge
,

404 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

406 
	gnfs_ª«me_cmd__öô


407 (
NfsRíameCmd
 *
	gmesßge
);

408 
size_t
 
	gnfs_ª«me_cmd__gë_∑cked_size


409 (c⁄° 
NfsRíameCmd
 *
	gmesßge
);

410 
size_t
 
	gnfs_ª«me_cmd__∑ck


411 (c⁄° 
NfsRíameCmd
 *
	gmesßge
,

412 
uöt8_t
 *
	gout
);

413 
size_t
 
	gnfs_ª«me_cmd__∑ck_to_buf„r


414 (c⁄° 
NfsRíameCmd
 *
	gmesßge
,

415 
PrŸobufCBuf„r
 *
	gbuf„r
);

416 
NfsRíameCmd
 *

417 
	gnfs_ª«me_cmd__u≈ack


418 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

419 
size_t
 
	gÀn
,

420 c⁄° 
uöt8_t
 *
	gd©a
);

421 
	gnfs_ª«me_cmd__‰ì_u≈acked


422 (
NfsRíameCmd
 *
	gmesßge
,

423 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

425 
	gnfs_commô_cmd__öô


426 (
NfsCommôCmd
 *
	gmesßge
);

427 
size_t
 
	gnfs_commô_cmd__gë_∑cked_size


428 (c⁄° 
NfsCommôCmd
 *
	gmesßge
);

429 
size_t
 
	gnfs_commô_cmd__∑ck


430 (c⁄° 
NfsCommôCmd
 *
	gmesßge
,

431 
uöt8_t
 *
	gout
);

432 
size_t
 
	gnfs_commô_cmd__∑ck_to_buf„r


433 (c⁄° 
NfsCommôCmd
 *
	gmesßge
,

434 
PrŸobufCBuf„r
 *
	gbuf„r
);

435 
NfsCommôCmd
 *

436 
	gnfs_commô_cmd__u≈ack


437 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

438 
size_t
 
	gÀn
,

439 c⁄° 
uöt8_t
 *
	gd©a
);

440 
	gnfs_commô_cmd__‰ì_u≈acked


441 (
NfsCommôCmd
 *
	gmesßge
,

442 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

444 
	gs°ack_nfs_comm™d_°ru˘__öô


445 (
S°ackNfsComm™dSåu˘
 *
	gmesßge
);

446 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__gë_∑cked_size


447 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
);

448 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__∑ck


449 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

450 
uöt8_t
 *
	gout
);

451 
size_t
 
	gs°ack_nfs_comm™d_°ru˘__∑ck_to_buf„r


452 (c⁄° 
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

453 
PrŸobufCBuf„r
 *
	gbuf„r
);

454 
S°ackNfsComm™dSåu˘
 *

455 
	gs°ack_nfs_comm™d_°ru˘__u≈ack


456 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

457 
size_t
 
	gÀn
,

458 c⁄° 
uöt8_t
 *
	gd©a
);

459 
	gs°ack_nfs_comm™d_°ru˘__‰ì_u≈acked


460 (
S°ackNfsComm™dSåu˘
 *
	gmesßge
,

461 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

463 
	gnfs_lookup_ª•__öô


464 (
NfsLookupRe•
 *
	gmesßge
);

465 
size_t
 
	gnfs_lookup_ª•__gë_∑cked_size


466 (c⁄° 
NfsLookupRe•
 *
	gmesßge
);

467 
size_t
 
	gnfs_lookup_ª•__∑ck


468 (c⁄° 
NfsLookupRe•
 *
	gmesßge
,

469 
uöt8_t
 *
	gout
);

470 
size_t
 
	gnfs_lookup_ª•__∑ck_to_buf„r


471 (c⁄° 
NfsLookupRe•
 *
	gmesßge
,

472 
PrŸobufCBuf„r
 *
	gbuf„r
);

473 
NfsLookupRe•
 *

474 
	gnfs_lookup_ª•__u≈ack


475 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

476 
size_t
 
	gÀn
,

477 c⁄° 
uöt8_t
 *
	gd©a
);

478 
	gnfs_lookup_ª•__‰ì_u≈acked


479 (
NfsLookupRe•
 *
	gmesßge
,

480 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

482 
	gnfs_ac˚ss_ª•__öô


483 (
NfsAc˚ssRe•
 *
	gmesßge
);

484 
size_t
 
	gnfs_ac˚ss_ª•__gë_∑cked_size


485 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
);

486 
size_t
 
	gnfs_ac˚ss_ª•__∑ck


487 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
,

488 
uöt8_t
 *
	gout
);

489 
size_t
 
	gnfs_ac˚ss_ª•__∑ck_to_buf„r


490 (c⁄° 
NfsAc˚ssRe•
 *
	gmesßge
,

491 
PrŸobufCBuf„r
 *
	gbuf„r
);

492 
NfsAc˚ssRe•
 *

493 
	gnfs_ac˚ss_ª•__u≈ack


494 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

495 
size_t
 
	gÀn
,

496 c⁄° 
uöt8_t
 *
	gd©a
);

497 
	gnfs_ac˚ss_ª•__‰ì_u≈acked


498 (
NfsAc˚ssRe•
 *
	gmesßge
,

499 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

501 
	gnfs_ªad_ª•__öô


502 (
NfsRódRe•
 *
	gmesßge
);

503 
size_t
 
	gnfs_ªad_ª•__gë_∑cked_size


504 (c⁄° 
NfsRódRe•
 *
	gmesßge
);

505 
size_t
 
	gnfs_ªad_ª•__∑ck


506 (c⁄° 
NfsRódRe•
 *
	gmesßge
,

507 
uöt8_t
 *
	gout
);

508 
size_t
 
	gnfs_ªad_ª•__∑ck_to_buf„r


509 (c⁄° 
NfsRódRe•
 *
	gmesßge
,

510 
PrŸobufCBuf„r
 *
	gbuf„r
);

511 
NfsRódRe•
 *

512 
	gnfs_ªad_ª•__u≈ack


513 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

514 
size_t
 
	gÀn
,

515 c⁄° 
uöt8_t
 *
	gd©a
);

516 
	gnfs_ªad_ª•__‰ì_u≈acked


517 (
NfsRódRe•
 *
	gmesßge
,

518 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

520 
	gnfs_wrôe_ª•__öô


521 (
NfsWrôeRe•
 *
	gmesßge
);

522 
size_t
 
	gnfs_wrôe_ª•__gë_∑cked_size


523 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
);

524 
size_t
 
	gnfs_wrôe_ª•__∑ck


525 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
,

526 
uöt8_t
 *
	gout
);

527 
size_t
 
	gnfs_wrôe_ª•__∑ck_to_buf„r


528 (c⁄° 
NfsWrôeRe•
 *
	gmesßge
,

529 
PrŸobufCBuf„r
 *
	gbuf„r
);

530 
NfsWrôeRe•
 *

531 
	gnfs_wrôe_ª•__u≈ack


532 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

533 
size_t
 
	gÀn
,

534 c⁄° 
uöt8_t
 *
	gd©a
);

535 
	gnfs_wrôe_ª•__‰ì_u≈acked


536 (
NfsWrôeRe•
 *
	gmesßge
,

537 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

539 
	gnfs_¸óã_ª•__öô


540 (
NfsCª©eRe•
 *
	gmesßge
);

541 
size_t
 
	gnfs_¸óã_ª•__gë_∑cked_size


542 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
);

543 
size_t
 
	gnfs_¸óã_ª•__∑ck


544 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
,

545 
uöt8_t
 *
	gout
);

546 
size_t
 
	gnfs_¸óã_ª•__∑ck_to_buf„r


547 (c⁄° 
NfsCª©eRe•
 *
	gmesßge
,

548 
PrŸobufCBuf„r
 *
	gbuf„r
);

549 
NfsCª©eRe•
 *

550 
	gnfs_¸óã_ª•__u≈ack


551 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

552 
size_t
 
	gÀn
,

553 c⁄° 
uöt8_t
 *
	gd©a
);

554 
	gnfs_¸óã_ª•__‰ì_u≈acked


555 (
NfsCª©eRe•
 *
	gmesßge
,

556 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

558 
	gnfs_ªmove_ª•__öô


559 (
NfsRemoveRe•
 *
	gmesßge
);

560 
size_t
 
	gnfs_ªmove_ª•__gë_∑cked_size


561 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
);

562 
size_t
 
	gnfs_ªmove_ª•__∑ck


563 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
,

564 
uöt8_t
 *
	gout
);

565 
size_t
 
	gnfs_ªmove_ª•__∑ck_to_buf„r


566 (c⁄° 
NfsRemoveRe•
 *
	gmesßge
,

567 
PrŸobufCBuf„r
 *
	gbuf„r
);

568 
NfsRemoveRe•
 *

569 
	gnfs_ªmove_ª•__u≈ack


570 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

571 
size_t
 
	gÀn
,

572 c⁄° 
uöt8_t
 *
	gd©a
);

573 
	gnfs_ªmove_ª•__‰ì_u≈acked


574 (
NfsRemoveRe•
 *
	gmesßge
,

575 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

577 
	gnfs_ª«me_ª•__öô


578 (
NfsRíameRe•
 *
	gmesßge
);

579 
size_t
 
	gnfs_ª«me_ª•__gë_∑cked_size


580 (c⁄° 
NfsRíameRe•
 *
	gmesßge
);

581 
size_t
 
	gnfs_ª«me_ª•__∑ck


582 (c⁄° 
NfsRíameRe•
 *
	gmesßge
,

583 
uöt8_t
 *
	gout
);

584 
size_t
 
	gnfs_ª«me_ª•__∑ck_to_buf„r


585 (c⁄° 
NfsRíameRe•
 *
	gmesßge
,

586 
PrŸobufCBuf„r
 *
	gbuf„r
);

587 
NfsRíameRe•
 *

588 
	gnfs_ª«me_ª•__u≈ack


589 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

590 
size_t
 
	gÀn
,

591 c⁄° 
uöt8_t
 *
	gd©a
);

592 
	gnfs_ª«me_ª•__‰ì_u≈acked


593 (
NfsRíameRe•
 *
	gmesßge
,

594 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

596 
	gnfs_fs°©_ª•__öô


597 (
NfsFs°©Re•
 *
	gmesßge
);

598 
size_t
 
	gnfs_fs°©_ª•__gë_∑cked_size


599 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
);

600 
size_t
 
	gnfs_fs°©_ª•__∑ck


601 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
,

602 
uöt8_t
 *
	gout
);

603 
size_t
 
	gnfs_fs°©_ª•__∑ck_to_buf„r


604 (c⁄° 
NfsFs°©Re•
 *
	gmesßge
,

605 
PrŸobufCBuf„r
 *
	gbuf„r
);

606 
NfsFs°©Re•
 *

607 
	gnfs_fs°©_ª•__u≈ack


608 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

609 
size_t
 
	gÀn
,

610 c⁄° 
uöt8_t
 *
	gd©a
);

611 
	gnfs_fs°©_ª•__‰ì_u≈acked


612 (
NfsFs°©Re•
 *
	gmesßge
,

613 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

615 
	gnfs_fsöfo_ª•__öô


616 (
NfsFsöfoRe•
 *
	gmesßge
);

617 
size_t
 
	gnfs_fsöfo_ª•__gë_∑cked_size


618 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
);

619 
size_t
 
	gnfs_fsöfo_ª•__∑ck


620 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
,

621 
uöt8_t
 *
	gout
);

622 
size_t
 
	gnfs_fsöfo_ª•__∑ck_to_buf„r


623 (c⁄° 
NfsFsöfoRe•
 *
	gmesßge
,

624 
PrŸobufCBuf„r
 *
	gbuf„r
);

625 
NfsFsöfoRe•
 *

626 
	gnfs_fsöfo_ª•__u≈ack


627 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

628 
size_t
 
	gÀn
,

629 c⁄° 
uöt8_t
 *
	gd©a
);

630 
	gnfs_fsöfo_ª•__‰ì_u≈acked


631 (
NfsFsöfoRe•
 *
	gmesßge
,

632 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

634 
	gnfs_∑thc⁄f_ª•__öô


635 (
NfsP©hc⁄fRe•
 *
	gmesßge
);

636 
size_t
 
	gnfs_∑thc⁄f_ª•__gë_∑cked_size


637 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
);

638 
size_t
 
	gnfs_∑thc⁄f_ª•__∑ck


639 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
,

640 
uöt8_t
 *
	gout
);

641 
size_t
 
	gnfs_∑thc⁄f_ª•__∑ck_to_buf„r


642 (c⁄° 
NfsP©hc⁄fRe•
 *
	gmesßge
,

643 
PrŸobufCBuf„r
 *
	gbuf„r
);

644 
NfsP©hc⁄fRe•
 *

645 
	gnfs_∑thc⁄f_ª•__u≈ack


646 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

647 
size_t
 
	gÀn
,

648 c⁄° 
uöt8_t
 *
	gd©a
);

649 
	gnfs_∑thc⁄f_ª•__‰ì_u≈acked


650 (
NfsP©hc⁄fRe•
 *
	gmesßge
,

651 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

653 
	gnfs_commô_ª•__öô


654 (
NfsCommôRe•
 *
	gmesßge
);

655 
size_t
 
	gnfs_commô_ª•__gë_∑cked_size


656 (c⁄° 
NfsCommôRe•
 *
	gmesßge
);

657 
size_t
 
	gnfs_commô_ª•__∑ck


658 (c⁄° 
NfsCommôRe•
 *
	gmesßge
,

659 
uöt8_t
 *
	gout
);

660 
size_t
 
	gnfs_commô_ª•__∑ck_to_buf„r


661 (c⁄° 
NfsCommôRe•
 *
	gmesßge
,

662 
PrŸobufCBuf„r
 *
	gbuf„r
);

663 
NfsCommôRe•
 *

664 
	gnfs_commô_ª•__u≈ack


665 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

666 
size_t
 
	gÀn
,

667 c⁄° 
uöt8_t
 *
	gd©a
);

668 
	gnfs_commô_ª•__‰ì_u≈acked


669 (
NfsCommôRe•
 *
	gmesßge
,

670 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

672 
	gs°ack_nfs_ªsu…_°ru˘__öô


673 (
S°ackNfsResu…Såu˘
 *
	gmesßge
);

674 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__gë_∑cked_size


675 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
);

676 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__∑ck


677 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
,

678 
uöt8_t
 *
	gout
);

679 
size_t
 
	gs°ack_nfs_ªsu…_°ru˘__∑ck_to_buf„r


680 (c⁄° 
S°ackNfsResu…Såu˘
 *
	gmesßge
,

681 
PrŸobufCBuf„r
 *
	gbuf„r
);

682 
S°ackNfsResu…Såu˘
 *

683 
	gs°ack_nfs_ªsu…_°ru˘__u≈ack


684 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

685 
size_t
 
	gÀn
,

686 c⁄° 
uöt8_t
 *
	gd©a
);

687 
	gs°ack_nfs_ªsu…_°ru˘__‰ì_u≈acked


688 (
S°ackNfsResu…Såu˘
 *
	gmesßge
,

689 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

691 
	gs°ack_∑ylﬂd_hdr_t__öô


692 (
S°ackPaylﬂdHdrT
 *
	gmesßge
);

693 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__gë_∑cked_size


694 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
);

695 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__∑ck


696 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
,

697 
uöt8_t
 *
	gout
);

698 
size_t
 
	gs°ack_∑ylﬂd_hdr_t__∑ck_to_buf„r


699 (c⁄° 
S°ackPaylﬂdHdrT
 *
	gmesßge
,

700 
PrŸobufCBuf„r
 *
	gbuf„r
);

701 
S°ackPaylﬂdHdrT
 *

702 
	gs°ack_∑ylﬂd_hdr_t__u≈ack


703 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

704 
size_t
 
	gÀn
,

705 c⁄° 
uöt8_t
 *
	gd©a
);

706 
	gs°ack_∑ylﬂd_hdr_t__‰ì_u≈acked


707 (
S°ackPaylﬂdHdrT
 *
	gmesßge
,

708 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

710 
	gs°ack_∑ylﬂd_t__öô


711 (
S°ackPaylﬂdT
 *
	gmesßge
);

712 
size_t
 
	gs°ack_∑ylﬂd_t__gë_∑cked_size


713 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
);

714 
size_t
 
	gs°ack_∑ylﬂd_t__∑ck


715 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
,

716 
uöt8_t
 *
	gout
);

717 
size_t
 
	gs°ack_∑ylﬂd_t__∑ck_to_buf„r


718 (c⁄° 
S°ackPaylﬂdT
 *
	gmesßge
,

719 
PrŸobufCBuf„r
 *
	gbuf„r
);

720 
S°ackPaylﬂdT
 *

721 
	gs°ack_∑ylﬂd_t__u≈ack


722 (
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
,

723 
size_t
 
	gÀn
,

724 c⁄° 
uöt8_t
 *
	gd©a
);

725 
	gs°ack_∑ylﬂd_t__‰ì_u≈acked


726 (
S°ackPaylﬂdT
 *
	gmesßge
,

727 
PrŸobufCAŒoˇt‹
 *
	gÆloˇt‹
);

730 (*
	tNfsRódCmd_Closuª
)

731 (c⁄° 
	tNfsRódCmd
 *
	tmesßge
,

732 *
	t˛osuª_d©a
);

733 (*
	tNfsD©a_Closuª
)

734 (c⁄° 
	tNfsD©a
 *
	tmesßge
,

735 *
	t˛osuª_d©a
);

736 (*
	tNfsWrôeCmd_Closuª
)

737 (c⁄° 
	tNfsWrôeCmd
 *
	tmesßge
,

738 *
	t˛osuª_d©a
);

739 (*
	tNfsCª©eCmd_Closuª
)

740 (c⁄° 
	tNfsCª©eCmd
 *
	tmesßge
,

741 *
	t˛osuª_d©a
);

742 (*
	tNfsAc˚ssCmd_Closuª
)

743 (c⁄° 
	tNfsAc˚ssCmd
 *
	tmesßge
,

744 *
	t˛osuª_d©a
);

745 (*
	tNfsRíameCmd_Closuª
)

746 (c⁄° 
	tNfsRíameCmd
 *
	tmesßge
,

747 *
	t˛osuª_d©a
);

748 (*
	tNfsCommôCmd_Closuª
)

749 (c⁄° 
	tNfsCommôCmd
 *
	tmesßge
,

750 *
	t˛osuª_d©a
);

751 (*
	tS°ackNfsComm™dSåu˘_Closuª
)

752 (c⁄° 
	tS°ackNfsComm™dSåu˘
 *
	tmesßge
,

753 *
	t˛osuª_d©a
);

754 (*
	tNfsLookupRe•_Closuª
)

755 (c⁄° 
	tNfsLookupRe•
 *
	tmesßge
,

756 *
	t˛osuª_d©a
);

757 (*
	tNfsAc˚ssRe•_Closuª
)

758 (c⁄° 
	tNfsAc˚ssRe•
 *
	tmesßge
,

759 *
	t˛osuª_d©a
);

760 (*
	tNfsRódRe•_Closuª
)

761 (c⁄° 
	tNfsRódRe•
 *
	tmesßge
,

762 *
	t˛osuª_d©a
);

763 (*
	tNfsWrôeRe•_Closuª
)

764 (c⁄° 
	tNfsWrôeRe•
 *
	tmesßge
,

765 *
	t˛osuª_d©a
);

766 (*
	tNfsCª©eRe•_Closuª
)

767 (c⁄° 
	tNfsCª©eRe•
 *
	tmesßge
,

768 *
	t˛osuª_d©a
);

769 (*
	tNfsRemoveRe•_Closuª
)

770 (c⁄° 
	tNfsRemoveRe•
 *
	tmesßge
,

771 *
	t˛osuª_d©a
);

772 (*
	tNfsRíameRe•_Closuª
)

773 (c⁄° 
	tNfsRíameRe•
 *
	tmesßge
,

774 *
	t˛osuª_d©a
);

775 (*
	tNfsFs°©Re•_Closuª
)

776 (c⁄° 
	tNfsFs°©Re•
 *
	tmesßge
,

777 *
	t˛osuª_d©a
);

778 (*
	tNfsFsöfoRe•_Closuª
)

779 (c⁄° 
	tNfsFsöfoRe•
 *
	tmesßge
,

780 *
	t˛osuª_d©a
);

781 (*
	tNfsP©hc⁄fRe•_Closuª
)

782 (c⁄° 
	tNfsP©hc⁄fRe•
 *
	tmesßge
,

783 *
	t˛osuª_d©a
);

784 (*
	tNfsCommôRe•_Closuª
)

785 (c⁄° 
	tNfsCommôRe•
 *
	tmesßge
,

786 *
	t˛osuª_d©a
);

787 (*
	tS°ackNfsResu…Såu˘_Closuª
)

788 (c⁄° 
	tS°ackNfsResu…Såu˘
 *
	tmesßge
,

789 *
	t˛osuª_d©a
);

790 (*
	tS°ackPaylﬂdHdrT_Closuª
)

791 (c⁄° 
	tS°ackPaylﬂdHdrT
 *
	tmesßge
,

792 *
	t˛osuª_d©a
);

793 (*
	tS°ackPaylﬂdT_Closuª
)

794 (c⁄° 
	tS°ackPaylﬂdT
 *
	tmesßge
,

795 *
	t˛osuª_d©a
);

802 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ªad_cmd__des¸ùt‹
;

803 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_d©a__des¸ùt‹
;

804 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_wrôe_cmd__des¸ùt‹
;

805 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_¸óã_cmd__des¸ùt‹
;

806 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ac˚ss_cmd__des¸ùt‹
;

807 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ª«me_cmd__des¸ùt‹
;

808 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_commô_cmd__des¸ùt‹
;

809 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
s°ack_nfs_comm™d_°ru˘__des¸ùt‹
;

810 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_lookup_ª•__des¸ùt‹
;

811 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ac˚ss_ª•__des¸ùt‹
;

812 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ªad_ª•__des¸ùt‹
;

813 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_wrôe_ª•__des¸ùt‹
;

814 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_¸óã_ª•__des¸ùt‹
;

815 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ªmove_ª•__des¸ùt‹
;

816 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_ª«me_ª•__des¸ùt‹
;

817 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_fs°©_ª•__des¸ùt‹
;

818 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_fsöfo_ª•__des¸ùt‹
;

819 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_∑thc⁄f_ª•__des¸ùt‹
;

820 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
nfs_commô_ª•__des¸ùt‹
;

821 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
s°ack_nfs_ªsu…_°ru˘__des¸ùt‹
;

822 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
s°ack_∑ylﬂd_hdr_t__des¸ùt‹
;

823 c⁄° 
PrŸobufCMesßgeDes¸ùt‹
 
s°ack_∑ylﬂd_t__des¸ùt‹
;

824 c⁄° 
PrŸobufCEnumDes¸ùt‹
 
s°ack_∑ylﬂd_t__s°ack_nfs_comm™d_t__des¸ùt‹
;

826 
PROTOBUF_C_END_DECLS


	@protobuf-template/pack-unpack.c

1 
	~<°dio.h
>

2 
	~<°dlib.h
>

3 
	~<°rög.h
>

4 
	~"jobs.pb-c.h
"

7 
	$maö
 ()

9 
S°ackPaylﬂdT
 
msg
 = 
SSTACK_PAYLOAD_T__INIT
;

10 
S°ackPaylﬂdHdrT
 
hdr
 = 
SSTACK_PAYLOAD_HDR_T__INIT
;

11 
S°ackNfsComm™dSåu˘
 
cmd
 = 
SSTACK_NFS_COMMAND_STRUCT__INIT
;

12 
NfsRódCmd
 
ªadcmd
 = 
NFS_READ_CMD__INIT
;

13 
NfsD©a
 
d©a
 = 
NFS_DATA__INIT
;

14 
S°ackPaylﬂdT
 *
msg1
 = 
NULL
;

15 
S°ackPaylﬂdHdrT
 *
hdr1
 = 
NULL
;

16 *
buf
 = 
NULL
;

17 
Àn
 = 0;

19 
hdr
.
£quí˚
 = 100;

20 
hdr
.
∑ylﬂd_Àn
 = 20;

21 
msg
.
hdr
 = &hdr;

23 
msg
.
comm™d
 = 
SSTACK_PAYLOAD_T__SSTACK_NFS_COMMAND_T__NFS_READ
;

24 
d©a
.
d©a_Àn
 = 
	`°æí
("ABCDEFGHIJKLMNOPQRSTUVWXYZ") + 1;

25 
d©a
.
d©a_vÆ
.
Àn
 = 
	`°æí
("ABCDEFGHIJKLMNOPQRSTUVWXYZ") + 1;

26 
d©a
.
d©a_vÆ
.d©®(
uöt8_t
 *) "ABCDEFGHIJKLMNOPQRSTUVWXYZ";

28 
ªadcmd
.
off£t
 = 0;

29 
ªadcmd
.
cou¡
 = 100;

30 
ªadcmd
.
d©a
 = &data;

32 
cmd
.
ªad_cmd
 = &
ªadcmd
;

34 
msg
.
comm™d_°ru˘
 = &
cmd
;

36 
Àn
 = 
	`s°ack_∑ylﬂd_t__gë_∑cked_size
(&
msg
);

37 
buf
 = 
	`mÆloc
(
Àn
);

39 
	`s°ack_∑ylﬂd_t__∑ck
(&
msg
, 
buf
);

40 
	`Ârötf
(
°dîr
,"Wrôög %d sîülized byãs\n",
Àn
);

41 
	`fwrôe
 (
buf
, 
Àn
, 1, 
°dout
);

44 
	`Ârötf
(
°dout
, "\n");

45 
msg1
 = 
	`s°ack_∑ylﬂd_t__u≈ack
(
NULL
, 
Àn
, 
buf
);

46 i‡(
NULL
 =
msg1
) {

47 
	`Ârötf
(
°dîr
, "Unpack failed\n");

50 
hdr1
 = 
msg1
->
hdr
;

52 
	`¥ötf
("Hd∏£quí˚ = %d\n", 
hdr1
->
£quí˚
);

55 
	}
}

	@sfs/include/sfs.h

20 #i‚de‡
__SFS_H_


21 
	#__SFS_H_


	)

23 
	~<s°ack_log.h
>

24 
	#ROOT_SEP
 ":"

	)

25 
	#MINIMUM_WEIGHT
 0

	)

26 
	#DEFAULT_WEIGHT
 5

	)

27 
	#MAXIMUM_WEIGHT
 100

	)

30 
	mKEY_BRANCHES
,

31 
	mKEY_LOG_FILE_DIR
,

32 
	mKEY_HELP
,

33 
	mKEY_VERSION
,

34 
	mKEY_LOG_LEVEL


35 } 
	tkey_ty≥_t
;

37 
	ssfs_chunk_íåy
 {

38 *
	mchunk_∑th
;

39 
	mchunk_∑th_Àn
;

40 
	mchunk_fd
;

41 
	mrw
;

42 
uöt32_t
 
	mweight
;

43 } 
	tsfs_chunk_íåy_t
;

	@sfs/src/sfs.c

20 
	#_XOPEN_SOURCE
 500

	)

21 
	#_BSD_SOURCE
 1

	)

22 
	~<fu£.h
>

23 
	~<fu£/fu£_›t.h
>

24 
	~<°dio.h
>

25 
	~<°dlib.h
>

26 
	~<°rög.h
>

27 
	~<î∫o.h
>

28 
	~<sys/ty≥s.h
>

29 
	~<sys/vfs.h
>

30 
	~<sys/°©.h
>

31 
	~<sys/time.h
>

32 
	~<öây≥s.h
>

33 
	~<sys/x©å.h
>

34 
	~<sys/ty≥s.h
>

35 
	~<sys/sockë.h
>

36 
	~<dúít.h
>

39 
	~<s°ack_md.h
>

40 
	~<s°ack_db.h
>

41 
	~<s°ack_jobs.h
>

42 
	~<s°ack_log.h
>

43 
	~<s°ack_hñ≥r.h
>

44 
	~<s°ack_vîsi⁄.h
>

45 
	~<s°ack_bô›s.h
>

46 
	~<sfs.h
>

47 
	~<m⁄go_db.h
>

51 
log_˘x_t
 *
	gsfs_˘x
 = 
NULL
;

52 
	gs°ack_log_dúe˘‹y
[
PATH_MAX
] = { '\0' };

53 
sfs_log_Àvñ_t
 
	gs°ack_log_Àvñ
 = 
SFS_DEBUG
;

54 
sfs_chunk_íåy_t
 *
	gsfs_chunks
 = 
NULL
;

55 
uöt64_t
 
	gnchunks
 = 0;

56 
db_t
 *
	gdb
 = 
NULL
;

60 
fu£_›t
 
	gsfs_›ts
[] = {

61 
FUSE_OPT_KEY
("log_fûe_dú=%s", 
KEY_LOG_FILE_DIR
),

62 
FUSE_OPT_KEY
("bønches=%s", 
KEY_BRANCHES
),

63 
FUSE_OPT_KEY
("--hñp", 
KEY_HELP
),

64 
FUSE_OPT_KEY
("-h", 
KEY_HELP
),

65 
FUSE_OPT_KEY
("--vîsi⁄", 
KEY_VERSION
),

66 
FUSE_OPT_KEY
("-v", 
KEY_VERSION
),

67 
FUSE_OPT_KEY
("log_Àvñ=%d", 
KEY_LOG_LEVEL
),

68 
FUSE_OPT_END


76 
	$add_öodes
(c⁄° *
∑th
)

78 *
buf„r
 = 
NULL
;

79 
exã¡_t
 
©å
;

80 
öode_t
 *
öode
;

81 
pﬁicy_t
 *
pﬁicy
 = 
NULL
;

82 
uöt64_t
 *
vÆue
 = 
NULL
;

83 *
‚ame
 = 
NULL
;

84 
°©
 
°©us
;

86 
	`sfs_log
(
sfs_˘x
, 
SFS_DEBUG
, "%s:Ö©h = %s\n", 
__FUNCTION__
, 
∑th
);

87 i‡(
	`l°©
(
∑th
, &
°©us
) == -1) {

88 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
,

90 
__FUNCTION__
, 
∑th
, 
î∫o
);

91  -
î∫o
;

94 
buf„r
 = 
	`ˇŒoc
(((
öode_t
Ë+ (
exã¡_t
)), 1);

95 i‡(
NULL
 =
buf„r
) {

97 
	`sfs_log
(
sfs_˘x
,
SFS_CRIT
,

99 
__LINE__
, 
__FUNCTION__
);

104 
öode
 = (
öode_t
 *)
buf„r
;

106 
öode
->
i_num
 = 
	`gë_‰ì_öode
();

107 
	`°r˝y
(
öode
->
i_«me
, 
∑th
);

108 
öode
->
i_uid
 = 
°©us
.
°_uid
;

109 
öode
->
i_gid
 = 
°©us
.
°_gid
;

110 
öode
->
i_mode
 = 
°©us
.
°_mode
;

111 
°©us
.
°_mode
 & 
S_IFMT
) {

112 
S_IFDIR
:

113 
öode
->
i_ty≥
 = 
DIRECTORY
;

115 
S_IFREG
:

116 
öode
->
i_ty≥
 = 
REGFILE
;

118 
S_IFLNK
:

119 
öode
->
i_ty≥
 = 
SYMLINK
;

121 
S_IFBLK
:

122 
öode
->
i_ty≥
 = 
BLOCKDEV
;

124 
S_IFCHR
:

125 
öode
->
i_ty≥
 = 
CHARDEV
;

127 
S_IFIFO
:

128 
öode
->
i_ty≥
 = 
FIFO
;

130 
S_IFSOCK
:

131 
öode
->
i_ty≥
 = 
SOCKET_TYPE
;

134 
öode
->
i_ty≥
 = 
UNKNOWN
;

141 
	`mem˝y
(&
öode
->
i_©ime
, &
°©us
.
°_©ime
, (
time•ec
));

142 
	`mem˝y
(&
öode
->
i_˘ime
, &
°©us
.
°_˘ime
, (
time•ec
));

143 
	`mem˝y
(&
öode
->
i_mtime
, &
°©us
.
°_mtime
, (
time•ec
));

144 
öode
->
i_size
 = 
°©us
.
°_size
;

145 
öode
->
i_numª∂iˇs
 = 1;

148 
öode
->
i_numexã¡s
 = 1;

149 
öode
->
i_löks
 = 
°©us
.
°_∆ök
;

150 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

151 "%s:Çlök†f‹ %†¨ê%d\n", 
__FUNCTION__
, 
∑th
,

152 
öode
->
i_löks
);

154 
pﬁicy
 = 
	`gë_pﬁicy
(
∑th
);

155 i‡(
NULL
 =
pﬁicy
) {

156 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

158 
__FUNCTION__
);

159 
	`mem˝y
(&
öode
->
i_pﬁicy
, &
deÁu…_pﬁicy
, (
pﬁicy_t
));

162 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
,

163 "%s: GŸÖﬁicy f‹ fûê%s\n", 
__FUNCTION__
, 
∑th
);

164 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
, "%s: %†%d %d %d %"
PRId64
" \n",

165 
__FUNCTION__
, 
∑th
, 
pﬁicy
->
p_qo¶evñ
,

166 
pﬁicy
->
p_ishiddí
,Öﬁicy->
p_is°rùed
,

167 
pﬁicy
->
p_exã¡size
);

168 
	`mem˝y
(&
öode
->
i_pﬁicy
, 
pﬁicy
, (
pﬁicy_t
));

171 
	`mem£t
(&
©å
, 0, (
exã¡_t
));

172 
©å
.
e_ty≥
 = 
OFFSET
;

173 
©å
.
e_vÆue
 = 0;

174 
©å
.
e_size
 = 
°©us
.
°_size
;

175 i‡(
öode
->
i_ty≥
 =
REGFILE
) {

176 
©å
.
e_cksum
 = 
	`checksum
(
∑th
);

177 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
, "%s: checksum of %s is %lu \n",

178 
__FUNCTION__
, 
∑th
, 
©å
.
e_cksum
);

180 
©å
.
e_cksum
 = 0;

181 
	`£t_bô
(
©å
.
e_ª∂iˇ_vÆid
, 1);

182 
	`°r˝y
(
©å
.
e_∑th
[0], 
∑th
);

183 
	`mem˝y
((
buf„r
+(
öode_t
)), &
©å
, (
exã¡_t
));

187 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode
->
i_num
, 
buf„r
,

188 ((
öode_t
Ë+ (
exã¡_t
)), 
INODE_TYPE
) != 1)) {

189 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: UnableÅoádd inodeÅo db . \n",

190 
__FUNCTION__
);

191 
	`‰ì
(
buf„r
);

199 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

200 i‡(
NULL
 =
vÆue
) {

201 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

202 
__FUNCTION__
);

205 
	`mem˝y
(
vÆue
, &
öode
->
i_num
, (
uöt64_t
));

206 
‚ame
 = 
	`°rdup
(
∑th
);

208 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

209 
	`USYSLOG
(
LOG_INFO
, "%s: fûíamê°‹ed f‹ inodê%"
PRId64
" is %s \n",

210 
__FUNCTION__
, *
vÆue
, 
‚ame
);

212 
	`‰ì
(
buf„r
);

215 
	}
}

219 
	$p›uœã_db
(c⁄° *
dú_«me
)

221 
DIR
 *
d
 = 
NULL
;

224 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: dú_«mê%†\n", 
__FUNCTION__
,

225 
dú_«me
);

227 
d
 = 
	`›ídú
 (
dú_«me
);

230 i‡(! 
d
) {

231 
	`sfs_log
 (
sfs_˘x
,
SFS_ERR
,

233 
__FUNCTION__
, 
dú_«me
, 
	`°ªº‹
 (
î∫o
));

234 
	`exô
 (-1);

238 
dúít
 * 
íåy
;

239 c⁄° * 
d_«me
;

240 
∑th
[
PATH_MAX
];

241 *
p
 = 
NULL
;

244 
íåy
 = 
	`ªaddú
 (
d
);

245 i‡(! 
íåy
) {

252 
d_«me
 = 
íåy
->d_name;

254 i‡(
	`°rcmp
 (
d_«me
, "..") != 0 && strcmp (d_name, ".") != 0) {

255 i‡(
	`BUILD_PATH
(
∑th
, 
dú_«me
, 
d_«me
))

258 
	`•rötf
(
∑th
, "%s%s", 
dú_«me
, 
d_«me
);

259 
	`sfs_log
(
sfs_˘x
, 
SFS_ERR
, "%s: dir_name = %s,

260 
d_«me
 = %
s
 \
n
", __FUNCTION__,

261 
dú_«me
, 
d_«me
);

263 
p
 = 
	`ªp
(
∑th
, '/');

264 
	`add_öodes
(
p
);

265 
	`‰ì
(
p
);

269 i‡(
íåy
->
d_ty≥
 & 
DT_DIR
) {

271 i‡(
	`°rcmp
 (
d_«me
, "..") != 0 &&

272 
	`°rcmp
 (
d_«me
, ".") != 0) {

273 
∑th_Àngth
;

274 
∑th
[
PATH_MAX
];

276 
∑th_Àngth
 = 
	`¢¥ötf
 (
∑th
, 
PATH_MAX
, "%s/%s",

277 
dú_«me
, 
d_«me
);

278 i‡(
∑th_Àngth
 >
PATH_MAX
) {

279 
	`sfs_log
 (
sfs_˘x
, 
SFS_ERR
,

281 
__FUNCTION__
);

282 
	`exô
 (-1);

285 
	`p›uœã_db
 (
∑th
);

290 i‡(
	`˛o£dú
 (
d
)) {

291 
	`sfs_log
 (
sfs_˘x
, 
SFS_ERR
, "%s: CouldÇot close '%s': %s\n",

292 
__FUNCTION__
, 
dú_«me
, 
	`°ªº‹
 (
î∫o
));

293 
	`exô
 (-1);

295 
	}
}

299 
	$sfs_öô
(
fu£_c⁄n_öfo
 *
c⁄n
)

301 
±hªad_t
 
thªad
;

302 
±hªad_©å_t
 
©å
;

303 
ªt
 = -1;

304 
chunk_ödex
 = 0;

307 if(
	`±hªad_©å_öô
(&
©å
) == 0) {

308 
	`±hªad_©å_£tsc›e
(&
©å
, 
PTHREAD_SCOPE_SYSTEM
);

309 
	`±hªad_©å_£t°acksize
(&
©å
, 65536);

310 
	`±hªad_©å_£tdëach°©e
(&
©å
, 
PTHREAD_CREATE_DETACHED
);

311 
ªt
 = 
	`±hªad_¸óã
(&
thªad
, &
©å
, 
h™dÀ_ªque°s
, 
NULL
);

314 
	`ASSERT
((
ªt
 == 0),"UnableÅo createÅhreadÅo handle cliÑequests",

316 (Ë
c⁄n
->
max_ªadahód
;

318 
db
 = 
	`¸óã_db
();

319 
	`ASSERT
((
db
 !
NULL
), "UnableÅo create db. FATAL ERROR", 0, 1, NULL);

320 
	`db_ªgi°î
(
db
, 
m⁄go_db_öô
, 
m⁄go_db_›í
, 
m⁄go_db_˛o£
,

321 
m⁄go_db_ö£π
, 
m⁄go_db_gë
, 
m⁄go_db_£ekªad
,

322 
m⁄go_db_upd©e
, 
m⁄go_db_dñëe
, 
m⁄go_db_˛ónup
);

323 i‡(
db
->
db_›s
.
	`db_öô
() != 0) {

324 
	`sfs_log
(
sfs_˘x
, 
SFS_CRIT
, "%s: DB init faled withÉrror %d\n",

325 
__FUNCTION__
, 
î∫o
);

326  
NULL
;

328 i‡(
db
->
db_›s
.
	`db_›í
() != 0) {

329 
	`sfs_log
(
sfs_˘x
, 
SFS_CRIT
, "%s: DB open faled withÉrror %d\n",

330 
__FUNCTION__
, 
î∫o
);

331  
NULL
;

342 
chunk_ödex
 = 0; chunk_ödex < 
nchunks
; chunk_index++)

343 
	`p›uœã_db
(
sfs_chunks
[
chunk_ödex
].
chunk_∑th
);

345 
	`sfs_log
(
sfs_˘x
, 
SFS_INFO
, "%s: SFS initialization completed\n",

346 
__FUNCTION__
);

348  
NULL
;

349 
	}
}

352 
	$sfs_¥öt_hñp
(c⁄° *
¥og«me
)

355 
	`Ârötf
(
°dîr
,

369 
¥og«me
);

370 
	}
}

377 
	$sfs_°‹e_bønch
(*
bønch
)

379 *
ªs
 = 
NULL
;

380 **
±r
 = 
NULL
;

382 
sfs_chunks
 = 
	`ªÆloc
(sfs_chunks,

383 (
nchunks
 + 1Ë* (
sfs_chunk_íåy_t
));

384 
	`ASSERT
((
sfs_chunks
 !
NULL
), "Memoryálocation failed", 0, 1, 0);

385 i‡(
NULL
 =
sfs_chunks
)

386 
	`exô
(-1);

387 
±r
 = (**Ë&
bønch
;

388 
ªs
 = 
	`°r£p
(
±r
, ",");

389 i‡(!
ªs
)

391 
sfs_chunks
[
nchunks
].
chunk_∑th
 = 
	`°rdup
(
ªs
);

392 
sfs_chunks
[
nchunks
].
rw
 = 0;

393 
sfs_chunks
[
nchunks
].
weight
 = 
DEFAULT_WEIGHT
;

395 
ªs
 = 
	`°r£p
(
±r
, ",");

396 i‡(
ªs
) {

397 i‡(
	`°rˇ£cmp
(
ªs
, "rw") == 0) {

398 
sfs_chunks
[
nchunks
].
rw
 = 1;

402 
ªs
 = 
	`°r£p
(
±r
, ",");

403 i‡(
ªs
) {

404 
uöt32_t
 
weight
 = 
	`©oi
(
ªs
);

406 i‡(
weight
 > 
MINIMUM_WEIGHT
 && weighà< 
MAXIMUM_WEIGHT
)

407 
sfs_chunks
[
nchunks
].
weight
 = weight;

411 
	}
}

415 
	$sfs_∑r£_bønches
(c⁄° *
¨g
)

417 *
buf
 = 
	`°rdup
(
¨g
);

418 **
±r
 = (*)&
buf
;

419 *
bønch
;

420 
nbønches
 = 0;

422 (
bønch
 = 
	`°r£p
(
±r
, 
ROOT_SEP
)Ë!
NULL
) {

423 i‡(
	`°æí
(
bønch
) == 0)

426 
nbønches
 +
	`sfs_°‹e_bønch
(
bønch
);

429 
	`‰ì
(
buf
);

431  
nbønches
;

432 
	}
}

436 
	$sfs_›t_¥oc
(*
d©a
, c⁄° *
¨g
, 
key
,

437 
fu£_¨gs
 *
ouèrgs
)

439 
ªs
 = -1;

441 
key
) {

442 
KEY_BRANCHES
:

443 
ªs
 = 
	`sfs_∑r£_bønches
(
¨g
 + 9);

444 i‡(
ªs
 > 0)

448 
KEY_LOG_FILE_DIR
:

449 
	`°∫˝y
(
s°ack_log_dúe˘‹y
,

450 
	`gë_›t_°r
(
¨g
, "log_file_dir"),

451 
PATH_MAX
 - 1);

453 
KEY_HELP
:

454 
	`sfs_¥öt_hñp
(
ouèrgs
->
¨gv
[0]);

455 
	`exô
(0);

456 
KEY_VERSION
:

457 
	`Ârötf
(
°dîr
, "sf†vîsi⁄: %s\n", 
SSTACK_VERSION
);

458 
	`exô
(0);

459 
KEY_LOG_LEVEL
:

460 
s°ack_log_Àvñ
 = 
	`©oi
(
	`gë_›t_°r
(
¨g
, "log_level"));

463 
	`ASSERT
((1 == 0), "Invalidárgument specified. Exiting",

465 
	`exô
(-1);

467 
	}
}

471 
fu£_›î©i⁄s
 
	gsfs_›î
 = {

472 .
gë©å
 = 
sfs_gë©å
,

473 .
	gªadlök
 = 
sfs_ªÆök
,

474 .
	gªaddú
 = 
sfs_ªaddú
,

475 .
	gmknod
 = 
sfs_mknod
,

476 .
	gmkdú
 = 
sfs_mkdú
,

477 .
	gu∆ök
 = 
sfs_u∆ök
,

478 .
	grmdú
 = 
sfs_rmdú
,

479 .
	gsymlök
 = 
sfs_symlök
,

480 .
	gª«me
 = 
sfs_ª«me
,

481 .
	glök
 = 
sfs_lök
,

482 .
	gchmod
 = 
sfs_chmod
,

483 .
	gchown
 = 
sfs_chown
,

484 .
	gåunˇã
 = 
sfs_åunˇã
,

485 .
	g›í
 = 
sfs_›í
,

486 .
	gªad
 = 
sfs_ªad
,

487 .
	gwrôe
 = 
sfs_wrôe
,

488 .
	g°©fs
 = 
sfs_°©fs
,

489 .
	gÊush
 = 
sfs_Êush
,

490 .
	gªÀa£
 = 
sfs_ªÀa£
,

491 .
	gfsync
 = 
sfs_fsync
,

492 .
	g£tx©å
 = 
sfs_£tx©å
,

493 .
	ggëx©å
 = 
sfs_gëx©å
,

494 .
	gli°x©å
 = 
sfs_li°x©å
,

495 .
	gªmovex©å
 = 
sfs_ªmovex©å
,

496 .
	g›ídú
 = 
sfs_›ídú
,

497 .
	gªÀa£dú
 = 
sfs_ªÀa£dú
,

498 .
	gfsyncdú
 = 
sfs_fsyncdú
,

499 .
	göô
 = 
sfs_öô
,

500 .
	gde°roy
 = 
sfs_de°roy
,

501 .
	gac˚ss
 = 
sfs_ac˚ss
,

502 .
	g¸óã
 = 
sfs_¸óã
,

503 .
	g·runˇã
 = 
sfs_·runˇã
,

504 .
	gfgë©å
 = 
sfs_fgë©å
,

505 .
	glock
 = 
sfs_lock
,

506 .
	gutimís
 = 
sfs_utimís
,

507 .
	gbm≠
 = 
sfs_bm≠
,

508 .
	gio˘l
 = 
sfs_io˘l
,

509 .
	gpﬁl
 = 
sfs_pﬁl
,

510 .
	gwrôe_buf
 = 
sfs_wrôe_buf
,

511 .
	gªad_buf
 = 
sfs_ªad_buf
,

512 .
	gÊock
 = 
sfs_Êock
,

516 
	$maö
(
¨gc
, *
¨gv
[])

518 
fu£_¨gs
 
¨gs
 = 
	`FUSE_ARGS_INIT
(
¨gc
, 
¨gv
);

519 
uid
 = 
	`gëuid
();

520 
gid
 = 
	`gëgid
();

521 
ªt
 = -1;

525 i‡(
uid
 =0 && 
gid
 == 0) {

526 
	`Ârötf
(
°dîr
, "SFS: Mounting SFS byÑoot opens security holes."

531 
ªt
 = 
	`fu£_›t_∑r£
(&
¨gs
, 
NULL
, 
sfs_›ts
, 
sfs_›t_¥oc
);

532 
	`ASSERT
((
ªt
 != -1), "Parsingárguments failed. Exiting ...", 0, 1, -1);

534 
sfs_˘x
 = 
	`sfs_¸óã_log_˘x
();

535 i‡(
NULL
 =
sfs_˘x
) {

536 
	`Ârötf
(
°dîr
, "%s: Log ctx creation failed. Logging disable",

537 
__FUNCTION__
);

539 
ªt
 = 
	`sfs_log_öô
(
sfs_˘x
, 
s°ack_log_Àvñ
, "sfs");

540 
	`ASSERT
((
ªt
 != 0), "Log initialization failed. Logging disabled",

544 
ªt
 = 
	`fu£_›t_add_¨g
(&
¨gs
, "-obig_writes");

545 
	`ASSERT
((
ªt
 != -1), "Enabling big writes failed.", 0, 0, 0);

547  
	`fu£_maö
(
¨gs
.
¨gc
,árgs.
¨gv
, &
sfs_›î
, 
NULL
);

548 
	}
}

	@sfsd/include/sfsd_erasure.h

20 #i‚de‡
__SFS_ERASURE_H__


21 
	#__SFS_ERASURE_H__


	)

24 
	mESURE_SUCCESS
 = 0,

25 
	mESURE_NO_MEM
 = -128,

26 
	mESURE_INV_DATA_STRP
,

27 
	mESURE_INV_CODE_STRP
,

28 
	mESURE_NUM_ERR_STRP_INVLD
,

29 
	mESURE_INV_BITMATRIX
,

30 
	mESURE_SIZE_MISMATCH
,

31 
	mESURE_INIT_FAIL
,

32 
	mESURE_ERR


33 } 
	tesuª_îr_t
;

35 
sfs_îasuª_öô
();

36 
sfs_esuª_ícode
(**
d©a
, 
num_d°rùes
, **
code
,

37 
num_c°rùes
, 
°Ω_size
);

38 
sfs_esuª_decode
(**
d©a
, 
num_d°rùes
, **
code
,

39 
num_c°rùes
, *
îr_°rùs
, 
num_îr
,

40 
°Ω_size
);

	@sfsd/include/sfsd_ops.h

20 #i‚de‡
__SFSD_OPS_H_


21 
	#__SFSD_OPS_H_


	)

23 
	~<bds_¶ab.h
>

25 
s°ack_∑ylﬂd_t
* 
s°ack_gë©å
(

26 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

27 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

28 
log_˘x_t
 *
˘x
);

30 
s°ack_∑ylﬂd_t
* 
s°ack_£èâr
(

31 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

32 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

33 
log_˘x_t
 *
˘x
);

35 
s°ack_∑ylﬂd_t
* 
s°ack_lookup
(

36 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

37 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

38 
log_˘x_t
 *
˘x
);

40 
s°ack_∑ylﬂd_t
* 
s°ack_ac˚ss
(

41 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

42 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

43 
log_˘x_t
 *
˘x
);

45 
s°ack_∑ylﬂd_t
* 
s°ack_ªadlök
(

46 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

47 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

48 
log_˘x_t
 *
˘x
);

50 
s°ack_∑ylﬂd_t
* 
s°ack_ªad
(

51 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

52 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

53 
log_˘x_t
 *
˘x
);

55 
s°ack_∑ylﬂd_t
* 
s°ack_wrôe
(

56 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

57 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

58 
log_˘x_t
 *
˘x
);

60 
s°ack_∑ylﬂd_t
* 
s°ack_¸óã
(

61 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

62 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

63 
log_˘x_t
 *
˘x
);

65 
s°ack_∑ylﬂd_t
* 
s°ack_mkdú
(

66 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

67 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

68 
log_˘x_t
 *
˘x
);

70 
s°ack_∑ylﬂd_t
* 
s°ack_symlök
(

71 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

72 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

73 
log_˘x_t
 *
˘x
);

75 
s°ack_∑ylﬂd_t
* 
s°ack_mknod
(

76 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

77 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

78 
log_˘x_t
 *
˘x
);

80 
s°ack_∑ylﬂd_t
* 
s°ack_ªmove
(

81 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

82 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

83 
log_˘x_t
 *
˘x
);

85 
s°ack_∑ylﬂd_t
* 
s°ack_rmdú
(

86 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

87 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

88 
log_˘x_t
 *
˘x
);

90 
s°ack_∑ylﬂd_t
* 
s°ack_ª«me
(

91 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

92 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

93 
log_˘x_t
 *
˘x
);

95 
s°ack_∑ylﬂd_t
* 
s°ack_lök
(

96 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

97 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

98 
log_˘x_t
 *
˘x
);

100 
s°ack_∑ylﬂd_t
* 
s°ack_ªaddú
(

101 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

102 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

103 
log_˘x_t
 *
˘x
);

105 
s°ack_∑ylﬂd_t
* 
s°ack_ªaddú∂us
(

106 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

107 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

108 
log_˘x_t
 *
˘x
);

110 
s°ack_∑ylﬂd_t
* 
s°ack_fs°©
(

111 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

112 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

113 
log_˘x_t
 *
˘x
);

115 
s°ack_∑ylﬂd_t
* 
s°ack_fsöfo
(

116 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

117 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

118 
log_˘x_t
 *
˘x
);

120 
s°ack_∑ylﬂd_t
* 
s°ack_∑thc⁄f
(

121 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

122 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

123 
log_˘x_t
 *
˘x
);

125 
s°ack_∑ylﬂd_t
* 
s°ack_commô
(

126 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

127 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

128 
log_˘x_t
 *
˘x
);

	@sfsd/include/sstack_sfsd.h

19 #i‚de‡
_SSTACK_SFSD_H_


20 
	#_SSTACK_SFSD_H_


	)

22 
	~<s°ack_log.h
>

23 
	~<s°ack_å™•‹t.h
>

24 
	~<s°ack_thªad_poﬁ.h
>

25 
	~<bds_¶ab.h
>

30 
	ssfsd_loˇl


32 
log_˘x_t
 *
	mlog_˘x
;

33 
s°ack_å™•‹t_t
 *
	må™•‹t
;

34 
±hªad_t
 
	mª˚ivî_thªad
;

35 *
	mª˚ivî_∑øms
;

36 
	msfs_addr
[
IPV4_ADDR_MAX
];

37 
s°ack_˛õ¡_h™dÀ_t
 
	mh™dÀ
;

38 
s°ack_thªad_poﬁ_t
 *
	mthªad_poﬁ
;

39 
	#PAYLOAD_CACHE_OFFSET
 0

	)

40 
	#DATA_CACHE_OFFSET
 1

	)

41 
	#HANDLE_PARAM_OFFSET
 2

	)

42 
bds_ˇche_desc_t
 
	m∑ylﬂd_ˇche_¨r
[3];

43 } 
	tsfsd_loˇl_t
;

49 
öt32_t
 
ªgi°î_sig«ls
(
sfsd_loˇl_t
 *);

55 
öt32_t
 
öô_thªad_poﬁ
(
sfsd_loˇl_t
 *);

60 
öt32_t
 
öô_å™•‹t
(
sfsd_loˇl_t
 *);

65 
run_d´m⁄_sfsd
(
sfsd_loˇl_t
 *);

	@sfsd/src/main.c

20 
	~<°döt.h
>

21 
	~<uni°d.h
>

22 
	~<±hªad.h
>

23 
	~<f˙é.h
>

24 
	~<sys/ty≥s.h
>

25 
	~<s°ack_log.h
>

26 
	~<s°ack_å™•‹t.h
>

27 
	~<s°ack_sfsd.h
>

28 
	~<bds_¶ab.h
>

31 
	gs°ack_log_dúe˘‹y
[
PATH_MAX
];

32 
sfsd_loˇl_t
 
	gsfsd
;

34 
	$maö
(
¨gc
, **
¨gv
)

37 
log_˘x_t
 *
˘x
 = 
NULL
;

38 
log_ªt
 = 0;

41 i‡(
¨gc
 == 1) {

42 
	`Ârötf
 (
°dout
, "Usage: %s <log directory> <sfsáddress>\n",

43 
¨gv
[0]);

45 
	`°∫˝y
(
s°ack_log_dúe˘‹y
, 
¨gv
[1], 
PATH_MAX
);

47 
	`mem£t
(&
sfsd
, 0, (sfsd));

50 
	`°r˝y
(
sfsd
.
sfs_addr
, 
¨gv
[2]);

53 
˘x
 = 
	`sfs_¸óã_log_˘x
();

54 
	`ASSERT
((
NULL
 !
˘x
), "Log create failed", 1, 1, 0);

55 
log_ªt
 = 
	`sfs_log_öô
(
˘x
, 
SFS_DEBUG
, "sfsd");

56 
	`ASSERT
((0 =
log_ªt
), "Log init failed", 1, 1, 0);

58 
sfsd
.
log_˘x
 = 
˘x
;

61 
	`ASSERT
 ((0 =
	`ªgi°î_sig«ls
(&
sfsd
)),

68 
	`öô_å™•‹t
(&
sfsd
);

71 
	`öô_thªad_poﬁ
(&
sfsd
);

78 
	`run_d´m⁄_sfsd
(&
sfsd
);

82 
	}
}

	@sfsd/src/sfsd.c

20 
	~<°döt.h
>

21 
	~<±hªad.h
>

22 
	~<s°ack_log.h
>

23 
	~<s°ack_å™•‹t.h
>

24 
	~<s°ack_sfsd.h
>

26 
log_˘x_t
 *
sfsd_˘x
;

27 
	$run_d´m⁄_sfsd
(
sfsd_loˇl_t
 *
sfsd
)

29 
	`¶ìp
(4);

30 
	`sfs_log
(
sfsd
->
log_˘x
, 
SFS_INFO
, "%s", "Daemon started");

31 
	}
}

	@sfsd/src/sfsd_erasure.c

19 
	~<°dio.h
>

20 
	~<°dlib.h
>

21 
	~<°rög.h
>

22 
	~"jîasuª.h
"

23 
	~"gÆois.h
"

24 
	~<sfsd_îasuª.h
>

26 
	#NUM_PKT_STRIPS
 8

	)

27 
	#PACKET_SIZE
(
size
Ë(size/
NUM_PKT_STRIPS
)

	)

28 
	#CODE_STRIPES
 4

	)

29 
	#MAX_ERROR_STRIPES
 
CODE_STRIPES


	)

30 
	#MAX_DATA_STRIPES
 8

	)

33 *
	gbôm©rix_2
;

34 *
	gbôm©rix_3
;

35 *
	gbôm©rix_4
;

36 *
	gbôm©rix_5
;

37 *
	gbôm©rix_6
;

38 *
	gbôm©rix_7
;

39 *
	gbôm©rix_8
;

42 
	$sfs_dîive_bôm©rix
(**
bm©rix
, 
num_d°Ωs
, 
num_c°Ωs
)

44 *
m©rix
;

45 
i
,
j
;

47 
m©rix
 = (*)
	`mÆloc
((Ë* (
num_d°Ωs
Ë* (
num_c°Ωs
));

48 i‡(
m©rix
 =
NULL
) {

49  (
ESURE_NO_MEM
);

52 
i
 = 0; i < 
num_c°Ωs
; i++) {

53 
j
 = 0; j < 
num_d°Ωs
; j++) {

54 
m©rix
[
i
*
num_d°Ωs
+
j
] =

55 
	`gÆois_sögÀ_divide
(1, 
i
 ^ (
num_c°Ωs
 + 
j
), 
NUM_PKT_STRIPS
);

59 *
bm©rix
 = 
	`jîasuª_m©rix_to_bôm©rix
(
num_d°Ωs
, 
num_c°Ωs
,

60 
NUM_PKT_STRIPS
, 
m©rix
);

61 i‡(*
bm©rix
 =
NULL
) {

62  (
ESURE_INV_BITMATRIX
);

65  (
ESURE_SUCCESS
);

66 
	}
}

69 
	$sfs_îasuª_öô
()

71 
ªt
 = 0;

73 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_2
, 2, 2);

74 i‡(
ªt
 < 0) {

75  (
ªt
);

78 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 3, 3);

79 i‡(
ªt
 < 0) {

80  (
ªt
);

83 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 4, 4);

84 i‡(
ªt
 < 0) {

85  (
ªt
);

88 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 5, 4);

89 i‡(
ªt
 < 0) {

90  (
ªt
);

93 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 6, 4);

94 i‡(
ªt
 < 0) {

95  (
ªt
);

98 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 7, 4);

99 i‡(
ªt
 < 0) {

100  (
ªt
);

103 
ªt
 = 
	`sfs_dîive_bôm©rix
(&
bôm©rix_3
, 8, 4);

104 i‡(
ªt
 < 0) {

105  (
ªt
);

108  (
ESURE_SUCCESS
);

109 
	}
}

112 
	$sfs_d©a_°rùes_ícode_1
(**
d©a
, **
code
, 
size
)

114 
i
 = 0;

117 i‡(
size
 < 256) {

118 
i
 = 0; i < 
CODE_STRIPES
/2; i++) {

119 
	`mem˝y
((*)
code
[
i
], (*)(*
d©a
), 
size
);

121  (
CODE_STRIPES
/2);

123 
i
 = 0; i < 
CODE_STRIPES
; i++) {

124 
	`mem˝y
((*)
code
[
i
], (*)(*
d©a
), 
size
);

126  (
CODE_STRIPES
);

128 
	}
}

131 
	$sfs_d©a_°rùes_ícode_2
(**
d©a
, **
code
, 
size
)

133 
i
 = 0;

135 
	`jîasuª_bôm©rix_ícode
(2, 2, 
NUM_PKT_STRIPS
, 
bôm©rix_2
, 
d©a
,

136 
code
, 
size
, 
	`PACKET_SIZE
(size));

138 
i
 = 0; i < 
CODE_STRIPES
/2; i++) {

139 
	`mem˝y
((*)
code
[
CODE_STRIPES
/2 + 
i
],

140 (*)
code
[
i
], 
size
);

143  (
CODE_STRIPES
);

144 
	}
}

147 
	$sfs_d©a_°rùes_ícode_3
(**
d©a
, **
code
, 
size
)

149 
i
 = 0;

151 
	`jîasuª_bôm©rix_ícode
(3, 3, 
NUM_PKT_STRIPS
, 
bôm©rix_3
, 
d©a
,

152 
code
, 
size
, 
	`PACKET_SIZE
(size));

154 
	`mem˝y
((*)
code
[
CODE_STRIPES
 - 
i
], (*)
d©a
[0], 
size
);

156  (
CODE_STRIPES
);

157 
	}
}

160 
	$sfs_d©a_°rùes_ícode_gí
(**
d©a
, **
code
, 
num_°rùes
,

161 
size
)

163 
i
 = 0;

164 *
bm©rix
;

166 
num_°rùes
) {

169 
bm©rix
 = 
bôm©rix_4
;

172 
bm©rix
 = 
bôm©rix_5
;

175 
bm©rix
 = 
bôm©rix_6
;

178 
bm©rix
 = 
bôm©rix_7
;

181 
bm©rix
 = 
bôm©rix_8
;

187 
	`jîasuª_bôm©rix_ícode
(
num_°rùes
, 4, 
NUM_PKT_STRIPS
, 
bm©rix
, 
d©a
,

188 
code
, 
size
, 
	`PACKET_SIZE
(size));

190  (
CODE_STRIPES
);

191 
	}
}

194 
	$sfs_esuª_ícode
(**
d©a
, 
num_d°rùes
, **
code
,

195 
num_c°rùes
, 
°Ω_size
)

197 
size
, 
i
=0;

198 
ªt
 = 0;

200 i‡(
num_d°rùes
 > 
MAX_DATA_STRIPES
 ||Çum_dstripes <=0) {

201  (
ESURE_INV_DATA_STRP
);

204 i‡(
num_c°rùes
 !
CODE_STRIPES
) {

205  (
ESURE_INV_CODE_STRP
);

208 i‡(
	`PACKET_SIZE
(
°Ω_size
) % ())

209  (
ESURE_SIZE_MISMATCH
);

211 i‡(
d©a
[0] =
NULL
) {

212  (
ESURE_INV_DATA_STRP
);

214 
size
 = (
d©a
[0]);

215 
i
 = 1; i < 
num_d°rùes
; i++) {

216 i‡(!
d©a
[
i
] || (
size
 != (data[i])))

217  (
ESURE_INV_DATA_STRP
);

219 
i
 = 0; i < 
num_c°rùes
; i++) {

220 i‡(!
code
[
i
] || (
size
 != (code[i])))

221  (
ESURE_INV_CODE_STRP
);

224 
num_d°rùes
) {

226 
ªt
 = 
	`sfs_d©a_°rùes_ícode_1
(
d©a
, 
code
, 
°Ω_size
);

229 
ªt
 = 
	`sfs_d©a_°rùes_ícode_2
(
d©a
, 
code
, 
°Ω_size
);

232 
ªt
 = 
	`sfs_d©a_°rùes_ícode_3
(
d©a
, 
code
, 
°Ω_size
);

239 
ªt
 = 
	`sfs_d©a_°rùes_ícode_gí
(
d©a
, 
code
,

240 
num_d°rùes
, 
°Ω_size
);

246  (
ªt
);

247 
	}
}

250 
	$sfs_esuª_decode
(**
d©a
, 
num_d°rùes
, **
code
,

251 
num_c°rùes
, *
îr_°rùs
, 
num_îr
,

252 
°Ω_size
)

254 
size
, 
i
 = 0, 
j
 = 0;

255 
ªt
 = 0;

256 *
îasuªs
, *
bm©rix
;

258 i‡(
num_d°rùes
 > 
MAX_DATA_STRIPES
 ||Çum_dstripes <=0) {

259  (
ESURE_INV_DATA_STRP
);

262 i‡(
num_c°rùes
 !
CODE_STRIPES
) {

263  (
ESURE_INV_CODE_STRP
);

265 i‡(
°Ω_size
 < 256 && 
num_c°rùes
 !
CODE_STRIPES
/2)

266  (
ESURE_INV_CODE_STRP
);

267 i‡(
°Ω_size
 < 256 && 
num_îr
 > 
MAX_ERROR_STRIPES
/2)

268  (
ESURE_NUM_ERR_STRP_INVLD
);

269 i‡(
num_îr
 < 0 ||Çum_î∏> 
MAX_ERROR_STRIPES
)

270  (
ESURE_NUM_ERR_STRP_INVLD
);

271 i‡(
num_îr
== 0)

272  
ESURE_SUCCESS
;

273 i‡(
	`PACKET_SIZE
(
°Ω_size
) % ())

274  (
ESURE_SIZE_MISMATCH
);

276 i‡(
d©a
[0] =
NULL
) {

277  (
ESURE_INV_DATA_STRP
);

279 
size
 = (
d©a
[0]);

280 
i
 = 1; i < 
num_d°rùes
; i++) {

281 i‡(!
d©a
[
i
] || (
size
 != (data[i])))

282  (
ESURE_INV_DATA_STRP
);

284 
i
 = 0; i < 
num_c°rùes
; i++) {

285 i‡(!
code
[
i
] || (
size
 != (code[i])))

286  (
ESURE_INV_CODE_STRP
);

289 
i
 = 0; i < 
num_îr
; i++) {

290 i‡(
îr_°rùs
[
i
] < 0 ||

291 
îr_°rùs
[
i
] > (
num_d°rùes
 + 
num_c°rùes
))

292  (
ESURE_ERR
);

294 i‡(
îr_°rùs
[
i
] < 
num_d°rùes
)

295 
	`mem£t
(
d©a
[
îr_°rùs
[
i
]], 
°Ω_size
, 0);

297 
	`mem£t
(
code
[
îr_°rùs
[
i
]], 
°Ω_size
, 0);

300 
îasuªs
 = (*)
	`mÆloc
((Ë* (
num_îr
+1));

301 
num_d°rùes
) {

303 
°Ωs
 = 0;

304 *
±r
;

306 
i
 = 0; i < 
num_îr
; i++) {

307 
°Ωs
 |(1 << 
îr_°rùs
[
i
]);

309 
i
 = 0; i < (
num_d°rùes
 + 
num_c°rùes
); i++) {

310 i‡(!(
°Ωs
 & 1<<
i
))

313 
±r
 = (
i
 =0Ë? (*)
d©a
[0] : (*)
code
[i-1];

314 
	`mem˝y
((*)
d©a
[0], 
±r
, 
°Ω_size
);

315 
i
 = 0; i < 
num_c°rùes
; i++) {

316 
	`mem˝y
((*)
code
[
i
], 
±r
, 
°Ω_size
);

318 
	`‰ì
(
îasuªs
);

319  (
ESURE_SUCCESS
);

322 
°Ωs
 = 0;

324 
i
 = 0; i < 
num_îr
; i++) {

325 
°Ωs
 |(1 << 
îr_°rùs
[
i
]);

327 i‡((
°Ωs
 & 0x2B) || (strps & 0x17)) {

328 
	`‰ì
(
îasuªs
);

329  (
ESURE_ERR
);

332 
i
 = 0; i < 
num_îr
; i++) {

333 i‡(
îr_°rùs
[
i
] =(
num_d°rùes
 + 
num_c°rùes
 -1))

335 
îasuªs
[
j
++] = 
îr_°rùs
[
i
];

337 
îasuªs
[
j
] = -1;

338 
bm©rix
 = 
bôm©rix_2
;

339 
	`jîasuª_bôm©rix_decode
(
num_d°rùes
, 
num_c°rùes
-2,

340 
NUM_PKT_STRIPS
, 
bm©rix
, 0, 
îasuªs
, 
d©a
,

341 
code
, 
°Ω_size
, 
	`PACKET_SIZE
(strp_size));

342 
i
 = 0; i < 
CODE_STRIPES
/2; i++) {

343 
	`mem˝y
((*)
code
[
CODE_STRIPES
/2 + 
i
],

344 (*)
code
[
i
], 
size
);

347  (
ESURE_SUCCESS
);

350 
i
 = 0; i < 
num_îr
; i++) {

351 i‡(
îr_°rùs
[
i
] =(
num_d°rùes
 + 
num_c°rùes
 -1))

353 
îasuªs
[
j
++] = 
îr_°rùs
[
i
];

355 
îasuªs
[
j
] = -1;

356 
bm©rix
 = 
bôm©rix_3
;

357 
	`jîasuª_bôm©rix_decode
(
num_d°rùes
, 
num_c°rùes
-1,

358 
NUM_PKT_STRIPS
, 
bm©rix
, 0, 
îasuªs
, 
d©a
,

359 
code
, 
°Ω_size
, 
	`PACKET_SIZE
(strp_size));

360 
	`mem˝y
((*)
code
[
CODE_STRIPES
-1], 
d©a
[0], 
°Ω_size
);

361  (
ESURE_SUCCESS
);

364 
bm©rix
 = 
bôm©rix_4
;

367 
bm©rix
 = 
bôm©rix_5
;

370 
bm©rix
 = 
bôm©rix_6
;

373 
bm©rix
 = 
bôm©rix_7
;

376 
bm©rix
 = 
bôm©rix_8
;

379  (
ESURE_ERR
);

382 
i
 = 0; i < 
num_îr
; i++) {

383 i‡(
îr_°rùs
[
i
] =(
num_d°rùes
 + 
num_c°rùes
 -1))

385 
îasuªs
[
j
++] = 
îr_°rùs
[
i
];

387 
îasuªs
[
j
] = -1;

388 
	`jîasuª_bôm©rix_decode
(
num_d°rùes
, 
num_c°rùes
, 
NUM_PKT_STRIPS
,

389 
bm©rix
, 0, 
îasuªs
, 
d©a
, 
code
, 
°Ω_size
,

390 
	`PACKET_SIZE
(
°Ω_size
));

391  (
ESURE_SUCCESS
);

392 
	}
}

396 
	$maö
()

399 
	}
}

	@sfsd/src/sfsd_ops.c

20 
	~<°döt.h
>

21 
	~<sys/°©.h
>

22 
	~<sys/ty≥s.h
>

23 
	~<s°ack_nfs.h
>

24 
	~<s°ack_jobs.h
>

25 
	~<s°ack_chunk.h
>

26 
	~<bds_¶ab.h
>

28 
s°ack_∑ylﬂd_t
* 
	$s°ack_gë©å
(

29 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

30 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

31 
log_˘x_t
 *
˘x
)

34 
öt32_t
 
comm™d_°©
 = 0;

35 
s°ack_fûe_«me_t
 *
fûe_h™dÀ
 = &
∑ylﬂd
->
comm™d_°ru˘
.file_handle;

36 *
p
 = 
fûe_h™dÀ
->
«me
;

37 
s°ack_∑ylﬂd_t
 *
ª•⁄£
 = 
NULL
;

38 
s°ack_nfs_gë©å_ª•
 *
gë©å_ª•
 = 
NULL
;

41 
p
[
fûe_h™dÀ
->
«me_Àn
 - 1] = 0;

42 
	`sfs_log
(
˘x
, 
SFS_DEBUG
, "%s", 
p
);

45 
ª•⁄£
 = 
	`bds_ˇche_Æloc
(
∑ylﬂd_d©a_ˇche
[0]);

46 i‡(!
ª•⁄£
) {

47 
comm™d_°©
 = -
ENOMEM
;

48 
îr‹
;

51 
gë©å_ª•
 = &
ª•⁄£
->
ª•⁄£_°ru˘
.getattr_resp;

52 
comm™d_°©
 = 
	`l°©
(
p
, &
gë©å_ª•
->
°buf
);

53 i‡(
comm™d_°©
 != 0) {

54 
îr‹
;

64 i‡(
	`S_ISDIR
(
gë©å_ª•
->
°buf
.
°_mode
))

65 
gë©å_ª•
->
°buf
.
°_∆ök
 = 1;

69 
ª•⁄£
->
hdr
.
£quí˚
 = 
∑ylﬂd
->hdr.sequence;

70 
ª•⁄£
->
hdr
.
∑ylﬂd_Àn
 = (*response);

71 
ª•⁄£
->
ª•⁄£_°ru˘
.
comm™d_ok
 = 
comm™d_°©
;

73  
ª•⁄£
;

75 
îr‹
:

76 
∑ylﬂd
->
ª•⁄£_°ru˘
.
comm™d_ok
 = 
comm™d_°©
;

77 i‡(
ª•⁄£
)

78 
	`bds_ˇche_‰ì
(
∑ylﬂd_d©a_ˇche
[0], 
ª•⁄£
);

79  
∑ylﬂd
;

80 
	}
}

83 
s°ack_∑ylﬂd_t
 *
	$s°ack_£èâr
(

84 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

85 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

86 
log_˘x_t
 *
˘x
)

89 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

90  
NULL
;

91 
	}
}

93 
s°ack_∑ylﬂd_t
 *
	$s°ack_lookup
(

94 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

95 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

96 
log_˘x_t
 *
˘x
)

99 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

100  
NULL
;

101 
	}
}

103 
s°ack_∑ylﬂd_t
 *
	$s°ack_ac˚ss
(

104 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

105 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

106 
log_˘x_t
 *
˘x
)

109 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

110  
NULL
;

111 
	}
}

114 
s°ack_∑ylﬂd_t
 *
	$s°ack_ªadlök
(

115 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

116 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

117 
log_˘x_t
 *
˘x
)

120 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

121  
NULL
;

122 
	}
}

124 
s°ack_∑ylﬂd_t
 *
	$s°ack_ªad
(

125 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

126 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

127 
log_˘x_t
 *
˘x
)

130 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

131  
NULL
;

132 
	}
}

134 
s°ack_∑ylﬂd_t
 *
	$s°ack_wrôe
(

135 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

136 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

137 
log_˘x_t
 *
˘x
)

140 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

141  
NULL
;

142 
	}
}

144 
s°ack_∑ylﬂd_t
 *
	$s°ack_¸óã
(

145 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

146 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

147 
log_˘x_t
 *
˘x
)

150 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

151  
NULL
;

152 
	}
}

154 
s°ack_∑ylﬂd_t
 *
	$s°ack_mkdú
(

155 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

156 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

157 
log_˘x_t
 *
˘x
)

160 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

161  
NULL
;

162 
	}
}

164 
s°ack_∑ylﬂd_t
 *
	$s°ack_symlök
(

165 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

166 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

167 
log_˘x_t
 *
˘x
)

170 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

171  
NULL
;

172 
	}
}

174 
s°ack_∑ylﬂd_t
 *
	$s°ack_mknod
(

175 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

176 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

177 
log_˘x_t
 *
˘x
)

180 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

181  
NULL
;

182 
	}
}

184 
s°ack_∑ylﬂd_t
 *
	$s°ack_ªmove
(

185 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

186 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

187 
log_˘x_t
 *
˘x
)

190 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

191  
NULL
;

192 
	}
}

194 
s°ack_∑ylﬂd_t
 *
	$s°ack_rmdú
(

195 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

196 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

197 
log_˘x_t
 *
˘x
)

200 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

201  
NULL
;

202 
	}
}

204 
s°ack_∑ylﬂd_t
 *
	$s°ack_ª«me
(

205 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

206 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

207 
log_˘x_t
 *
˘x
)

210 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

211  
NULL
;

212 
	}
}

214 
s°ack_∑ylﬂd_t
 *
	$s°ack_lök
(

215 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

216 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

217 
log_˘x_t
 *
˘x
)

220 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

221  
NULL
;

222 
	}
}

224 
s°ack_∑ylﬂd_t
 *
	$s°ack_ªaddú
(

225 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

226 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

227 
log_˘x_t
 *
˘x
)

230 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

231  
NULL
;

232 
	}
}

234 
s°ack_∑ylﬂd_t
 *
	$s°ack_ªaddú∂us
(

235 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

236 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

237 
log_˘x_t
 *
˘x
)

240 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

241  
NULL
;

242 
	}
}

244 
s°ack_∑ylﬂd_t
 *
	$s°ack_fs°©
(

245 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

246 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

247 
log_˘x_t
 *
˘x
)

250 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

251  
NULL
;

252 
	}
}

254 
s°ack_∑ylﬂd_t
 *
	$s°ack_fsöfo
(

255 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

256 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

257 
log_˘x_t
 *
˘x
)

260 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

261  
NULL
;

262 
	}
}

264 
s°ack_∑ylﬂd_t
 *
	$s°ack_∑thc⁄f
(

265 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

266 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

267 
log_˘x_t
 *
˘x
)

270 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

271  
NULL
;

272 
	}
}

274 
s°ack_∑ylﬂd_t
 *
	$s°ack_commô
(

275 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
,

276 
bds_ˇche_desc_t
 
∑ylﬂd_d©a_ˇche
[2],

277 
log_˘x_t
 *
˘x
)

280 
	`sfs_log
(
˘x
, 
SFS_INFO
, "%s(): fun˘i⁄ÇŸ im∂emíãd", 
__FUNCTION__
);

281  
NULL
;

282 
	}
}

	@sfsd/src/sfsd_signals.c

20 
	~<sig«l.h
>

21 
	~<°döt.h
>

22 
	~<°dio.h
>

23 
	~<s°ack_å™•‹t.h
>

24 
	~<s°ack_sfsd.h
>

27 
h™dÀ_sighup
();

31 
öt32_t
 
	$ªgi°î_sig«ls
(
sfsd_loˇl_t
 *
sfsd
)

33 
ªt
 = 0;

35 
	`sig«l
(
SIGHUP
, 
h™dÀ_sighup
);

37  
ªt
;

38 
	}
}

40 
	$h™dÀ_sighup
(
signum
)

42 
	`Ârötf
(
°dout
, "Sig«»no. %d\n", 
signum
);

43 
	}
}

	@sfsd/src/sfsd_threads.c

19 
	~<±hªad.h
>

20 
	~<°döt.h
>

21 
	~<s°ack_sfsd.h
>

22 
	~<s°ack_log.h
>

23 
	~<s°ack_chunk.h
>

24 
	~<s°ack_jobs.h
>

25 
	~<sfsd_›s.h
>

28 
	sh™dÀ_∑ylﬂd_∑øms
 {

29 
s°ack_∑ylﬂd_t
 *
	m∑ylﬂd
;

30 
bds_ˇche_desc_t
 *
	mˇche_¨r
;

31 
log_˘x_t
 *
	mlog_˘x
;

33 
bds_ˇche_desc_t
 
	mˇche_p
;

35 * 
do_ª˚ive_thªad
 (*
∑øms
);

36 
h™dÀ_comm™d
(
s°ack_∑ylﬂd_t
 *
comm™d
,

37 
s°ack_∑ylﬂd_t
 **
ª•⁄£
,

38 
bds_ˇche_desc_t
 
ˇche_¨r
[2], 
log_˘x_t
 *
log_˘x
);

42 
öt32_t
 
	$sfsd_¸óã_ª˚ivî_thªad
(
sfsd_loˇl_t
 *
sfsd
)

44 
öt32_t
 
ªt
 = 0;

45 
±hªad_©å_t
 
©å
;

47 
	`±hªad_©å_öô
(&
©å
);

48 
	`±hªad_©å_£tsc›e
(&
©å
, 
PTHREAD_SCOPE_SYSTEM
);

50 
ªt
 = 
	`±hªad_¸óã
(&
sfsd
->
ª˚ivî_thªad
, &
©å
,

51 
do_ª˚ive_thªad
, 
sfsd
);

52 
	`SFS_LOG_EXIT
((
ªt
 == 0), "ReceiverÅhread create failed",Ñet,

53 
sfsd
->
log_˘x
, 
SFS_ERR
);

55 
	`sfs_log
(
sfsd
->
log_˘x
, 
SFS_INFO
, "ReceiveÅhread creation successful");

57 
	}
}

59 
öt32_t
 
	$öô_thªad_poﬁ
(
sfsd_loˇl_t
 *
sfsd
)

61 
öt32_t
 
ªt
 = 0;

62 
±hªad_©å_t
 
©å
;

64 
	`±hªad_©å_öô
(&
©å
);

65 
	`±hªad_©å_£tsc›e
(&
©å
, 
PTHREAD_SCOPE_SYSTEM
);

67 
ªt
 = 
	`sfsd_¸óã_ª˚ivî_thªad
(
sfsd
);

68 
	`SFS_LOG_EXIT
((
ªt
 == 0), "CouldÇot createÑeceiverÅhread",

69 
ªt
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

71 
sfsd
->
thªad_poﬁ
 = 
	`s°ack_thªad_poﬁ_¸óã
(1, 5, 30, &
©å
);

72 
	`SFS_LOG_EXIT
((
sfsd
->
thªad_poﬁ
 !
NULL
),

74 
ªt
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

76 
	`sfs_log
(
sfsd
->
log_˘x
, 
SFS_INFO
, "ThreadÖool initialized");

79 
	}
}

81 
s°ack_∑ylﬂd_t
* 
	$gë_∑ylﬂd
(
s°ack_å™•‹t_t
 *
å™•‹t
,

82 
s°ack_˛õ¡_h™dÀ_t
 
h™dÀ
)

84 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
 = 
NULL
;

85 
ssize_t
 
nbyãs
 = 0;

86 
s°ack_å™•‹t_›s_t
 *
›s
 = &
å™•‹t
->
å™•‹t_›s
;

88 
∑ylﬂd
 = 
	`mÆloc
((*payload));

89 
	`SFS_LOG_EXIT
((
∑ylﬂd
 !
NULL
), "AllocateÖayload failed", NULL,

90 
å™•‹t
->
˘x
, 
SFS_ERR
);

92 
nbyãs
 = 
›s
->
	`rx
(
h™dÀ
, (*
∑ylﬂd
),Öayload);

93 
	`sfs_log
 (
å™•‹t
->
˘x
, ((
nbyãs
 =0Ë? 
SFS_ERR
 : 
SFS_DEBUG
),

94 "Paylﬂd size: %d\n", 
nbyãs
);

96  
∑ylﬂd
;

97 
	}
}

99 * 
	$do_¥o˚ss_∑ylﬂd
(*
∑øm
)

101 
h™dÀ_∑ylﬂd_∑øms
 *
h_∑øm
 =

102 (
h™dÀ_∑ylﬂd_∑øms
 *)
∑øm
;

103 
s°ack_∑ylﬂd_t
 *
comm™d
 = 
h_∑øm
->
∑ylﬂd
;

104 
s°ack_∑ylﬂd_t
 *
ª•⁄£
 = 
NULL
;

105 
bds_ˇche_desc_t
 
∑øm_ˇche
 = 
h_∑øm
->
ˇche_p
;

107 
	`h™dÀ_comm™d
(
comm™d
, &
ª•⁄£
, 
h_∑øm
->
ˇche_¨r
, h_∑øm->
log_˘x
);

109 
	`bds_ˇche_‰ì
(
∑øm_ˇche
, 
h_∑øm
);

115 
	}
}

117 * 
	$do_ª˚ive_thªad
(*
∑øm
)

119 
sfsd_loˇl_t
 *
sfsd
 = (sfsd_loˇl_à*)
∑øm
;

120 
öt32_t
 
ªt
 = 0;

121 
uöt32_t
 
mask
 = 
READ_BLOCK_MASK
;

122 
s°ack_∑ylﬂd_t
 *
∑ylﬂd
;

123 
h™dÀ_∑ylﬂd_∑øms
 *
h™dÀ_∑øms
;

124 
bds_ˇche_desc_t
 
∑øm_ˇche
 = 
NULL
;

127 
	`SFS_LOG_EXIT
((
sfsd
->
h™dÀ
 != 0),

129 
NULL
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

131 
ªt
 = 
	`bds_ˇche_¸óã
("∑ylﬂd-ˇche", (
s°ack_∑ylﬂd_t
), 0,

132 
NULL
, NULL,

133 &
sfsd
->
∑ylﬂd_ˇche_¨r
[
PAYLOAD_CACHE_OFFSET
]);

135 
	`SFS_LOG_EXIT
((
ªt
 == 0),

137 
NULL
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

139 
ªt
 = 
	`bds_ˇche_¸óã
("d©a-ˇche", (
s°ack_∑ylﬂd_t
), 0,

140 
NULL
, NULL,

141 &
sfsd
->
∑ylﬂd_ˇche_¨r
[
DATA_CACHE_OFFSET
]);

143 
	`SFS_LOG_EXIT
((
ªt
 == 0),

145 
NULL
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

147 
ªt
 = 
	`bds_ˇche_¸óã
("∑øm-ˇche", (*
h™dÀ_∑øms
), 0,

148 
NULL
, NULL,

149 &
sfsd
->
∑ylﬂd_ˇche_¨r
[
HANDLE_PARAM_OFFSET
]);

151 
	`SFS_LOG_EXIT
((
ªt
 == 0),

153 
NULL
, 
sfsd
->
log_˘x
, 
SFS_ERR
);

154 
∑øm_ˇche
 = 
sfsd
->
∑ylﬂd_ˇche_¨r
[
HANDLE_PARAM_OFFSET
];

156 
	`sfs_log
(
sfsd
->
log_˘x
, 
SFS_DEBUG
, "All cache creationsáre successful");

161 
ªt
 = 
sfsd
->
å™•‹t
->
å™•‹t_›s
.
	`£À˘
(sfsd->
h™dÀ
, 
mask
);

162 i‡(
ªt
 !
READ_NO_BLOCK
) {

164 
	`¶ìp
 (1);

166 
∑ylﬂd
 = 
	`gë_∑ylﬂd
(
sfsd
->
å™•‹t
, sfsd->
h™dÀ
);

169 i‡(
∑ylﬂd
 !
NULL
) {

170 
h™dÀ_∑øms
 = 
	`bds_ˇche_Æloc
(
∑øm_ˇche
);

171 i‡(
h™dÀ_∑øms
 =
NULL
) {

172 
	`sfs_log
(
sfsd
->
log_˘x
, 
SFS_ERR
,

179 
h™dÀ_∑øms
->
∑ylﬂd
 =Öayload;

180 
h™dÀ_∑øms
->
log_˘x
 = 
sfsd
->log_ctx;

181 
h™dÀ_∑øms
->
ˇche_¨r
 = 
sfsd
->
∑ylﬂd_ˇche_¨r
;

182 
h™dÀ_∑øms
->
ˇche_p
 = 
∑øm_ˇche
;

183 
ªt
 = 
	`s°ack_thªad_poﬁ_queue
(
sfsd
->
thªad_poﬁ
,

184 
do_¥o˚ss_∑ylﬂd
, 
h™dÀ_∑øms
);

185 
	`sfs_log
(
sfsd
->
log_˘x
,

186 ((
ªt
 =0Ë? 
SFS_DEBUG
: 
SFS_ERR
),

187 "Job queuê°©us: %d", 
ªt
);

190 
	}
}

192 
	$h™dÀ_comm™d
(
s°ack_∑ylﬂd_t
 *
comm™d
, s°ack_∑ylﬂd_à**
ª•⁄£
,

193 
bds_ˇche_desc_t
 
ˇche_¨r
[2], 
log_˘x_t
 *
log_˘x
)

195 
comm™d
->command)

197 
NFS_GETATTR
:

198 *
ª•⁄£
 = 
	`s°ack_gë©å
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

200 
NFS_SETATTR
:

201 *
ª•⁄£
 = 
	`s°ack_£èâr
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

203 
NFS_LOOKUP
:

204 *
ª•⁄£
 = 
	`s°ack_lookup
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

206 
NFS_ACCESS
:

207 *
ª•⁄£
 = 
	`s°ack_ac˚ss
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

209 
NFS_READLINK
:

210 *
ª•⁄£
 = 
	`s°ack_ªadlök
(
comm™d
, 
ˇche_¨r
,

211 
log_˘x
);

213 
NFS_READ
:

214 *
ª•⁄£
 = 
	`s°ack_ªad
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

216 
NFS_WRITE
:

217 *
ª•⁄£
 = 
	`s°ack_wrôe
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

219 
NFS_CREATE
:

220 *
ª•⁄£
 = 
	`s°ack_¸óã
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

222 
NFS_MKDIR
:

223 *
ª•⁄£
 = 
	`s°ack_mkdú
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

225 
NFS_SYMLINK
:

226 *
ª•⁄£
 = 
	`s°ack_symlök
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

228 
NFS_MKNOD
:

229 *
ª•⁄£
 = 
	`s°ack_mknod
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

231 
NFS_REMOVE
:

232 *
ª•⁄£
 = 
	`s°ack_ªmove
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

234 
NFS_RMDIR
:

235 *
ª•⁄£
 = 
	`s°ack_rmdú
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

237 
NFS_RENAME
:

238 *
ª•⁄£
 = 
	`s°ack_ª«me
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

240 
NFS_LINK
:

241 *
ª•⁄£
 = 
	`s°ack_lök
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

243 
NFS_READDIR
:

244 *
ª•⁄£
 = 
	`s°ack_ªaddú
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

246 
NFS_READDIRPLUS
:

247 *
ª•⁄£
 = 
	`s°ack_ªaddú∂us
(
comm™d
, 
ˇche_¨r
,

248 
log_˘x
);

250 
NFS_FSSTAT
:

251 *
ª•⁄£
 = 
	`s°ack_fs°©
(
comm™d
, 
ˇche_¨r
,

252 
log_˘x
);

254 
NFS_FSINFO
:

255 *
ª•⁄£
 = 
	`s°ack_fsöfo
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

257 
NFS_PATHCONF
:

258 *
ª•⁄£
 = 
	`s°ack_∑thc⁄f
(
comm™d
, 
ˇche_¨r
,

259 
log_˘x
);

261 
NFS_COMMIT
:

262 *
ª•⁄£
 = 
	`s°ack_commô
(
comm™d
, 
ˇche_¨r
, 
log_˘x
);

268 (*
ª•⁄£
)->
hdr
.
£quí˚
 = 
comm™d
->hdr.sequence;

269 
	}
}

	@sfsd/src/sfsd_transport.c

20 
	~<°döt.h
>

21 
	~<s°ack_sfsd.h
>

22 
	~<s°ack_å™•‹t.h
>

24 
s°ack_˛õ¡_h™dÀ_t
 
t˝_˛õ¡_öô
(
s°ack_å™•‹t_t
 *
å™•‹t
);

27 
öt32_t
 
	$öô_å™•‹t
 (
sfsd_loˇl_t
 *
sfsd
)

29 
sfsd
->
å™•‹t
 = 
	`gë_t˝_å™•‹t
(sfsd->
sfs_addr
);

30 
sfsd
->
å™•‹t
->
˘x
 = sfsd->
log_˘x
;

31 
	`ASSERT
((
sfsd
->
å™•‹t
 !
NULL
), "FailedÅo fetchÅransportÅype TCP",

33 
sfsd
->
h™dÀ
 = 
	`t˝_˛õ¡_öô
(sfsd->
å™•‹t
);

34 
	`ASSERT
((
sfsd
->
h™dÀ
 != 0), "FailedÅo get clientÅransport handle",

38 
	}
}

	@sfsd/src/unionfs.c

13 #ifde‡
löux


15 
	#_XOPEN_SOURCE
 700

	)

16 
	#_GNU_SOURCE


18 

	)

19 
	~<fu£.h
>

20 
	~<fu£/fu£_comm⁄.h
>

21 
	~<°dio.h
>

22 
	~<°dlib.h
>

23 
	~<°rög.h
>

24 
	~<°rögs.h
>

25 
	~<uni°d.h
>

26 
	~<f˙é.h
>

27 
	~<sys/°©.h
>

28 
	~<dúít.h
>

29 
	~<î∫o.h
>

30 
	~<sys/ty≥s.h
>

31 
	~<sys/time.h
>

32 
	~<öây≥s.h
>

33 #ifde‡
löux


34 
	~<sys/vfs.h
>

36 
	~<sys/°©vfs.h
>

39 #ifde‡
HAVE_XATTR


40 
	~<sys/x©å.h
>

42 
	~<sy¶og.h
>

43 
	~<sys/ty≥s.h
>

44 
	~<sys/sockë.h
>

45 
	~<±hªad.h
>

46 
	~<√töë/ö.h
>

47 
	~<¨∑/öë.h
>

48 
	~<√tdb.h
>

49 
	~<sys/waô.h
>

50 
	~<sig«l.h
>

51 
	~<sys/°©.h
>

52 
	~<f˙é.h
>

53 
	~<iÁddrs.h
>

54 
	~<zlib.h
>

55 
	~<libgí.h
>

56 
	~"uni⁄fs.h
"

57 
	~"›ts.h
"

58 
	~"°©s.h
"

59 
	~"debug.h
"

60 
	~"födbønch.h
"

61 
	~"gíîÆ.h
"

62 
	~"u∆ök.h
"

63 
	~"rmdú.h
"

64 
	~"ªaddú.h
"

65 
	~"cow.h
"

66 
	~"°rög.h
"

67 
	~"usy¶og.h
"

68 
	~"md.h
"

69 
	~"bô›s.h
"

70 
	~"db.h
"

71 
	~"hashèbÀ.h
"

72 #ifde‡
FILES_DB


73 
	~"fûes_db.h
"

74 #ñi‡
COUCHBASE


75 
	~"couchdb.h
"

79 
	~"pﬁicy.h
"

80 #i‚de‡
ZLIB_CRC


81 
	~"¸c.h
"

85 
	#PORT
 "24496"

	)

86 
	#BACKLOG
 10

	)

87 
	#BLK_SIZE
 4096

	)

89 * 
h™dÀ_ªque°s
(* 
¨g
);

91 
db_t
 *
	gdb
 = 
NULL
;

92 
±hªad_muãx_t
 
	göode_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

93 
hashèbÀ
 *
	gªvî£_lookup
 = 
NULL
;

94 
±hªad_muãx_t
 
	gbønch_muãx
 = 
PTHREAD_MUTEX_INITIALIZER
;

96 
fu£_›t
 
	guni⁄fs_›ts
[] = {

97 
FUSE_OPT_KEY
("chroŸ=%s,", 
KEY_CHROOT
),

98 
FUSE_OPT_KEY
("cow", 
KEY_COW
),

99 
FUSE_OPT_KEY
("-d", 
KEY_DEBUG
),

100 
FUSE_OPT_KEY
("debug_fûe=%s", 
KEY_DEBUG_FILE
),

101 
FUSE_OPT_KEY
("dús=%s", 
KEY_DIRS
),

102 
FUSE_OPT_KEY
("--hñp", 
KEY_HELP
),

103 
FUSE_OPT_KEY
("-h", 
KEY_HELP
),

104 
FUSE_OPT_KEY
("hide_mëa_dú", 
KEY_HIDE_METADIR
),

105 
FUSE_OPT_KEY
("hide_mëa_fûes", 
KEY_HIDE_META_FILES
),

106 
FUSE_OPT_KEY
("max_fûes=%s", 
KEY_MAX_FILES
),

107 
FUSE_OPT_KEY
("noöôgroups", 
KEY_NOINITGROUPS
),

108 
FUSE_OPT_KEY
("ªœxed_≥rmissi⁄s", 
KEY_RELAXED_PERMISSIONS
),

109 
FUSE_OPT_KEY
("°©fs_omô_ro", 
KEY_STATFS_OMIT_RO
),

110 
FUSE_OPT_KEY
("°©s", 
KEY_STATS
),

111 
FUSE_OPT_KEY
("--vîsi⁄", 
KEY_VERSION
),

112 
FUSE_OPT_KEY
("-V", 
KEY_VERSION
),

113 
FUSE_OPT_END


118 
	$uni⁄fs_chmod
(c⁄° *
∑th
, 
mode_t
 
mode
)

120 
p
[
PATHLEN_MAX
];

121 
i
 = -1;

122 
ªs
 = -1;

123 
öode_t
 
öode
;

124 
uöt64_t
 
öode_num
 = 0;

125 *
buf„r
 = 
NULL
, *
buf„r1
 = NULL;

126 
exã¡_t
 * 
exã¡
 = 
NULL
;

127 
j
 = 0;

128 *
∑th_dup
 = 
NULL
;

130 
	`DBG
("%s\n", 
∑th
);

131 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

132 i‡(
i
 == -1)

133 
	`RETURN
(-
î∫o
);

135 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

136 
	`RETURN
(-
ENAMETOOLONG
);

138 
	`USYSLOG
(
LOG_INFO
, "%s:Ö = %†\n", 
__FUNCTION__
, 
p
);

139 
∑th_dup
 = 
	`°rdup
(
p
);

146 
öode_num
 = 
	`gë_öode_numbî
(
∑th_dup
);

147 i‡(
öode_num
 == 0) {

148 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿloˇã %s\n", 
__FUNCTION__
, 
p
);

149 
	`‰ì
(
∑th_dup
);

150 
	`RETURN
(-
EINVAL
);

152 
	`‰ì
(
∑th_dup
);

154 i‡(
	`gë_öode
(
öode_num
, &
öode
, 
db
) != 0) {

155 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿchmod %†\n", 
__FUNCTION__
, 
p
);

156 
	`RETURN
(-
ENOENT
);

158 
buf„r
 = 
	`ˇŒoc
(((
öode
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

159 i‡(
NULL
 =
buf„r
) {

160 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

161 
	`RETURN
(-
ENOMEM
);

163 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
) != 0){

164 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿªadÉxã¡ inf‹m©i⁄\n", 
__FUNCTION__
);

165 
	`‰ì
(
buf„r
);

166 
	`RETURN
(-
EIO
);

168 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

171 
i
 = 0; i < 
öode
.
i_numexã¡s
; i++) {

173 
j
 = 0; j < 
öode
.
i_numª∂iˇs
; j++) {

174 
ªs
 = 
	`chmod
(
exã¡
->
e_∑th
[
j
], 
mode
);

175 i‡(
ªs
 == -1) {

176 
	`sy¶og
(
LOG_ERR
, "%s: chmod faûed f‹ %†\n", 
__FUNCTION__
,

177 
exã¡
->
e_∑th
[
j
]);

178 
	`‰ì
(
buf„r
);

179 
	`RETURN
(-
î∫o
);

183 
öode
.
i_mode
 = 
mode
;

184 
buf„r1
 = 
	`ˇŒoc
(((
öode_t
) +

185 
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

186 i‡(
NULL
 =
buf„r1
) {

187 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

188 
__FUNCTION__
, 
öode_num
);

189 
	`‰ì
(
buf„r
);

190 
	`RETURN
(-
ENOMEM
);

193 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

194 
	`mem˝y
(
buf„r1
+(
öode_t
), 
buf„r
,

195 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

196 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
, 
buf„r1
,

197 ((
öode_t
Ë+ (
öode
.
i_numexã¡s
 * (
exã¡_t
)))) != 1)) {

199 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

200 
__FUNCTION__
, 
öode_num
);

201 
	`‰ì
(
buf„r
);

202 
	`‰ì
(
buf„r1
);

203 
	`RETURN
(-
EIO
);

205 
	`‰ì
(
buf„r
);

206 
	`‰ì
(
buf„r1
);

208 
ªs
 = 
	`chmod
(
p
, 
mode
);

209 i‡(
ªs
 == -1)

210 
	`RETURN
(-
î∫o
);

212 
	`RETURN
(0);

213 
	}
}

216 
	$uni⁄fs_chown
(c⁄° *
∑th
, 
uid_t
 
uid
, 
gid_t
 
gid
)

218 
i
 = -1;

219 
p
[
PATHLEN_MAX
];

220 
ªs
 = -1;

221 
öode_t
 
öode
;

222 
uöt64_t
 
öode_num
 = 0;

223 *
buf„r
 = 
NULL
, *
buf„r1
 = NULL;

224 
exã¡_t
 * 
exã¡
 = 
NULL
;

225 
j
 = -1;

227 
	`DBG
("%s\n", 
∑th
);

228 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

229 i‡(
i
 == -1)

230 
	`RETURN
(-
î∫o
);

231 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

232 
	`RETURN
(-
ENAMETOOLONG
);

239 
öode_num
 = 
	`gë_öode_numbî
(
p
);

240 i‡(
öode_num
 == 0) {

241 
	`USYSLOG
(
LOG_ERR
, "%s: U«bÀÅÿloˇã %s\n", 
__FUNCTION__
, 
p
);

242 
	`RETURN
(-
EINVAL
);

245 i‡(
	`gë_öode
(
öode_num
, &
öode
, 
db
) != 0) {

246 
	`USYSLOG
(
LOG_ERR
, "%s: U«bÀÅÿchmod %†\n", 
__FUNCTION__
, 
p
);

247 
	`RETURN
(-
ENOENT
);

249 
buf„r
 = 
	`ˇŒoc
(((
öode
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

250 i‡(
NULL
 =
buf„r
) {

251 
	`USYSLOG
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

252 
	`RETURN
(-
ENOMEM
);

254 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
) != 0){

255 
	`USYSLOG
(
LOG_ERR
, "%s: U«bÀÅÿªadÉxã¡ inf‹m©i⁄\n", 
__FUNCTION__
);

256 
	`‰ì
(
buf„r
);

257 
	`RETURN
(-
EIO
);

259 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

262 
i
 = 0; i < 
öode
.
i_numexã¡s
; i++) {

264 
j
 = 0; j < 
öode
.
i_numª∂iˇs
; j++) {

265 
ªs
 = 
	`chown
(
exã¡
->
e_∑th
[
j
], 
uid
, 
gid
);

266 i‡(
ªs
 == -1) {

267 
	`USYSLOG
(
LOG_ERR
, "%s: chow¿Áûed f‹ %†\n", 
__FUNCTION__
,

268 
exã¡
->
e_∑th
[
j
]);

269 
	`‰ì
(
buf„r
);

270 
	`RETURN
(-
î∫o
);

274 
öode
.
i_uid
 = 
uid
;

275 
öode
.
i_gid
 = 
gid
;

276 
buf„r1
 = 
	`ˇŒoc
(((
öode_t
) +

277 
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

278 i‡(
NULL
 =
buf„r1
) {

279 
	`USYSLOG
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

280 
__FUNCTION__
, 
öode_num
);

281 
	`‰ì
(
buf„r
);

282 
	`RETURN
(-
ENOMEM
);

285 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

286 
	`mem˝y
(
buf„r1
+(
öode_t
), 
buf„r
,

287 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

288 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
, 
buf„r1
,

289 ((
öode_t
Ë+ (
öode
.
i_numexã¡s
 * (
exã¡_t
)))) != 1)) {

291 
	`USYSLOG
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

292 
__FUNCTION__
, 
öode_num
);

293 
	`‰ì
(
buf„r
);

294 
	`‰ì
(
buf„r1
);

295 
	`RETURN
(-
EIO
);

297 
	`‰ì
(
buf„r
);

298 
	`‰ì
(
buf„r1
);

300 
ªs
 = 
	`lchown
(
p
, 
uid
, 
gid
);

301 i‡(
ªs
 == -1)

302 
	`RETURN
(-
î∫o
);

305 
	}
}

312 
	$uni⁄fs_¸óã
(c⁄° *
∑th
, 
mode_t
 
mode
, 
fu£_fûe_öfo
 *
fi
)

314 
i
 = -1;

315 
p
[
PATHLEN_MAX
];

316 
ªs
 = -1;

317 
uöt64_t
 *
vÆue
 = 
NULL
;

318 
uöt64_t
 
öode_num
 = 0;

319 
öode_t
 
öode
;

320 
exã¡_t
 
exã¡
;

321 
time•ec
 
cuºít_time
;

322 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

323 *
‚ame
 = 
NULL
;

324 
°©
 
°©buf
;

325 
pﬁicy_t
 *
pﬁicy
 = 
NULL
;

327 
	`DBG
("%s\n", 
∑th
);

328 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

329 i‡(
i
 == -1) {

330 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

331 
	`RETURN
(-
î∫o
);

334 
	`USYSLOG
(
LOG_INFO
, "%s: uid = %d gid = %d\n", 
__FUNCTION__
,

335 
	`gëuid
(), 
	`gëgid
());

337 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath)) {

338 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

339 
	`RETURN
(-
ENAMETOOLONG
);

343 
vÆue
 = 
	`hashèbÀ_£¨ch
(
ªvî£_lookup
, (*)
∑th
);

344 i‡(
vÆue
 !
NULL
) {

345 
	`sy¶og
(
LOG_ERR
, "%s: FileálreadyÖresent inÅhe file system."

346 " FaûögÅhêªque°\n", 
__FUNCTION__
);

347 
	`RETURN
(-
EEXIST
);

354 
ªs
 = 
	`›í
(
p
, 
fi
->
Êags
, 0);

355 i‡(
ªs
 == -1)

356 
	`RETURN
(-
î∫o
);

357 
	`£t_ow√r
(
p
);

359 
	`fchmod
(
ªs
, 
mode
);

360 
fi
->
fh
 = 
ªs
;

361 
	`ªmove_hiddí
(
∑th
, 
i
);

364 
öode_num
 = 
	`gë_‰ì_öode
();

365 i‡(
öode_num
 == 0) {

366 
	`USYSLOG
(
LOG_ERR
, "%s: Fûêsy°em FULL. \n", 
__FUNCTION__
);

367 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

368 
	`RETURN
(-
ENOSPC
);

371 
	`mem£t
(&
öode
, 0, (
öode_t
));

372 
öode
.
i_num
 = 
öode_num
;

373 
	`°r˝y
(
öode
.
i_«me
, 
p
);

374 
öode
.
i_uid
 = 
	`gëuid
();

375 
öode
.
i_gid
 = 
	`gëgid
();

376 
öode
.
i_ty≥
 = 
REGFILE
;

377 
öode
.
i_löks
 = 1;

378 
pﬁicy
 = 
	`gë_pﬁicy
(
∑th
);

379 i‡(
pﬁicy
 =
NULL
) {

380 
	`USYSLOG
(
LOG_INFO
, "%s: NoÖolicies specified. DefaultÖolicyápplied\n",

381 
__FUNCTION__
);

382 
	`mem˝y
(&
öode
.
i_pﬁicy
, &
deÁu…_pﬁicy
, (
pﬁicy_t
));

384 
	`USYSLOG
(
LOG_INFO
, "%s: GŸÖﬁicy f‹ fûê%s\n", 
__FUNCTION__
, 
∑th
);

385 
	`USYSLOG
(
LOG_ERR
, "%s: %†%d %d %d %"
PRId64
" \n", 
__FUNCTION__
, 
∑th
,

386 
pﬁicy
->
p_qo¶evñ
,Öﬁicy->
p_ishiddí
,Öﬁicy->
p_is°rùed
,

387 
pﬁicy
->
p_exã¡size
);

388 
	`mem˝y
(&
öode
.
i_pﬁicy
, 
pﬁicy
, (
pﬁicy_t
));

390 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

391 
öode
.
i_©ime
 = inode.
i_˘ime
 = inode.
i_mtime
 = 
cuºít_time
;

392 
öode
.
i_numª∂iˇs
 = 1;

393 
öode
.
i_numexã¡s
 = 1;

394 
öode
.
i_size
 = 0;

395 
	`l°©
(
p
, &
°©buf
);

396 
öode
.
i_mode
 = 
°©buf
.
°_mode
;

398 
	`USYSLOG
(
LOG_INFO
, "%s: modêf‹ %†i†%ÿ\n", 
__FUNCTION__
, 
p
, 
mode
);

400 
exã¡
.
e_ty≥
 = 
OFFSET
;

401 
exã¡
.
e_vÆue
 = 0;

402 
exã¡
.
e_size
 = 0;

403 
exã¡
.
e_cksum
 = 0;

404 
exã¡
.
e_ª∂iˇ_vÆid
 = 0;

405 
	`°r˝y
(
exã¡
.
e_∑th
[0], 
p
);

408 
	`mem˝y
(
buf„r
, &
öode
, (
öode_t
));

409 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

410 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

411 i‡(
NULL
 =
vÆue
) {

412 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

413 
__FUNCTION__
);

414 
	`RETURN
(0);

417 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode_num
, 
buf„r
,

418 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

420 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo store inode for %s in DB. \n",

421 
__FUNCTION__
, 
p
);

422 
	`RETURN
(-
EINVAL
);

424 
	`USYSLOG
(
LOG_ERR
, "%s: fûê%†Inodênumbî %"
PRId64
"áddedÅo DB \n",

425 
__FUNCTION__
, 
öode
.
i_«me
, 
öode_num
);

427 
	`mem˝y
(
vÆue
, &
öode
.
i_num
, (
uöt64_t
));

428 
‚ame
 = 
	`°rdup
(
p
);

430 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

431 #ifde‡
FILES_DB


432 
	`sync
();

436 
	`DBG
("fd = %" 
PRIx64
 "\n", 
fi
->
fh
);

438 
	`RETURN
(0);

439 
	}
}

448 
	$uni⁄fs_Êush
(c⁄° *
∑th
, 
fu£_fûe_öfo
 *
fi
)

450 
fd
 = -1;

451 
öode_t
 
öode
;

452 
uöt64_t
 
öode_num
 = 0;

453 *
buf„r
 = 
NULL
;

454 
exã¡_t
 *
exã¡
 = 
NULL
;

455 
i
 = -1, 
j
 = -1;

456 
p
[
PATH_MAX
];

458 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

459 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0)

460 
	`RETURN
(0);

467 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

468 i‡(
i
 == -1) {

469 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

470 
	`RETURN
(-
î∫o
);

473 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath)) {

474 
	`sy¶og
(
LOG_ERR
, "%s: Fûê«mêtoÿl⁄g \n", 
__FUNCTION__
);

475 
	`RETURN
(-
ENAMETOOLONG
);

479 
öode_num
 = 
	`gë_öode_numbî
(
p
);

480 i‡(
öode_num
 == 0) {

482 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found \n", 
__FUNCTION__
, 
p
);

483 
	`RETURN
(-
EINVAL
);

487 i‡(
	`gë_öode
(
öode_num
, &
öode
, 
db
) != 0) {

488 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÊush %†\n", 
__FUNCTION__
, 
∑th
);

489 
	`RETURN
(-
ENOENT
);

491 
buf„r
 = 
	`ˇŒoc
(((
öode
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

492 i‡(
NULL
 =
buf„r
) {

493 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

494 
	`RETURN
(-
ENOMEM
);

496 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
) != 0){

497 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿªadÉxã¡ inf‹m©i⁄\n", 
__FUNCTION__
);

498 
	`‰ì
(
buf„r
);

499 
	`RETURN
(-
EIO
);

501 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

504 
i
 = 0; i < 
öode
.
i_numexã¡s
; i++) {

506 
j
 = 0; j < 
öode
.
i_numª∂iˇs
; j++) {

511 
fd
 = 
	`›í
(
exã¡
->
e_∑th
[
j
], 
O_RDONLY
);

512 i‡(
fd
 == -1) {

513 
	`sy¶og
(
LOG_ERR
, "%s: o≥¿Áûed f‹ %s\n", 
__FUNCTION__
,

514 
exã¡
->
e_∑th
[
j
]);

515 
	`‰ì
(
buf„r
);

516 
	`RETURN
(-
î∫o
);

518 i‡(
	`fsync
(
fd
) == -1) {

519 
	`sy¶og
(
LOG_ERR
, "%s: fsyn¯Áûed o¿%†\n", 
__FUNCTION__
,

520 
exã¡
->
e_∑th
[
j
]);

521 
	`‰ì
(
buf„r
);

522 
	`˛o£
(
fd
);

523 
	`RETURN
(-
î∫o
);

526 
	`˛o£
(
fd
);

529 
	`‰ì
(
buf„r
);

531 
ªs
 = -1;

533 
fd
 = 
	`dup
(
fi
->
fh
);

534 i‡(
fd
 == -1) {

536 i‡(
	`fsync
(
fi
->
fh
) == -1)

537 
	`RETURN
(-
EIO
);

538 
	`RETURN
(-
î∫o
);

540 
ªs
 = 
	`˛o£
(
fd
);

541 i‡(
ªs
 == -1)

542 
	`RETURN
(-
î∫o
);

547 
	}
}

553 
	$uni⁄fs_fsync
(c⁄° *
∑th
, 
isd©async
, 
fu£_fûe_öfo
 *
fi
)

555 
ªs
 = -1;

556 
öode_t
 
öode
;

557 
uöt64_t
 
öode_num
 = 0;

558 *
buf„r
 = 
NULL
;

559 
exã¡_t
 *
exã¡
 = 
NULL
;

560 
i
 = -1, 
j
 = -1;

561 
p
[
PATH_MAX
];

562 
fd
 = -1;

564 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

565 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0)

566 
	`RETURN
(0);

573 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

574 i‡(
i
 == -1) {

575 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

576 
	`RETURN
(-
î∫o
);

579 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath)) {

580 
	`sy¶og
(
LOG_ERR
, "%s: Fûê«mêtoÿl⁄g \n", 
__FUNCTION__
);

581 
	`RETURN
(-
ENAMETOOLONG
);

585 
öode_num
 = 
	`gë_öode_numbî
(
p
);

586 i‡(
öode_num
 == 0) {

588 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found \n", 
__FUNCTION__
, 
p
);

589 
	`RETURN
(-
EINVAL
);

593 i‡(
	`gë_öode
(
öode_num
, &
öode
, 
db
) != 0) {

594 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿfsyn¯%†\n", 
__FUNCTION__
, 
∑th
);

595 
	`RETURN
(-
ENOENT
);

597 
buf„r
 = 
	`ˇŒoc
(((
öode
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

598 i‡(
NULL
 =
buf„r
) {

599 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

600 
	`RETURN
(-
ENOMEM
);

602 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
) != 0){

603 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿªadÉxã¡ inf‹m©i⁄\n", 
__FUNCTION__
);

604 
	`‰ì
(
buf„r
);

605 
	`RETURN
(-
EIO
);

607 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

610 
i
 = 0; i < 
öode
.
i_numexã¡s
; i++) {

612 
j
 = 0; j < 
öode
.
i_numª∂iˇs
; j++) {

617 
fd
 = 
	`›í
(
exã¡
->
e_∑th
[
j
], 
O_RDONLY
);

618 i‡(
fd
 == -1) {

619 
	`sy¶og
(
LOG_ERR
, "%s: o≥¿Áûed f‹ %s\n", 
__FUNCTION__
,

620 
exã¡
->
e_∑th
[
j
]);

621 
	`‰ì
(
buf„r
);

622 
	`RETURN
(-
î∫o
);

624 i‡(
isd©async
) {

625 #i‡
_POSIX_SYNCHRONIZED_IO
 + 0 > 0

626 
ªs
 = 
	`fd©async
(
fd
);

628 
ªs
 = 
	`fsync
(
fd
);

631 
ªs
 = 
	`fsync
(
fd
);

633 i‡(
ªs
 == -1) {

634 
	`sy¶og
(
LOG_ERR
, "%s: fsyn¯Áûed o¿%†\n", 
__FUNCTION__
,

635 
exã¡
->
e_∑th
[
j
]);

636 
	`‰ì
(
buf„r
);

637 
	`˛o£
(
fd
);

638 
	`RETURN
(-
î∫o
);

641 
	`˛o£
(
fd
);

644 
	`‰ì
(
buf„r
);

646  
ªs
;

647 
	}
}

650 
	$uni⁄fs_gë©å
(c⁄° *
∑th
, 
°©
 *
°buf
)

653 
i
 = -1;

654 
p
[
PATHLEN_MAX
];

655 
ªs
 = -1;

657 
	`DBG
("%s\n", 
∑th
);

658 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0) {

659 
	`mem£t
(
°buf
, 0, (stbuf));

660 
°buf
->
°_mode
 = 
S_IFREG
 | 0444;

661 
°buf
->
°_∆ök
 = 1;

662 
°buf
->
°_size
 = 
STATS_SIZE
;

663 
	`RETURN
(0);

666 
i

	`föd_r‹w_bønch
(
∑th
);

667 i‡(
i
 == -1)

668 
	`RETURN
(-
î∫o
);

670 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

671 
	`RETURN
(-
ENAMETOOLONG
);

673 
ªs
 = 
	`l°©
(
p
, 
°buf
);

674 i‡(
ªs
 == -1)

675 
	`RETURN
(-
î∫o
);

684 i‡(
	`S_ISDIR
(
°buf
->
°_mode
))

685 
°buf
->
°_∆ök
 = 1;

687 
	`RETURN
(0);

688 
	}
}

691 
uöt64_t
 
	göode_numbî
 = 
INODE_NUM_START
;

692 
	gbønch_ödex
;

694 
ölöe
 

695 
	$£t_bô
(
uöt8_t
 
numbî
, 
posôi⁄
)

697 
numbî
 =Çumbî |(1<<
posôi⁄
);

698 
	}
}

701 
	$∑r£dú
 (c⁄° * 
dú_«me
)

703 
DIR
 * 
d
;

706 
	`USYSLOG
(
LOG_ERR
, "%s: dú_«mê%†\n", 
__FUNCTION__
, 
dú_«me
);

708 
d
 = 
	`›ídú
 (
dú_«me
);

711 i‡(! 
d
) {

712 
	`Ârötf
 (
°dîr
, "Cannot open directory '%s': %s\n",

713 
dú_«me
, 
	`°ªº‹
 (
î∫o
));

714 
	`exô
 (
EXIT_FAILURE
);

718 
dúít
 * 
íåy
;

719 c⁄° * 
d_«me
;

720 
∑th
[
PATHLEN_MAX
];

721 *
p
 = 
NULL
;

724 
íåy
 = 
	`ªaddú
 (
d
);

725 i‡(! 
íåy
) {

730 
d_«me
 = 
íåy
->d_name;

732 i‡(
	`°rcmp
 (
d_«me
, "..") != 0 && strcmp (d_name, ".") != 0) {

733 i‡(
	`BUILD_PATH
(
∑th
, 
dú_«me
, 
d_«me
))

736 
	`•rötf
(
∑th
, "%s%s", 
dú_«me
, 
d_«me
);

737 
	`USYSLOG
(
LOG_ERR
, "%s: dú_«mê%s, d_«mê%†\n", 
__FUNCTION__
,

738 
dú_«me
, 
d_«me
);

740 
p
 = 
	`ªp
(
∑th
, '/');

741 
	`add_öodes
(
p
);

742 
	`‰ì
(
p
);

747 i‡(
íåy
->
d_ty≥
 & 
DT_DIR
) {

751 i‡(
	`°rcmp
 (
d_«me
, "..") != 0 &&

752 
	`°rcmp
 (
d_«me
, ".") != 0) {

753 
∑th_Àngth
;

754 
∑th
[
PATH_MAX
];

756 
∑th_Àngth
 = 
	`¢¥ötf
 (
∑th
, 
PATH_MAX
,

757 "%s/%s", 
dú_«me
, 
d_«me
);

758 
	`¥ötf
 ("%s\n", 
∑th
);

759 i‡(
∑th_Àngth
 >
PATH_MAX
) {

760 
	`Ârötf
 (
°dîr
, "PathÜength has gotÅooÜong.\n");

761 
	`exô
 (
EXIT_FAILURE
);

764 
	`∑r£dú
 (
∑th
);

769 i‡(
	`˛o£dú
 (
d
)) {

770 
	`Ârötf
 (
°dîr
, "CouldÇot close '%s': %s\n",

771 
dú_«me
, 
	`°ªº‹
 (
î∫o
));

772 
	`exô
 (
EXIT_FAILURE
);

774 
	}
}

782 
	$add_öodes
(c⁄° *
∑th
)

785 *
buf„r
 = 
NULL
;

786 
exã¡_t
 
©å
;

787 
öode_t
 *
öode
;

788 
pﬁicy_t
 *
pﬁicy
 = 
NULL
;

789 
uöt64_t
 *
vÆue
 = 
NULL
;

790 *
‚ame
 = 
NULL
;

791 
°©
 
°©us
;

794 
	`USYSLOG
(
LOG_ERR
, "%s:Ö©h = %s\n", 
__FUNCTION__
, 
∑th
);

795 i‡(
	`l°©
(
∑th
, &
°©us
) == -1) {

796 
	`sy¶og
(
LOG_ERR
, "%s: sèàÁûed o¿%†wôhÉº‹ %d\n", 
__FUNCTION__
,

797 
∑th
, 
î∫o
);

798 
	`RETURN
(-
î∫o
);

801 
buf„r
 = 
	`ˇŒoc
(((
öode_t
Ë+ (
exã¡_t
)), 1);

802 i‡(
NULL
 =
buf„r
) {

804 
	`sy¶og
(
LOG_NOTICE
, "Out of memoryátÜine %d function %s \n",

805 
__LINE__
, 
__FUNCTION__
);

806 
	`RETURN
(-1);

810 
öode
 = (
öode_t
 *)
buf„r
;

813 
öode
->
i_num
 = 
	`gë_‰ì_öode
();

814 
	`°r˝y
(
öode
->
i_«me
, 
∑th
);

815 
öode
->
i_uid
 = 
°©us
.
°_uid
;

816 
öode
->
i_gid
 = 
°©us
.
°_gid
;

817 
öode
->
i_mode
 = 
°©us
.
°_mode
;

818 
°©us
.
°_mode
 & 
S_IFMT
) {

819 
S_IFDIR
:

820 
öode
->
i_ty≥
 = 
DIRECTORY
;

822 
S_IFREG
:

823 
öode
->
i_ty≥
 = 
REGFILE
;

825 
S_IFLNK
:

826 
öode
->
i_ty≥
 = 
SYMLINK
;

828 
S_IFBLK
:

829 
öode
->
i_ty≥
 = 
BLOCKDEV
;

831 
S_IFCHR
:

832 
öode
->
i_ty≥
 = 
CHARDEV
;

834 
S_IFIFO
:

835 
öode
->
i_ty≥
 = 
FIFO
;

837 
S_IFSOCK
:

838 
öode
->
i_ty≥
 = 
SOCKET
;

841 
öode
->
i_ty≥
 = 
UNKNOWN
;

848 
	`mem˝y
(&
öode
->
i_©ime
, &
°©us
.
°_©ime
, (
time•ec
));

849 
	`mem˝y
(&
öode
->
i_˘ime
, &
°©us
.
°_˘ime
, (
time•ec
));

850 
	`mem˝y
(&
öode
->
i_mtime
, &
°©us
.
°_mtime
, (
time•ec
));

851 
öode
->
i_size
 = 
°©us
.
°_size
;

852 
öode
->
i_numª∂iˇs
 = 1;

855 
öode
->
i_numexã¡s
 = 1;

856 
öode
->
i_löks
 = 
°©us
.
°_∆ök
;

857 
	`USYSLOG
(
LOG_INFO
, "%s:Çlök†f‹ %†¨ê%d\n", 
__FUNCTION__
, 
∑th
, 
öode
->
i_löks
);

859 
pﬁicy
 = 
	`gë_pﬁicy
(
∑th
);

860 i‡(
NULL
 =
pﬁicy
) {

861 
	`USYSLOG
(
LOG_INFO
, "%s: NoÖolicies specified. DefaultÖolicyápplied\n",

862 
__FUNCTION__
);

863 
	`mem˝y
(&
öode
->
i_pﬁicy
, &
deÁu…_pﬁicy
, (
pﬁicy_t
));

866 
	`USYSLOG
(
LOG_INFO
, "%s: GŸÖﬁicy f‹ fûê%s\n", 
__FUNCTION__
, 
∑th
);

867 
	`USYSLOG
(
LOG_INFO
, "%s: %†%d %d %d %"
PRId64
" \n", 
__FUNCTION__
, 
∑th
,

868 
pﬁicy
->
p_qo¶evñ
,Öﬁicy->
p_ishiddí
,Öﬁicy->
p_is°rùed
,

869 
pﬁicy
->
p_exã¡size
);

870 
	`mem˝y
(&
öode
->
i_pﬁicy
, 
pﬁicy
, (
pﬁicy_t
));

873 
	`mem£t
(&
©å
, 0, (
exã¡_t
));

874 
©å
.
e_ty≥
 = 
OFFSET
;

875 
©å
.
e_vÆue
 = 0;

876 
©å
.
e_size
 = 
°©us
.
°_size
;

877 i‡(
öode
->
i_ty≥
 =
REGFILE
) {

878 
©å
.
e_cksum
 = 
	`checksum
(
∑th
);

879 
	`USYSLOG
(
LOG_INFO
, "%s: checksum o‡%†i†%lu \n", 
__FUNCTION__
,

880 
∑th
, 
©å
.
e_cksum
);

882 
©å
.
e_cksum
 = 0;

883 
©å
.
e_cksum
 = 0;

884 
	`£t_bô
(
©å
.
e_ª∂iˇ_vÆid
, 1);

885 
	`°r˝y
(
©å
.
e_∑th
[0], 
∑th
);

888 
	`mem˝y
((
buf„r
+(
öode_t
)), &
©å
, (
exã¡_t
));

892 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode
->
i_num
, 
buf„r
,

893 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

895 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿadd inodêtÿdb . \n", 
__FUNCTION__
);

896 
	`‰ì
(
buf„r
);

897 
	`RETURN
(0);

899 #ifde‡
FILES_DB


904 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

905 i‡(
NULL
 =
vÆue
) {

906 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

907 
__FUNCTION__
);

908 
	`RETURN
(0);

910 
	`mem˝y
(
vÆue
, &
öode
->
i_num
, (
uöt64_t
));

911 
‚ame
 = 
	`°rdup
(
∑th
);

913 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

914 
	`USYSLOG
(
LOG_INFO
, "%s: fûíamê°‹ed f‹ inodê%"
PRId64
" is %s \n",

915 
__FUNCTION__
, *
vÆue
, 
‚ame
);

917 
vÆue
 = (
uöt64_t
 *)
	`hashèbÀ_£¨ch
(
ªvî£_lookup
, 
‚ame
);

919 
	`‰ì
(
buf„r
);

921 
	`RETURN
(0);

922 
	}
}

930 
	$uni⁄fs_öô
(
fu£_c⁄n_öfo
 *
c⁄n
)

932 
±hªad_t
 
thªad
;

933 
±hªad_©å_t
 
©å
;

934 
ªt
 = -1;

935 #ifde‡
COUCHBASE


936 
time•ec
 
time_dbg
;

937 
FILE
 *
fûe_±r
 = 
NULL
;

939 
fûe_±r
 = 
	`f›í
("/home/anand/test", "w");

942 i‡(
	`±hªad_©å_öô
(&
©å
) == 0) {

943 
	`±hªad_©å_£tsc›e
(&
©å
, 
PTHREAD_SCOPE_SYSTEM
);

944 
	`±hªad_©å_£t°acksize
(&
©å
, 65536);

945 
	`±hªad_©å_£tdëach°©e
(&
©å
, 
PTHREAD_CREATE_DETACHED
);

946 
ªt
 = 
	`±hªad_¸óã
(&
thªad
, &
©å
, 
h™dÀ_ªque°s
, 
NULL
);

949 i‡(
ªt
 != 0)

950 
	`Ârötf
(
°dîr
, "UnableÅo createÅhreadÅo handleÑequests .\n");

952 (Ë
c⁄n
->
max_ªadahód
;

956 i‡(
u›t
.
chroŸ
) {

957 
ªs
 = 
	`chroŸ
(
u›t
.
chroŸ
);

958 i‡(
ªs
) {

959 
	`USYSLOG
(
LOG_WARNING
, "ChdirÅo %s failed: %s ! Aborting!\n",

960 
u›t
.
chroŸ
, 
	`°ªº‹
(
î∫o
));

961 
	`exô
(1);

966 
db
 = 
	`¸óã_db
();

967 i‡(
NULL
 =
db
) {

968 
	`USYSLOG
(
LOG_ERR
, "%s: UnableÅo create db. FATAL ERROR \n",

969 
__FUNCTION__
);

970  
NULL
;

972 #ifde‡
FILES_DB


973 
	`db_ªgi°î
(
db
, 
fûes_db_öô
, 
fûes_db_›í
, 
fûes_db_˛o£
,

974 
fûes_db_ö£π
, 
fûes_db_gë
, 
fûes_db_£ekªad
, 
fûes_db_upd©e
,

975 
fûes_db_dñëe
, 
fûes_db_˛ónup
);

976 #ñi‡
COUCHBASE


977 
	`db_ªgi°î
(
db
, 
couchdb_¸óã
, 
NULL
, 
couchdb_de°roy
,

978 
couchdb_ö£π
, 
couchdb_gë
, 
couchdb_£ekªad
, 
couchdb_upd©e
,

979 
couchdb_dñëe
, 
couchdb_de°roy
);

982 
	`db_ªgi°î
(
db
, 
NULL
, NULL, NULL, NULL, NULL, NULL, NULL, NULL);

986 i‡–
db
->
db_›s
.
db_öô
 && (db->db_›s.
	`db_öô
() != 0)) {

988 
	`USYSLOG
(
LOG_ERR
, "%s: DB init failed withÉrror %d \n",

989 
__FUNCTION__
, 
î∫o
);

990  
NULL
;

992 i‡(
db
->
db_›s
.
db_›í
 && (db->db_›s.
	`db_›í
() != 0)) {

993 
	`USYSLOG
(
LOG_ERR
, "%s: DB open failed withÉrror %d \n",

994 
__FUNCTION__
, 
î∫o
);

995  
NULL
;

1000 
ªvî£_lookup
 = 
	`¸óã_hashèbÀ
(16, 
°rög_hash
, 
°rög_equÆ
);

1001 i‡(
NULL
 =
ªvî£_lookup
) {

1002 
	`USYSLOG
(
LOG_ERR
, "%s: FATAL ERROR. No memoryÅoállocate hashÅable \n",

1003 
__FUNCTION__
);

1004  
NULL
;

1007 
	`pﬁicy_öô
();

1008 #ifde‡
POLICY_DEBUG


1009 
	`dump_pﬁicy
();

1011 #i‚de‡
ZLIB_CRC


1012 #i‚de‡
SSE4_CRC


1013 
	`¸cöô
();

1019 #ifde‡
COUCHBASE


1020 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
time_dbg
);

1021 
	`Ârötf
(
fûe_±r
, "%s:Åimê°¨à%†%Œd\n", 
__FUNCTION__
, 
	`˘ime
(&(
time_dbg
.
tv_£c
)),Åime_dbg.
tv_n£c
);

1024 
bønch_ödex
 = 0; bønch_ödex < 
u›t
.
nbønches
; branch_index++)

1025 
	`∑r£dú
(
u›t
.
bønches
[
bønch_ödex
].
∑th
);

1026 #ifde‡
COUCHBASE


1027 
	`˛ock_gëtime
(
CLOCK_MONOTONIC
, &
time_dbg
);

1028 
	`Ârötf
(
fûe_±r
, "%s:Åimê°› %†%Œd\n", 
__FUNCTION__
, 
	`˘ime
(&(
time_dbg
.
tv_£c
)),Åime_dbg.
tv_n£c
);

1030 
	`f˛o£
(
fûe_±r
);

1034 
	`sy¶og
(
LOG_ERR
, "Unionfs initialization complete\n");

1035  
NULL
;

1036 
	}
}

1045 
	$uni⁄fs_lök
(c⁄° *
‰om
, c⁄° *
to
)

1047 
i
 = -1, 
j
 = -1, 
ªs
 = -1;

1048 
f
[
PATHLEN_MAX
], 
t
[PATHLEN_MAX];

1049 
uöt64_t
 
öode1
 = 0, 
öode2
 = 0;

1050 
öode_t
 
öode_to
, 
öode_‰om
;

1051 
exã¡_t
 
exã¡
;

1052 
time•ec
 
cuºít_time
;

1053 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

1054 *
‚ame
 = 
NULL
;

1055 
uöt64_t
 *
vÆue
 = 
NULL
;

1056 *
buf„r1
 = 
NULL
, *
buf„r2
 = NULL;

1058 
	`DBG
("‰om bønch: %dÅÿbønch: %d\n", 
i
, 
j
);

1061 
i
 = 
	`föd_rw_bønch_cow
(
‰om
);

1062 i‡(
i
 == -1)

1063 
	`RETURN
(-
î∫o
);

1066 
j
 = 
	`__föd_rw_bønch_cuéa°
(
to
, 
i
);

1067 i‡(
j
 == -1)

1068  -
î∫o
;

1070 i‡(
	`BUILD_PATH
(
f
, 
u›t
.
bønches
[
i
].
∑th
, 
‰om
))

1071 
	`RETURN
(-
ENAMETOOLONG
);

1073 i‡(
	`BUILD_PATH
(
t
, 
u›t
.
bønches
[
j
].
∑th
, 
to
))

1074 
	`RETURN
(-
ENAMETOOLONG
);

1076 
öode2
 = 
	`gë_‰ì_öode
();

1077 i‡(
öode2
 == 0) {

1078 
	`sy¶og
(
LOG_ERR
, "%s: Fûêsy°em FULL. \n", 
__FUNCTION__
);

1079 
	`RETURN
(-
ENOSPC
);

1081 
öode1
 = 
	`gë_öode_numbî
(
f
);

1082 i‡(
öode1
 == 0) {

1083 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿloˇã %s\n", 
__FUNCTION__
, 
t
);

1084 
	`RETURN
(-
EINVAL
);

1088 i‡((
	`gë_öode
(
öode1
, &
öode_‰om
, 
db
)) == -1) {

1089 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿªad inodêf‹ inodê# %"
PRIx64
" \n",

1090 
__FUNCTION__
, 
öode1
);

1091 
	`RETURN
(-
EINVAL
);

1093 
	`mem£t
(&
öode_to
, 0, (
öode_t
));

1094 
öode_to
.
i_num
 = 
öode2
;

1095 
	`°r˝y
(
öode_to
.
i_«me
, 
t
);

1096 
öode_to
.
i_uid
 = 
	`gëuid
();

1097 
öode_to
.
i_gid
 = 
	`gëgid
();

1098 
öode_to
.
i_ty≥
 = 
HARDLINK
;

1099 
öode_to
.
i_löks
 = 2;

1100 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

1101 
öode_to
.
i_©ime
 = inode_to.
i_˘ime
 = inode_to.
i_mtime
 = 
cuºít_time
;

1102 
öode_to
.
i_numª∂iˇs
 = 1;

1103 
öode_to
.
i_numexã¡s
 = 1;

1104 
öode_to
.
i_mode
 = 
	`umask
(0);

1105 
	`umask
(
öode_to
.
i_mode
);

1107 
öode_to
.
i_size
 = 
öode_‰om
.i_size;

1110 
	`mem£t
(&
exã¡
, 0, (
exã¡_t
));

1111 
	`°r˝y
(
exã¡
.
e_∑th
[0], 
f
);

1114 
	`mem˝y
(
buf„r
, &
öode_to
, (
öode_t
));

1115 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

1117 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode2
, 
buf„r
,

1118 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

1120 
	`sy¶og
(
LOG_ERR
, "%s: FaûedÅÿ°‹êöodêö DB. \n", 
__FUNCTION__
);

1121 
	`RETURN
(-
EINVAL
);

1123 #ifde‡
FILES_DB


1127 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

1128 i‡(
NULL
 =
vÆue
) {

1129 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

1130 
__FUNCTION__
);

1131 
	`RETURN
(0);

1133 
	`mem˝y
(
vÆue
, &
öode_to
.
i_num
, (
uöt64_t
));

1135 
‚ame
 = 
	`°rdup
(
t
);

1136 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

1139 
öode_‰om
.
i_löks
 ++;

1141 
buf„r1
 = 
	`ˇŒoc
(((
öode_‰om
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

1142 i‡(
NULL
 =
buf„r1
) {

1143 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

1144 
	`RETURN
(-
ENOMEM
);

1146 i‡(
	`gë_exã¡s
(
öode1
,(
exã¡_t
 *)
buf„r1
, 
öode_‰om
.
i_numexã¡s
,

1147 
db
) != 0){

1148 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoÑeadÉxtent information\n",

1149 
__FUNCTION__
);

1150 
	`‰ì
(
buf„r1
);

1151 
	`RETURN
(-
EIO
);

1153 
buf„r2
 = 
	`ˇŒoc
(((
öode_t
) +

1154 
öode_‰om
.
i_numexã¡s
 * (
exã¡_t
)), 1);

1155 i‡(
NULL
 =
buf„r2
) {

1156 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

1157 
__FUNCTION__
, 
öode1
);

1158 
	`‰ì
(
buf„r1
);

1159 
	`RETURN
(-
ENOMEM
);

1161 
	`mem˝y
(
buf„r2
, &
öode_‰om
, (
öode_t
));

1162 
	`mem˝y
(
buf„r2
 + (
öode_t
), 
buf„r1
,

1163 (
öode_‰om
.
i_numexã¡s
 * (
exã¡_t
)));

1164 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode1
, 
buf„r2
,

1165 ((
öode_t
Ë+ (
öode_‰om
.
i_numexã¡s
 * (
exã¡_t
))))

1168 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

1169 
__FUNCTION__
, 
öode1
);

1170 
	`‰ì
(
buf„r1
);

1171 
	`‰ì
(
buf„r2
);

1172 
	`RETURN
(-
EIO
);

1174 
	`‰ì
(
buf„r1
);

1175 
	`‰ì
(
buf„r2
);

1180 
ªs
 = 
	`lök
(
f
, 
t
);

1181 i‡(
ªs
 == -1)

1182 
	`RETURN
(-
î∫o
);

1186 
	`ªmove_hiddí
(
to
, 
i
);

1188 
	`RETURN
(0);

1189 
	}
}

1198 
	$uni⁄fs_mkdú
(c⁄° *
∑th
, 
mode_t
 
mode
)

1200 
i
 = -1, 
ªs
 = -1;

1201 
p
[
PATHLEN_MAX
];

1202 
uöt64_t
 
öode_num
 = 0;

1203 
öode_t
 
öode
;

1204 
exã¡_t
 
exã¡
;

1205 
time•ec
 
cuºít_time
;

1206 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

1207 
uöt64_t
 *
vÆue
 = 
NULL
;

1208 *
‚ame
 = 
NULL
;

1209 
°©
 
°©buf
 = { 0 };

1211 
	`DBG
("%s\n", 
∑th
);

1212 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

1213 i‡(
i
 == -1)

1214 
	`RETURN
(-
î∫o
);

1215 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

1216 
	`RETURN
(-
ENAMETOOLONG
);

1218 
	`USYSLOG
(
LOG_INFO
, "%s:Ö©h = %†modê%o\n", 
__FUNCTION__
, 
p
, 
mode
);

1219 
öode_num
 = 
	`gë_‰ì_öode
();

1220 i‡(
öode_num
 == 0) {

1221 
	`USYSLOG
(
LOG_ERR
, "%s: Fûêsy°em FULL. \n", 
__FUNCTION__
);

1222 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

1223 
	`RETURN
(-
ENOSPC
);

1226 
ªs
 = 
	`mkdú
(
p
, 
mode
);

1227 i‡(
ªs
 == -1)

1228 
	`RETURN
(-
î∫o
);

1230 
	`l°©
(
p
, &
°©buf
);

1231 
	`mem£t
(&
öode
, 0, (
öode_t
));

1232 
öode
.
i_num
 = 
öode_num
;

1233 
	`°r˝y
(
öode
.
i_«me
, 
p
);

1234 
öode
.
i_uid
 = 
°©buf
.
°_uid
;

1235 
öode
.
i_gid
 = 
°©buf
.
°_gid
;

1236 
öode
.
i_ty≥
 = 
DIRECTORY
;

1237 
öode
.
i_löks
 = 
°©buf
.
°_∆ök
;

1238 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

1239 
öode
.
i_©ime
 = inode.
i_˘ime
 = inode.
i_mtime
 = 
cuºít_time
;

1240 
öode
.
i_numª∂iˇs
 = 1;

1241 
öode
.
i_numexã¡s
 = 1;

1242 
öode
.
i_size
 = 
°©buf
.
°_size
;

1243 
öode
.
i_mode
 = 
°©buf
.
°_mode
;

1244 
	`USYSLOG
(
LOG_INFO
, "%s: Dúe˘‹y %†modê%o\n", 
__FUNCTION__
, 
p
,

1245 
°©buf
.
°_mode
);

1247 
	`mem£t
(&
exã¡
, 0, (
exã¡_t
));

1248 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

1249 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode_num
, 
buf„r
,

1250 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

1251 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

1252 
	`USYSLOG
(
LOG_ERR
, "%s: FaûedÅÿ°‹êöodêö DB. \n", 
__FUNCTION__
);

1253 
	`RETURN
(-
EINVAL
);

1255 #ifde‡
FILES_DB


1258 
	`USYSLOG
(
LOG_INFO
, "%s: Inodênumbî %"
PRId64
"áddedÅo DB \n",

1259 
__FUNCTION__
, 
öode_num
);

1261 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

1262 i‡(
NULL
 =
vÆue
) {

1263 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

1264 
__FUNCTION__
);

1265 
	`RETURN
(0);

1267 
	`mem˝y
(
vÆue
, &
öode
.
i_num
, (
uöt64_t
));

1268 
‚ame
 = 
	`°rdup
(
p
);

1269 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

1272 
	`£t_ow√r
(
p
);

1274 
	`chmod
(
p
, 
mode
);

1276 
	`RETURN
(0);

1277 
	}
}

1280 
	$uni⁄fs_mknod
(c⁄° *
∑th
, 
mode_t
 
mode
, 
dev_t
 
rdev
)

1282 
i
 = -1, 
ªs
 = -1;

1283 
p
[
PATHLEN_MAX
];

1284 
fûe_ty≥
 = -1, 
fûe_≥rm
 = -1;

1285 
uöt64_t
 
öode_num
 = 0;

1286 
öode_t
 
öode
;

1287 
exã¡_t
 
exã¡
;

1288 
time•ec
 
cuºít_time
;

1289 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

1290 
uöt64_t
 *
vÆue
 = 
NULL
;

1291 *
‚ame
 = 
NULL
;

1292 
°©
 
°©buf
 = { 0 };

1294 
	`DBG
("%s\n", 
∑th
);

1295 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

1296 i‡(
i
 == -1)

1297 
	`RETURN
(-
î∫o
);

1298 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

1299 
	`RETURN
(-
ENAMETOOLONG
);

1300 
fûe_ty≥
 = 
mode
 & 
S_IFMT
;

1301 
fûe_≥rm
 = 
mode
 & (
S_PROT_MASK
);

1302 i‡((
fûe_ty≥
Ë=
S_IFREG
) {

1308 
	`USYSLOG
 (
LOG_INFO
, "deprecated mknod workaround,ÅellÅhe unionfs-fuseáuthors if you seeÅhis!\n");

1310 
ªs
 = 
	`¸ót
(
p
, 0);

1311 i‡(
ªs
 > 0 && 
	`˛o£
(res) == -1)

1312 
	`USYSLOG
(
LOG_WARNING
, "Warning, cannot close file\n");

1314 
ªs
 = 
	`mknod
(
p
, 
fûe_ty≥
, 
rdev
);

1316 i‡(
ªs
 == -1)

1317 
	`RETURN
(-
î∫o
);

1318 
	`£t_ow√r
(
p
);

1320 
	`chmod
(
p
, 
fûe_≥rm
);

1321 
	`ªmove_hiddí
(
∑th
, 
i
);

1322 
	`l°©
(
p
, &
°©buf
);

1323 
	`mem£t
(&
öode
, 0, (
öode_t
));

1324 
öode
.
i_num
 = 
öode_num
;

1325 
	`°r˝y
(
öode
.
i_«me
, 
p
);

1326 
öode
.
i_uid
 = 
°©buf
.
°_uid
;

1327 
öode
.
i_gid
 = 
°©buf
.
°_gid
;

1328 
öode
.
i_ty≥
 = 
fûe_ty≥
;

1329 
öode
.
i_löks
 = 
°©buf
.
°_∆ök
;

1330 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

1331 
öode
.
i_©ime
 = inode.
i_˘ime
 = inode.
i_mtime
 = 
cuºít_time
;

1332 
öode
.
i_numª∂iˇs
 = 1;

1333 
öode
.
i_numexã¡s
 = 1;

1334 
öode
.
i_size
 = 
°©buf
.
°_size
;

1335 
öode
.
i_mode
 = 
°©buf
.
°_mode
;

1336 
	`USYSLOG
(
LOG_INFO
, "%s: Dúe˘‹y %†modê%o\n", 
__FUNCTION__
, 
p
,

1337 
°©buf
.
°_mode
);

1339 
	`mem£t
(&
exã¡
, 0, (
exã¡_t
));

1340 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

1341 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode_num
, 
buf„r
,

1342 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

1343 
	`sy¶og
(
LOG_ERR
, "%†%d \n", 
__FUNCTION__
, 
__LINE__
);

1344 
	`USYSLOG
(
LOG_ERR
, "%s: FaûedÅÿ°‹êöodêö DB. \n", 
__FUNCTION__
);

1345 
	`RETURN
(-
EINVAL
);

1347 #ifde‡
FILES_DB


1350 
	`USYSLOG
(
LOG_INFO
, "%s: Inodênumbî %"
PRId64
"áddedÅo DB \n",

1351 
__FUNCTION__
, 
öode_num
);

1353 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

1354 i‡(
NULL
 =
vÆue
) {

1355 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

1356 
__FUNCTION__
);

1357 
	`RETURN
(0);

1359 
	`mem˝y
(
vÆue
, &
öode
.
i_num
, (
uöt64_t
));

1360 
‚ame
 = 
	`°rdup
(
p
);

1361 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

1365 
	}
}

1368 
	$uni⁄fs_›í
(c⁄° *
∑th
, 
fu£_fûe_öfo
 *
fi
)

1370 
i
 = -1, 
fd
 = -1;

1371 
p
[
PATHLEN_MAX
];

1372 
pﬁicy_t
 *
pﬁicy
 = 
NULL
;

1373 
uöt64_t
 
öode_num
 = 0;

1374 
öode_t
 
öode
;

1375 
exã¡_t
 
exã¡
;

1376 
time•ec
 
cuºít_time
;

1377 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

1379 
	`DBG
("%s\n", 
∑th
);

1380 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0) {

1381 i‡((
fi
->
Êags
 & 3Ë=
O_RDONLY
) {

1384 
	`RETURN
(0);

1386 
	`RETURN
(-
EACCES
);

1388 i‡(
fi
->
Êags
 & (
O_WRONLY
 | 
O_RDWR
)) {

1389 
i
 = 
	`föd_rw_bønch_cuéa°
(
∑th
);

1391 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

1394 i‡(
i
 == -1)

1395 
	`RETURN
(-
î∫o
);

1397 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

1398 
	`RETURN
(-
ENAMETOOLONG
);

1401 i‡(
fi
->
Êags
 & (
O_CREAT
 | 
O_EXCL
)) {

1402 
uöt64_t
 *
vÆue
 = 
NULL
;

1403 *
‚ame
 = 
NULL
;

1405 
öode_num
 = 
	`gë_‰ì_öode
();

1406 i‡(
öode_num
 == 0) {

1407 
	`USYSLOG
(
LOG_ERR
, "%s: Fûêsy°em FULL. \n", 
__FUNCTION__
);

1408 
	`RETURN
(-
ENOSPC
);

1411 
	`mem£t
(&
öode
, 0, (
öode_t
));

1412 
öode
.
i_num
 = 
öode_num
;

1413 
	`°r˝y
(
öode
.
i_«me
, 
p
);

1414 
öode
.
i_uid
 = 
	`gëuid
();

1415 
öode
.
i_gid
 = 
	`gëgid
();

1416 
öode
.
i_ty≥
 = 
REGFILE
;

1417 
öode
.
i_löks
 = 2;

1418 
pﬁicy
 = 
	`gë_pﬁicy
(
∑th
);

1419 i‡(
pﬁicy
 =
NULL
) {

1420 
	`sy¶og
(
LOG_INFO
, "%s: NoÖolicies specified. "

1421 "DeÁu…Öﬁicyáµlõd\n", 
__FUNCTION__
);

1422 
	`mem˝y
(&
öode
.
i_pﬁicy
, &
deÁu…_pﬁicy
, (
pﬁicy_t
));

1424 
	`sy¶og
(
LOG_INFO
, "%s: GotÖolicy for file %s\n",

1425 
__FUNCTION__
, 
∑th
);

1426 
	`sy¶og
(
LOG_INFO
, "%s: %†%d %d %d %"
PRId64
" \n",

1427 
__FUNCTION__
, 
∑th
, 
pﬁicy
->
p_qo¶evñ
,Öﬁicy->
p_ishiddí
,

1428 
pﬁicy
->
p_is°rùed
,Öﬁicy->
p_exã¡size
);

1429 
	`mem˝y
(&
öode
.
i_pﬁicy
, 
pﬁicy
, (
pﬁicy_t
));

1432 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

1433 
öode
.
i_©ime
 = inode.
i_˘ime
 = inode.
i_mtime
 = 
cuºít_time
;

1434 
öode
.
i_numª∂iˇs
 = 1;

1435 
öode
.
i_numexã¡s
 = 1;

1436 
öode
.
i_size
 = 0;

1437 
öode
.
i_mode
 = 
	`umask
(0);

1438 
	`umask
(
öode
.
i_mode
);

1441 
exã¡
.
e_ty≥
 = 
OFFSET
;

1442 
exã¡
.
e_vÆue
 = 0;

1443 
exã¡
.
e_size
 = 0;

1444 
exã¡
.
e_cksum
 = 0;

1445 
exã¡
.
e_ª∂iˇ_vÆid
 = 0;

1446 
	`°r˝y
(
exã¡
.
e_∑th
[0], 
p
);

1449 
	`mem˝y
(
buf„r
, &
öode
, (
öode_t
));

1450 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

1452 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode_num
, 
buf„r
,

1453 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

1455 
	`USYSLOG
(
LOG_ERR
, "%s: FailedÅo store inode in DB. \n",

1456 
__FUNCTION__
);

1457 
	`RETURN
(-
EINVAL
);

1459 #ifde‡
FILES_DB


1463 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

1464 i‡(
NULL
 =
vÆue
) {

1465 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

1466 
__FUNCTION__
);

1467 
	`RETURN
(0);

1469 
	`mem˝y
(
vÆue
, &
öode
.
i_num
, (
uöt64_t
));

1470 
‚ame
 = 
	`°rdup
(
p
);

1472 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

1477 
fd
 = 
	`›í
(
p
, 
fi
->
Êags
);

1478 i‡(
fd
 == -1)

1479 
	`RETURN
(-
î∫o
);

1481 i‡(
fi
->
Êags
 & (
O_WRONLY
 | 
O_RDWR
)) {

1484 
	`ªmove_hiddí
(
∑th
, 
i
);

1488 
fi
->
fh
 = ()
fd
;

1490 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

1491 
	`RETURN
(0);

1492 
	}
}

1494 
	#TMPNAME_MAX
 16

	)

1495 
	#MAX_COMMAND
 ((
PATH_MAX
)+ (
TMPNAME_MAX
Ë+ 32)

	)

1501 
	$is_video
(c⁄° *
∑th
)

1503 
tm≤am
[
TMPNAME_MAX
] = { '\0' };

1504 
fd
 = -1;

1505 
ªtvÆ
 = -1;

1507 
	`°r˝y
(
tm≤am
, "/tmp/tempXXXXXX");

1508 
fd
 = 
	`mk°emp
(
tm≤am
);

1509 i‡(
fd
 == -1) {

1510 
ªtvÆ
 = 0;

1511 
out
;

1513 
comm™d
[
MAX_COMMAND
];

1514 
°©
 
°©_buf
 = { 0 };

1516 
	`˛o£
(
fd
);

1517 
	`¢¥ötf
((*)
comm™d
, 
MAX_COMMAND
, "fûê%†| gª∞MPEG > %s", 
∑th
, 
tm≤am
);

1518 
	`sy°em
(
comm™d
);

1520 i‡(
	`°©
(
tm≤am
, &
°©_buf
) != 0) {

1521 
	`u∆ök
(
tm≤am
);

1522 
ªtvÆ
 = 0;

1523 
out
;

1525 i‡(
°©_buf
.
°_size
 != 0)

1526 
ªtvÆ
 = 1;

1528 
ªtvÆ
 = 0;

1529 
	`u∆ök
(
tm≤am
);

1533 
out
:

1534  
ªtvÆ
;

1535 
	}
}

1539 
	$uni⁄fs_ªad
(c⁄° *
∑th
, *
buf
, 
size_t
 
size
, 
off_t
 
off£t
,

1540 
fu£_fûe_öfo
 *
fi
)

1542 
ªs
 = -1;

1543 
öode_t
 
öode
;

1544 
uöt64_t
 
öode_num
 = 0;

1545 * 
buf„r
 = 
NULL
;

1546 
exã¡_t
 * 
exã¡
 = 
NULL
;

1547 
i
 = -1;

1548 
p
[
PATH_MAX
];

1549 
uöt64_t
 
°¨tög_exã¡_off£t
;

1550 
ªÆ_fûe_fd
 = -1;

1552 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

1553 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0) {

1554 
out
[
STATS_SIZE
] = "";

1555 
off_t
 
s
 = 
size
;

1556 
	`°©s_•röt
(&
°©s
, 
out
);

1558 i‡(
off£t
 < (
off_t
Ë
	`°æí
(
out
)) {

1559 i‡(
s
 > (
off_t
Ë
	`°æí
(
out
Ë- 
off£t
)

1560 
s
 = 
	`°æí
(
out
)-
off£t
;

1561 
	`mem˝y
(
buf
, 
out
+
off£t
, 
s
);

1563 
s
 = 0;

1566  
s
;

1583 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

1584 i‡(
i
 == -1)

1585 
	`RETURN
(-
î∫o
);

1587 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

1588 
	`RETURN
(-
ENAMETOOLONG
);

1590 
öode_num
 = 
	`gë_öode_numbî
(
p
);

1591 i‡(
öode_num
 == 0) {

1593 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸÖª£¡ \n", 
__FUNCTION__
, 
p
);

1594 
	`RETURN
(-
EINVAL
);

1596 i‡((
	`gë_öode
(
öode_num
, &
öode
, 
db
) == -1)) {

1598 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found\n", 
__FUNCTION__
, 
p
);

1599 
	`RETURN
(-
EBADF
);

1604 i‡((
off£t
 + 
size
Ë> 
öode
.
i_size
) {

1606 
	`sy¶og
(
LOG_ERR
, "%s: InvÆid off£à%"
PRIx64
" specified for file %s."

1607 "Fûêsizêi†%"
PRIx64
" \n", 
__FUNCTION__
, 
off£t
, 
p
, 
öode
.
i_size
);

1608 
	`RETURN
(-
EINVAL
);

1616 i‡(
öode
.
i_ty≥
 =
SYMLINK
 || inode.i_ty≥ =
HARDLINK
) {

1617 
exã¡_t
 *
exã¡
 = 
NULL
;

1619 
exã¡
 = (
exã¡_t
 *Ë
	`ˇŒoc
 ((
öode
.
i_numexã¡s
 *

1620 (
exã¡_t
)), 1);

1621 i‡–
NULL
 =
exã¡
) {

1622 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memoryÅoÑeadÉxtents\n",

1623 
__FUNCTION__
);

1624 
	`RETURN
(-
ENOMEM
);

1628 if(
	`gë_exã¡s
(
öode_num
, 
exã¡
, 1, 
db
) == -1) {

1629 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory forÑeading "

1630 "exã¡s\n", 
__FUNCTION__
);

1631 
	`‰ì
(
exã¡
);

1632 
	`RETURN
(-
ENOMEM
);

1638 
öode_num
 = 
	`gë_öode_numbî
(
exã¡
->
e_∑th
[0]);

1639 i‡(
öode_num
 == 0) {

1640 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found \n", 
__FUNCTION__
, 
p
);

1641 
	`‰ì
(
exã¡
);

1642 
	`RETURN
(-
EINVAL
);

1644 
	`‰ì
(
exã¡
);

1645 i‡((
	`gë_öode
(
öode_num
, &
öode
, 
db
) == -1)) {

1647 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found\n", 
__FUNCTION__
, 
p
);

1648 
	`RETURN
(-
EBADF
);

1650 i‡((
off£t
 + 
size
Ë> 
öode
.
i_size
) {

1652 
	`sy¶og
(
LOG_ERR
, "%s: InvÆid off£à%"
PRIx64
" specified for file"

1653 " %s. Fûêsizêi†%"
PRIx64
" \n", 
__FUNCTION__
, 
off£t
, 
p
,

1654 
öode
.
i_size
);

1655 
	`RETURN
(-
EINVAL
);

1660 i‡(
öode
.
i_pﬁicy
.
p_qo¶evñ
 =
QOS_HIGH
)

1661 
	`ªadahód
(
fi
->
fh
, 
off£t
, 
READAHEAD_HIGH
);

1662 i‡(
öode
.
i_pﬁicy
.
p_qo¶evñ
 =
QOS_MEDIUM
)

1663 
	`ªadahód
(
fi
->
fh
, 
off£t
, 
READAHEAD_MEDIUM
);

1665 
buf„r
 = (*Ë
	`ˇŒoc
 ((
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

1666 i‡–
NULL
 =
buf„r
) {

1667 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memoryÅoÑeadÉxtents\n",

1668 
__FUNCTION__
);

1669 
	`RETURN
(-
ENOMEM
);

1672 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
)

1674 
	`sy¶og
(
LOG_ERR
, "%s: get_extents failed. FATAL ERROR \n",

1675 
__FUNCTION__
);

1676 
	`‰ì
(
buf„r
);

1677 
	`RETURN
(-
EINVAL
);

1680 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

1683 
i
 = 0;

1684 
i
 < 
öode
.
i_numexã¡s
) {

1685 i‡((
exã¡
->
e_vÆue
 +Éxã¡->
e_size
Ë< 
off£t
)

1686 
exã¡
++;

1689 
i
++;

1697 
	`USYSLOG
(
LOG_ERR
, "%s:Éxã¡ %†off£à%"
PRId64
"\n",

1698 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
off£t
,Éxã¡->
e_vÆue
);

1700 i‡(
exã¡
->
e_vÆue
 > 
off£t
)

1701 
exã¡
 --;

1703 
°¨tög_exã¡_off£t
 = 
off£t
 - 
exã¡
->
e_vÆue
;

1709 
ªÆ_fûe_fd
 = 
	`›í
(
exã¡
->
e_∑th
[0], 
O_RDONLY
);

1710 i‡(
ªÆ_fûe_fd
 == -1) {

1711 
	`sy¶og
(
LOG_ERR
, "%s:%d FailedÅo openÅhe file %sÉrror %d\n",

1712 
__FUNCTION__
, 
__LINE__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

1714 
	`‰ì
(
buf„r
);

1715 
	`RETURN
(-
EIO
);

1717 
	`l£ek
(
ªÆ_fûe_fd
, 
°¨tög_exã¡_off£t
, 
SEEK_SET
);

1720 i‡((
öode
.
i_pﬁicy
.
p_exã¡size
 * 
BLK_SIZE
) >=

1721 (
size
 + 
°¨tög_exã¡_off£t
)) {

1723 
exã¡_t
 *
exã¡1
 = (exã¡_à*Ë
buf„r
;

1726 i‡(
exã¡
 !
exã¡1
)

1727 
off£t
 = off£à- 
exã¡
->
e_vÆue
;

1729 
	`USYSLOG
(
LOG_ERR
, "%s:%d Reading %s from offset %d size %d\n",

1730 
__FUNCTION__
, 
__LINE__
, 
exã¡
->
e_∑th
[0], 
off£t
, 
size
);

1731 
ªs
 = 
	`¥ód
(
ªÆ_fûe_fd
, 
buf
, 
size
, 
off£t
);

1732 i‡(
ªs
 == -1){

1733 
	`sy¶og
(
LOG_ERR
, "%s: Reading %s failed withÉrror %d\n",

1734 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

1735 
	`˛o£
(
ªÆ_fûe_fd
);

1736 
	`‰ì
(
buf„r
);

1737 
	`RETURN
(-
î∫o
);

1739 
	`˛o£
(
ªÆ_fûe_fd
);

1740 
	`‰ì
(
buf„r
);

1741 
	`USYSLOG
(
LOG_ERR
, "%s: Rëu∫ög %d\n", 
__FUNCTION__
, 
ªs
);

1743 
	`RETURN
(
ªs
);

1745 
uöt64_t
 
byãs_ªmaöög
 = 
size
;

1746 
uöt64_t
 
byãs_ªad
 = 0;

1747 
exã¡_t
 *
exã¡1
 = (exã¡_à*Ë
buf„r
;

1748 
uöt64_t
 
∑πül_size
 = 0;

1751 
byãs_ªmaöög
) {

1752 
	`USYSLOG
(
LOG_ERR
, "%s:%d Reading %s from offset %d size %d\n",

1753 
__FUNCTION__
, 
__LINE__
, 
exã¡
->
e_∑th
[0], (Ë
off£t
,

1754 (Ë
byãs_ªmaöög
);

1755 
	`USYSLOG
(
LOG_ERR
, "%s: off£à%d sizê%dÉxã¡ off£à%"
PRId64
""

1756 "Éxã¡ sizê%"
PRId64
"\n", 
__FUNCTION__
, (Ë
off£t
,

1757 (Ë
byãs_ªmaöög
, 
exã¡
->
e_vÆue
,Éxã¡->
e_size
);

1759 i‡((
off£t
 + 
byãs_ªmaöög
) >

1760 (
exã¡
->
e_vÆue
 +Éxã¡->
e_size
))

1761 
∑πül_size
 = (
off£t
 + 
byãs_ªmaöög
) -

1762 (
exã¡
->
e_vÆue
 +Éxã¡->
e_size
);

1764 
∑πül_size
 = 
byãs_ªmaöög
;

1766 
	`USYSLOG
(
LOG_ERR
, "%s: Ródög %"
PRId64
" bytes from %s\n",

1767 
__FUNCTION__
, 
∑πül_size
, 
exã¡
->
e_∑th
[0]);

1768 
ªs
 = 
	`¥ód
(
ªÆ_fûe_fd
, 
buf
 + 
byãs_ªad
, 
∑πül_size
, 
off£t
);

1769 i‡(
ªs
 == -1){

1770 
	`sy¶og
(
LOG_ERR
, "%s: Reading %s failed withÉrror %d\n",

1771 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

1772 
	`˛o£
(
ªÆ_fûe_fd
);

1773 
	`‰ì
(
buf„r
);

1774 
	`RETURN
(-
î∫o
);

1776 
	`˛o£
(
ªÆ_fûe_fd
);

1777 
byãs_ªad
 +
ªs
;

1778 
byãs_ªmaöög
 -
ªs
;

1779 
	`USYSLOG
(
LOG_ERR
, "%s: Ród %d byã†‰om %†ªmaöög %"
PRId64
"\n",

1780 
__FUNCTION__
, 
ªs
, 
exã¡
->
e_∑th
[0], 
byãs_ªmaöög
);

1782 i‡(
byãs_ªmaöög
) {

1783 
exã¡
 ++;

1784 
ªÆ_fûe_fd
 = 
	`›í
(
exã¡
->
e_∑th
[0], 
O_RDONLY
);

1785 i‡(
ªÆ_fûe_fd
 == -1) {

1786 
	`sy¶og
(
LOG_ERR
, "%s:%d FailedÅo openÅhe file %s "

1788 
__FUNCTION__
, 
__LINE__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

1789 
	`‰ì
(
buf„r
);

1791 
	`RETURN
(-
EIO
);

1795 i‡(
exã¡
 !
exã¡1
)

1796 
off£t
 = 0;

1798 
∑πül_size
 = 
size
 - 
ªs
;

1802 
	`‰ì
(
buf„r
);

1803 
	`USYSLOG
(
LOG_ERR
, "%s:%d Reque°ed byã†%d Byã†ªad %"
PRId64
"\n",

1804 
__FUNCTION__
, 
__LINE__
, (Ë
size
, 
byãs_ªad
);

1805 
	`RETURN
(()
byãs_ªad
);

1807 
	}
}

1810 
	$uni⁄fs_ªadlök
(c⁄° *
∑th
, *
buf
, 
size_t
 
size
)

1812 
i
 = -1;

1813 
p
[
PATHLEN_MAX
];

1814 
öode_t
 
öode
;

1815 
uöt64_t
 
öode_num
 = 0;

1816 
exã¡_t
 
exã¡
;

1818 
	`DBG
("%s\n", 
∑th
);

1819 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

1820 i‡(
i
 == -1)

1821 
	`RETURN
(-
î∫o
);

1822 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

1823 
	`RETURN
(-
ENAMETOOLONG
);

1825 
ªs
 = -1;

1827 
ªs
 = 
	`ªadlök
(
p
, 
buf
, 
size
 - 1);

1828 i‡(
ªs
 == -1)

1829 
	`RETURN
(-
î∫o
);

1833 
öode_num
 = 
	`gë_öode_numbî
(
p
);

1834 i‡(
öode_num
 == 0) {

1836 
	`USYSLOG
(
LOG_ERR
, "%s: Fûê%†nŸ found \n", 
__FUNCTION__
, 
p
);

1837 
	`RETURN
(-
EINVAL
);

1841 i‡((
	`gë_öode
(
öode_num
, &
öode
, 
db
) == -1)) {

1843 
	`USYSLOG
(
LOG_ERR
, "%s: Fûê%†nŸ found\n", 
__FUNCTION__
, 
p
);

1844 
	`RETURN
(-
EBADF
);

1847 i‡(
öode
.
i_ty≥
 !
SYMLINK
 && inode.i_ty≥ !
HARDLINK
) {

1848 
	`USYSLOG
(
LOG_ERR
, "%s: PathÖrovided isÇotá symbolicÜink \n",

1849 
__FUNCTION__
);

1850 
	`RETURN
(-
EINVAL
);

1853 
	`mem£t
(&
exã¡
, 0, (
exã¡_t
));

1855 i‡(
	`gë_exã¡s
(
öode_num
, &
exã¡
, 1, 
db
) == -1) {

1856 
	`USYSLOG
(
LOG_ERR
, "%s: UnableÅoállocate memory forÑeadingÉxtents\n",

1857 
__FUNCTION__
);

1858 
	`RETURN
(-
ENOMEM
);

1860 
	`°r˝y
(
buf
, 
exã¡
.
e_∑th
[0]);

1863 
	`RETURN
(0);

1864 
	}
}

1867 
	$uni⁄fs_ªÀa£
(c⁄° *
∑th
, 
fu£_fûe_öfo
 *
fi
)

1869 
ªs
 = -1;

1871 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

1872 
	`USYSLOG
(
LOG_INFO
, "%s: Fûêtÿbê˛o£d = %†\n", 
__FUNCTION__
, 
∑th
);

1873 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0)

1874 
	`RETURN
(0);

1876 
ªs
 = 
	`˛o£
(
fi
->
fh
);

1877 i‡(
ªs
 == -1) {

1878 
	`sy¶og
(
LOG_ERR
, "%s: close failed withÉrror = %d\n",

1879 
__FUNCTION__
, 
î∫o
);

1880 
	`RETURN
(-
î∫o
);

1883 
	`RETURN
(0);

1884 
	}
}

1892 
	$uni⁄fs_ª«me
(c⁄° *
‰om
, c⁄° *
to
)

1895 
boﬁ
 
is_dú
 = 
Ál£
;

1896 
j
 = -1, 
i
 = -1, 
ªs
 = -1;

1897 
f
[
PATHLEN_MAX
], 
t
[PATHLEN_MAX];

1898 
fûëy≥_t
 
·y≥
;

1899 
öode_t
 
öode
;

1900 
uöt64_t
 
öode_num
 = 0;

1901 *
buf„r
 = 
NULL
, *
buf„r1
 = NULL;

1902 
exã¡_t
 * 
exã¡
 = 
NULL
;

1903 
k
 = -1;

1904 
uöt64_t
 *
vÆue
 = 
NULL
;

1905 *
‚ame
 = 
NULL
;

1907 
	`DBG
("‰om %†tÿ%s\n", 
‰om
, 
to
);

1908 
j
 = 
	`föd_rw_bønch_cuéa°
(
to
);

1909 i‡(
j
 == -1)

1910 
	`RETURN
(-
î∫o
);

1911 
i
 = 
	`föd_r‹w_bønch
(
‰om
);

1912 i‡(
i
 == -1)

1913 
	`RETURN
(-
î∫o
);

1914 i‡(!
u›t
.
bønches
[
i
].
rw
) {

1915 
i
 = 
	`föd_rw_bønch_cow
(
‰om
);

1916 i‡(
i
 == -1)

1917 
	`RETURN
(-
î∫o
);

1919 i‡(
i
 !
j
) {

1920 
	`USYSLOG
(
LOG_ERR
, "%s: fromándÅoáre on different writable"

1922 
__func__
, 
i
, 
j
);

1923 
	`RETURN
(-
EXDEV
);

1926 i‡(
	`BUILD_PATH
(
f
, 
u›t
.
bønches
[
i
].
∑th
, 
‰om
))

1927 
	`RETURN
(-
ENAMETOOLONG
);

1928 i‡(
	`BUILD_PATH
(
t
, 
u›t
.
bønches
[
i
].
∑th
, 
to
))

1929 
	`RETURN
(-
ENAMETOOLONG
);

1931 
·y≥
 = 
	`∑th_is_dú
(
f
);

1932 i‡(
·y≥
 =
NOT_EXISTING
)

1933 
	`RETURN
(-
ENOENT
);

1934 i‡(
·y≥
 =
IS_DIR
)

1935 
is_dú
 = 
åue
;

1936 i‡(!
u›t
.
bønches
[
i
].
rw
) {

1940 i‡(
is_dú
)

1941 
ªs
 = 
	`hide_dú
(
‰om
, 
i
);

1943 
ªs
 = 
	`hide_fûe
(
‰om
, 
i
);

1944 i‡(
ªs
)

1945 
	`RETURN
(-
î∫o
);

1948 
ªs
 = 
	`ª«me
(
f
, 
t
);

1950 i‡(
ªs
 == -1) {

1951 
îr
 = 
î∫o
;

1954 i‡(!
u›t
.
bønches
[
i
].
rw
) {

1955 i‡(
	`u∆ök
(
f
))

1956 
	`USYSLOG
(
LOG_ERR
, "%s: cow of %s succeeded, butÑename() "

1957 "ÁûedándÇowálsÿu∆ök(Ë faûed\n", 
__func__
, 
‰om
);

1959 i‡(
	`ªmove_hiddí
(
‰om
, 
i
))

1960 
	`USYSLOG
(
LOG_ERR
, "%s: cow of %s succeeded, butÑename() "

1962 
__func__
, 
‰om
);

1964 
	`RETURN
(-
îr
);

1967 i‡(
u›t
.
bønches
[
i
].
rw
) {

1971 i‡(
is_dú
)

1972 
	`maybe_whôeout
(
‰om
, 
i
, 
WHITEOUT_DIR
);

1974 
	`maybe_whôeout
(
‰om
, 
i
, 
WHITEOUT_FILE
);

1977 
	`ªmove_hiddí
(
to
, 
i
);

1980 
öode_num
 = 
	`gë_öode_numbî
(
f
);

1981 i‡(
öode_num
 == 0) {

1982 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿloˇã %s\n", 
__FUNCTION__
, 
f
);

1983 
	`RETURN
(-
ENOENT
);

1985 i‡(
	`gë_öode
(
öode_num
, &
öode
, 
db
) != 0) {

1986 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿª«mê%†\n", 
__FUNCTION__
, 
f
);

1987 
	`RETURN
(-
ENOENT
);

1989 
buf„r
 = 
	`ˇŒoc
(((
öode
.
i_numexã¡s
Ë* (
exã¡_t
)), 1);

1990 i‡(
NULL
 =
buf„r
) {

1991 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

1992 
	`RETURN
(-
ENOMEM
);

1994 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
)

1996 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoÑeadÉxtent information\n",

1997 
__FUNCTION__
);

1998 
	`‰ì
(
buf„r
);

1999 
	`RETURN
(-
EIO
);

2002 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

2004 
	`°r˝y
(
öode
.
i_«me
, 
t
);

2006 
k
 = 0; k < 
öode
.
i_numª∂iˇs
; k++) {

2007 
	`°r˝y
(
exã¡
->
e_∑th
[
k
], 
t
);

2009 
buf„r1
 = 
	`ˇŒoc
(((
öode_t
) +

2010 
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

2011 i‡(
NULL
 =
buf„r1
) {

2012 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

2013 
__FUNCTION__
, 
öode_num
);

2014 
	`‰ì
(
buf„r
);

2015 
	`RETURN
(-
ENOMEM
);

2018 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2019 
	`mem˝y
(
buf„r1
+(
öode_t
), 
buf„r
,

2020 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

2021 i‡(
db
->
db_›s
.
db_dñëe
 &&

2022 
db
->
db_›s
.
	`db_dñëe
(
öode_num
) != 1) {

2023 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿdñëêkey %"
PRId64
"\n",

2024 
__FUNCTION__
, 
öode_num
);

2025 
	`‰ì
(
buf„r
);

2026 
	`‰ì
(
buf„r1
);

2027 
	`RETURN
(-
EIO
);

2029 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode_num
, 
buf„r1
,

2030 ((
öode_t
Ë+ (
öode
.
i_numexã¡s
 * (
exã¡_t
)))) != 1)) {

2032 
	`sy¶og
(
LOG_ERR
, "%s: Cª©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

2033 
__FUNCTION__
, 
öode_num
);

2034 
	`‰ì
(
buf„r
);

2035 
	`‰ì
(
buf„r1
);

2036 
	`RETURN
(-
EIO
);

2038 #ifde‡
FILES_DB


2041 
	`‰ì
(
buf„r
);

2042 
	`‰ì
(
buf„r1
);

2044 
vÆue
 = 
	`hashèbÀ_£¨ch
(
ªvî£_lookup
, 
f
);

2045 i‡(
NULL
 =
vÆue
) {

2046 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅoÜocate %s in hashtable \n",

2047 
__FUNCTION__
, 
f
);

2048 
	`RETURN
(-
ENOENT
);

2050 
öode_num
 = *
vÆue
;

2052 
‚ame
 = 
	`°rdup
(
t
);

2055 
	`hashèbÀ_ª∂a˚
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

2057 
	`hashèbÀ_ªmove
(
ªvî£_lookup
, 
‚ame
);

2058 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

2059 i‡(
NULL
 =
vÆue
) {

2060 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿÆloˇã mem‹y \n", 
__FUNCTION__
);

2061 
	`RETURN
(-
ENOMEM
);

2063 *
vÆue
 = 
öode_num
;

2064 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

2066 
	`RETURN
(0);

2067 
	}
}

2077 
	$°©vfs_loˇl
(c⁄° *
∑th
, 
°©vfs
 *
°buf
)

2079 #ifde‡
löux


2085 
°©fs
 
°fs
;

2086 
ªs
 = 
	`°©fs
(
∑th
, &
°fs
);

2087 i‡(
ªs
 == -1)

2088 
	`RETURN
(
ªs
);

2090 
	`mem£t
(
°buf
, 0, (*stbuf));

2091 
°buf
->
f_bsize
 = 
°fs
.f_bsize;

2092 i‡(
°fs
.
f_‰size
)

2093 
°buf
->
f_‰size
 = 
°fs
.f_frsize;

2095 
°buf
->
f_‰size
 = 
°fs
.
f_bsize
;

2096 
°buf
->
f_blocks
 = 
°fs
.f_blocks;

2097 
°buf
->
f_b‰ì
 = 
°fs
.f_bfree;

2098 
°buf
->
f_bavaû
 = 
°fs
.f_bavail;

2099 
°buf
->
f_fûes
 = 
°fs
.f_files;

2100 
°buf
->
f_f‰ì
 = 
°fs
.f_ffree;

2101 
°buf
->
f_Ávaû
 = 
°fs
.
f_f‰ì
;

2108 
°buf
->
f_Êag
 = 0;

2109 
°buf
->
f_«memax
 = 
°fs
.
f_«mñí
;

2111 
	`RETURN
(0);

2113 
	`RETURN
(
	`°©vfs
(
∑th
, 
°buf
));

2115 
	}
}

2125 
	$uni⁄fs_°©fs
(c⁄° *
∑th
, 
°©vfs
 *
°buf
)

2127 ()
∑th
;

2128 
fú°
 = 1;

2129 
dev_t
 
devno
[
u›t
.
nbønches
];

2130 
i
 = 0;

2132 
	`DBG
("%s\n", 
∑th
);

2133 
i
 = 0; i < 
u›t
.
nbønches
; i++) {

2134 
°©vfs
 
°b
;

2135 
ªs
 = 
	`°©vfs_loˇl
(
u›t
.
bønches
[
i
].
∑th
, &
°b
);

2136 
°©
 
°
;

2137 
j
 = 0;

2139 i‡(
ªs
 == -1)

2141 
ªs
 = 
	`°©
(
u›t
.
bønches
[
i
].
∑th
, &
°
);

2142 i‡(
ªs
 == -1)

2144 
devno
[
i
] = 
°
.
°_dev
;

2145 i‡(
fú°
) {

2146 
	`mem˝y
(
°buf
, &
°b
, (*stbuf));

2147 
fú°
 = 0;

2148 
°buf
->
f_fsid
 = 
°b
.f_fsid << 8;

2153 
j
 = 0; j < 
i
; j ++) {

2154 i‡(
°
.
°_dev
 =
devno
[
j
])

2158 i‡(
j
 =
i
) {

2161 
øtio
 = ()
°b
.
f_bsize
 / ()
°buf
->f_bsize;

2163 i‡(
u›t
.
bønches
[
i
].
rw
) {

2164 
°buf
->
f_blocks
 +
°b
.f_block†* 
øtio
;

2165 
°buf
->
f_b‰ì
 +
°b
.f_b‰ì * 
øtio
;

2166 
°buf
->
f_bavaû
 +
°b
.f_bavaû * 
øtio
;

2168 
°buf
->
f_fûes
 +
°b
.f_files;

2169 
°buf
->
f_f‰ì
 +
°b
.f_ffree;

2170 
°buf
->
f_Ávaû
 +
°b
.f_favail;

2171 } i‡(!
u›t
.
°©fs_omô_ro
) {

2175 
°buf
->
f_blocks
 +
°b
.f_block†* 
øtio
;

2176 
°buf
->
f_fûes
 +
°b
.f_files;

2179 i‡(!(
°b
.
f_Êag
 & 
ST_RDONLY
))

2180 
°buf
->
f_Êag
 &~
ST_RDONLY
;

2181 i‡(!(
°b
.
f_Êag
 & 
ST_NOSUID
))

2182 
°buf
->
f_Êag
 &~
ST_NOSUID
;

2184 i‡(
°b
.
f_«memax
 < 
°buf
->f_namemax)

2185 
°buf
->
f_«memax
 = 
°b
.f_namemax;

2189 
	`RETURN
(0);

2190 
	}
}

2193 
	$uni⁄fs_symlök
(c⁄° *
‰om
, c⁄° *
to
)

2195 
i
 = -1, 
ªs
 = -1;

2196 
f
[
PATH_MAX
], 
t
[PATH_MAX];

2197 
uöt64_t
 
öode
 = 0;

2198 
öode_t
 
öode_to
;

2199 
exã¡_t
 
exã¡
;

2200 
time•ec
 
cuºít_time
;

2201 
buf„r
[(
öode_t
Ë+ (
exã¡_t
)];

2202 *
‚ame
 = 
NULL
;

2203 
uöt64_t
 *
vÆue
 = 
NULL
;

2205 
	`DBG
("‰om %†tÿ%s\n", 
‰om
, 
to
);

2206 
i
 = 
	`föd_rw_bønch_cuéa°
(
to
);

2207 i‡(
i
 == -1)

2208 
	`RETURN
(-
î∫o
);

2210 i‡(
	`BUILD_PATH
(
t
, 
u›t
.
bønches
[
i
].
∑th
, 
to
))

2211 
	`RETURN
(-
ENAMETOOLONG
);

2213 i‡(
	`BUILD_PATH
(
f
, 
u›t
.
bønches
[
i
].
∑th
, 
‰om
))

2214 
	`RETURN
(-
ENAMETOOLONG
);

2216 
öode
 = 
	`gë_‰ì_öode
();

2217 i‡(
öode
 == 0) {

2218 
	`USYSLOG
(
LOG_ERR
, "%s: Fûêsy°em FULL. \n", 
__FUNCTION__
);

2219 
	`RETURN
(-
ENOSPC
);

2224 
ªs
 = 
	`symlök
(
‰om
, 
t
);

2225 i‡(
ªs
 == -1)

2226 
	`RETURN
(-
î∫o
);

2228 
	`mem£t
(&
öode_to
, 0, (
öode_t
));

2229 
öode_to
.
i_num
 = 
öode
;

2230 
	`°r˝y
(
öode_to
.
i_«me
, 
t
);

2231 
öode_to
.
i_uid
 = 
	`gëuid
();

2232 
öode_to
.
i_gid
 = 
	`gëgid
();

2233 
öode_to
.
i_ty≥
 = 
SYMLINK
;

2234 
öode_to
.
i_löks
 = 2;

2235 
	`˛ock_gëtime
(
CLOCK_REALTIME
, &
cuºít_time
);

2236 
öode_to
.
i_©ime
 = inode_to.
i_˘ime
 = inode_to.
i_mtime
 = 
cuºít_time
;

2237 
öode_to
.
i_numª∂iˇs
 = 1;

2238 
öode_to
.
i_numexã¡s
 = 1;

2239 
öode_to
.
i_mode
 = 
	`umask
(0);

2240 
	`umask
(
öode_to
.
i_mode
);

2241 
öode_to
.
i_size
 = 
	`°æí
(
f
) + 1;

2244 
	`mem£t
(&
exã¡
, 0, (
exã¡_t
));

2245 
	`°r˝y
(
exã¡
.
e_∑th
[0], 
f
);

2248 
	`mem˝y
(
buf„r
, &
öode_to
, (
öode_t
));

2249 
	`mem˝y
(
buf„r
 + (
öode_t
), &
exã¡
, (
exã¡_t
));

2251 i‡(
db
->
db_›s
.
db_ö£π
 && (db->db_›s.
	`db_ö£π
(
öode
, 
buf„r
,

2252 ((
öode_t
Ë+ (
exã¡_t
))) != 1)) {

2254 
	`USYSLOG
(
LOG_ERR
, "%s: FaûedÅÿ°‹êöodêö DB. \n", 
__FUNCTION__
);

2255 
	`RETURN
(-
EINVAL
);

2257 #ifde‡
FILES_DB


2261 
vÆue
 = 
	`ˇŒoc
((
uöt64_t
), 1);

2262 i‡(
NULL
 =
vÆue
) {

2263 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for key.\n",

2264 
__FUNCTION__
);

2265 
	`RETURN
(0);

2267 
	`mem˝y
(
vÆue
, &
öode_to
.
i_num
, (
uöt64_t
));

2268 
‚ame
 = 
	`°rdup
(
t
);

2270 
	`hashèbÀ_ö£π
(
ªvî£_lookup
, 
‚ame
, 
vÆue
);

2271 
	`£t_ow√r
(
t
);

2272 
	`ªmove_hiddí
(
to
, 
i
);

2274 
	`RETURN
(0);

2275 
	}
}

2278 
	$uni⁄fs_åunˇã
(c⁄° *
∑th
, 
off_t
 
size
)

2280 
i
 = -1, 
ªs
 = -1;

2281 
p
[
PATHLEN_MAX
];

2282 
öode_t
 
öode
;

2283 
uöt64_t
 
öode_num
 = 0;

2284 *
buf„r
 = 
NULL
, *
buf„r1
 = NULL;

2285 
exã¡_t
 *
exã¡
 = 
NULL
;

2286 
j
 = -1, 
k
 = -1;

2287 
uöt64_t
 
size_covîed
 = 0;

2290 
	`DBG
("%s\n", 
∑th
);

2291 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

2292 i‡(
i
 == -1)

2293 
	`RETURN
(-
î∫o
);

2295 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

2296 
	`RETURN
(-
ENAMETOOLONG
);

2298 
öode_num
 = 
	`gë_öode_numbî
(
p
);

2299 i‡(
öode_num
 == 0) {

2301 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸÖª£¡ \n", 
__FUNCTION__
, 
p
);

2302 
	`RETURN
(-
EINVAL
);

2304 i‡((
	`gë_öode
(
öode_num
, &
öode
, 
db
) == -1)) {

2306 
	`sy¶og
(
LOG_ERR
, "%s: Fûê%†nŸ found\n", 
__FUNCTION__
, 
p
);

2307 
	`RETURN
(-
EBADF
);

2309 
buf„r
 = (*Ë
	`ˇŒoc
((
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

2310 i‡(
NULL
 =
buf„r
) {

2311 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memoryÅoÑeadÉxtents\n",

2312 
__FUNCTION__
);

2313 
	`RETURN
(-
ENOMEM
);

2316 i‡(
	`gë_exã¡s
(
öode_num
,(
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
)

2318 
	`sy¶og
(
LOG_ERR
, "%s: get_extents failed. FATAL ERROR \n",

2319 
__FUNCTION__
);

2320 
	`‰ì
(
buf„r
);

2321 
	`RETURN
(-
EINVAL
);

2323 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

2326 i‡(
size
 >
öode
.
i_size
) {

2328 
k
 = 0; k < 
öode
.
i_numª∂iˇs
; k++) {

2329 
ªs
 = 
	`åunˇã
(
exã¡
->
e_∑th
[
k
], 
size
);

2330 i‡(
ªs
 == -1) {

2331 
	`‰ì
(
buf„r
);

2332 
	`RETURN
(-
î∫o
);

2335 
öode
.
i_size
 = 
size
;

2343 
i
 = 0; i < 
öode
.
i_numexã¡s
; i++) {

2344 i‡(
exã¡
->
e_vÆue
 +Éxã¡->
e_size
 >
size
)

2346 
size_covîed
 = (
exã¡
->
e_vÆue
 +Éxã¡->
e_size
);

2347 
exã¡
 ++;

2350 i‡(
size_covîed
) {

2352 
size
 = 
öode
.
i_size
 - 
size_covîed
;

2357 
k
 = 0; k < 
öode
.
i_numª∂iˇs
; k++) {

2358 
ªs
 = 
	`åunˇã
(
exã¡
->
e_∑th
[
k
], 
size
);

2359 i‡(
ªs
 == -1) {

2360 
	`‰ì
(
buf„r
);

2361 
	`RETURN
(-
î∫o
);

2365 
i
++;

2366 
exã¡
 ++;

2367 i‡(
i
 > 
öode
.
i_numexã¡s
) {

2369 
öode
.
i_size
 = 
size
;

2370 
upd©e_db
;

2372 
j
 = 
i
; j < 
öode
.
i_numexã¡s
; j++, 
exã¡
++) {

2373 
k
 = 0; k < 
öode
.
i_numª∂iˇs
; k ++) {

2374 
ªs
 = 
	`u∆ök
(
exã¡
->
e_∑th
[
k
]);

2375 i‡(
ªs
 == -1) {

2376 
	`sy¶og
(
LOG_ERR
, "%s: U«bÀÅÿu∆ök %†\n", 
__FUNCTION__
,

2377 
exã¡
->
e_∑th
[
k
]);

2378 
	`‰ì
(
buf„r
);

2379 
	`RETURN
(-
î∫o
);

2383 
öode
.
i_numexã¡s
 = 
i
;

2384 
öode
.
i_size
 = 
size
;

2386 
upd©e_db
:

2388 
buf„r1
 = 
	`ˇŒoc
(((
öode_t
) +

2389 
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

2390 i‡(
NULL
 =
buf„r1
) {

2391 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

2392 
__FUNCTION__
, 
öode_num
);

2393 
	`‰ì
(
buf„r
);

2394 
	`RETURN
(-
ENOMEM
);

2397 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2398 
	`mem˝y
(
buf„r1
+(
öode_t
), 
buf„r
,

2399 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

2401 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
, 
buf„r1
,

2402 ((
öode_t
Ë+ (
öode
.
i_numexã¡s
 * (
exã¡_t
)))) != 1)) {

2403 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

2404 
__FUNCTION__
, 
öode_num
);

2405 
	`‰ì
(
buf„r
);

2406 
	`‰ì
(
buf„r1
);

2407 
	`RETURN
(-
EIO
);

2409 
	`‰ì
(
buf„r
);

2410 
	`‰ì
(
buf„r1
);

2412 
	`RETURN
(0);

2413 
	}
}

2416 
	$uni⁄fs_utimís
(c⁄° *
∑th
, c⁄° 
time•ec
 
ts
[2])

2419 
i
 = -1;

2420 
ªs
 = -1;

2421 
p
[
PATHLEN_MAX
];

2423 
	`DBG
("%s\n", 
∑th
);

2425 i‡(
u›t
.
°©s_íabÀd
 && 
	`°rcmp
(
∑th
, 
STATS_FILENAME
) == 0)

2426 
	`RETURN
(0);

2428 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

2429 i‡(
i
 == -1)

2430 
	`RETURN
(-
î∫o
);

2432 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

2433 
	`RETURN
(-
ENAMETOOLONG
);

2435 
ªs
 = 
	`utimíßt
(0, 
p
, 
ts
, 
AT_SYMLINK_NOFOLLOW
);

2437 i‡(
ªs
 == -1)

2438 
	`RETURN
(-
î∫o
);

2440 
	`RETURN
(0);

2441 
	}
}

2444 
	$uni⁄fs_wrôe
(c⁄° *
∑th
, c⁄° *
buf
, 
size_t
 
size
, 
off_t
 
off£t
,

2445 
fu£_fûe_öfo
 *
fi
)

2447 ()
∑th
;

2448 
ªs
 = -1;

2449 
uöt64_t
 
öode_num
 = 0;

2450 
öode_t
 
öode
 ;

2451 
i
 = -1;

2452 
p
[
PATH_MAX
];

2453 *
buf„r
 = 
NULL
;

2454 
ªÆ_fûe_fd
 = -1;

2455 
°©
 
°©_buf
;

2456 *
buf„r1
 = 
NULL
;

2457 
exã¡_t
 *
exã¡
 = 
NULL
;

2458 
uöt8_t
 
is_wrôabÀ
 = 0;

2459 
ªtvÆ
 = -1;

2460 
uöt64_t
 
byãs_wrôãn
 = 0;

2461 
uöt64_t
 
byãs_to_wrôe
 = 0;

2462 
uöt64_t
 
byãs_ªmaöög
 = 0;

2463 
exã¡_numbî
 = 0;

2464 
cou¡
 = 0;

2465 
exã¡_t
 *
exã¡_bk
 = 
NULL
;

2467 
	`DBG
("fd = %"
PRIx64
"\n", 
fi
->
fh
);

2468 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

2469 i‡(
i
 == -1)

2470 
	`RETURN
(-
î∫o
);

2472 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

2473 
	`RETURN
(-
ENAMETOOLONG
);

2477 
öode_num
 = 
	`gë_öode_numbî
(
p
);

2478 i‡(
öode_num
 == 0) {

2479 
	`USYSLOG
(
LOG_ERR
, "%s: FaûedÅÿgë fûê%s\n", 
__FUNCTION__
, 
p
);

2480 
	`RETURN
(-
EINVAL
);

2482 
ªs
 = 
	`gë_öode
(
öode_num
, &
öode
, 
db
);

2483 i‡(
ªs
 == -1) {

2484 
	`USYSLOG
(
LOG_ERR
, "%s: FaûedÅÿgë inodê°ru˘uª \n", 
__FUNCTION__
);

2485 
	`RETURN
(-
EINVAL
);

2496 
buf„r
 = 
	`ˇŒoc
 ((
öode
.
i_numexã¡s
 * (
exã¡_t
)), 1);

2497 i‡(
NULL
 =
buf„r
) {

2498 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memoryÅoÑeadÉxtents\n",

2499 
__FUNCTION__
);

2500 
	`RETURN
(-
ENOMEM
);

2504 i‡(
	`gë_exã¡s
(
öode_num
, (
exã¡_t
 *)
buf„r
, 
öode
.
i_numexã¡s
, 
db
)

2506 
	`sy¶og
(
LOG_ERR
, "%s: get_extents failed. FATAL ERROR \n",

2507 
__FUNCTION__
);

2508 
	`‰ì
(
buf„r
);

2509 
	`RETURN
(-
EINVAL
);

2512 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

2513 i‡(
öode
.
i_mode
 &
S_IWUSR
)

2514 
is_wrôabÀ
 = 1;

2519 i‡(
fi
->
Êags
 & 
O_WRONLY
 || fi->Êag†& 
O_RDWR
) {

2520 
	`chmod
(
p
, 777);

2521 
	`l°©
(
p
, &
°©buf
);

2522 
	`sy¶og
(
LOG_INFO
, "%s: modêo‡%†i†%ÿ\n", 
__FUNCTION__
, 
p
,

2523 
°©buf
.
°_mode
);

2528 i‡(
öode
.
i_pﬁicy
.
p_is°rùed
 == 0) {

2529 
ªÆ_fûe_fd
 = -1;

2531 
	`USYSLOG
(
LOG_INFO
, "%s: %†i†nŸ såù≥d \n", 
__FUNCTION__
, 
p
);

2532 
buf„r1
 = (*Ë
	`ˇŒoc
((
öode_t
Ë+ (
exã¡_t
) *

2533 
öode
.
i_numexã¡s
, 1);

2534 i‡(
NULL
 =
buf„r1
) {

2535 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for"

2536 " buf„r1 fûíamê%s\n", 
__FUNCTION__
, 
p
);

2537 
	`‰ì
(
buf„r
);

2538 
	`chmod
(
p
, 
öode
.
i_mode
);

2539 
	`RETURN
(-
ENOMEM
);

2541 
ªÆ_fûe_fd
 = 
	`›í
(
exã¡
->
e_∑th
[0], 
O_WRONLY
);

2542 i‡(
ªÆ_fûe_fd
 == -1) {

2543 
	`sy¶og
(
LOG_ERR
, "[%s]: FailedÅo writeÅoÅhe file %s"

2544 "Éº‹ = %d\n", 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2545 
	`‰ì
(
buf„r
);

2546 
	`‰ì
(
buf„r1
);

2547 
	`chmod
(
p
, 
öode
.
i_mode
);

2548 
	`RETURN
(-
EIO
);

2550 
	`l£ek
(
ªÆ_fûe_fd
, 
off£t
, 
SEEK_SET
);

2552 
ªs
 = 
	`pwrôe
(
ªÆ_fûe_fd
, 
buf
, 
size
, 
off£t
);

2553 i‡(
ªs
 == -1) {

2554 
	`sy¶og
(
LOG_ERR
, "%s:Öwrite failed for %s withÉrror %d\n",

2555 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2556 
	`˛o£
(
ªÆ_fûe_fd
);

2557 
	`chmod
(
p
, 
öode
.
i_mode
);

2558 
	`‰ì
(
buf„r
);

2559 
	`‰ì
(
buf„r1
);

2560 
	`RETURN
(-
î∫o
);

2562 
	`˛o£
(
ªÆ_fûe_fd
);

2563 
	`chmod
(
p
, 
öode
.
i_mode
);

2564 i‡(
	`°©
(
exã¡
->
e_∑th
[0], &
°©_buf
) != 0) {

2565 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo statÅhe file %s \n",

2566 
__FUNCTION__
, 
exã¡
->
e_∑th
[0]);

2567 
	`‰ì
(
buf„r
);

2568 
	`‰ì
(
buf„r1
);

2569 
	`RETURN
(-
î∫o
);

2571 
exã¡
->
e_size
 = 
°©_buf
.
°_size
;

2572 
exã¡
->
e_cksum
 = 
	`checksum
”xã¡->
e_∑th
[0]);

2573 
öode
.
i_size
 = 
°©_buf
.
°_size
;

2574 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2575 
	`mem˝y
(
buf„r1
+(
öode_t
), 
buf„r
,

2576 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

2577 
ªtvÆ
 = 
ªs
;

2579 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
, 
buf„r1
,

2580 ((
öode_t
) +

2581 (
öode
.
i_numexã¡s
 * (
exã¡_t
)))) != 1)) {

2583 
	`sy¶og
(
LOG_ERR
, "%s: Upd©ög inodêÁûed f‹ inodê# %"
PRId64
"\n",

2584 
__FUNCTION__
, 
öode_num
);

2585 
	`‰ì
(
buf„r
);

2586 
	`‰ì
(
buf„r1
);

2587 
	`RETURN
(-
EIO
);

2589 
	`‰ì
(
buf„r
);

2590 
	`‰ì
(
buf„r1
);

2591 i‡(
	`f°©
(
fi
->
fh
, &
°©_buf
) != 0) {

2592 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo statÅhe file %s\n",

2593 
__FUNCTION__
, 
∑th
);

2594 
	`‰ì
(
buf„r
);

2595 
	`‰ì
(
buf„r1
);

2596 
	`RETURN
(-
î∫o
);

2603 i‡(
	`·runˇã
(
fi
->
fh
, 
°©_buf
.
°_size
) != 0) {

2604 
	`sy¶og
(
LOG_ERR
, "%s: Updating filesize failed for file %s with "

2606 
__FUNCTION__
, 
p
, 
î∫o
);

2607 
	`RETURN
(-
î∫o
);

2610 i‡(
u›t
.
°©s_íabÀd
)

2611 
	`°©s_add_wrôãn
(&
°©s
, 
size
);

2613 
	`RETURN
(
ªtvÆ
);

2617 
	`USYSLOG
(
LOG_ERR
, "%s: %†i†°ùed\n", 
__FUNCTION__
, 
p
);

2627 i‡(
öode
.
i_size
) {

2628 
exã¡_numbî
 < (
öode
.
i_numexã¡s
 -1)) {

2629 
exã¡_t
 *
√xt_exã¡
 = 
NULL
;

2631 
√xt_exã¡
 = 
exã¡
 + 1;

2632 i‡(
√xt_exã¡
->
e_vÆue
 > 
off£t
) {

2635 
exã¡
 ++;

2636 
exã¡_numbî
 ++;

2644 i‡((
exã¡
->
e_vÆue
 + (
öode
.
i_pﬁicy
.
p_exã¡size
 * 
PAGE_SIZE
))

2645 >(
off£t
 + 
size
)) {

2646 
ªÆ_fûe_fd
 = -1;

2647 * 
buf„r1
 = 
NULL
;

2648 
md©a_size
 = ((
öode_t
Ë+ ((
exã¡_t
Ë* 
öode
.
i_numexã¡s
));

2651 
buf„r1
 = 
	`ˇŒoc
(
md©a_size
, 1);

2652 i‡(
NULL
 =
buf„r1
) {

2653 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for buffer1."

2654 " Fûíamê%s\n", 
__FUNCTION__
, 
p
);

2655 
	`‰ì
(
buf„r
);

2656 
	`chmod
(
p
, 
öode
.
i_mode
);

2657 
	`RETURN
(-
ENOMEM
);

2659 
	`USYSLOG
(
LOG_ERR
, "%s:Éxã¡Ö©h = %†\n", 
__FUNCTION__
,

2660 
exã¡
->
e_∑th
[0]);

2661 
ªÆ_fûe_fd
 = 
	`›í
(
exã¡
->
e_∑th
[0], 
O_WRONLY
);

2662 i‡(
ªÆ_fûe_fd
 == -1) {

2663 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo openÅhe file %s. Error %d\n",

2664 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2665 
	`‰ì
(
buf„r
);

2666 
	`‰ì
(
buf„r1
);

2667 
	`chmod
(
p
, 
öode
.
i_mode
);

2668 
	`RETURN
(-
EIO
);

2671 
byãs_to_wrôe
 = 
size
;

2672 
	`l£ek
(
ªÆ_fûe_fd
, 
off£t
, 
SEEK_SET
);

2673 
	`USYSLOG
(
LOG_ERR
, "%s: file %s offset %d size %d \n",

2674 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], (Ë
off£t
, ()
size
);

2675 
ªs
 = 
	`pwrôe
(
ªÆ_fûe_fd
, 
buf
,

2676 
byãs_to_wrôe
, 
off£t
);

2677 i‡(
ªs
 == -1) {

2678 
	`sy¶og
(
LOG_ERR
, "%s:Öwrite failed for %s withÉrror %d\n",

2679 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2680 
	`˛o£
(
ªÆ_fûe_fd
);

2681 
	`chmod
(
p
, 
öode
.
i_mode
);

2682 
	`‰ì
(
buf„r
);

2683 
	`‰ì
(
buf„r1
);

2684 
	`RETURN
(-
î∫o
);

2686 
	`˛o£
(
ªÆ_fûe_fd
);

2687 
exã¡
->
e_size
 +
byãs_to_wrôe
;

2688 
exã¡
->
e_cksum
 = 
	`checksum
”xã¡->
e_∑th
[0]);

2689 
öode
.
i_size
 +
byãs_to_wrôe
;

2690 
	`USYSLOG
(
LOG_ERR
, "%s:%d inodêsizê%"
PRId64
"\n",

2691 
__FUNCTION__
, 
__LINE__
, 
öode
.
i_size
);

2692 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2693 
	`mem˝y
(
buf„r1
 + (
öode_t
), 
buf„r
,

2694 (
öode
.
i_numexã¡s
 * (
exã¡_t
)));

2695 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
,

2696 
buf„r1
, 
md©a_size
) != 1)) {

2697 
	`sy¶og
(
LOG_ERR
, "%s: Updating inode failed for"

2698 " inodê# %"
PRId64
" \n", 
__FUNCTION__
, 
öode_num
);

2699 
	`‰ì
(
buf„r
);

2700 
	`‰ì
(
buf„r1
);

2701 
	`RETURN
(-
EIO
);

2703 
	`‰ì
(
buf„r
);

2704 
	`‰ì
(
buf„r1
);

2705 i‡(
exã¡_numbî
) {

2707 
	`USYSLOG
(
LOG_ERR
, "%s: %dÅruncating %sÅo size %d\n",

2708 
__FUNCTION__
,
__LINE__
, 
exã¡
->
e_∑th
[0], (Ëexã¡->
e_size
);

2709 i‡(
	`åunˇã
(
exã¡
->
e_∑th
[0],Éxã¡->
e_size
) != 0) {

2710 
	`sy¶og
(
LOG_ERR
, "%s: Updating filesize failed for file %s with"

2712 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2713 
	`RETURN
(-
î∫o
);

2716 
	`USYSLOG
(
LOG_ERR
, "%s: %dÅruncating %sÅo size %d\n",

2717 
__FUNCTION__
,
__LINE__
, 
p
, (Ë
öode
.
i_size
);

2718 i‡(
	`·runˇã
(
fi
->
fh
, 
öode
.
i_size
) != 0) {

2719 
	`sy¶og
(
LOG_ERR
, "%s: Updating filesize failed for file %s with"

2721 
__FUNCTION__
, 
p
, 
î∫o
);

2722 
	`RETURN
(-
î∫o
);

2725 i‡(
u›t
.
°©s_íabÀd
)

2726 
	`°©s_add_wrôãn
(&
°©s
, 
size
);

2728 
	`RETURN
(
ªs
);

2730 
num_exã¡s
 = 0;

2731 *
buf„r1
 = 
NULL
;

2732 
dbªc_size
 = 0;

2734 
	`USYSLOG
(
LOG_ERR
, "%s: SingleÉxtent doesÇot cover write \n",

2735 
__FUNCTION__
);

2736 i‡(
öode
.
i_numexã¡s
 == 1) {

2739 
byãs_ªmaöög
 = 
size
;

2740 
add_√w_exã¡
;

2743 
exã¡
 = (
exã¡_t
 *Ë
buf„r
;

2744 
byãs_ªmaöög
 = 
size
;

2745 
byãs_ªmaöög
 != 0 ||

2746 
num_exã¡s
 < (
öode
.
i_numexã¡s
 - 1)) {

2747 
ªÆ_fûe_fd
 = -1;

2748 * 
buf„r1
 = 
NULL
;

2750 
byãs_to_wrôe
 = (
öode
.
i_pﬁicy
.
p_exã¡size
 * 
PAGE_SIZE
) -

2751 (
off£t
 - 
exã¡
->
e_vÆue
);

2753 
buf„r1
 = 
	`ˇŒoc
((
öode_t
Ë+ (
exã¡_t
) *

2754 
öode
.
i_numexã¡s
, 1);

2755 i‡(
NULL
 =
buf„r1
) {

2756 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for buffer1."

2757 " Fûíamê%s\n", 
__FUNCTION__
, 
p
);

2758 
	`‰ì
(
buf„r
);

2759 
	`chmod
(
p
, 
öode
.
i_mode
);

2760 
	`RETURN
(-
ENOMEM
);

2762 
	`USYSLOG
(
LOG_ERR
, "%s: LINE %dÉxtentÇame = %s\n",

2763 
__FUNCTION__
, 
__LINE__
, 
exã¡
->
e_∑th
[0]);

2764 
ªÆ_fûe_fd
 = 
	`›í
(
exã¡
->
e_∑th
[0], 
O_WRONLY
);

2765 i‡(
ªÆ_fûe_fd
 == -1) {

2766 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo writeÅoÅhe file %s."

2767 " Eº‹ %d\n", 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2768 
	`‰ì
(
buf„r
);

2769 
	`‰ì
(
buf„r1
);

2770 
	`chmod
(
p
, 
öode
.
i_mode
);

2771 
	`RETURN
(-
EIO
);

2773 
	`l£ek
(
ªÆ_fûe_fd
, 
off£t
, 
SEEK_SET
);

2774 
ªs
 = 
	`pwrôe
(
ªÆ_fûe_fd
, (
buf
 + 
byãs_wrôãn
),

2775 
byãs_to_wrôe
, 
off£t
);

2776 i‡(
ªs
 == -1) {

2777 
	`sy¶og
(
LOG_ERR
, "%s:Öwrite failed for %s withÉrror %d\n",

2778 
__FUNCTION__
, 
exã¡
->
e_∑th
[0], 
î∫o
);

2779 
	`˛o£
(
ªÆ_fûe_fd
);

2780 
	`chmod
(
p
, 
öode
.
i_mode
);

2781 
	`‰ì
(
buf„r
);

2782 
	`‰ì
(
buf„r1
);

2783 
	`RETURN
(-
î∫o
);

2785 
	`USYSLOG
(
LOG_ERR
, "%s: Wrote %d bytesát offset %dÅo %s \n",

2786 
__FUNCTION__
, 
byãs_to_wrôe
, 
off£t
, 
exã¡
->
e_∑th
[0]);

2787 
	`˛o£
(
ªÆ_fûe_fd
);

2788 i‡(
	`°©
(
exã¡
->
e_∑th
[0], &
°©_buf
) != 0) {

2789 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo statÅhe file %s\n",

2790 
__FUNCTION__
, 
exã¡
->
e_∑th
[0]);

2791 
	`‰ì
(
buf„r
);

2792 
	`‰ì
(
buf„r1
);

2793 
	`RETURN
(-
î∫o
);

2795 
exã¡
->
e_size
 = 
°©_buf
.
°_size
;

2796 
exã¡
->
e_cksum
 = 
	`checksum
”xã¡->
e_∑th
[0]);

2797 
byãs_ªmaöög
 -
byãs_to_wrôe
;

2798 
byãs_wrôãn
 +
byãs_to_wrôe
;

2799 
off£t
 +
byãs_to_wrôe
;

2800 
exã¡
 ++;

2801 
num_exã¡s
 ++;

2807 
buf„r1
 = (*Ë
	`ˇŒoc
((
öode_t
) +

2808 (
exã¡_t
Ë* 
öode
.
i_numexã¡s
, 1 );

2809 i‡(
NULL
 =
buf„r1
) {

2810 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for"

2811 " buf„r1 fûíamê%s\n", 
__FUNCTION__
, 
p
);

2812 
	`‰ì
(
buf„r
);

2813 
	`chmod
(
p
, 
öode
.
i_mode
);

2814 
	`RETURN
(-
ENOMEM
);

2816 
dbªc_size
 = (
öode_t
Ë+ ((
exã¡_t
Ë* 
öode
.
i_numexã¡s
);

2817 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2818 
	`mem˝y
(
buf„r1
 + (
öode_t
), 
buf„r
,

2819 (
exã¡_t
Ë* 
öode
.
i_numexã¡s
);

2820 
upd©e_db_ªc
;

2822 
add_√w_exã¡
:

2824 
	`USYSLOG
(
LOG_ERR
, "%s: AddingÇewÉxtent...Ñemaining bytes = %d\n",

2825 
__FUNCTION__
, 
byãs_ªmaöög
);

2826 
dbªc_size
 = (
öode_t
Ë+ ((
exã¡_t
Ë* 
öode
.
i_numexã¡s
);

2828 i‡(
byãs_ªmaöög
) {

2830 
exã¡_t
 *
exã¡1
 = 
NULL
;

2831 
p1
[
PATH_MAX
];

2832 
exã¡s_added
 = 0;

2833 
‹igöÆ_exã¡s
 = 
öode
.
i_numexã¡s
;

2835 
buf„r1
 = (*Ë
	`ˇŒoc
((
öode_t
) +

2836 (
exã¡_t
Ë* 
‹igöÆ_exã¡s
, 1);

2837 i‡(
NULL
 =
buf„r1
) {

2838 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for"

2839 " buf„r1 fûíamê%s\n", 
__FUNCTION__
, 
p
);

2840 
	`‰ì
(
buf„r
);

2841 
	`chmod
(
p
, 
öode
.
i_mode
);

2842 
	`RETURN
(-
ENOMEM
);

2844 
öode
.
i_size
 = 0;

2845 
exã¡_bk
 = (
exã¡_t
 *Ë
buf„r
;

2846 
cou¡
 = 0; cou¡ < 
öode
.
i_numexã¡s
; count++) {

2847 
öode
.
i_size
 +
exã¡_bk
->
e_size
;

2848 
exã¡_bk
 ++;

2851 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2852 
	`mem˝y
(
buf„r1
 + (
öode_t
), 
buf„r
,

2853 (
exã¡_t
Ë* 
‹igöÆ_exã¡s
);

2855 
	`USYSLOG
(
LOG_ERR
, "%s:%d Fûêsizê%"
PRId64
"\n",

2856 
__FUNCTION__
, 
__LINE__
, 
öode
.
i_size
);

2857 
byãs_ªmaöög
) {

2859 
	`USYSLOG
(
LOG_ERR
, "%s: Remaöög byã†%d\n", 
__FUNCTION__
,

2860 
byãs_ªmaöög
);

2861 
exã¡1
 = (
exã¡_t
 *Ë
	`ˇŒoc
((extent_t), 1);

2862 i‡(
NULL
 =
exã¡1
) {

2863 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for "

2864 "exã¡1 fûíamê%†\n", 
__FUNCTION__
, 
p
);

2865 
	`‰ì
(
buf„r
);

2866 
	`chmod
(
p
, 
öode
.
i_mode
);

2867 
	`RETURN
(-
ENOMEM
);

2869 
exã¡s_added
 ++;

2870 
buf„r1
 = (*Ë
	`ªÆloc
(buf„r1, (
öode_t
) +

2871 (
exã¡_t
Ë* (
öode
.
i_numexã¡s
 + 
exã¡s_added
));

2872 i‡(
NULL
 =
buf„r1
) {

2873 
	`sy¶og
(
LOG_ERR
, "%s: UnableÅoállocate memory for"

2874 " buf„r1 fûíamê%s\n", 
__FUNCTION__
, 
p
);

2875 
	`‰ì
(
buf„r
);

2876 
	`‰ì
(
exã¡1
);

2877 
	`‰ì
(
buf„r1
);

2878 
	`chmod
(
p
, 
öode
.
i_mode
);

2879 
	`RETURN
(-
ENOMEM
);

2885 i‡(
	`gë_øndom_bønch
(
p1
, 1) != 0) {

2886 
	`sy¶og
(
LOG_ERR
, "%s: FailedÅo createÇewÉxtent \n",

2887 
__FUNCTION__
);

2888 
	`‰ì
(
buf„r
);

2889 
	`‰ì
(
exã¡1
);

2890 
	`‰ì
(
buf„r1
);

2891 
	`chmod
(
p
, 
öode
.
i_mode
);

2892 
	`RETURN
(-
EIO
);

2895 
	`USYSLOG
(
LOG_ERR
, "%s:Öath ofÇewÉxtent = %s \n",

2896 
__FUNCTION__
,
p1
);

2898 
ªÆ_fûe_fd
 = 
	`›í
(
p1
, 
O_RDWR
);

2899 i‡(
ªÆ_fûe_fd
 == -1) {

2900 
	`sy¶og
(
LOG_ERR
, "[%s]: FailedÅo writeÅoÅhe file %s"

2901 "Éº‹ = %d\n", 
__FUNCTION__
, 
p1
, 
î∫o
);

2902 
	`‰ì
(
buf„r
);

2903 
	`‰ì
(
exã¡1
);

2904 
	`‰ì
(
buf„r1
);

2905 
	`chmod
(
p
, 
öode
.
i_mode
);

2906 
	`RETURN
(-
EIO
);

2908 i‡(
byãs_ªmaöög
 < (
öode
.
i_pﬁicy
.
p_exã¡size
 * 
PAGE_SIZE
))

2909 
byãs_to_wrôe
 = 
byãs_ªmaöög
;

2911 
byãs_to_wrôe
 = (
öode
.
i_pﬁicy
.
p_exã¡size
 * 
PAGE_SIZE
);

2912 
	`USYSLOG
(
LOG_ERR
, "%s: bytesÅo writeÅoÇew file %s is %d\n",

2913 
__FUNCTION__
, 
p1
, 
byãs_to_wrôe
);

2915 
ªs
 = 
	`pwrôe
(
ªÆ_fûe_fd
, 
buf
 + 
byãs_wrôãn
,

2916 
byãs_to_wrôe
, 
off£t
);

2917 i‡(
ªs
 == -1) {

2918 
	`sy¶og
(
LOG_ERR
, "%s:Öwrite failed for %s with "

2919 "îr‹ %d\n", 
__FUNCTION__
, 
p1
,

2920 
î∫o
);

2921 
	`˛o£
(
ªÆ_fûe_fd
);

2922 
	`chmod
(
p
, 
öode
.
i_mode
);

2923 
	`‰ì
(
buf„r
);

2924 
	`‰ì
(
exã¡1
);

2925 
	`‰ì
(
buf„r1
);

2926 
	`chmod
(
p
, 
öode
.
i_mode
);

2927 
	`RETURN
(-
î∫o
);

2929 
	`chmod
(
p
, 
öode
.
i_mode
);

2931 
exã¡1
->
e_ty≥
 = 
OFFSET
;

2932 
exã¡1
->
e_vÆue
 = 
off£t
;

2933 
exã¡1
->
e_size
 +
byãs_to_wrôe
;

2934 
	`°r˝y
(
exã¡1
->
e_∑th
[0], 
p1
);

2935 
exã¡1
->
e_cksum
 = 
	`checksum
”xã¡1->
e_∑th
[0]);

2936 
byãs_wrôãn
 +
byãs_to_wrôe
;

2937 
off£t
 +
byãs_to_wrôe
;

2938 
byãs_ªmaöög
 -
byãs_wrôãn
;

2939 
öode
.
i_size
 +
exã¡1
->
e_size
;

2940 
	`USYSLOG
(
LOG_ERR
, "%s:%d Fûêsizê%"
PRId64
"\n",

2941 
__FUNCTION__
, 
__LINE__
, 
öode
.
i_size
);

2943 
öode
.
i_numexã¡s
 += 1;

2945 
	`mem˝y
(
buf„r1
, &
öode
, (
öode_t
));

2947 
	`mem˝y
(
buf„r1
 + 
dbªc_size
, 
exã¡1
, (
exã¡_t
));

2948 
	`‰ì
(
exã¡1
);

2949 
dbªc_size
 +(
exã¡_t
);

2950 
	`USYSLOG
(
LOG_ERR
, "%s: %dÅruncating %sÅo size %d\n",

2951 
__FUNCTION__
, 
__LINE__
, 
p1
, (Ë
exã¡1
->
e_size
);

2952 i‡(
	`åunˇã
(
p1
, 
exã¡1
->
e_size
) != 0) {

2953 
	`sy¶og
(
LOG_ERR
, "%s: Updating filesize failed for "

2955 "durögÑód/wrôê\n", 
__FUNCTION__
, 
p
, 
î∫o
);

2956 
	`RETURN
(-
î∫o
);

2958 
	`˛o£
(
ªÆ_fûe_fd
);

2962 
upd©e_db_ªc
:

2963 i‡(
db
->
db_›s
.
db_upd©e
 && (db->db_›s.
	`db_upd©e
(
öode_num
,

2964 
buf„r1
, 
dbªc_size
) != 1)) {

2965 
	`sy¶og
(
LOG_ERR
, "%s: Updating inode failed for"

2966 " inodê# %"
PRId64
" \n", 
__FUNCTION__
, 
öode_num
);

2967 
	`‰ì
(
buf„r
);

2968 
	`‰ì
(
buf„r1
);

2969 
	`RETURN
(-
EIO
);

2971 
	`‰ì
(
buf„r
);

2972 
	`‰ì
(
buf„r1
);

2974 
	`USYSLOG
(
LOG_ERR
, "%s: Updating inode size %d\n",

2975 
__FUNCTION__
, 
öode
.
i_size
);

2976 i‡(
	`·runˇã
(
fi
->
fh
, 
öode
.
i_size
) != 0) {

2977 
	`sy¶og
(
LOG_ERR
, "%s: Updating filesize failed for file %s with"

2979 
__FUNCTION__
, 
p
, 
î∫o
);

2980 
	`RETURN
(-
î∫o
);

2982 i‡(
u›t
.
°©s_íabÀd
)

2983 
	`°©s_add_wrôãn
(&
°©s
, 
size
);

2984 
	`RETURN
(
ªs
);

2987 
	}
}

2989 #ifde‡
HAVE_XATTR


2991 
	$uni⁄fs_gëx©å
(c⁄° *
∑th
, c⁄° *
«me
, *
vÆue
, 
size_t
 
size
)

2993 
p
[
PATHLEN_MAX
];

2994 
i
 ;

2995 
ªs
 = -1;

2997 
	`DBG
("%s: %p\n", 
__FUNCTION__
, 
∑th
);

2998 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

2999 i‡(
i
 == -1)

3000 
	`RETURN
(-
î∫o
);

3002 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

3003 
	`RETURN
(-
ENAMETOOLONG
);

3005 
ªs
 = 
	`lgëx©å
(
p
, 
«me
, 
vÆue
, 
size
);

3006 i‡(
ªs
 == -1)

3007 
	`RETURN
(-
î∫o
);

3009 
	`RETURN
(
ªs
);

3010 
	}
}

3013 
	$uni⁄fs_li°x©å
(c⁄° *
∑th
, *
li°
, 
size_t
 
size
)

3015 
p
[
PATHLEN_MAX
];

3016 
i
 = -1;

3017 
ªs
 = -1;

3019 
	`DBG
("%s\n", 
∑th
);

3020 
i
 = 
	`föd_r‹w_bønch
(
∑th
);

3021 i‡(
i
 == -1)

3022 
	`RETURN
(-
î∫o
);

3023 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

3024 
	`RETURN
(-
ENAMETOOLONG
);

3025 
ªs
 = 
	`Œi°x©å
(
p
, 
li°
, 
size
);

3026 i‡(
ªs
 == -1)

3027 
	`RETURN
(-
î∫o
);

3029  
ªs
;

3030 
	}
}

3033 
	$uni⁄fs_ªmovex©å
(c⁄° *
∑th
, c⁄° *
«me
)

3035 
p
[
PATHLEN_MAX
];

3036 
i
 = -1;

3037 
ªs
 = -1;

3039 
	`DBG
("%s\n", 
∑th
);

3040 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

3041 i‡(
i
 == -1)

3042 
	`RETURN
(-
î∫o
);

3043 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

3044 
	`RETURN
(-
ENAMETOOLONG
);

3045 
ªs
 = 
	`Ãemovex©å
(
p
, 
«me
);

3046 i‡(
ªs
 == -1)

3047 
	`RETURN
(-
î∫o
);

3049 
	`RETURN
(
ªs
);

3050 
	}
}

3053 
	$uni⁄fs_£tx©å
(c⁄° *
∑th
, c⁄° *
«me
, c⁄° *
vÆue
,

3054 
size_t
 
size
, 
Êags
)

3056 
p
[
PATHLEN_MAX
];

3057 
i
 = -1;

3058 
ªs
 = -1;

3060 
	`DBG
("%s\n", 
∑th
);

3061 
i
 = 
	`föd_rw_bønch_cow
(
∑th
);

3062 i‡(
i
 == -1)

3063 
	`RETURN
(-
î∫o
);

3064 i‡(
	`BUILD_PATH
(
p
, 
u›t
.
bønches
[
i
].
∑th
,Öath))

3065 
	`RETURN
(-
ENAMETOOLONG
);

3066 
ªs
 = 
	`l£tx©å
(
p
, 
«me
, 
vÆue
, 
size
, 
Êags
);

3067 i‡(
ªs
 == -1)

3068 
	`RETURN
(-
î∫o
);

3070 
	`RETURN
(
ªs
);

3071 
	}
}

3076 
	$uni⁄fs_de°roy
(*
¨g
)

3079 i‡(
db
->
db_›s
.
db_˛o£
)

3080 
db
->
db_›s
.
	`db_˛o£
();

3082 i‡(
db
->
db_›s
.
db_˛ónup
 && (db->db_›s.
	`db_˛ónup
() != 0)) {

3083 
	`sy¶og
(
LOG_ERR
, "%s:Ñemovêªtu∫edÉº‹ %d \n", 
__FUNCTION__
, 
î∫o
);

3086 
	`de°roy_db
(
db
);

3087 
	`sy¶og
(
LOG_ERR
, "%s: DB de°royed \n", 
__FUNCTION__
);

3088 
	}
}

3091 
fu£_›î©i⁄s
 
	guni⁄fs_›î
 = {

3092 .
chmod
 = 
uni⁄fs_chmod
,

3093 .
	gchown
 = 
uni⁄fs_chown
,

3094 .
	g¸óã
 = 
uni⁄fs_¸óã
,

3095 .
	gÊush
 = 
uni⁄fs_Êush
,

3096 .
	gfsync
 = 
uni⁄fs_fsync
,

3097 .
	ggë©å
 = 
uni⁄fs_gë©å
,

3098 .
	göô
 = 
uni⁄fs_öô
,

3099 .
	glök
 = 
uni⁄fs_lök
,

3100 .
	gmkdú
 = 
uni⁄fs_mkdú
,

3101 .
	gmknod
 = 
uni⁄fs_mknod
,

3102 .
	g›í
 = 
uni⁄fs_›í
,

3103 .
	gªad
 = 
uni⁄fs_ªad
,

3104 .
	gªadlök
 = 
uni⁄fs_ªadlök
,

3105 .
	gªaddú
 = 
uni⁄fs_ªaddú
,

3106 .
	gªÀa£
 = 
uni⁄fs_ªÀa£
,

3107 .
	gª«me
 = 
uni⁄fs_ª«me
,

3108 .
	grmdú
 = 
uni⁄fs_rmdú
,

3109 .
	g°©fs
 = 
uni⁄fs_°©fs
,

3110 .
	gsymlök
 = 
uni⁄fs_symlök
,

3111 .
	gåunˇã
 = 
uni⁄fs_åunˇã
,

3112 .
	gu∆ök
 = 
uni⁄fs_u∆ök
,

3113 .
	gutimís
 = 
uni⁄fs_utimís
,

3114 .
	gwrôe
 = 
uni⁄fs_wrôe
,

3115 #ifde‡
HAVE_XATTR


3116 .
	ggëx©å
 = 
uni⁄fs_gëx©å
,

3117 .
	gli°x©å
 = 
uni⁄fs_li°x©å
,

3118 .
	gªmovex©å
 = 
uni⁄fs_ªmovex©å
,

3119 .
	g£tx©å
 = 
uni⁄fs_£tx©å
,

3121 .
	gde°roy
 = 
uni⁄fs_de°roy
,

3125 
h™dÀ
(
ªque°_t
 *);

3128 
	$sigchld_h™dÀr
(
sig«l
)

3130 
	`waôpid
(-1, 
NULL
, 
WNOHANG
) > 0);

3131 
	}
}

3134 
	$de£rülize
(
ªque°_t
 *
ªq
, *
buf
)

3136 
vÆue
;

3137 
size_t
 
size
 = 0;

3139 
	`mem˝y
(&
vÆue
, 
buf
, ());

3140 
ªq
->
u1
.
ªq_magic
 = 
	`¡ohl
(
vÆue
);

3141 
size
 += ();

3142 
	`mem˝y
(&
vÆue
, 
buf
 + 
size
, ());

3143 
ªq
->
u1
.
ªq_ty≥
 = 
	`¡ohl
(
vÆue
);

3144 
size
 += ();

3145 i‡(
ªq
->
u1
.
ªq_ty≥
 =
ADD_BRANCH
 ||Ñeq->u1.ªq_ty≥ =
DEL_BRANCH
) {

3146 
	`mem˝y
(
ªq
->
u1
.
bønches
, 
buf
 + 
size
, 
PATH_MAX
);

3147 
size
 +
PATH_MAX
;

3148 
	`mem˝y
(
ªq
->
u1
.
logö_«me
, 
buf
 + 
size
, 
LOGIN_NAME_MAX
);

3149 
size
 +
LOGIN_NAME_MAX
;

3150 } i‡(
ªq
->
u1
.
ªq_ty≥
 =
ADD_POLICY
 ||

3151 
ªq
->
u1
.
ªq_ty≥
 =
DEL_POLICY
) {

3152 
uöt64_t
 
t
 = 0;

3153 
uöt8_t
 *
±r
 = 
NULL
;

3155 
	`mem˝y
(
ªq
->
u2
.
ªq_‚ame
, 
buf
 + 
size
, 
PATH_MAX
);

3156 
size
 +
PATH_MAX
;

3157 
	`mem˝y
(
ªq
->
u2
.
ªq_·y≥
, 
buf
 + 
size
, 
TYPENAME_MAX
);

3158 
size
 +
TYPENAME_MAX
;

3159 
	`mem˝y
(&
vÆue
, 
buf
 + 
size
, ());

3160 
ªq
->
u2
.
ªq_uid
 = 
	`¡ohl
(
vÆue
);

3161 
size
 += ();

3162 
	`mem˝y
(&
vÆue
, 
buf
 + 
size
, ());

3163 
ªq
->
u2
.
ªq_gid
 = 
	`¡ohl
(
vÆue
);

3164 
size
 += ();

3165 
ªq
->
u2
.
ªq_is_hiddí
 = *(
buf
 + 
size
);

3166 
size
 +(
uöt8_t
);

3167 
ªq
->
u2
.
ªq_is_°rùed
 = *(
buf
 + 
size
);

3168 
size
 +(
uöt8_t
);

3169 
ªq
->
u2
.
ªq_qo¶evñ
 = *(
buf
 + 
size
);

3170 
size
 +(
uöt8_t
);

3172 
±r
 = (
uöt8_t
 *Ë(
buf
 + 
size
);

3173 
t
 |((
uöt64_t
Ë(*(
±r
)) << (7 * 8));

3174 
t
 |((
uöt64_t
Ë(*(
±r
 + 1)) << (6 * 8));

3175 
t
 |((
uöt64_t
Ë(*(
±r
 + 2)) << (5 * 8));

3176 
t
 |((
uöt64_t
Ë(*(
±r
 + 3)) << (4 * 8));

3177 
t
 |((
uöt64_t
Ë(*(
±r
 + 4)) << (3 * 8));

3178 
t
 |((
uöt64_t
Ë(*(
±r
 + 5)) << (2 * 8));

3179 
t
 |((
uöt64_t
Ë(*(
±r
 + 6)) << (1 * 8));

3180 
t
 |(
uöt64_t
Ë(*(
±r
 + 7));

3181 
ªq
->
u2
.
ªq_exã¡_size
 = 
t
;

3182 
size
 +(
uöt64_t
);

3185 
	}
}

3192 
	$upd©e_ªque°
(*
˛õ¡_addr
, 
ªque°_t
 * 
ªque°
)

3194 
iÁddrs
 *
iÁddr
 = 
NULL
, *
iÁ
 = NULL;

3195 
s
 = -1;

3196 
ho°
[
NI_MAXHOST
];

3197 
uöt8_t
 
is_loˇl_ù
 = 0;

3199 i‡(
	`gëiÁddrs
(&
iÁddr
) == -1) {

3200 
	`USYSLOG
(
LOG_ERR
, "%s: getifaddrs failed withÉrror %d \n",

3201 
__FUNCTION__
, 
î∫o
);

3208 
iÁ
 = 
iÁddr
; iÁ !
NULL
; iÁ = iÁ->
iÁ_√xt
) {

3209 
s
 = 
	`gë«meöfo
(
iÁ
->
iÁ_addr
, (
sockaddr_ö
),

3210 
ho°
, 
NI_MAXHOST
, 
NULL
, 0, 
NI_NUMERICHOST
);

3211 i‡(
s
 != 0) {

3216 i‡(
iÁ
->
iÁ_addr
->
ß_Ámûy
 =
AF_INET
) {

3217 i‡(
	`°rcmp
(
˛õ¡_addr
, 
iÁ
->
iÁ_«me
) == 0)

3218 
is_loˇl_ù
 = 1;

3221 i‡(!
is_loˇl_ù
) {

3223 
tm≤am
[
TMPNAME_MAX
] = { '\0' };

3224 
fd
 = -1;

3225 
comm™d
[
PATH_MAX
 * 3];

3226 **
±r
 = 
NULL
;

3227 *
ªs
 = 
NULL
;

3228 *
bønches
 = 
NULL
;

3229 
ªt_°©us
 = -1;

3231 
	`°r˝y
(
tm≤am
, "/mnt/tempXXXXXX");

3232 
fd
 = 
	`mk°emp
(
tm≤am
);

3233 i‡(
fd
 == -1) {

3234 
	`USYSLOG
(
LOG_ERR
, "%s: mkstemp failed withÉrror %d \n",

3235 
__FUNCTION__
, 
î∫o
);

3238 
	`u∆ök
(
tm≤am
);

3239 i‡(
	`mkdú
(
tm≤am
, 0755) != 0) {

3240 
	`USYSLOG
(
LOG_ERR
, "%s: FailedÅo create directory. Error %d\n",

3241 
__FUNCTION__
, 
î∫o
);

3245 
bønches
 = 
	`ˇŒoc
(
PATH_MAX
, 1);

3246 i‡(
NULL
 =
bønches
) {

3247 
	`USYSLOG
(
LOG_ERR
, "%s: UnableÅoállocate memory \n",

3248 
__FUNCTION__
);

3251 
	`°r˝y
(
bønches
, 
ªque°
->
u1
.branches);

3252 
±r
 = (**Ë&
bønches
;

3253 
ªs
 = 
	`°r£p
(
±r
, "=");

3255 
	`•rötf
(
comm™d
, "sshf†%s@%s:%†%s", 
ªque°
->
u1
.
logö_«me
,

3256 
˛õ¡_addr
, 
ªs
, 
tm≤am
);

3258 
ªt_°©us
 = 
	`sy°em
(
comm™d
);

3259 i‡(
ªt_°©us
 == -1) {

3260 
	`USYSLOG
(
LOG_ERR
, "%s: Shell command is incomplete \n",

3261 
__FUNCTION__
);

3264 
	`USYSLOG
(
LOG_INFO
, "%s: system() succeeded withÑeturn status %d\n",

3265 
__FUNCTION__
, 
	`WEXITSTATUS
(
ªt_°©us
));

3268 
ªs
 = 
	`°r£p
(
±r
, "=");

3270 
	`¢¥ötf
(
ªque°
->
u1
.
bønches
, 
PATH_MAX
, "%s%s%s", 
tm≤am
, "=", 
ªs
);

3271 
	`‰ì
(
bønches
);

3273 
	}
}

3276 
	$gë_ö_addr
(
sockaddr
 *
ß
)

3278 i‡(
ß
->
ß_Ámûy
 =
AF_INET
) {

3279  &(((
sockaddr_ö
*)
ß
)->
sö_addr
);

3282  &(((
sockaddr_ö6
*)
ß
)->
sö6_addr
);

3283 
	}
}

3286 
	$h™dÀ_ªque°s
(* 
¨g
)

3288 
sockfd
, 
√w_fd
;

3289 
sockÀn_t
 
sö_size
;

3290 
yes
=1;

3291 
siga˘i⁄
 
ß
;

3292 
addröfo
 
höts
, *
£rvöfo
, *
p
;

3293 
sockaddr_°‹age
 
˛õ¡_addr
;

3294 
rv
 = -1;

3296 
	`USYSLOG
(
LOG_INFO
, "pid = %d\n", 
	`gëpid
());

3297 
	`mem£t
(&
höts
, 0, (
addröfo
));

3298 
höts
.
ai_Ámûy
 = 
AF_UNSPEC
;

3299 
höts
.
ai_sockty≥
 = 
SOCK_STREAM
;

3300 
höts
.
ai_Êags
 = 
AI_PASSIVE
;

3302 i‡((
rv
 = 
	`gëaddröfo
(
NULL
, 
PORT
, &
höts
, &
£rvöfo
)) != 0) {

3303 
	`sy¶og
(
LOG_NOTICE
, "gëaddröfo: %s\n", 
	`gai_°ªº‹
(
rv
));

3304  
NULL
;

3309 
p
 = 
£rvöfo
;Ö !
NULL
;Ö =Ö->
ai_√xt
) {

3313 i‡((
sockfd
 = 
	`sockë
(
AF_INET
, 
SOCK_STREAM
, 0)) == -1) {

3314 
	`sy¶og
(
LOG_NOTICE
, "UnableÅo create socket \n");

3318 i‡(
	`£tsock›t
(
sockfd
, 
SOL_SOCKET
, 
SO_REUSEADDR
, &
yes
,

3320 
	`sy¶og
(
LOG_NOTICE
, "setsockopt failed \n");

3321  
NULL
;

3324 i‡(
	`böd
(
sockfd
, 
p
->
ai_addr
,Ö->
ai_addæí
) == -1) {

3325 
	`˛o£
(
sockfd
);

3330 i‡(
NULL
 =
p
) {

3331 
	`sy¶og
(
LOG_NOTICE
, "UnableÅo bind \n");

3332  
NULL
;

3335 
	`‰ìaddröfo
(
£rvöfo
);

3337 i‡(
	`li°í
(
sockfd
, 
BACKLOG
) == -1) {

3338 
	`sy¶og
(
LOG_NOTICE
, "Listen failed \n");

3339 
	`˛o£
(
sockfd
);

3340  
NULL
;

3343 
ß
.
ß_h™dÀr
 = 
sigchld_h™dÀr
;

3344 
	`sigem±y£t
(&
ß
.
ß_mask
);

3345 
ß
.
ß_Êags
 = 
SA_RESTART
;

3346 i‡(
	`siga˘i⁄
(
SIGCHLD
, &
ß
, 
NULL
) == -1) {

3347 
	`sy¶og
(
LOG_NOTICE
, "sigaction failed\n");

3348 
	`˛o£
(
sockfd
);

3349  
NULL
;

3354 
nbyãs
 = -1;

3355 
ªque°_t
 
ªq
 ;

3356 
buf
[(
ªque°_t
)];

3357 
addr
[
INET6_ADDRSTRLEN
];

3359 
sö_size
 = (
sockaddr_°‹age
);

3360 
√w_fd
 = 
	`ac˚±
(
sockfd
, (
sockaddr
 *Ë&
˛õ¡_addr
, &
sö_size
);

3361 i‡(
√w_fd
 == -1) {

3362 
	`sy¶og
(
LOG_NOTICE
, "Accept failed\n");

3368 
	`öë_¡›
(
˛õ¡_addr
.
ss_Ámûy
,

3369 
	`gë_ö_addr
((
sockaddr
 *)&
˛õ¡_addr
), 
addr
,

3370 
INET6_ADDRSTRLEN
);

3377 
	`USYSLOG
(
LOG_INFO
, "Gotá connection");

3378 
nbyãs
 = 
	`ªcv
(
√w_fd
, 
buf
, (
ªque°_t
), 0);

3379 i‡(
nbyãs
 < (
ªque°_t
)) {

3380 
	`Ârötf
(
°dîr
, "IncompleteÑequestÑead \n");

3381 
	`˛o£
(
sockfd
);

3382  
NULL
;

3386 
	`USYSLOG
(
LOG_INFO
, "%x %x %x %x %x %x %x %x\n",

3387 
buf
[4], buf[5], buf[6], buf[7], buf[8], buf[9], buf[10], buf[11]);

3388 
	`de£rülize
(&
ªq
, 
buf
);

3389 
	`USYSLOG
(
LOG_INFO
, "%x %x %x %x %x %x %x %x\n",

3390 
ªq
.
bønches
[0],Ñeq.branches[1],Ñeq.branches[2],Ñeq.branches[3],

3391 
ªq
.
bønches
[4],Ñeq.branches[5],Ñeq.branches[6],

3392 
ªq
.
bønches
[7]);

3398 i‡(
ªq
.
u1
.
ªq_ty≥
 =
ADD_BRANCH
)

3399 
	`upd©e_ªque°
(
addr
, &
ªq
);

3400 
	`h™dÀ
(&
ªq
);

3401 
	`˛o£
(
√w_fd
);

3404  
NULL
;

3405 
	}
}

3410 
	$maö
(
¨gc
, *
¨gv
[])

3412 
fu£_¨gs
 
¨gs
 = 
	`FUSE_ARGS_INIT
(
¨gc
, 
¨gv
);

3413 
uid
 = 
	`gëuid
();

3414 
gid
 = 
	`gëgid
();

3415 
boﬁ
 
deÁu…_≥rmissi⁄s
 = 
åue
;

3416 
ªs
 = -1;

3418 
	`öô_sy¶og
();

3419 
	`u›t_öô
();

3421 i‡(
	`fu£_›t_∑r£
(&
¨gs
, 
NULL
, 
uni⁄fs_›ts
, 
uni⁄fs_›t_¥oc
) == -1)

3422 
	`RETURN
(1);

3424 i‡(
u›t
.
debug
)

3425 
	`debug_öô
();

3427 i‡(!
u›t
.
d€xô
) {

3428 i‡(
u›t
.
nbønches
 == 0) {

3429 
	`¥ötf
("YouÇeedÅo specifyátÜeast one branch!\n");

3430 
	`RETURN
(1);

3433 i‡(
u›t
.
°©s_íabÀd
)

3434 
	`°©s_öô
(&
°©s
);

3440 i‡(
uid
 !0 && 
gid
 !0 && 
u›t
.
ªœxed_≥rmissi⁄s
) {

3441 
deÁu…_≥rmissi⁄s
 = 
Ál£
;

3442 } i‡(
u›t
.
ªœxed_≥rmissi⁄s
) {

3444 
	`Ârötf
(
°dîr
, "RelaxedÖermissions disallowed forÑoot!\n");

3445 
	`exô
(1);

3448 i‡(
deÁu…_≥rmissi⁄s
) {

3449 i‡(
	`fu£_›t_add_¨g
(&
¨gs
, "-odefault_permissions")) {

3450 
	`Ârötf
(
°dîr
, "Severe failure, can'tÉnableÖermssion checks,áborting!\n");

3451 
	`exô
(1);

3454 
	`uni⁄fs_po°_›ts
(0);

3456 #ifde‡
FUSE_CAP_BIG_WRITES


3459 i‡(
	`fu£_›t_add_¨g
(&
¨gs
, "-obig_writes")) {

3460 
	`Ârötf
(
°dîr
, "FailedÅoÉnable big writes!\n");

3461 
	`exô
(1);

3465 
	`umask
(0);

3466 
ªs
 = 
	`fu£_maö
(
¨gs
.
¨gc
,árgs.
¨gv
, &
uni⁄fs_›î
, 
NULL
);

3467 
	`RETURN
(
u›t
.
d€xô
 ? u›t.
ªtvÆ
 : 
ªs
);

3468 
	}
}

	@/usr/include/Judy.h

1 #i‚de‡
_JUDY_INCLUDED


2 
	#_JUDY_INCLUDED


	)

35 #ifde‡
JU_WIN


37 
__öt8
 
	töt8_t
;

38 
__öt16
 
	töt16_t
;

39 
__öt32
 
	töt32_t
;

40 
__öt64
 
	töt64_t
;

42 
	t__öt8
 
	tuöt8_t
;

43 
	t__öt16
 
	tuöt16_t
;

44 
	t__öt32
 
	tuöt32_t
;

45 
	t__öt64
 
	tuöt64_t
;

50 
	~<öây≥s.h
>

58 
	~<°dlib.h
>

61 
	~<limôs.h
>

63 #ifde‡
__˝lu•lus


81 #i‚de‡
_PCVOID_T


82 
	#_PCVOID_T


	)

83 c⁄° * 
	tPcvoid_t
;

86 #i‚de‡
_PVOID_T


87 
	#_PVOID_T


	)

88 * 
	tPvoid_t
;

89 ** 
	tPPvoid_t
;

92 #i‚de‡
_WORD_T


93 
	#_WORD_T


	)

94 
	tW‹d_t
, * 
	tPW‹d_t
;

97 #i‚de‡
NULL


98 
	#NULL
 0

	)

120 
	gJU_ERRNO_NONE
 = 0,

121 
	gJU_ERRNO_FULL
 = 1,

122 
	gJU_ERRNO_NFMAX
 = 
JU_ERRNO_FULL
,

131 
	gJU_ERRNO_NOMEM
 = 2,

142 
	gJU_ERRNO_NULLPPARRAY
 = 3,

143 
	gJU_ERRNO_NONNULLPARRAY
 = 10,

144 
	gJU_ERRNO_NULLPINDEX
 = 4,

145 
	gJU_ERRNO_NULLPVALUE
 = 11,

146 
	gJU_ERRNO_NOTJUDY1
 = 5,

147 
	gJU_ERRNO_NOTJUDYL
 = 6,

148 
	gJU_ERRNO_NOTJUDYSL
 = 7,

149 
	gJU_ERRNO_UNSORTED
 = 12,

157 
	gJU_ERRNO_OVERRUN
 = 8,

165 
	gJU_ERRNO_CORRUPT
 = 9

170 } 
	tJU_Eºno_t
;

181 
	sJ_UDY_ERROR_STRUCT


183 
JU_Eºno_t
 
	gje_Eºno
;

184 
	gje_EºID
;

185 
W‹d_t
 
	gje_ª£rved
[4];

187 } 
	tJEº‹_t
, * 
	tPJEº‹_t
;

194 
	#JU_ERRNO
(
PJEº‹
Ë((PJEº‹)->
je_Eºno
)

	)

195 
	#JU_ERRID
(
PJEº‹
Ë((PJEº‹)->
je_EºID
)

	)

203 
	#JERR
 (-1Ë

	)

204 
	#PJERR
 ((
Pvoid_t
Ë(~0UL)Ë

	)

205 
	#PPJERR
 ((
PPvoid_t
Ë(~0UL)Ë

	)

210 
	#PJE0
 ((
PJEº‹_t
Ë
NULL
)

	)

218 
	#P_JE
 
PJEº‹_t
 
PJEº‹


	)

223 
Judy1Te°
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 
Index
, 
P_JE
);

224 
Judy1Së
–
PPvoid_t
 
PPAºay
, 
W‹d_t
 
Index
, 
P_JE
);

225 
Judy1SëAºay
–
PPvoid_t
 
PPAºay
, 
W‹d_t
 
Cou¡
,

226 c⁄° 
W‹d_t
 * c⁄° 
PIndex
,

227 
P_JE
);

228 
Judy1Un£t
–
PPvoid_t
 
PPAºay
, 
W‹d_t
 
Index
, 
P_JE
);

229 
W‹d_t
 
Judy1Cou¡
–
Pcvoid_t
 
PAºay
, W‹d_à
Index1
,

230 
W‹d_t
 
Index2
, 
P_JE
);

231 
Judy1ByCou¡
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 
Cou¡
,

232 
W‹d_t
 * 
PIndex
, 
P_JE
);

233 
W‹d_t
 
Judy1FªeAºay
–
PPvoid_t
 
PPAºay
, 
P_JE
);

234 
W‹d_t
 
Judy1MemU£d
–
Pcvoid_t
 
PAºay
);

235 
W‹d_t
 
Judy1MemA˘ive
–
Pcvoid_t
 
PAºay
);

236 
Judy1Fú°
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

237 
Judy1Next
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

238 
Judy1La°
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

239 
Judy1Pªv
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

240 
Judy1Fú°Em±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

241 
Judy1NextEm±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

242 
Judy1La°Em±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

243 
Judy1PªvEm±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

245 
PPvoid_t
 
JudyLGë
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 
Index
, 
P_JE
);

246 
PPvoid_t
 
JudyLIns
–PPvoid_à
PPAºay
, 
W‹d_t
 
Index
, 
P_JE
);

247 
JudyLInsAºay
–
PPvoid_t
 
PPAºay
, 
W‹d_t
 
Cou¡
,

248 c⁄° 
W‹d_t
 * c⁄° 
PIndex
,

249 c⁄° 
W‹d_t
 * c⁄° 
PVÆue
,

253 
P_JE
);

254 
JudyLDñ
–
PPvoid_t
 
PPAºay
, 
W‹d_t
 
Index
, 
P_JE
);

255 
W‹d_t
 
JudyLCou¡
–
Pcvoid_t
 
PAºay
, W‹d_à
Index1
,

256 
W‹d_t
 
Index2
, 
P_JE
);

257 
PPvoid_t
 
JudyLByCou¡
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 
Cou¡
,

258 
W‹d_t
 * 
PIndex
, 
P_JE
);

259 
W‹d_t
 
JudyLFªeAºay
–
PPvoid_t
 
PPAºay
, 
P_JE
);

260 
W‹d_t
 
JudyLMemU£d
–
Pcvoid_t
 
PAºay
);

261 
W‹d_t
 
JudyLMemA˘ive
–
Pcvoid_t
 
PAºay
);

262 
PPvoid_t
 
JudyLFú°
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

263 
PPvoid_t
 
JudyLNext
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

264 
PPvoid_t
 
JudyLLa°
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

265 
PPvoid_t
 
JudyLPªv
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

266 
JudyLFú°Em±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

267 
JudyLNextEm±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

268 
JudyLLa°Em±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

269 
JudyLPªvEm±y
–
Pcvoid_t
 
PAºay
, 
W‹d_t
 * 
PIndex
, 
P_JE
);

274 
PPvoid_t
 
JudySLGë
–
Pcvoid_t
, c⁄° 
uöt8_t
 * 
Index
, 
P_JE
);

275 
PPvoid_t
 
JudySLIns
–PPvoid_t, c⁄° 
uöt8_t
 * 
Index
, 
P_JE
);

276 
JudySLDñ
–
PPvoid_t
, c⁄° 
uöt8_t
 * 
Index
, 
P_JE
);

277 
W‹d_t
 
JudySLFªeAºay
–
PPvoid_t
, 
P_JE
);

278 
PPvoid_t
 
JudySLFú°
–
Pcvoid_t
, 
uöt8_t
 * 
Index
, 
P_JE
);

279 
PPvoid_t
 
JudySLNext
–
Pcvoid_t
, 
uöt8_t
 * 
Index
, 
P_JE
);

280 
PPvoid_t
 
JudySLLa°
–
Pcvoid_t
, 
uöt8_t
 * 
Index
, 
P_JE
);

281 
PPvoid_t
 
JudySLPªv
–
Pcvoid_t
, 
uöt8_t
 * 
Index
, 
P_JE
);

286 
PPvoid_t
 
JudyHSGë
–
Pcvoid_t
, *, 
W‹d_t
);

287 
PPvoid_t
 
JudyHSIns
–PPvoid_t, *, 
W‹d_t
, 
P_JE
);

288 
JudyHSDñ
–
PPvoid_t
, *, 
W‹d_t
, 
P_JE
);

289 
W‹d_t
 
JudyHSFªeAºay
–
PPvoid_t
, 
P_JE
);

291 c⁄° *
Judy1MÆlocSizes
;

292 c⁄° *
JudyLMÆlocSizes
;

297 
W‹d_t
 
JudyMÆloc
(Word_t);

298 
W‹d_t
 
JudyMÆlocVútuÆ
(Word_t);

299 
JudyFªe
(
Pvoid_t
, 
W‹d_t
);

300 
JudyFªeVútuÆ
(
Pvoid_t
, 
W‹d_t
);

302 
	#JLAP_INVALID
 0x1

	)

338 #i‚de‡
JUDYERROR_NOTEST


339 #i‚de‡
JUDYERROR


340 
	~<°dio.h
>

342 
	#JUDYERROR
(
CÆÀrFûe
, 
CÆÀrLöe
, 
JudyFunc
, 
JudyEºno
, 
JudyEºID
) \

344 (Ë
	`Ârötf
(
°dîr
, "File '%s',Üine %d: %s(), " \

346 
CÆÀrFûe
, 
CÆÀrLöe
, \

347 
JudyFunc
, 
JudyEºno
, 
JudyEºID
); \

348 
	`exô
(1); \

349 }

	)

381 #ifde‡
JUDYERROR_NOTEST


385 
	#J_SE
(
FuncName
,
Eºno
Ë((Ë0)

	)

397 
	#J_0I
(
Rc
,
PAºay
,
Func
,
FuncName
) \

398 { (
Rc
Ë
	`Func
(
PAºay
, 
PJE0
); }

	)

400 
	#J_1I
(
Rc
,
PAºay
,
Index
,
Func
,
FuncName
) \

401 { (
Rc
Ë
	`Func
(
PAºay
, 
Index
, 
PJE0
); }

	)

403 
	#J_1P
(
PV
,
PAºay
,
Index
,
Func
,
FuncName
) \

404 { (
PV
Ë(
Pvoid_t
Ë
	`Func
(
PAºay
, 
Index
, 
PJE0
); }

	)

406 
	#J_2I
(
Rc
,
PAºay
,
Index
,
Arg2
,
Func
,
FuncName
) \

407 { (
Rc
Ë
	`Func
(
PAºay
, 
Index
, 
Arg2
, 
PJE0
); }

	)

409 
	#J_2C
(
Rc
,
PAºay
,
Index1
,
Index2
,
Func
,
FuncName
) \

410 { (
Rc
Ë
	`Func
(
PAºay
, 
Index1
, 
Index2
, 
PJE0
); }

	)

412 
	#J_2P
(
PV
,
PAºay
,
Index
,
Arg2
,
Func
,
FuncName
) \

413 { (
PV
Ë(
Pvoid_t
Ë
	`Func
(
PAºay
, 
Index
, 
Arg2
, 
PJE0
); }

	)

417 
	#J_2AI
(
Rc
,
PAºay
,
Cou¡
,
PIndex
,
Func
,
FuncName
) \

418 { (
Rc
Ë
	`Func
(
PAºay
, 
Cou¡
, 
PIndex
, 
PJE0
); }

	)

419 
	#J_3AI
(
Rc
,
PAºay
,
Cou¡
,
PIndex
,
PVÆue
,
Func
,
FuncName
) \

420 { (
Rc
Ë
	`Func
(
PAºay
, 
Cou¡
, 
PIndex
, 
PVÆue
, 
PJE0
); }

	)

424 
	#J_E
(
FuncName
,
PJE
) \

425 
	`JUDYERROR
(
__FILE__
, 
__LINE__
, 
FuncName
, 
	`JU_ERRNO
(
PJE
), 
	`JU_ERRID
(PJE))

	)

427 
	#J_SE
(
FuncName
,
Eºno
) \

429 
JEº‹_t
 
J_Eº‹
; \

430 
	`JU_ERRNO
(&
J_Eº‹
Ë(
Eºno
); \

431 
	`JU_ERRID
(&
J_Eº‹
Ë
__LINE__
; \

432 
	`J_E
(
FuncName
, &
J_Eº‹
); \

433 }

	)

445 
	#J_0I
(
Rc
,
PAºay
,
Func
,
FuncName
) \

447 
JEº‹_t
 
J_Eº‹
; \

448 i‡(((
Rc
Ë
	`Func
(
PAºay
, &
J_Eº‹
)Ë=
JERR
) \

449 
	`J_E
(
FuncName
, &
J_Eº‹
); \

450 }

	)

452 
	#J_1I
(
Rc
,
PAºay
,
Index
,
Func
,
FuncName
) \

454 
JEº‹_t
 
J_Eº‹
; \

455 i‡(((
Rc
Ë
	`Func
(
PAºay
, 
Index
, &
J_Eº‹
)Ë=
JERR
) \

456 
	`J_E
(
FuncName
, &
J_Eº‹
); \

457 }

	)

459 
	#J_1P
(
Rc
,
PAºay
,
Index
,
Func
,
FuncName
) \

461 
JEº‹_t
 
J_Eº‹
; \

462 i‡(((
Rc
Ë(
Pvoid_t
Ë
	`Func
(
PAºay
, 
Index
, &
J_Eº‹
)Ë=
PJERR
) \

463 
	`J_E
(
FuncName
, &
J_Eº‹
); \

464 }

	)

466 
	#J_2I
(
Rc
,
PAºay
,
Index
,
Arg2
,
Func
,
FuncName
) \

468 
JEº‹_t
 
J_Eº‹
; \

469 i‡(((
Rc
Ë
	`Func
(
PAºay
, 
Index
, 
Arg2
, &
J_Eº‹
)Ë=
JERR
) \

470 
	`J_E
(
FuncName
, &
J_Eº‹
); \

471 }

	)

480 
	#J_2C
(
Rc
,
PAºay
,
Index1
,
Index2
,
Func
,
FuncName
) \

482 
JEº‹_t
 
J_Eº‹
; \

483 i‡((((
Rc
Ë
	`Func
(
PAºay
, 
Index1
, 
Index2
, &
J_Eº‹
)) == 0) \

484 && (
	`JU_ERRNO
(&
J_Eº‹
Ë> 
JU_ERRNO_NFMAX
)) \

486 
	`J_E
(
FuncName
, &
J_Eº‹
); \

488 }

	)

490 
	#J_2P
(
PV
,
PAºay
,
Index
,
Arg2
,
Func
,
FuncName
) \

492 
JEº‹_t
 
J_Eº‹
; \

493 i‡(((
PV
Ë(
Pvoid_t
Ë
	`Func
(
PAºay
, 
Index
, 
Arg2
, &
J_Eº‹
)) \

494 =
PJERR
Ë
	`J_E
(
FuncName
, &
J_Eº‹
); \

495 }

	)

499 
	#J_2AI
(
Rc
,
PAºay
,
Cou¡
,
PIndex
,
Func
,
FuncName
) \

501 
JEº‹_t
 
J_Eº‹
; \

502 i‡(((
Rc
Ë
	`Func
(
PAºay
, 
Cou¡
, 
PIndex
, &
J_Eº‹
)Ë=
JERR
) \

503 
	`J_E
(
FuncName
, &
J_Eº‹
); \

504 }

	)

506 
	#J_3AI
(
Rc
,
PAºay
,
Cou¡
,
PIndex
,
PVÆue
,
Func
,
FuncName
) \

508 
JEº‹_t
 
J_Eº‹
; \

509 i‡(((
Rc
Ë
	`Func
(
PAºay
, 
Cou¡
, 
PIndex
, 
PVÆue
, &
J_Eº‹
)) \

510 =
JERR
Ë
	`J_E
(
FuncName
, &
J_Eº‹
); \

511 }

	)

520 
	#J1T
(
Rc
,
PAºay
,
Index
) \

521 (
Rc
Ë
	`Judy1Te°
((
Pvoid_t
)(
PAºay
), 
Index
, 
PJE0
)

	)

523 
	#J1S
–
Rc
, 
PAºay
, 
Index
) \

524 
	`J_1I
(
Rc
, (&(
PAºay
)), 
Index
, 
Judy1Së
, "Judy1Së")

	)

525 
	#J1SA
(
Rc
, 
PAºay
, 
Cou¡
, 
PIndex
) \

526 
	`J_2AI
(
Rc
,(&(
PAºay
)), 
Cou¡
, 
PIndex
, 
Judy1SëAºay
, "Judy1SëAºay")

	)

527 
	#J1U
–
Rc
, 
PAºay
, 
Index
) \

528 
	`J_1I
(
Rc
, (&(
PAºay
)), 
Index
, 
Judy1Un£t
, "Judy1Un£t")

	)

529 
	#J1F
–
Rc
, 
PAºay
, 
Index
) \

530 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1Fú°
, "Judy1Fú°")

	)

531 
	#J1N
–
Rc
, 
PAºay
, 
Index
) \

532 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1Next
, "Judy1Next")

	)

533 
	#J1L
–
Rc
, 
PAºay
, 
Index
) \

534 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1La°
, "Judy1La°")

	)

535 
	#J1P
–
Rc
, 
PAºay
, 
Index
) \

536 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1Pªv
, "Judy1Pªv")

	)

537 
	#J1FE
(
Rc
, 
PAºay
, 
Index
) \

538 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1Fú°Em±y
, "Judy1Fú°Em±y")

	)

539 
	#J1NE
(
Rc
, 
PAºay
, 
Index
) \

540 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1NextEm±y
, "Judy1NextEm±y")

	)

541 
	#J1LE
(
Rc
, 
PAºay
, 
Index
) \

542 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1La°Em±y
, "Judy1La°Em±y")

	)

543 
	#J1PE
(
Rc
, 
PAºay
, 
Index
) \

544 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
Judy1PªvEm±y
, "Judy1PªvEm±y")

	)

545 
	#J1C
–
Rc
, 
PAºay
, 
Index1
, 
Index2
) \

546 
	`J_2C
(
Rc
, 
PAºay
, 
Index1
, 
Index2
, 
Judy1Cou¡
, "Judy1Cou¡")

	)

547 
	#J1BC
(
Rc
, 
PAºay
, 
Cou¡
, 
Index
) \

548 
	`J_2I
(
Rc
, 
PAºay
, 
Cou¡
, &(
Index
), 
Judy1ByCou¡
, "Judy1ByCou¡")

	)

549 
	#J1FA
(
Rc
, 
PAºay
) \

550 
	`J_0I
(
Rc
, (&(
PAºay
)), 
Judy1FªeAºay
, "Judy1FªeAºay")

	)

551 
	#J1MU
(
Rc
, 
PAºay
) \

552 (
Rc
Ë
	`Judy1MemU£d
(
PAºay
)

	)

554 
	#JLG
(
PV
,
PAºay
,
Index
) \

555 (
PV
Ë(
Pvoid_t
)
	`JudyLGë
((Pvoid_t)
PAºay
, 
Index
, 
PJE0
)

	)

557 
	#JLI
–
PV
, 
PAºay
, 
Index
) \

558 
	`J_1P
(
PV
, (&(
PAºay
)), 
Index
, 
JudyLIns
, "JudyLIns")

	)

560 
	#JLIA
(
Rc
, 
PAºay
, 
Cou¡
, 
PIndex
, 
PVÆue
) \

561 
	`J_3AI
(
Rc
,(&(
PAºay
)), 
Cou¡
, 
PIndex
, 
PVÆue
, 
JudyLInsAºay
, \

562 "JudyLInsAºay")

	)

563 
	#JLD
–
Rc
, 
PAºay
, 
Index
) \

564 
	`J_1I
(
Rc
, (&(
PAºay
)), 
Index
, 
JudyLDñ
, "JudyLDñ")

	)

566 
	#JLF
–
PV
, 
PAºay
, 
Index
) \

567 
	`J_1P
(
PV
, 
PAºay
, &(
Index
), 
JudyLFú°
, "JudyLFú°")

	)

569 
	#JLN
–
PV
, 
PAºay
, 
Index
) \

570 
	`J_1P
(
PV
, 
PAºay
, &(
Index
), 
JudyLNext
, "JudyLNext")

	)

572 
	#JLL
–
PV
, 
PAºay
, 
Index
) \

573 
	`J_1P
(
PV
, 
PAºay
, &(
Index
), 
JudyLLa°
, "JudyLLa°")

	)

574 
	#JLP
–
PV
, 
PAºay
, 
Index
) \

575 
	`J_1P
(
PV
, 
PAºay
, &(
Index
), 
JudyLPªv
, "JudyLPªv")

	)

576 
	#JLFE
(
Rc
, 
PAºay
, 
Index
) \

577 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
JudyLFú°Em±y
, "JudyLFú°Em±y")

	)

578 
	#JLNE
(
Rc
, 
PAºay
, 
Index
) \

579 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
JudyLNextEm±y
, "JudyLNextEm±y")

	)

580 
	#JLLE
(
Rc
, 
PAºay
, 
Index
) \

581 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
JudyLLa°Em±y
, "JudyLLa°Em±y")

	)

582 
	#JLPE
(
Rc
, 
PAºay
, 
Index
) \

583 
	`J_1I
(
Rc
, 
PAºay
, &(
Index
), 
JudyLPªvEm±y
, "JudyLPªvEm±y")

	)

584 
	#JLC
–
Rc
, 
PAºay
, 
Index1
, 
Index2
) \

585 
	`J_2C
(
Rc
, 
PAºay
, 
Index1
, 
Index2
, 
JudyLCou¡
, "JudyLCou¡")

	)

586 
	#JLBC
(
PV
, 
PAºay
, 
Cou¡
, 
Index
) \

587 
	`J_2P
(
PV
, 
PAºay
, 
Cou¡
, &(
Index
), 
JudyLByCou¡
, "JudyLByCou¡")

	)

588 
	#JLFA
(
Rc
, 
PAºay
) \

589 
	`J_0I
(
Rc
, (&(
PAºay
)), 
JudyLFªeAºay
, "JudyLFªeAºay")

	)

590 
	#JLMU
(
Rc
, 
PAºay
) \

591 (
Rc
Ë
	`JudyLMemU£d
(
PAºay
)

	)

593 
	#JHSI
(
PV
, 
PAºay
, 
PIndex
, 
Cou¡
) \

594 
	`J_2P
(
PV
, (&(
PAºay
)), 
PIndex
, 
Cou¡
, 
JudyHSIns
, "JudyHSIns")

	)

595 
	#JHSG
(
PV
, 
PAºay
, 
PIndex
, 
Cou¡
) \

596 (
PV
Ë(
Pvoid_t
Ë
	`JudyHSGë
(
PAºay
, 
PIndex
, 
Cou¡
)

	)

597 
	#JHSD
(
Rc
, 
PAºay
, 
PIndex
, 
Cou¡
) \

598 
	`J_2I
(
Rc
, (&(
PAºay
)), 
PIndex
, 
Cou¡
, 
JudyHSDñ
, "JudyHSDñ")

	)

599 
	#JHSFA
(
Rc
, 
PAºay
) \

600 
	`J_0I
(
Rc
, (&(
PAºay
)), 
JudyHSFªeAºay
, "JudyHSFªeAºay")

	)

602 
	#JSLG
–
PV
, 
PAºay
, 
Index
) \

603 
	`J_1P
–
PV
, 
PAºay
, 
Index
, 
JudySLGë
, "JudySLGë")

	)

604 
	#JSLI
–
PV
, 
PAºay
, 
Index
) \

605 
	`J_1P
–
PV
, (&(
PAºay
)), 
Index
, 
JudySLIns
, "JudySLIns")

	)

606 
	#JSLD
–
Rc
, 
PAºay
, 
Index
) \

607 
	`J_1I
–
Rc
, (&(
PAºay
)), 
Index
, 
JudySLDñ
, "JudySLDñ")

	)

608 
	#JSLF
–
PV
, 
PAºay
, 
Index
) \

609 
	`J_1P
–
PV
, 
PAºay
, 
Index
, 
JudySLFú°
, "JudySLFú°")

	)

610 
	#JSLN
–
PV
, 
PAºay
, 
Index
) \

611 
	`J_1P
–
PV
, 
PAºay
, 
Index
, 
JudySLNext
, "JudySLNext")

	)

612 
	#JSLL
–
PV
, 
PAºay
, 
Index
) \

613 
	`J_1P
–
PV
, 
PAºay
, 
Index
, 
JudySLLa°
, "JudySLLa°")

	)

614 
	#JSLP
–
PV
, 
PAºay
, 
Index
) \

615 
	`J_1P
–
PV
, 
PAºay
, 
Index
, 
JudySLPªv
, "JudySLPªv")

	)

616 
	#JSLFA
(
Rc
, 
PAºay
) \

617 
	`J_0I
–
Rc
, (&(
PAºay
)), 
JudySLFªeAºay
, "JudySLFªeAºay")

	)

619 #ifde‡
__˝lu•lus


	@/usr/include/alloca.h

18 #i‚def 
_ALLOCA_H


19 
	#_ALLOCA_H
 1

	)

21 
	~<„©uªs.h
>

23 
	#__√ed_size_t


	)

24 
	~<°ddef.h
>

26 
	g__BEGIN_DECLS


29 #unde‡
Æloˇ


32 *
	$Æloˇ
 (
size_t
 
__size
Ë
__THROW
;

34 #ifdef 
__GNUC__


35 
	#Æloˇ
(
size
Ë
	`__buûtö_Æloˇ
 (size)

	)

38 
__END_DECLS


	@/usr/include/arpa/inet.h

18 #i‚de‡
_ARPA_INET_H


19 
	#_ARPA_INET_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<√töë/ö.h
>

25 #i‚de‡
__sockÀn_t_deföed


26 
__sockÀn_t
 
	tsockÀn_t
;

27 
	#__sockÀn_t_deföed


	)

30 
__BEGIN_DECLS


34 
ö_addr_t
 
	$öë_addr
 (c⁄° *
__˝
Ë
__THROW
;

37 
ö_addr_t
 
	$öë_ aof
 (
ö_addr
 
__ö
Ë
__THROW
;

41 
ö_addr
 
	$öë_makóddr
 (
ö_addr_t
 
__√t
, in_addr_à
__ho°
)

42 
__THROW
;

45 
ö_addr_t
 
	$öë_√tof
 (
ö_addr
 
__ö
Ë
__THROW
;

49 
ö_addr_t
 
	$öë_√tw‹k
 (c⁄° *
__˝
Ë
__THROW
;

53 *
	$öë_¡ﬂ
 (
ö_addr
 
__ö
Ë
__THROW
;

58 
	$öë_±⁄
 (
__af
, c⁄° *
__ª°ri˘
 
__˝
,

59 *
__ª°ri˘
 
__buf
Ë
__THROW
;

64 c⁄° *
	$öë_¡›
 (
__af
, c⁄° *
__ª°ri˘
 
__˝
,

65 *
__ª°ri˘
 
__buf
, 
sockÀn_t
 
__Àn
)

66 
__THROW
;

70 #ifde‡
__USE_MISC


73 
	$öë_©⁄
 (c⁄° *
__˝
, 
ö_addr
 *
__öp
Ë
__THROW
;

77 *
	$öë_√è
 (
ö_addr_t
 
__√t
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

82 *
	$öë_√t_¡›
 (
__af
, c⁄° *
__˝
, 
__bôs
,

83 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

88 
	$öë_√t_±⁄
 (
__af
, c⁄° *
__˝
,

89 *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

94 
	$öë_nßp_addr
 (c⁄° *
__˝
,

95 *
__buf
, 
__Àn
Ë
__THROW
;

99 *
	$öë_nßp_¡ﬂ
 (
__Àn
, c⁄° *
__˝
,

100 *
__buf
Ë
__THROW
;

103 
__END_DECLS


	@/usr/include/assert.h

23 #ifdef 
_ASSERT_H


25 #unde‡
_ASSERT_H


26 #unde‡
as£π


27 #unde‡
__ASSERT_VOID_CAST


29 #ifdef 
__USE_GNU


30 #unde‡
as£π_≥º‹


35 
	#_ASSERT_H
 1

	)

36 
	~<„©uªs.h
>

38 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,95)

39 
	#__ASSERT_VOID_CAST
 
°©ic_ˇ°
<>

	)

41 
	#__ASSERT_VOID_CAST
 ()

	)

49 #ifdef 
NDEBUG


51 
	#as£π
(
ex¥
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

59 #ifdef 
__USE_GNU


60 
	#as£π_≥º‹
(
î∫um
Ë(
	`__ASSERT_VOID_CAST
 (0))

	)

65 #i‚de‡
_ASSERT_H_DECLS


66 
	#_ASSERT_H_DECLS


	)

67 
__BEGIN_DECLS


70 
	$__as£π_Áû
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
,

71 
__löe
, c⁄° *
__fun˘i⁄
)

72 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

75 
	$__as£π_≥º‹_Áû
 (
__î∫um
, c⁄° *
__fûe
,

76 
__löe
, c⁄° *
__fun˘i⁄
)

77 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

82 
	$__as£π
 (c⁄° *
__as£πi⁄
, c⁄° *
__fûe
, 
__löe
)

83 
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

86 
__END_DECLS


89 
	#as£π
(
ex¥
) \

90 ((
ex¥
) \

91 ? 
	`__ASSERT_VOID_CAST
 (0) \

92 : 
	`__as£π_Áû
 (
	`__STRING
(
ex¥
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

94 #ifdef 
__USE_GNU


95 
	#as£π_≥º‹
(
î∫um
) \

96 (!(
î∫um
) \

97 ? 
	`__ASSERT_VOID_CAST
 (0) \

98 : 
	`__as£π_≥º‹_Áû
 ((
î∫um
), 
__FILE__
, 
__LINE__
, 
__ASSERT_FUNCTION
))

	)

106 #i‡
deföed
 
__˝lu•lus
 ? 
	`__GNUC_PREREQ
 (2, 6) : __GNUC_PREREQ (2, 4)

107 
	#__ASSERT_FUNCTION
 
__PRETTY_FUNCTION__


	)

109 #i‡
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L

110 
	#__ASSERT_FUNCTION
 
__func__


	)

112 
	#__ASSERT_FUNCTION
 ((c⁄° *Ë0)

	)

119 #i‡
deföed
 
__USE_ISOC11
 && !deföed 
__˝lu•lus


121 #unde‡
°©ic_as£π


122 
	#°©ic_as£π
 
_Sètic_as£π


	)

	@/usr/include/ctype.h

23 #i‚def 
_CTYPE_H


24 
	#_CTYPE_H
 1

	)

26 
	~<„©uªs.h
>

27 
	~<bôs/ty≥s.h
>

29 
	g__BEGIN_DECLS


31 #i‚de‡
_ISbô


40 
	~<ídün.h
>

41 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


42 
	#_ISbô
(
bô
Ë(1 << (bô))

	)

44 
	#_ISbô
(
bô
Ë((bôË< 8 ? ((1 << (bô)Ë<< 8Ë: ((1 << (bô)Ë>> 8))

	)

49 
	m_ISuµî
 = 
_ISbô
 (0),

50 
	m_ISlowî
 = 
_ISbô
 (1),

51 
	m_ISÆpha
 = 
_ISbô
 (2),

52 
	m_ISdigô
 = 
_ISbô
 (3),

53 
	m_ISxdigô
 = 
_ISbô
 (4),

54 
	m_IS•a˚
 = 
_ISbô
 (5),

55 
	m_IS¥öt
 = 
_ISbô
 (6),

56 
	m_ISgøph
 = 
_ISbô
 (7),

57 
	m_ISbœnk
 = 
_ISbô
 (8),

58 
	m_IS˙ål
 = 
_ISbô
 (9),

59 
	m_ISpun˘
 = 
_ISbô
 (10),

60 
	m_ISÆnum
 = 
_ISbô
 (11)

80 c⁄° **
	$__˘y≥_b_loc
 ()

81 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

82 c⁄° 
__öt32_t
 **
	$__˘y≥_tﬁowî_loc
 ()

83 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

84 c⁄° 
__öt32_t
 **
	$__˘y≥_touµî_loc
 ()

85 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

88 #i‚de‡
__˝lu•lus


89 
	#__is˘y≥
(
c
, 
ty≥
) \

90 ((*
	`__˘y≥_b_loc
 ())[(Ë(
c
)] & (Ë
ty≥
)

	)

91 #ñi‡
deföed
 
__USE_EXTERN_INLINES


92 
	#__is˘y≥_f
(
ty≥
) \

93 
__exã∫_ölöe
 \

94 
is
##
	`ty≥
 (
__c
Ë
__THROW
 \

96  (*
	`__˘y≥_b_loc
 ())[(Ë(
__c
)] & (Ë
_IS
##
ty≥
; \

97 
	}

	)
}

100 
	#__ißscii
(
c
Ë(((cË& ~0x7fË=0Ë

	)

101 
	#__tﬂscii
(
c
Ë((cË& 0x7fË

	)

103 
	#__ex˘y≥
(
«me
Ë
	`«me
 (Ë
__THROW


	)

105 
__BEGIN_NAMESPACE_STD


111 
__ex˘y≥
 (
iß um
);

112 
__ex˘y≥
 (
ißÕha
);

113 
__ex˘y≥
 (
is˙ål
);

114 
__ex˘y≥
 (
isdigô
);

115 
__ex˘y≥
 (
i¶owî
);

116 
__ex˘y≥
 (
isgøph
);

117 
__ex˘y≥
 (
i•röt
);

118 
__ex˘y≥
 (
i•un˘
);

119 
__ex˘y≥
 (
is•a˚
);

120 
__ex˘y≥
 (
isuµî
);

121 
__ex˘y≥
 (
isxdigô
);

125 
	$tﬁowî
 (
__c
Ë
__THROW
;

128 
	$touµî
 (
__c
Ë
__THROW
;

130 
__END_NAMESPACE_STD


134 #ifdef 
__USE_ISOC99


135 
__BEGIN_NAMESPACE_C99


137 
	`__ex˘y≥
 (
isbœnk
);

139 
__END_NAMESPACE_C99


142 #ifde‡
__USE_GNU


144 
	$is˘y≥
 (
__c
, 
__mask
Ë
__THROW
;

147 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


151 
	$ißscii
 (
__c
Ë
__THROW
;

155 
	$tﬂscii
 (
__c
Ë
__THROW
;

159 
	`__ex˘y≥
 (
_touµî
);

160 
	`__ex˘y≥
 (
_tﬁowî
);

164 
	#__tobody
(
c
, 
f
, 
a
, 
¨gs
) \

165 (
__exãnsi⁄__
 \

166 ({ 
__ªs
; \

167 i‡( (
c
) > 1) \

169 i‡(
	`__buûtö_c⁄°™t_p
 (
c
)) \

171 
__c
 = (
c
); \

172 
__ªs
 = 
__c
 < -128 || __¯> 255 ? __¯: (
a
)[__c]; \

175 
__ªs
 = 
f
 
¨gs
; \

178 
__ªs
 = (
a
)[(Ë(
c
)]; \

179 
__ªs
; 
	}
}))

	)

181 #i‡!
deföed
 
__NO_CTYPE


182 #ifde‡
__is˘y≥_f


183 
	$__is˘y≥_f
 (
Ænum
)

184 
	$__is˘y≥_f
 (
Æpha
)

185 
	$__is˘y≥_f
 (
˙ål
)

186 
	$__is˘y≥_f
 (
digô
)

187 
	$__is˘y≥_f
 (
lowî
)

188 
	$__is˘y≥_f
 (
gøph
)

189 
	$__is˘y≥_f
 (
¥öt
)

190 
	$__is˘y≥_f
 (
pun˘
)

191 
	$__is˘y≥_f
 (
•a˚
)

192 
	$__is˘y≥_f
 (
uµî
)

193 
	$__is˘y≥_f
 (
xdigô
)

194 #ifde‡
__USE_ISOC99


195 
	$__is˘y≥_f
 (
bœnk
)

197 #ñi‡
deföed
 
__is˘y≥


198 
	#iß um
(
c
Ë
	`__is˘y≥
((c), 
_ISÆnum
)

	)

199 
	#ißÕha
(
c
Ë
	`__is˘y≥
((c), 
_ISÆpha
)

	)

200 
	#is˙ål
(
c
Ë
	`__is˘y≥
((c), 
_IS˙ål
)

	)

201 
	#isdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISdigô
)

	)

202 
	#i¶owî
(
c
Ë
	`__is˘y≥
((c), 
_ISlowî
)

	)

203 
	#isgøph
(
c
Ë
	`__is˘y≥
((c), 
_ISgøph
)

	)

204 
	#i•röt
(
c
Ë
	`__is˘y≥
((c), 
_IS¥öt
)

	)

205 
	#i•un˘
(
c
Ë
	`__is˘y≥
((c), 
_ISpun˘
)

	)

206 
	#is•a˚
(
c
Ë
	`__is˘y≥
((c), 
_IS•a˚
)

	)

207 
	#isuµî
(
c
Ë
	`__is˘y≥
((c), 
_ISuµî
)

	)

208 
	#isxdigô
(
c
Ë
	`__is˘y≥
((c), 
_ISxdigô
)

	)

209 #ifde‡
__USE_ISOC99


210 
	#isbœnk
(
c
Ë
	`__is˘y≥
((c), 
_ISbœnk
)

	)

214 #ifde‡
__USE_EXTERN_INLINES


215 
__exã∫_ölöe
 

216 
	`__NTH
 (
	$tﬁowî
 (
__c
))

218  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_tﬁowî_loc
 ())[__c] : __c;

219 
	}
}

221 
__exã∫_ölöe
 

222 
__NTH
 (
	$touµî
 (
__c
))

224  
__c
 >-128 && __¯< 256 ? (*
	`__˘y≥_touµî_loc
 ())[__c] : __c;

225 
	}
}

228 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


229 
	#tﬁowî
(
c
Ë
	`__tobody
 (c, 
tﬁowî
, *
	`__˘y≥_tﬁowî_loc
 (), (c))

	)

230 
	#touµî
(
c
Ë
	`__tobody
 (c, 
touµî
, *
	`__˘y≥_touµî_loc
 (), (c))

	)

233 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


234 
	#ißscii
(
c
Ë
	`__ißscii
 (c)

	)

235 
	#tﬂscii
(
c
Ë
	`__tﬂscii
 (c)

	)

237 
	#_tﬁowî
(
c
Ë((Ë(*
	`__˘y≥_tﬁowî_loc
 ())[(Ë(c)])

	)

238 
	#_touµî
(
c
Ë((Ë(*
	`__˘y≥_touµî_loc
 ())[(Ë(c)])

	)

244 #ifde‡
__USE_XOPEN2K8


258 
	~<xloˇÀ.h
>

262 
	#__is˘y≥_l
(
c
, 
ty≥
, 
loˇÀ
) \

263 ((
loˇÀ
)->
__˘y≥_b
[(Ë(
c
)] & (Ë
ty≥
)

	)

265 
	#__ex˘y≥_l
(
«me
) \

266 
	`«me
 (, 
__loˇÀ_t
Ë
__THROW


	)

272 
__ex˘y≥_l
 (
iß um_l
);

273 
__ex˘y≥_l
 (
ißÕha_l
);

274 
__ex˘y≥_l
 (
is˙ål_l
);

275 
__ex˘y≥_l
 (
isdigô_l
);

276 
__ex˘y≥_l
 (
i¶owî_l
);

277 
__ex˘y≥_l
 (
isgøph_l
);

278 
__ex˘y≥_l
 (
i•röt_l
);

279 
__ex˘y≥_l
 (
i•un˘_l
);

280 
__ex˘y≥_l
 (
is•a˚_l
);

281 
__ex˘y≥_l
 (
isuµî_l
);

282 
__ex˘y≥_l
 (
isxdigô_l
);

284 
__ex˘y≥_l
 (
isbœnk_l
);

288 
	$__tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

289 
	$tﬁowî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

292 
	$__touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

293 
	$touµî_l
 (
__c
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

295 #i‡
__GNUC__
 >2 && 
deföed
 
__OPTIMIZE__
 && !deföed 
__˝lu•lus


296 
	#__tﬁowî_l
(
c
, 
loˇÀ
) \

297 
	`__tobody
 (
c
, 
__tﬁowî_l
, (
loˇÀ
)->
__˘y≥_tﬁowî
, (c,ÜoˇÀ))

	)

298 
	#__touµî_l
(
c
, 
loˇÀ
) \

299 
	`__tobody
 (
c
, 
__touµî_l
, (
loˇÀ
)->
__˘y≥_touµî
, (c,ÜoˇÀ))

	)

300 
	#tﬁowî_l
(
c
, 
loˇÀ
Ë
	`__tﬁowî_l
 ((c), (loˇÀ))

	)

301 
	#touµî_l
(
c
, 
loˇÀ
Ë
	`__touµî_l
 ((c), (loˇÀ))

	)

305 #i‚de‡
__NO_CTYPE


306 
	#__iß um_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆnum
, (l))

	)

307 
	#__ißÕha_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISÆpha
, (l))

	)

308 
	#__is˙ål_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS˙ål
, (l))

	)

309 
	#__isdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISdigô
, (l))

	)

310 
	#__i¶owî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISlowî
, (l))

	)

311 
	#__isgøph_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISgøph
, (l))

	)

312 
	#__i•röt_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS¥öt
, (l))

	)

313 
	#__i•un˘_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISpun˘
, (l))

	)

314 
	#__is•a˚_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_IS•a˚
, (l))

	)

315 
	#__isuµî_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISuµî
, (l))

	)

316 
	#__isxdigô_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISxdigô
, (l))

	)

318 
	#__isbœnk_l
(
c
,
l
Ë
	`__is˘y≥_l
((c), 
_ISbœnk
, (l))

	)

320 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


321 
	#__ißscii_l
(
c
,
l
Ë(÷), 
	`__ißscii
 (c))

	)

322 
	#__tﬂscii_l
(
c
,
l
Ë(÷), 
	`__tﬂscii
 (c))

	)

325 
	#iß um_l
(
c
,
l
Ë
	`__iß um_l
 ((c), (l))

	)

326 
	#ißÕha_l
(
c
,
l
Ë
	`__ißÕha_l
 ((c), (l))

	)

327 
	#is˙ål_l
(
c
,
l
Ë
	`__is˙ål_l
 ((c), (l))

	)

328 
	#isdigô_l
(
c
,
l
Ë
	`__isdigô_l
 ((c), (l))

	)

329 
	#i¶owî_l
(
c
,
l
Ë
	`__i¶owî_l
 ((c), (l))

	)

330 
	#isgøph_l
(
c
,
l
Ë
	`__isgøph_l
 ((c), (l))

	)

331 
	#i•röt_l
(
c
,
l
Ë
	`__i•röt_l
 ((c), (l))

	)

332 
	#i•un˘_l
(
c
,
l
Ë
	`__i•un˘_l
 ((c), (l))

	)

333 
	#is•a˚_l
(
c
,
l
Ë
	`__is•a˚_l
 ((c), (l))

	)

334 
	#isuµî_l
(
c
,
l
Ë
	`__isuµî_l
 ((c), (l))

	)

335 
	#isxdigô_l
(
c
,
l
Ë
	`__isxdigô_l
 ((c), (l))

	)

337 
	#isbœnk_l
(
c
,
l
Ë
	`__isbœnk_l
 ((c), (l))

	)

339 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


340 
	#ißscii_l
(
c
,
l
Ë
	`__ißscii_l
 ((c), (l))

	)

341 
	#tﬂscii_l
(
c
,
l
Ë
	`__tﬂscii_l
 ((c), (l))

	)

348 
__END_DECLS


	@/usr/include/dirent.h

23 #i‚def 
_DIRENT_H


24 
	#_DIRENT_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/ty≥s.h
>

32 #ifde‡
__USE_XOPEN


33 #i‚de‡
__öo_t_deföed


34 #i‚de‡
__USE_FILE_OFFSET64


35 
__öo_t
 
	töo_t
;

37 
__öo64_t
 
	töo_t
;

39 
	#__öo_t_deföed


	)

41 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__öo64_t_deföed


42 
__öo64_t
 
	töo64_t
;

43 
	#__öo64_t_deföed


	)

62 
	~<bôs/dúít.h
>

64 #i‡(
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
Ë&& !deföed 
d_fûío


65 
	#d_öo
 
d_fûío


	)

82 #ifde‡
_DIRENT_HAVE_D_NAMLEN


83 
	#_D_EXACT_NAMLEN
(
d
Ë((d)->
d_«mÀn
)

	)

84 
	#_D_ALLOC_NAMLEN
(
d
Ë(
	`_D_EXACT_NAMLEN
 (dË+ 1)

	)

86 
	#_D_EXACT_NAMLEN
(
d
Ë(
	`°æí
 ((d)->
d_«me
))

	)

87 #ifde‡
_DIRENT_HAVE_D_RECLEN


88 
	#_D_ALLOC_NAMLEN
(
d
Ë(((*Ë(dË+ (d)->
d_ª˛í
Ë- &(d)->
d_«me
[0])

	)

90 
	#_D_ALLOC_NAMLEN
(
d
Ë( (d)->
d_«me
 > 1 ?  (d)->d_name : \

91 
	`_D_EXACT_NAMLEN
 (
d
Ë+ 1)

	)

96 #ifde‡
__USE_BSD


100 
	mDT_UNKNOWN
 = 0,

101 
	#DT_UNKNOWN
 
DT_UNKNOWN


	)

102 
	mDT_FIFO
 = 1,

103 
	#DT_FIFO
 
DT_FIFO


	)

104 
	mDT_CHR
 = 2,

105 
	#DT_CHR
 
DT_CHR


	)

106 
	mDT_DIR
 = 4,

107 
	#DT_DIR
 
DT_DIR


	)

108 
	mDT_BLK
 = 6,

109 
	#DT_BLK
 
DT_BLK


	)

110 
	mDT_REG
 = 8,

111 
	#DT_REG
 
DT_REG


	)

112 
	mDT_LNK
 = 10,

113 
	#DT_LNK
 
DT_LNK


	)

114 
	mDT_SOCK
 = 12,

115 
	#DT_SOCK
 
DT_SOCK


	)

116 
	mDT_WHT
 = 14

117 
	#DT_WHT
 
DT_WHT


	)

121 
	#IFTODT
(
mode
Ë(((modeË& 0170000Ë>> 12)

	)

122 
	#DTTOIF
(
dúty≥
Ë((dúty≥Ë<< 12)

	)

128 
__dú°ªam
 
	tDIR
;

135 
DIR
 *
	$›ídú
 (c⁄° *
__«me
Ë
	`__n⁄nuŒ
 ((1));

137 #ifde‡
__USE_XOPEN2K8


142 
DIR
 *
	`fd›ídú
 (
__fd
);

150 
	$˛o£dú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

162 #i‚de‡
__USE_FILE_OFFSET64


163 
dúít
 *
	$ªaddú
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

165 #ifde‡
__REDIRECT


166 
dúít
 *
	`__REDIRECT
 (
ªaddú
, (
DIR
 *
__dúp
), 
ªaddú64
)

167 
	`__n⁄nuŒ
 ((1));

169 
	#ªaddú
 
ªaddú64


	)

173 #ifde‡
__USE_LARGEFILE64


174 
dúít64
 *
	$ªaddú64
 (
DIR
 *
__dúp
Ë
	`__n⁄nuŒ
 ((1));

177 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


183 #i‚de‡
__USE_FILE_OFFSET64


184 
	$ªaddú_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

185 
dúít
 *
__ª°ri˘
 
__íåy
,

186 
dúít
 **
__ª°ri˘
 
__ªsu…
)

187 
	`__n⁄nuŒ
 ((1, 2, 3));

189 #ifde‡
__REDIRECT


190 
	`__REDIRECT
 (
ªaddú_r
,

191 (
DIR
 *
__ª°ri˘
 
__dúp
,

192 
dúít
 *
__ª°ri˘
 
__íåy
,

193 
dúít
 **
__ª°ri˘
 
__ªsu…
),

194 
ªaddú64_r
Ë
	`__n⁄nuŒ
 ((1, 2, 3));

196 
	#ªaddú_r
 
ªaddú64_r


	)

200 #ifde‡
__USE_LARGEFILE64


201 
	$ªaddú64_r
 (
DIR
 *
__ª°ri˘
 
__dúp
,

202 
dúít64
 *
__ª°ri˘
 
__íåy
,

203 
dúít64
 **
__ª°ri˘
 
__ªsu…
)

204 
	`__n⁄nuŒ
 ((1, 2, 3));

209 
	$ªwöddú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

211 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


212 
	~<bôs/ty≥s.h
>

215 
	$£ekdú
 (
DIR
 *
__dúp
, 
__pos
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

218 
	$ãŒdú
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

221 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN2K8


224 
	$dúfd
 (
DIR
 *
__dúp
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

226 #i‡
deföed
 
__OPTIMIZE__
 && deföed 
_DIR_dúfd


227 
	#dúfd
(
dúp
Ë
	`_DIR_dúfd
 (dúp)

	)

230 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


231 #i‚de‡
MAXNAMLEN


233 
	~<bôs/posix1_lim.h
>

236 #ifde‡
NAME_MAX


237 
	#MAXNAMLEN
 
NAME_MAX


	)

239 
	#MAXNAMLEN
 255

	)

244 
	#__√ed_size_t


	)

245 
	~<°ddef.h
>

254 #i‚de‡
__USE_FILE_OFFSET64


255 
	`sˇndú
 (c⁄° *
__ª°ri˘
 
__dú
,

256 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

257 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

258 (*
__cmp
Ë(c⁄° 
dúít
 **,

259 c⁄° 
dúít
 **))

260 
	`__n⁄nuŒ
 ((1, 2));

262 #ifde‡
__REDIRECT


263 
	`__REDIRECT
 (
sˇndú
,

264 (c⁄° *
__ª°ri˘
 
__dú
,

265 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

266 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

267 (*
__cmp
Ë(c⁄° 
dúít
 **,

268 c⁄° 
dúít
 **)),

269 
sˇndú64
Ë
	`__n⁄nuŒ
 ((1, 2));

271 
	#sˇndú
 
sˇndú64


	)

275 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


278 
	`sˇndú64
 (c⁄° *
__ª°ri˘
 
__dú
,

279 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

280 (*
__£À˘‹
Ë(c⁄° 
dúít64
 *),

281 (*
__cmp
Ë(c⁄° 
dúít64
 **,

282 c⁄° 
dúít64
 **))

283 
	`__n⁄nuŒ
 ((1, 2));

286 #ifde‡
__USE_GNU


292 #i‚de‡
__USE_FILE_OFFSET64


293 
	`sˇndú©
 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

294 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

295 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

296 (*
__cmp
Ë(c⁄° 
dúít
 **,

297 c⁄° 
dúít
 **))

298 
	`__n⁄nuŒ
 ((2, 3));

300 #ifde‡
__REDIRECT


301 
	`__REDIRECT
 (
sˇndú©
,

302 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

303 
dúít
 ***
__ª°ri˘
 
__«mñi°
,

304 (*
__£À˘‹
Ë(c⁄° 
dúít
 *),

305 (*
__cmp
Ë(c⁄° 
dúít
 **,

306 c⁄° 
dúít
 **)),

307 
sˇndú©64
Ë
	`__n⁄nuŒ
 ((2, 3));

309 
	#sˇndú©
 
sˇndú©64


	)

315 
	`sˇndú©64
 (
__dfd
, c⁄° *
__ª°ri˘
 
__dú
,

316 
dúít64
 ***
__ª°ri˘
 
__«mñi°
,

317 (*
__£À˘‹
Ë(c⁄° 
dúít64
 *),

318 (*
__cmp
Ë(c⁄° 
dúít64
 **,

319 c⁄° 
dúít64
 **))

320 
	`__n⁄nuŒ
 ((2, 3));

324 #i‚de‡
__USE_FILE_OFFSET64


325 
	$Æphas‹t
 (c⁄° 
dúít
 **
__e1
,

326 c⁄° 
dúít
 **
__e2
)

327 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

329 #ifde‡
__REDIRECT


330 
	`__REDIRECT_NTH
 (
Æphas‹t
,

331 (c⁄° 
dúít
 **
__e1
,

332 c⁄° 
dúít
 **
__e2
),

333 
Æphas‹t64
Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

335 
	#Æphas‹t
 
Æphas‹t64


	)

339 #i‡
deföed
 
__USE_GNU
 && deföed 
__USE_LARGEFILE64


340 
	$Æphas‹t64
 (c⁄° 
dúít64
 **
__e1
,

341 c⁄° 
dúít64
 **
__e2
)

342 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

347 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC


352 #i‚de‡
__USE_FILE_OFFSET64


353 
__ssize_t
 
	$gëdúíåõs
 (
__fd
, *
__ª°ri˘
 
__buf
,

354 
size_t
 
__nbyãs
,

355 
__off_t
 *
__ª°ri˘
 
__ba£p
)

356 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

358 #ifde‡
__REDIRECT


359 
__ssize_t
 
	`__REDIRECT_NTH
 (
gëdúíåõs
,

360 (
__fd
, *
__ª°ri˘
 
__buf
,

361 
size_t
 
__nbyãs
,

362 
__off64_t
 *
__ª°ri˘
 
__ba£p
),

363 
gëdúíåõs64
Ë
	`__n⁄nuŒ
 ((2, 4));

365 
	#gëdúíåõs
 
gëdúíåõs64


	)

369 #ifde‡
__USE_LARGEFILE64


370 
__ssize_t
 
	$gëdúíåõs64
 (
__fd
, *
__ª°ri˘
 
__buf
,

371 
size_t
 
__nbyãs
,

372 
__off64_t
 *
__ª°ri˘
 
__ba£p
)

373 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

377 #ifde‡
__USE_GNU


379 #i‚de‡
__USE_FILE_OFFSET64


380 
	$vîsi⁄s‹t
 (c⁄° 
dúít
 **
__e1
,

381 c⁄° 
dúít
 **
__e2
)

382 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

384 #ifde‡
__REDIRECT


385 
	`__REDIRECT_NTH
 (
vîsi⁄s‹t
,

386 (c⁄° 
dúít
 **
__e1
,

387 c⁄° 
dúít
 **
__e2
),

388 
vîsi⁄s‹t64
)

389 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

391 
	#vîsi⁄s‹t
 
vîsi⁄s‹t64


	)

395 #ifde‡
__USE_LARGEFILE64


396 
	$vîsi⁄s‹t64
 (c⁄° 
dúít64
 **
__e1
,

397 c⁄° 
dúít64
 **
__e2
)

398 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

402 
__END_DECLS


	@/usr/include/dlfcn.h

20 #i‚def 
_DLFCN_H


21 
	#_DLFCN_H
 1

	)

23 
	~<„©uªs.h
>

24 
	#__√ed_size_t


	)

25 
	~<°ddef.h
>

28 
	~<bôs/dlf˙.h
>

31 #ifde‡
__USE_GNU


36 
	#RTLD_NEXT
 ((*Ë-1l)

	)

41 
	#RTLD_DEFAULT
 ((*Ë0)

	)

45 
	tLmid_t
;

48 
	#LM_ID_BASE
 0

	)

49 
	#LM_ID_NEWLM
 -1

	)

53 
__BEGIN_DECLS


57 *
	$dl›í
 (c⁄° *
__fûe
, 
__mode
Ë
__THROW
;

61 
	$dl˛o£
 (*
__h™dÀ
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 *
	$dlsym
 (*
__ª°ri˘
 
__h™dÀ
,

66 c⁄° *
__ª°ri˘
 
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

68 #ifde‡
__USE_GNU


70 *
	$dlm›í
 (
Lmid_t
 
__nsid
, c⁄° *
__fûe
, 
__mode
Ë
__THROW
;

74 *
	$dlvsym
 (*
__ª°ri˘
 
__h™dÀ
,

75 c⁄° *
__ª°ri˘
 
__«me
,

76 c⁄° *
__ª°ri˘
 
__vîsi⁄
)

77 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

83 *
	$dÀº‹
 (Ë
__THROW
;

86 #ifde‡
__USE_GNU


91 c⁄° *
dli_‚ame
;

92 *
dli_fba£
;

93 c⁄° *
dli_¢ame
;

94 *
dli_ßddr
;

95 } 
	tDl_öfo
;

99 
	$dœddr
 (c⁄° *
__addªss
, 
Dl_öfo
 *
__öfo
)

100 
__THROW
 
	`__n⁄nuŒ
 ((2));

103 
	$dœddr1
 (c⁄° *
__addªss
, 
Dl_öfo
 *
__öfo
,

104 **
__exåa_öfo
, 
__Êags
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

112 
RTLD_DL_SYMENT
 = 1,

115 
RTLD_DL_LINKMAP
 = 2

124 
	$dlöfo
 (*
__ª°ri˘
 
__h™dÀ
,

125 
__ªque°
, *
__ª°ri˘
 
__¨g
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

132 
RTLD_DI_LMID
 = 1,

136 
RTLD_DI_LINKMAP
 = 2,

138 
RTLD_DI_CONFIGADDR
 = 3,

145 
RTLD_DI_SERINFO
 = 4,

146 
RTLD_DI_SERINFOSIZE
 = 5,

150 
RTLD_DI_ORIGIN
 = 6,

152 
RTLD_DI_PROFILENAME
 = 7,

153 
RTLD_DI_PROFILEOUT
 = 8,

158 
RTLD_DI_TLS_MODID
 = 9,

164 
RTLD_DI_TLS_DATA
 = 10,

166 
RTLD_DI_MAX
 = 10

174 *
dls_«me
;

175 
dls_Êags
;

176 } 
	tDl_£Ω©h
;

182 
size_t
 
dls_size
;

183 
dls_˙t
;

184 
Dl_£Ω©h
 
dls_£Ω©h
[1];

185 } 
	tDl_£röfo
;

189 
__END_DECLS


	@/usr/include/errno.h

22 #i‚def 
_ERRNO_H


26 #i‚def 
__√ed_Em©h


27 
	#_ERRNO_H
 1

	)

28 
	~<„©uªs.h
>

31 
	g__BEGIN_DECLS


35 
	~<bôs/î∫o.h
>

36 #unde‡
__√ed_Em©h


38 #ifdef 
_ERRNO_H


45 #i‚def 
î∫o


46 
î∫o
;

49 #ifde‡
__USE_GNU


54 *
¥ogøm_övoˇti⁄_«me
, *
¥ogøm_övoˇti⁄_sh‹t_«me
;

58 
	g__END_DECLS


66 #i‡
deföed
 
__USE_GNU
 || deföed 
__√ed_îr‹_t


67 #i‚de‡
__îr‹_t_deföed


68 
	tîr‹_t
;

69 
	#__îr‹_t_deföed
 1

	)

71 #unde‡
__√ed_îr‹_t


	@/usr/include/fcntl.h

22 #i‚def 
_FCNTL_H


23 
	#_FCNTL_H
 1

	)

25 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


31 
	~<bôs/ty≥s.h
>

35 
	~<bôs/f˙é.h
>

40 #i‚de‡
__mode_t_deföed


41 
__mode_t
 
	tmode_t
;

42 
	#__mode_t_deföed


	)

45 #i‚de‡
__off_t_deföed


46 #i‚de‡
__USE_FILE_OFFSET64


47 
__off_t
 
	toff_t
;

49 
__off64_t
 
	toff_t
;

51 
	#__off_t_deföed


	)

54 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


55 
__off64_t
 
	toff64_t
;

56 
	#__off64_t_deföed


	)

59 #i‚de‡
__pid_t_deföed


60 
__pid_t
 
	tpid_t
;

61 
	#__pid_t_deföed


	)

65 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


66 
	#__√ed_time•ec


	)

67 
	~<time.h
>

68 
	~<bôs/°©.h
>

70 
	#S_IFMT
 
__S_IFMT


	)

71 
	#S_IFDIR
 
__S_IFDIR


	)

72 
	#S_IFCHR
 
__S_IFCHR


	)

73 
	#S_IFBLK
 
__S_IFBLK


	)

74 
	#S_IFREG
 
__S_IFREG


	)

75 #ifde‡
__S_IFIFO


76 
	#S_IFIFO
 
__S_IFIFO


	)

78 #ifde‡
__S_IFLNK


79 
	#S_IFLNK
 
__S_IFLNK


	)

81 #i‡(
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8
Ë&& deföed 
__S_IFSOCK


82 
	#S_IFSOCK
 
__S_IFSOCK


	)

87 
	#S_ISUID
 
__S_ISUID


	)

88 
	#S_ISGID
 
__S_ISGID


	)

90 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN


92 
	#S_ISVTX
 
__S_ISVTX


	)

95 
	#S_IRUSR
 
__S_IREAD


	)

96 
	#S_IWUSR
 
__S_IWRITE


	)

97 
	#S_IXUSR
 
__S_IEXEC


	)

99 
	#S_IRWXU
 (
__S_IREAD
|
__S_IWRITE
|
__S_IEXEC
)

	)

101 
	#S_IRGRP
 (
S_IRUSR
 >> 3Ë

	)

102 
	#S_IWGRP
 (
S_IWUSR
 >> 3Ë

	)

103 
	#S_IXGRP
 (
S_IXUSR
 >> 3Ë

	)

105 
	#S_IRWXG
 (
S_IRWXU
 >> 3)

	)

107 
	#S_IROTH
 (
S_IRGRP
 >> 3Ë

	)

108 
	#S_IWOTH
 (
S_IWGRP
 >> 3Ë

	)

109 
	#S_IXOTH
 (
S_IXGRP
 >> 3Ë

	)

111 
	#S_IRWXO
 (
S_IRWXG
 >> 3)

	)

114 #ifdef 
__USE_MISC


115 #i‚de‡
R_OK


118 
	#R_OK
 4

	)

119 
	#W_OK
 2

	)

120 
	#X_OK
 1

	)

121 
	#F_OK
 0

	)

126 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


127 
	#SEEK_SET
 0

	)

128 
	#SEEK_CUR
 1

	)

129 
	#SEEK_END
 2

	)

137 
f˙é
 (
__fd
, 
__cmd
, ...);

145 #i‚de‡
__USE_FILE_OFFSET64


146 
	$›í
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

148 #ifde‡
__REDIRECT


149 
	`__REDIRECT
 (
›í
, (c⁄° *
__fûe
, 
__oÊag
, ...), 
›í64
)

150 
	`__n⁄nuŒ
 ((1));

152 
	#›í
 
›í64


	)

155 #ifde‡
__USE_LARGEFILE64


156 
	$›í64
 (c⁄° *
__fûe
, 
__oÊag
, ...Ë
	`__n⁄nuŒ
 ((1));

159 #ifde‡
__USE_ATFILE


169 #i‚de‡
__USE_FILE_OFFSET64


170 
	$›í©
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

171 
	`__n⁄nuŒ
 ((2));

173 #ifde‡
__REDIRECT


174 
	`__REDIRECT
 (
›í©
, (
__fd
, c⁄° *
__fûe
, 
__oÊag
,

175 ...), 
›í©64
Ë
	`__n⁄nuŒ
 ((2));

177 
	#›í©
 
›í©64


	)

180 #ifde‡
__USE_LARGEFILE64


181 
	$›í©64
 (
__fd
, c⁄° *
__fûe
, 
__oÊag
, ...)

182 
	`__n⁄nuŒ
 ((2));

191 #i‚de‡
__USE_FILE_OFFSET64


192 
	$¸ót
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

194 #ifde‡
__REDIRECT


195 
	`__REDIRECT
 (
¸ót
, (c⁄° *
__fûe
, 
mode_t
 
__mode
),

196 
¸ót64
Ë
	`__n⁄nuŒ
 ((1));

198 
	#¸ót
 
¸ót64


	)

201 #ifde‡
__USE_LARGEFILE64


202 
	$¸ót64
 (c⁄° *
__fûe
, 
mode_t
 
__mode
Ë
	`__n⁄nuŒ
 ((1));

205 #i‡!
deföed
 
F_LOCK
 && (deföed 
__USE_MISC
 || (deföed 
__USE_XOPEN_EXTENDED
 \

206 && !
deföed
 
__USE_POSIX
))

215 
	#F_ULOCK
 0

	)

216 
	#F_LOCK
 1

	)

217 
	#F_TLOCK
 2

	)

218 
	#F_TEST
 3

	)

220 #i‚de‡
__USE_FILE_OFFSET64


221 
	`lockf
 (
__fd
, 
__cmd
, 
off_t
 
__Àn
);

223 #ifde‡
__REDIRECT


224 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
), 
lockf64
);

226 
	#lockf
 
lockf64


	)

229 #ifde‡
__USE_LARGEFILE64


230 
	`lockf64
 (
__fd
, 
__cmd
, 
off64_t
 
__Àn
);

234 #ifde‡
__USE_XOPEN2K


237 #i‚de‡
__USE_FILE_OFFSET64


238 
	$posix_Ádvi£
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
,

239 
__advi£
Ë
__THROW
;

241 #ifde‡
__REDIRECT_NTH


242 
	`__REDIRECT_NTH
 (
posix_Ádvi£
, (
__fd
, 
__off64_t
 
__off£t
,

243 
__off64_t
 
__Àn
, 
__advi£
),

244 
posix_Ádvi£64
);

246 
	#posix_Ádvi£
 
posix_Ádvi£64


	)

249 #ifde‡
__USE_LARGEFILE64


250 
	$posix_Ádvi£64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
,

251 
__advi£
Ë
__THROW
;

259 #i‚de‡
__USE_FILE_OFFSET64


260 
	`posix_ÁŒoˇã
 (
__fd
, 
off_t
 
__off£t
, off_à
__Àn
);

262 #ifde‡
__REDIRECT


263 
	`__REDIRECT
 (
posix_ÁŒoˇã
, (
__fd
, 
__off64_t
 
__off£t
,

264 
__off64_t
 
__Àn
),

265 
posix_ÁŒoˇã64
);

267 
	#posix_ÁŒoˇã
 
posix_ÁŒoˇã64


	)

270 #ifde‡
__USE_LARGEFILE64


271 
	`posix_ÁŒoˇã64
 (
__fd
, 
off64_t
 
__off£t
, off64_à
__Àn
);

277 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄
 \

278 && 
deföed
 
__va_¨g_∑ck_Àn


279 
	~<bôs/f˙é2.h
>

282 
__END_DECLS


	@/usr/include/fnmatch.h

19 #i‚def 
_FNMATCH_H


20 
	#_FNMATCH_H
 1

	)

22 #ifdef 
__˝lu•lus


28 #unde‡
FNM_PATHNAME


29 #unde‡
FNM_NOESCAPE


30 #unde‡
FNM_PERIOD


33 
	#FNM_PATHNAME
 (1 << 0Ë

	)

34 
	#FNM_NOESCAPE
 (1 << 1Ë

	)

35 
	#FNM_PERIOD
 (1 << 2Ë

	)

37 #i‡!
deföed
 
_POSIX_C_SOURCE
 || _POSIX_C_SOURCE < 2 || deföed 
_GNU_SOURCE


38 
	#FNM_FILE_NAME
 
FNM_PATHNAME


	)

39 
	#FNM_LEADING_DIR
 (1 << 3Ë

	)

40 
	#FNM_CASEFOLD
 (1 << 4Ë

	)

41 
	#FNM_EXTMATCH
 (1 << 5Ë

	)

45 
	#FNM_NOMATCH
 1

	)

51 #ifde‡
_XOPEN_SOURCE


52 
	#FNM_NOSYS
 (-1)

	)

57 
‚m©ch
 (c⁄° *
__∑âîn
, c⁄° *
__«me
, 
__Êags
);

59 #ifdef 
__˝lu•lus


	@/usr/include/fuse.h

9 
	~"fu£/fu£.h
"

	@/usr/include/fuse/fuse_common.h

11 #i‡!
deföed
(
_FUSE_H_
Ë&& !deföed(
_FUSE_LOWLEVEL_H_
)

15 #i‚de‡
_FUSE_COMMON_H_


16 
	#_FUSE_COMMON_H_


	)

18 
	~"fu£_›t.h
"

19 
	~<°döt.h
>

20 
	~<sys/ty≥s.h
>

23 
	#FUSE_MAJOR_VERSION
 2

	)

26 
	#FUSE_MINOR_VERSION
 9

	)

28 
	#FUSE_MAKE_VERSION
(
maj
, 
mö
Ë((majË* 10 + (mö))

	)

29 
	#FUSE_VERSION
 
	`FUSE_MAKE_VERSION
(
FUSE_MAJOR_VERSION
, 
FUSE_MINOR_VERSION
)

	)

32 #i‡
_FILE_OFFSET_BITS
 != 64

33 #îr‹ 
PÀa£
 
add
 -
D_FILE_OFFSET_BITS
=64 
to
 
your
 
compûe
 
Êags
!

36 #ifde‡
__˝lu•lus


45 
	sfu£_fûe_öfo
 {

47 
Êags
;

50 
fh_ﬁd
;

54 
wrôïage
;

58 
dúe˘_io
 : 1;

62 
kìp_ˇche
 : 1;

67 
Êush
 : 1;

71 
n⁄£ekabÀ
 : 1;

77 
Êock_ªÀa£
 : 1;

80 
∑ddög
 : 27;

84 
uöt64_t
 
fh
;

87 
uöt64_t
 
lock_ow√r
;

104 
	#FUSE_CAP_ASYNC_READ
 (1 << 0)

	)

105 
	#FUSE_CAP_POSIX_LOCKS
 (1 << 1)

	)

106 
	#FUSE_CAP_ATOMIC_O_TRUNC
 (1 << 3)

	)

107 
	#FUSE_CAP_EXPORT_SUPPORT
 (1 << 4)

	)

108 
	#FUSE_CAP_BIG_WRITES
 (1 << 5)

	)

109 
	#FUSE_CAP_DONT_MASK
 (1 << 6)

	)

110 
	#FUSE_CAP_SPLICE_WRITE
 (1 << 7)

	)

111 
	#FUSE_CAP_SPLICE_MOVE
 (1 << 8)

	)

112 
	#FUSE_CAP_SPLICE_READ
 (1 << 9)

	)

113 
	#FUSE_CAP_FLOCK_LOCKS
 (1 << 10)

	)

114 
	#FUSE_CAP_IOCTL_DIR
 (1 << 11)

	)

126 
	#FUSE_IOCTL_COMPAT
 (1 << 0)

	)

127 
	#FUSE_IOCTL_UNRESTRICTED
 (1 << 1)

	)

128 
	#FUSE_IOCTL_RETRY
 (1 << 2)

	)

129 
	#FUSE_IOCTL_DIR
 (1 << 4)

	)

131 
	#FUSE_IOCTL_MAX_IOV
 256

	)

140 
	sfu£_c⁄n_öfo
 {

144 
¥Ÿo_maj‹
;

149 
¥Ÿo_mö‹
;

154 
async_ªad
;

159 
max_wrôe
;

164 
max_ªadahód
;

169 
ˇ∑bÀ
;

174 
w™t
;

179 
max_background
;

184 
c⁄ge°i⁄_thªshﬁd
;

189 
ª£rved
[23];

192 
fu£_£ssi⁄
;

193 
fu£_ch™
;

194 
fu£_pﬁlh™dÀ
;

206 
fu£_ch™
 *
fu£_mou¡
(c⁄° *
mou¡poöt
, 
fu£_¨gs
 *
¨gs
);

214 
fu£_unmou¡
(c⁄° *
mou¡poöt
, 
fu£_ch™
 *
ch
);

237 
fu£_∑r£_cmdlöe
(
fu£_¨gs
 *
¨gs
, **
mou¡poöt
,

238 *
mu…ôhªaded
, *
f‹eground
);

246 
fu£_d´m⁄ize
(
f‹eground
);

253 
fu£_vîsi⁄
();

260 
fu£_pﬁlh™dÀ_de°roy
(
fu£_pﬁlh™dÀ
 *
ph
);

269 
	efu£_buf_Êags
 {

276 
FUSE_BUF_IS_FD
 = (1 << 1),

285 
FUSE_BUF_FD_SEEK
 = (1 << 2),

294 
FUSE_BUF_FD_RETRY
 = (1 << 3),

300 
	efu£_buf_c›y_Êags
 {

310 
FUSE_BUF_NO_SPLICE
 = (1 << 1),

318 
FUSE_BUF_FORCE_SPLICE
 = (1 << 2),

327 
FUSE_BUF_SPLICE_MOVE
 = (1 << 3),

336 
FUSE_BUF_SPLICE_NONBLOCK
= (1 << 4),

345 
	sfu£_buf
 {

349 
size_t
 
size
;

354 
fu£_buf_Êags
 
Êags
;

361 *
mem
;

368 
fd
;

375 
off_t
 
pos
;

386 
	sfu£_bufvec
 {

390 
size_t
 
cou¡
;

395 
size_t
 
idx
;

400 
size_t
 
off
;

405 
fu£_buf
 
buf
[1];

409 
	#FUSE_BUFVEC_INIT
(
size__
) \

410 ((
fu£_bufvec
) { \

415  (
size__
), \

416  (
fu£_buf_Êags
) 0, \

417  
NULL
, \

421 } )

	)

429 
size_t
 
fu£_buf_size
(c⁄° 
fu£_bufvec
 *
bufv
);

439 
ssize_t
 
fu£_buf_c›y
(
fu£_bufvec
 *
d°
, fu£_bufve¯*
§c
,

440 
fu£_buf_c›y_Êags
 
Êags
);

455 
fu£_£t_sig«l_h™dÀrs
(
fu£_£ssi⁄
 *
£
);

465 
fu£_ªmove_sig«l_h™dÀrs
(
fu£_£ssi⁄
 *
£
);

471 #i‡
FUSE_USE_VERSION
 < 26

472 #i‡
deföed
(
__FªeBSD__
Ë|| deföed(
__FªeBSD_kî√l__
)

473 #i‡
FUSE_USE_VERSION
 < 25

474 #îr‹ 
On
 
FªeBSD
 
API
 
vîsi⁄
 25 
‹
 
gª©î
 
mu°
 
be
 
u£d


477 
	~"fu£_comm⁄_com∑t.h
"

478 #unde‡
FUSE_MINOR_VERSION


479 #unde‡
fu£_maö


480 
	#fu£_unmou¡
 
fu£_unmou¡_com∑t22


	)

481 #i‡
FUSE_USE_VERSION
 == 25

482 
	#FUSE_MINOR_VERSION
 5

	)

483 
	#fu£_mou¡
 
fu£_mou¡_com∑t25


	)

484 #ñi‡
FUSE_USE_VERSION
 == 24 || FUSE_USE_VERSION == 22

485 
	#FUSE_MINOR_VERSION
 4

	)

486 
	#fu£_mou¡
 
fu£_mou¡_com∑t22


	)

487 #ñi‡
FUSE_USE_VERSION
 == 21

488 
	#FUSE_MINOR_VERSION
 1

	)

489 
	#fu£_mou¡
 
fu£_mou¡_com∑t22


	)

490 #ñi‡
FUSE_USE_VERSION
 == 11

491 #w¨nög 
Com∑tibûôy
 
wôh
 
API
 
vîsi⁄
 11 
is
 
dïªˇãd


492 #unde‡
FUSE_MAJOR_VERSION


493 
	#FUSE_MAJOR_VERSION
 1

	)

494 
	#FUSE_MINOR_VERSION
 1

	)

495 
	#fu£_mou¡
 
fu£_mou¡_com∑t1


	)

497 #îr‹ 
Com∑tibûôy
 
wôh
 
API
 
vîsi⁄
 
Ÿhî
 
th™
 21, 22, 24, 25 
™d
 11 
nŸ
 
suµ‹ãd


501 #ifde‡
__˝lu•lus


	@/usr/include/fuse/fuse_opt.h

9 #i‚de‡
_FUSE_OPT_H_


10 
	#_FUSE_OPT_H_


	)

17 #ifde‡
__˝lu•lus


76 
	sfu£_›t
 {

78 c⁄° *
ãm∂
;

84 
off£t
;

90 
vÆue
;

97 
	#FUSE_OPT_KEY
(
ãm∂
, 
key
Ë{Åem∂, -1U, key }

	)

103 
	#FUSE_OPT_END
 { 
NULL
, 0, 0 }

	)

108 
	sfu£_¨gs
 {

110 
¨gc
;

113 **
¨gv
;

116 
Æloˇãd
;

122 
	#FUSE_ARGS_INIT
(
¨gc
, 
¨gv
Ë{árgc,árgv, 0 }

	)

128 
	#FUSE_OPT_KEY_OPT
 -1

	)

136 
	#FUSE_OPT_KEY_NONOPT
 -2

	)

144 
	#FUSE_OPT_KEY_KEEP
 -3

	)

152 
	#FUSE_OPT_KEY_DISCARD
 -4

	)

179 (*
fu£_›t_¥oc_t
)(*
	td©a
, c⁄° *
	t¨g
, 
	tkey
,

180 
	tfu£_¨gs
 *
	touèrgs
);

202 
fu£_›t_∑r£
(
fu£_¨gs
 *
¨gs
, *
d©a
,

203 c⁄° 
fu£_›t
 
›ts
[], 
fu£_›t_¥oc_t
 
¥oc
);

212 
fu£_›t_add_›t
(**
›ts
, c⁄° *
›t
);

221 
fu£_›t_add_›t_esˇ≥d
(**
›ts
, c⁄° *
›t
);

230 
fu£_›t_add_¨g
(
fu£_¨gs
 *
¨gs
, c⁄° *
¨g
);

245 
fu£_›t_ö£π_¨g
(
fu£_¨gs
 *
¨gs
, 
pos
, c⁄° *
¨g
);

254 
fu£_›t_‰ì_¨gs
(
fu£_¨gs
 *
¨gs
);

264 
fu£_›t_m©ch
(c⁄° 
fu£_›t
 
›ts
[], c⁄° *
›t
);

266 #ifde‡
__˝lu•lus


	@/usr/include/getopt.h

20 #i‚de‡
_GETOPT_H


22 #i‚de‡
__√ed_gë›t


23 
	#_GETOPT_H
 1

	)

33 #i‡!
deföed
 
__GNU_LIBRARY__


34 
	~<˘y≥.h
>

37 #i‚de‡
__THROW


38 #i‚de‡
__GNUC_PREREQ


39 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë(0)

	)

41 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (2,8)

42 
	#__THROW
 
	`throw
 ()

	)

44 
	#__THROW


	)

48 #ifdef 
__˝lu•lus


58 *
›èrg
;

72 
›töd
;

77 
›ãº
;

81 
›t›t
;

83 #i‚de‡
__√ed_gë›t


105 
	s›ti⁄


107 c⁄° *
	g«me
;

110 
	ghas_¨g
;

111 *
	gÊag
;

112 
	gvÆ
;

117 
	#no_¨gumít
 0

	)

118 
	#ªquúed_¨gumít
 1

	)

119 
	#›ti⁄Æ_¨gumít
 2

	)

147 #ifde‡
__GNU_LIBRARY__


151 
gë›t
 (
___¨gc
, *c⁄° *
___¨gv
, c⁄° *
__sh‹t›ts
)

152 
__THROW
;

154 #i‡
deföed
 
__√ed_gë›t
 && deföed 
__USE_POSIX2
 \

155 && !
deföed
 
	g__USE_POSIX_IMPLICITLY
 && !deföed 
	g__USE_GNU


159 #ifde‡
__REDIRECT


160 
__REDIRECT_NTH
 (
gë›t
, (
___¨gc
, *c⁄° *
___¨gv
,

161 c⁄° *
__sh‹t›ts
),

162 
__posix_gë›t
);

164 
__posix_gë›t
 (
___¨gc
, *c⁄° *
___¨gv
,

165 c⁄° *
__sh‹t›ts
Ë
__THROW
;

166 
	#gë›t
 
__posix_gë›t


	)

170 
gë›t
 ();

173 #i‚de‡
__√ed_gë›t


174 
gë›t_l⁄g
 (
___¨gc
, *c⁄° *
___¨gv
,

175 c⁄° *
__sh‹t›ts
,

176 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

177 
__THROW
;

178 
gë›t_l⁄g_⁄ly
 (
___¨gc
, *c⁄° *
___¨gv
,

179 c⁄° *
__sh‹t›ts
,

180 c⁄° 
›ti⁄
 *
__l⁄g›ts
, *
__l⁄göd
)

181 
__THROW
;

185 #ifdef 
__˝lu•lus


190 #unde‡
__√ed_gë›t


	@/usr/include/ifaddrs.h

19 #i‚de‡
_IFADDRS_H


20 
	#_IFADDRS_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<sys/sockë.h
>

25 
__BEGIN_DECLS


29 
	siÁddrs


31 
iÁddrs
 *
	miÁ_√xt
;

33 *
	miÁ_«me
;

34 
	miÁ_Êags
;

36 
sockaddr
 *
	miÁ_addr
;

37 
sockaddr
 *
	miÁ_√tmask
;

44 
sockaddr
 *
	mifu_brﬂdaddr
;

45 
sockaddr
 *
	mifu_d°addr
;

46 } 
	miÁ_ifu
;

49 #i‚de‡
iÁ_brﬂdaddr


50 
	#iÁ_brﬂdaddr
 
iÁ_ifu
.
ifu_brﬂdaddr


	)

52 #i‚de‡
iÁ_d°addr


53 
	#iÁ_d°addr
 
iÁ_ifu
.
ifu_d°addr


	)

56 *
	miÁ_d©a
;

66 
	$gëiÁddrs
 (
iÁddrs
 **
__iÁp
Ë
__THROW
;

69 
	$‰ìiÁddrs
 (
iÁddrs
 *
__iÁ
Ë
__THROW
;

71 
__END_DECLS


	@/usr/include/inttypes.h

22 #i‚de‡
_INTTYPES_H


23 
	#_INTTYPES_H
 1

	)

25 
	~<„©uªs.h
>

27 
	~<°döt.h
>

30 #i‚de‡
____gwch¨_t_deföed


31 #ifde‡
__˝lu•lus


32 
	#__gwch¨_t
 
wch¨_t


	)

33 #ñi‡
deföed
 
__WCHAR_TYPE__


34 
__WCHAR_TYPE__
 
	t__gwch¨_t
;

36 
	#__√ed_wch¨_t


	)

37 
	~<°ddef.h
>

38 
wch¨_t
 
	t__gwch¨_t
;

40 
	#____gwch¨_t_deföed
 1

	)

46 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_FORMAT_MACROS


48 #i‡
__WORDSIZE
 == 64

49 
	#__PRI64_PREFIX
 "l"

	)

50 
	#__PRIPTR_PREFIX
 "l"

	)

52 
	#__PRI64_PREFIX
 "Œ"

	)

53 
	#__PRIPTR_PREFIX


	)

59 
	#PRId8
 "d"

	)

60 
	#PRId16
 "d"

	)

61 
	#PRId32
 "d"

	)

62 
	#PRId64
 
__PRI64_PREFIX
 "d"

	)

64 
	#PRIdLEAST8
 "d"

	)

65 
	#PRIdLEAST16
 "d"

	)

66 
	#PRIdLEAST32
 "d"

	)

67 
	#PRIdLEAST64
 
__PRI64_PREFIX
 "d"

	)

69 
	#PRIdFAST8
 "d"

	)

70 
	#PRIdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

71 
	#PRIdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

72 
	#PRIdFAST64
 
__PRI64_PREFIX
 "d"

	)

75 
	#PRIi8
 "i"

	)

76 
	#PRIi16
 "i"

	)

77 
	#PRIi32
 "i"

	)

78 
	#PRIi64
 
__PRI64_PREFIX
 "i"

	)

80 
	#PRIiLEAST8
 "i"

	)

81 
	#PRIiLEAST16
 "i"

	)

82 
	#PRIiLEAST32
 "i"

	)

83 
	#PRIiLEAST64
 
__PRI64_PREFIX
 "i"

	)

85 
	#PRIiFAST8
 "i"

	)

86 
	#PRIiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

87 
	#PRIiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

88 
	#PRIiFAST64
 
__PRI64_PREFIX
 "i"

	)

91 
	#PRIo8
 "o"

	)

92 
	#PRIo16
 "o"

	)

93 
	#PRIo32
 "o"

	)

94 
	#PRIo64
 
__PRI64_PREFIX
 "o"

	)

96 
	#PRIoLEAST8
 "o"

	)

97 
	#PRIoLEAST16
 "o"

	)

98 
	#PRIoLEAST32
 "o"

	)

99 
	#PRIoLEAST64
 
__PRI64_PREFIX
 "o"

	)

101 
	#PRIoFAST8
 "o"

	)

102 
	#PRIoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

103 
	#PRIoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

104 
	#PRIoFAST64
 
__PRI64_PREFIX
 "o"

	)

107 
	#PRIu8
 "u"

	)

108 
	#PRIu16
 "u"

	)

109 
	#PRIu32
 "u"

	)

110 
	#PRIu64
 
__PRI64_PREFIX
 "u"

	)

112 
	#PRIuLEAST8
 "u"

	)

113 
	#PRIuLEAST16
 "u"

	)

114 
	#PRIuLEAST32
 "u"

	)

115 
	#PRIuLEAST64
 
__PRI64_PREFIX
 "u"

	)

117 
	#PRIuFAST8
 "u"

	)

118 
	#PRIuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

119 
	#PRIuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

120 
	#PRIuFAST64
 
__PRI64_PREFIX
 "u"

	)

123 
	#PRIx8
 "x"

	)

124 
	#PRIx16
 "x"

	)

125 
	#PRIx32
 "x"

	)

126 
	#PRIx64
 
__PRI64_PREFIX
 "x"

	)

128 
	#PRIxLEAST8
 "x"

	)

129 
	#PRIxLEAST16
 "x"

	)

130 
	#PRIxLEAST32
 "x"

	)

131 
	#PRIxLEAST64
 
__PRI64_PREFIX
 "x"

	)

133 
	#PRIxFAST8
 "x"

	)

134 
	#PRIxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

135 
	#PRIxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

136 
	#PRIxFAST64
 
__PRI64_PREFIX
 "x"

	)

139 
	#PRIX8
 "X"

	)

140 
	#PRIX16
 "X"

	)

141 
	#PRIX32
 "X"

	)

142 
	#PRIX64
 
__PRI64_PREFIX
 "X"

	)

144 
	#PRIXLEAST8
 "X"

	)

145 
	#PRIXLEAST16
 "X"

	)

146 
	#PRIXLEAST32
 "X"

	)

147 
	#PRIXLEAST64
 
__PRI64_PREFIX
 "X"

	)

149 
	#PRIXFAST8
 "X"

	)

150 
	#PRIXFAST16
 
__PRIPTR_PREFIX
 "X"

	)

151 
	#PRIXFAST32
 
__PRIPTR_PREFIX
 "X"

	)

152 
	#PRIXFAST64
 
__PRI64_PREFIX
 "X"

	)

156 
	#PRIdMAX
 
__PRI64_PREFIX
 "d"

	)

157 
	#PRIiMAX
 
__PRI64_PREFIX
 "i"

	)

158 
	#PRIoMAX
 
__PRI64_PREFIX
 "o"

	)

159 
	#PRIuMAX
 
__PRI64_PREFIX
 "u"

	)

160 
	#PRIxMAX
 
__PRI64_PREFIX
 "x"

	)

161 
	#PRIXMAX
 
__PRI64_PREFIX
 "X"

	)

165 
	#PRIdPTR
 
__PRIPTR_PREFIX
 "d"

	)

166 
	#PRIiPTR
 
__PRIPTR_PREFIX
 "i"

	)

167 
	#PRIoPTR
 
__PRIPTR_PREFIX
 "o"

	)

168 
	#PRIuPTR
 
__PRIPTR_PREFIX
 "u"

	)

169 
	#PRIxPTR
 
__PRIPTR_PREFIX
 "x"

	)

170 
	#PRIXPTR
 
__PRIPTR_PREFIX
 "X"

	)

176 
	#SCNd8
 "hhd"

	)

177 
	#SCNd16
 "hd"

	)

178 
	#SCNd32
 "d"

	)

179 
	#SCNd64
 
__PRI64_PREFIX
 "d"

	)

181 
	#SCNdLEAST8
 "hhd"

	)

182 
	#SCNdLEAST16
 "hd"

	)

183 
	#SCNdLEAST32
 "d"

	)

184 
	#SCNdLEAST64
 
__PRI64_PREFIX
 "d"

	)

186 
	#SCNdFAST8
 "hhd"

	)

187 
	#SCNdFAST16
 
__PRIPTR_PREFIX
 "d"

	)

188 
	#SCNdFAST32
 
__PRIPTR_PREFIX
 "d"

	)

189 
	#SCNdFAST64
 
__PRI64_PREFIX
 "d"

	)

192 
	#SCNi8
 "hhi"

	)

193 
	#SCNi16
 "hi"

	)

194 
	#SCNi32
 "i"

	)

195 
	#SCNi64
 
__PRI64_PREFIX
 "i"

	)

197 
	#SCNiLEAST8
 "hhi"

	)

198 
	#SCNiLEAST16
 "hi"

	)

199 
	#SCNiLEAST32
 "i"

	)

200 
	#SCNiLEAST64
 
__PRI64_PREFIX
 "i"

	)

202 
	#SCNiFAST8
 "hhi"

	)

203 
	#SCNiFAST16
 
__PRIPTR_PREFIX
 "i"

	)

204 
	#SCNiFAST32
 
__PRIPTR_PREFIX
 "i"

	)

205 
	#SCNiFAST64
 
__PRI64_PREFIX
 "i"

	)

208 
	#SCNu8
 "hhu"

	)

209 
	#SCNu16
 "hu"

	)

210 
	#SCNu32
 "u"

	)

211 
	#SCNu64
 
__PRI64_PREFIX
 "u"

	)

213 
	#SCNuLEAST8
 "hhu"

	)

214 
	#SCNuLEAST16
 "hu"

	)

215 
	#SCNuLEAST32
 "u"

	)

216 
	#SCNuLEAST64
 
__PRI64_PREFIX
 "u"

	)

218 
	#SCNuFAST8
 "hhu"

	)

219 
	#SCNuFAST16
 
__PRIPTR_PREFIX
 "u"

	)

220 
	#SCNuFAST32
 
__PRIPTR_PREFIX
 "u"

	)

221 
	#SCNuFAST64
 
__PRI64_PREFIX
 "u"

	)

224 
	#SCNo8
 "hho"

	)

225 
	#SCNo16
 "ho"

	)

226 
	#SCNo32
 "o"

	)

227 
	#SCNo64
 
__PRI64_PREFIX
 "o"

	)

229 
	#SCNoLEAST8
 "hho"

	)

230 
	#SCNoLEAST16
 "ho"

	)

231 
	#SCNoLEAST32
 "o"

	)

232 
	#SCNoLEAST64
 
__PRI64_PREFIX
 "o"

	)

234 
	#SCNoFAST8
 "hho"

	)

235 
	#SCNoFAST16
 
__PRIPTR_PREFIX
 "o"

	)

236 
	#SCNoFAST32
 
__PRIPTR_PREFIX
 "o"

	)

237 
	#SCNoFAST64
 
__PRI64_PREFIX
 "o"

	)

240 
	#SCNx8
 "hhx"

	)

241 
	#SCNx16
 "hx"

	)

242 
	#SCNx32
 "x"

	)

243 
	#SCNx64
 
__PRI64_PREFIX
 "x"

	)

245 
	#SCNxLEAST8
 "hhx"

	)

246 
	#SCNxLEAST16
 "hx"

	)

247 
	#SCNxLEAST32
 "x"

	)

248 
	#SCNxLEAST64
 
__PRI64_PREFIX
 "x"

	)

250 
	#SCNxFAST8
 "hhx"

	)

251 
	#SCNxFAST16
 
__PRIPTR_PREFIX
 "x"

	)

252 
	#SCNxFAST32
 
__PRIPTR_PREFIX
 "x"

	)

253 
	#SCNxFAST64
 
__PRI64_PREFIX
 "x"

	)

257 
	#SCNdMAX
 
__PRI64_PREFIX
 "d"

	)

258 
	#SCNiMAX
 
__PRI64_PREFIX
 "i"

	)

259 
	#SCNoMAX
 
__PRI64_PREFIX
 "o"

	)

260 
	#SCNuMAX
 
__PRI64_PREFIX
 "u"

	)

261 
	#SCNxMAX
 
__PRI64_PREFIX
 "x"

	)

264 
	#SCNdPTR
 
__PRIPTR_PREFIX
 "d"

	)

265 
	#SCNiPTR
 
__PRIPTR_PREFIX
 "i"

	)

266 
	#SCNoPTR
 
__PRIPTR_PREFIX
 "o"

	)

267 
	#SCNuPTR
 
__PRIPTR_PREFIX
 "u"

	)

268 
	#SCNxPTR
 
__PRIPTR_PREFIX
 "x"

	)

273 
	g__BEGIN_DECLS


275 #i‡
__WORDSIZE
 == 64

280 
	mquŸ
;

281 
	mªm
;

282 } 
	timaxdiv_t
;

289 
	mquŸ
;

290 
	mªm
;

291 } 
	timaxdiv_t
;

297 
ötmax_t
 
	$imaxabs
 (
ötmax_t
 
__n
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

300 
imaxdiv_t
 
	$imaxdiv
 (
ötmax_t
 
__numî
, i¡max_à
__díom
)

301 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

304 
ötmax_t
 
	$°πoimax
 (c⁄° *
__ª°ri˘
 
__≈å
,

305 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

308 
uötmax_t
 
	$°πoumax
 (c⁄° *
__ª°ri˘
 
__≈å
,

309 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

312 
ötmax_t
 
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

313 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

314 
__THROW
;

317 
uötmax_t
 
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

318 
__gwch¨_t
 ** 
__ª°ri˘
 
__íd±r
, 
__ba£
)

319 
__THROW
;

321 #ifde‡
__USE_EXTERN_INLINES


323 #i‡
__WORDSIZE
 == 64

325 
	$__°πﬁ_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

326 **
__ª°ri˘
 
__íd±r
,

327 
__ba£
, 
__group
)

328 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

330 
__exã∫_ölöe
 
ötmax_t


331 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

332 
ba£
))

334  
	`__°πﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

335 
	}
}

337 
	$__°πoul_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

338 ** 
__ª°ri˘
 
__íd±r
,

339 
__ba£
, 
__group
)

340 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

342 
__exã∫_ölöe
 
uötmax_t


343 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

344 
ba£
))

346  
	`__°πoul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

347 
	}
}

349 
	$__wc°ﬁ_öã∫Æ
 (c⁄° 
__gwch¨_t
 * 
__ª°ri˘
 
__≈å
,

350 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

351 
__ba£
, 
__group
)

352 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

354 
__exã∫_ölöe
 
ötmax_t


355 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

356 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

358  
	`__wc°ﬁ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

359 
	}
}

361 
	$__wc°oul_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

362 
__ª°ri˘
 
__≈å
,

363 
__gwch¨_t
 **

364 
__ª°ri˘
 
__íd±r
,

365 
__ba£
, 
__group
)

366 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

368 
__exã∫_ölöe
 
uötmax_t


369 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

370 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

372  
	`__wc°oul_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

373 
	}
}

377 
__exãnsi⁄__


378 
	$__°πﬁl_öã∫Æ
 (c⁄° *
__ª°ri˘
 
__≈å
,

379 **
__ª°ri˘
 
__íd±r
,

380 
__ba£
, 
__group
)

381 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

383 
__exã∫_ölöe
 
ötmax_t


384 
	`__NTH
 (
	$°πoimax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

385 
ba£
))

387  
	`__°πﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

388 
	}
}

390 
__exãnsi⁄__


391 
	$__°πouŒ_öã∫Æ
 (const *

392 
__ª°ri˘
 
__≈å
,

394 
__ª°ri˘
 
__íd±r
,

395 
__ba£
,

396 
__group
)

397 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

399 
__exã∫_ölöe
 
uötmax_t


400 
	`__NTH
 (
	$°πoumax
 (c⁄° *
__ª°ri˘
 
≈å
, **__ª°ri˘ 
íd±r
,

401 
ba£
))

403  
	`__°πouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

404 
	}
}

406 
__exãnsi⁄__


407 
	$__wc°ﬁl_öã∫Æ
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
__≈å
,

408 
__gwch¨_t
 **
__ª°ri˘
 
__íd±r
,

409 
__ba£
, 
__group
)

410 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

412 
__exã∫_ölöe
 
ötmax_t


413 
	`__NTH
 (
	$wc°oimax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

414 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

416  
	`__wc°ﬁl_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

417 
	}
}

420 
__exãnsi⁄__


421 
	$__wc°ouŒ_öã∫Æ
 (c⁄° 
__gwch¨_t
 *

422 
__ª°ri˘
 
__≈å
,

423 
__gwch¨_t
 **

424 
__ª°ri˘
 
__íd±r
,

425 
__ba£
,

426 
__group
)

427 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

429 
__exã∫_ölöe
 
uötmax_t


430 
	`__NTH
 (
	$wc°oumax
 (c⁄° 
__gwch¨_t
 *
__ª°ri˘
 
≈å
,

431 
__gwch¨_t
 **
__ª°ri˘
 
íd±r
, 
ba£
))

433  
	`__wc°ouŒ_öã∫Æ
 (
≈å
, 
íd±r
, 
ba£
, 0);

434 
	}
}

439 
	g__END_DECLS


	@/usr/include/libgen.h

18 #i‚de‡
_LIBGEN_H


19 
	#_LIBGEN_H
 1

	)

21 
	~<„©uªs.h
>

23 
__BEGIN_DECLS


26 *
	$dú«me
 (*
__∑th
Ë
__THROW
;

34 *
	$__xpg_ba£«me
 (*
__∑th
Ë
__THROW
;

35 
	#ba£«me
 
__xpg_ba£«me


	)

37 
__END_DECLS


	@/usr/include/limits.h

23 #i‚de‡
_LIBC_LIMITS_H_


24 
	#_LIBC_LIMITS_H_
 1

	)

26 
	~<„©uªs.h
>

32 
	#MB_LEN_MAX
 16

	)

37 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2

42 #i‚de‡
_LIMITS_H


43 
	#_LIMITS_H
 1

	)

45 
	~<bôs/w‹dsize.h
>

54 
	#CHAR_BIT
 8

	)

57 
	#SCHAR_MIN
 (-128)

	)

58 
	#SCHAR_MAX
 127

	)

61 
	#UCHAR_MAX
 255

	)

64 #ifde‡
__CHAR_UNSIGNED__


65 
	#CHAR_MIN
 0

	)

66 
	#CHAR_MAX
 
UCHAR_MAX


	)

68 
	#CHAR_MIN
 
SCHAR_MIN


	)

69 
	#CHAR_MAX
 
SCHAR_MAX


	)

73 
	#SHRT_MIN
 (-32768)

	)

74 
	#SHRT_MAX
 32767

	)

77 
	#USHRT_MAX
 65535

	)

80 
	#INT_MIN
 (-
INT_MAX
 - 1)

	)

81 
	#INT_MAX
 2147483647

	)

84 
	#UINT_MAX
 4294967295U

	)

87 #i‡
__WORDSIZE
 == 64

88 
	#LONG_MAX
 9223372036854775807L

	)

90 
	#LONG_MAX
 2147483647L

	)

92 
	#LONG_MIN
 (-
LONG_MAX
 - 1L)

	)

95 #i‡
__WORDSIZE
 == 64

96 
	#ULONG_MAX
 18446744073709551615UL

	)

98 
	#ULONG_MAX
 4294967295UL

	)

101 #ifde‡
__USE_ISOC99


104 
	#LLONG_MAX
 9223372036854775807LL

	)

105 
	#LLONG_MIN
 (-
LLONG_MAX
 - 1LL)

	)

108 
	#ULLONG_MAX
 18446744073709551615ULL

	)

122 #i‡
deföed
 
__GNUC__
 && !deföed 
_GCC_LIMITS_H_


124 #ö˛ude_√xà<
limôs
.
h
>

130 #i‡
deföed
 
__USE_ISOC99
 && deföed 
__GNUC__


131 #i‚de‡
LLONG_MIN


132 
	#LLONG_MIN
 (-
LLONG_MAX
-1)

	)

134 #i‚de‡
LLONG_MAX


135 
	#LLONG_MAX
 
__LONG_LONG_MAX__


	)

137 #i‚de‡
ULLONG_MAX


138 
	#ULLONG_MAX
 (
LLONG_MAX
 * 2ULL + 1)

	)

142 #ifdef 
__USE_POSIX


144 
	~<bôs/posix1_lim.h
>

147 #ifdef 
__USE_POSIX2


148 
	~<bôs/posix2_lim.h
>

151 #ifdef 
__USE_XOPEN


152 
	~<bôs/x›í_lim.h
>

	@/usr/include/linux/futex.h

1 #i‚de‡
_LINUX_FUTEX_H


2 
	#_LINUX_FUTEX_H


	)

5 
	~<löux/ty≥s.h
>

10 
	#FUTEX_WAIT
 0

	)

11 
	#FUTEX_WAKE
 1

	)

12 
	#FUTEX_FD
 2

	)

13 
	#FUTEX_REQUEUE
 3

	)

14 
	#FUTEX_CMP_REQUEUE
 4

	)

15 
	#FUTEX_WAKE_OP
 5

	)

16 
	#FUTEX_LOCK_PI
 6

	)

17 
	#FUTEX_UNLOCK_PI
 7

	)

18 
	#FUTEX_TRYLOCK_PI
 8

	)

19 
	#FUTEX_WAIT_BITSET
 9

	)

20 
	#FUTEX_WAKE_BITSET
 10

	)

21 
	#FUTEX_WAIT_REQUEUE_PI
 11

	)

22 
	#FUTEX_CMP_REQUEUE_PI
 12

	)

24 
	#FUTEX_PRIVATE_FLAG
 128

	)

25 
	#FUTEX_CLOCK_REALTIME
 256

	)

26 
	#FUTEX_CMD_MASK
 ~(
FUTEX_PRIVATE_FLAG
 | 
FUTEX_CLOCK_REALTIME
)

	)

28 
	#FUTEX_WAIT_PRIVATE
 (
FUTEX_WAIT
 | 
FUTEX_PRIVATE_FLAG
)

	)

29 
	#FUTEX_WAKE_PRIVATE
 (
FUTEX_WAKE
 | 
FUTEX_PRIVATE_FLAG
)

	)

30 
	#FUTEX_REQUEUE_PRIVATE
 (
FUTEX_REQUEUE
 | 
FUTEX_PRIVATE_FLAG
)

	)

31 
	#FUTEX_CMP_REQUEUE_PRIVATE
 (
FUTEX_CMP_REQUEUE
 | 
FUTEX_PRIVATE_FLAG
)

	)

32 
	#FUTEX_WAKE_OP_PRIVATE
 (
FUTEX_WAKE_OP
 | 
FUTEX_PRIVATE_FLAG
)

	)

33 
	#FUTEX_LOCK_PI_PRIVATE
 (
FUTEX_LOCK_PI
 | 
FUTEX_PRIVATE_FLAG
)

	)

34 
	#FUTEX_UNLOCK_PI_PRIVATE
 (
FUTEX_UNLOCK_PI
 | 
FUTEX_PRIVATE_FLAG
)

	)

35 
	#FUTEX_TRYLOCK_PI_PRIVATE
 (
FUTEX_TRYLOCK_PI
 | 
FUTEX_PRIVATE_FLAG
)

	)

36 
	#FUTEX_WAIT_BITSET_PRIVATE
 (
FUTEX_WAIT_BITSET
 | 
FUTEX_PRIVATE_FLAG
)

	)

37 
	#FUTEX_WAKE_BITSET_PRIVATE
 (
FUTEX_WAKE_BITSET
 | 
FUTEX_PRIVATE_FLAG
)

	)

38 
	#FUTEX_WAIT_REQUEUE_PI_PRIVATE
 (
FUTEX_WAIT_REQUEUE_PI
 | \

39 
FUTEX_PRIVATE_FLAG
)

	)

40 
	#FUTEX_CMP_REQUEUE_PI_PRIVATE
 (
FUTEX_CMP_REQUEUE_PI
 | \

41 
FUTEX_PRIVATE_FLAG
)

	)

57 
	srobu°_li°
 {

58 
robu°_li°
 *
	m√xt
;

69 
	srobu°_li°_hód
 {

73 
robu°_li°
 
	mli°
;

81 
	mfuãx_off£t
;

93 
robu°_li°
 *
	mli°_›_≥ndög
;

99 
	#FUTEX_WAITERS
 0x80000000

	)

107 
	#FUTEX_OWNER_DIED
 0x40000000

	)

112 
	#FUTEX_TID_MASK
 0x3fffffff

	)

118 
	#ROBUST_LIST_LIMIT
 2048

	)

124 
	#FUTEX_BITSET_MATCH_ANY
 0xffffffff

	)

127 
	#FUTEX_OP_SET
 0

	)

128 
	#FUTEX_OP_ADD
 1

	)

129 
	#FUTEX_OP_OR
 2

	)

130 
	#FUTEX_OP_ANDN
 3

	)

131 
	#FUTEX_OP_XOR
 4

	)

133 
	#FUTEX_OP_OPARG_SHIFT
 8

	)

135 
	#FUTEX_OP_CMP_EQ
 0

	)

136 
	#FUTEX_OP_CMP_NE
 1

	)

137 
	#FUTEX_OP_CMP_LT
 2

	)

138 
	#FUTEX_OP_CMP_LE
 3

	)

139 
	#FUTEX_OP_CMP_GT
 4

	)

140 
	#FUTEX_OP_CMP_GE
 5

	)

148 
	#FUTEX_OP
(
›
, 
›¨g
, 
cmp
, 
cm∑rg
) \

149 (((
›
 & 0xfË<< 28Ë| ((
cmp
 & 0xf) << 24) \

150 | ((
›¨g
 & 0xfffË<< 12Ë| (
cm∑rg
 & 0xfff))

	)

	@/usr/include/linux/limits.h

1 #i‚de‡
_LINUX_LIMITS_H


2 
	#_LINUX_LIMITS_H


	)

4 
	#NR_OPEN
 1024

	)

6 
	#NGROUPS_MAX
 65536

	)

7 
	#ARG_MAX
 131072

	)

8 
	#LINK_MAX
 127

	)

9 
	#MAX_CANON
 255

	)

10 
	#MAX_INPUT
 255

	)

11 
	#NAME_MAX
 255

	)

12 
	#PATH_MAX
 4096

	)

13 
	#PIPE_BUF
 4096

	)

14 
	#XATTR_NAME_MAX
 255

	)

15 
	#XATTR_SIZE_MAX
 65536

	)

16 
	#XATTR_LIST_MAX
 65536

	)

18 
	#RTSIG_MAX
 32

	)

	@/usr/include/lzma.h

30 #i‚de‡
LZMA_H


31 
	#LZMA_H


	)

71 #i‚de‡
LZMA_MANUAL_HEADERS


76 
	~<°ddef.h
>

82 #i‡!
deföed
(
UINT32_C
Ë|| !deföed(
UINT64_C
) \

83 || !
deföed
(
UINT32_MAX
Ë|| !
	$deföed
(
UINT64_MAX
)

90 #i‡
	`deföed
(
_WIN32
Ë&& deföed(
_MSC_VER
)

91 
	t__öt8
 
	tuöt8_t
;

92 
	t__öt32
 
	tuöt32_t
;

93 
	t__öt64
 
	tuöt64_t
;

96 #ifde‡
__˝lu•lus


108 #i‚de‡
__STDC_LIMIT_MACROS


109 
	#__STDC_LIMIT_MACROS
 1

	)

111 #i‚de‡
__STDC_CONSTANT_MACROS


112 
	#__STDC_CONSTANT_MACROS
 1

	)

116 
	~<öây≥s.h
>

127 #i‚de‡
UINT32_C


128 #i‡
	`deföed
(
_WIN32
Ë&& deföed(
_MSC_VER
)

129 
	#UINT32_C
(
n
Ë¿## 
UI32


	)

131 
	#UINT32_C
(
n
Ë¿## 
U


	)

135 #i‚de‡
UINT64_C


136 #i‡
	`deföed
(
_WIN32
Ë&& deföed(
_MSC_VER
)

137 
	#UINT64_C
(
n
Ë¿## 
UI64


	)

140 
	~<limôs.h
>

141 #i‡
ULONG_MAX
 == 4294967295UL

142 
	#UINT64_C
(
n
Ë¿## 
ULL


	)

144 
	#UINT64_C
(
n
Ë¿## 
UL


	)

149 #i‚de‡
UINT32_MAX


150 
	#UINT32_MAX
 (
	`UINT32_C
(4294967295))

	)

153 #i‚de‡
UINT64_MAX


154 
	#UINT64_MAX
 (
	`UINT64_C
(18446744073709551615))

	)

182 #i‚de‡
LZMA_API_IMPORT


183 #i‡!
	`deföed
(
LZMA_API_STATIC
Ë&& deföed(
_WIN32
Ë&& !deföed(
__GNUC__
)

184 
	#LZMA_API_IMPORT
 
	`__de˛•ec
(
dŒimp‹t
)

	)

186 
	#LZMA_API_IMPORT


	)

190 #i‚de‡
LZMA_API_CALL


191 #i‡
	`deföed
(
_WIN32
Ë&& !deföed(
__CYGWIN__
)

192 
	#LZMA_API_CALL
 
__cde˛


	)

194 
	#LZMA_API_CALL


	)

198 #i‚de‡
LZMA_API


199 
	#LZMA_API
(
ty≥
Ë
LZMA_API_IMPORT
Åy≥ 
LZMA_API_CALL


	)

212 #i‚de‡
lzma_nŸhrow


213 #i‡
	`deföed
(
__˝lu•lus
)

214 
	#lzma_nŸhrow
 
	`throw
()

	)

215 #ñi‡
__GNUC__
 > 3 || (__GNUC__ =3 && 
__GNUC_MINOR__
 >= 3)

216 
	#lzma_nŸhrow
 
	`__©åibuã__
((
__nŸhrow__
))

	)

218 
	#lzma_nŸhrow


	)

232 #i‡
__GNUC__
 >= 3

233 #i‚de‡
lzma_©åibuã


234 
	#lzma_©åibuã
(
©å
Ë
	`__©åibuã__
◊âr)

	)

238 #i‚de‡
lzma_©å_w¨n_unu£d_ªsu…


239 #i‡
__GNUC__
 =3 && 
__GNUC_MINOR__
 < 4

240 
	#lzma_©å_w¨n_unu£d_ªsu…


	)

245 #i‚de‡
lzma_©åibuã


246 
	#lzma_©åibuã
(
©å
)

	)

251 #i‚de‡
lzma_©å_puª


252 
	#lzma_©å_puª
 
	`lzma_©åibuã
((
__puª__
))

	)

255 #i‚de‡
lzma_©å_c⁄°


256 
	#lzma_©å_c⁄°
 
	`lzma_©åibuã
((
__c⁄°__
))

	)

259 #i‚de‡
lzma_©å_w¨n_unu£d_ªsu…


260 
	#lzma_©å_w¨n_unu£d_ªsu…
 \

261 
	`lzma_©åibuã
((
__w¨n_unu£d_ªsu…__
))

	)

269 #ifde‡
__˝lu•lus


277 
	#LZMA_H_INTERNAL
 1

	)

280 
	~"lzma/vîsi⁄.h
"

281 
	~"lzma/ba£.h
"

282 
	~"lzma/vli.h
"

283 
	~"lzma/check.h
"

286 
	~"lzma/fûãr.h
"

287 
	~"lzma/bcj.h
"

288 
	~"lzma/dñè.h
"

289 
	~"lzma/lzma.h
"

292 
	~"lzma/c⁄èöî.h
"

295 
	~"lzma/°ªam_Êags.h
"

296 
	~"lzma/block.h
"

297 
	~"lzma/ödex.h
"

298 
	~"lzma/ödex_hash.h
"

301 
	~"lzma/h¨dw¨e.h
"

307 #unde‡
LZMA_H_INTERNAL


309 #ifde‡
__˝lu•lus


310 
	}
}

	@/usr/include/malloc.h

20 #i‚de‡
_MALLOC_H


21 
	#_MALLOC_H
 1

	)

23 
	~<„©uªs.h
>

24 
	~<°ddef.h
>

25 
	~<°dio.h
>

26 
	#__mÆloc_±r_t
 *

	)

29 
	#__mÆloc_size_t
 
size_t


	)

30 
	#__mÆloc_±rdiff_t
 
±rdiff_t


	)

32 #ifde‡
__GNUC__


34 
	#__MALLOC_P
(
¨gs
Ë¨g†
__THROW


	)

37 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

39 #ifde‡
_LIBC


40 
	#__MALLOC_HOOK_VOLATILE


	)

41 
	#__MALLOC_DEPRECATED


	)

43 
	#__MALLOC_HOOK_VOLATILE
 vﬁ©ûe

	)

44 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

49 
	#__MALLOC_P
(
¨gs
Ë
	)
args

50 
	#__MALLOC_PMT
(
¨gs
Ë
	)
args

51 
	#__MALLOC_HOOK_VOLATILE


	)

52 
	#__MALLOC_DEPRECATED
 
__©åibuã_dïªˇãd__


	)

57 
__BEGIN_DECLS


60 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

63 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

64 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

71 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

72 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

75 
	$‰ì
 (*
__±r
Ë
__THROW
;

78 
	$c‰ì
 (*
__±r
Ë
__THROW
;

81 *
	$memÆign
 (
size_t
 
__Æignmít
, size_à
__size
)

82 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

85 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

89 * 
	$pvÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

93 *(*
__m‹ec‹e
Ë(
±rdiff_t
 
__size
);

96 *
	$__deÁu…_m‹ec‹e
 (
±rdiff_t
 
__size
)

97 
__THROW
 
__©åibuã_mÆloc__
;

101 
	smÆlöfo


103 
¨ía
;

104 
‹dblks
;

105 
smblks
;

106 
hblks
;

107 
hblkhd
;

108 
usmblks
;

109 
fsmblks
;

110 
u‹dblks
;

111 
f‹dblks
;

112 
kìpco°
;

116 
mÆlöfo
 
	$mÆlöfo
 (Ë
__THROW
;

119 #i‚de‡
M_MXFAST


120 
	#M_MXFAST
 1

	)

122 #i‚de‡
M_NLBLKS


123 
	#M_NLBLKS
 2

	)

125 #i‚de‡
M_GRAIN


126 
	#M_GRAIN
 3

	)

128 #i‚de‡
M_KEEP


129 
	#M_KEEP
 4

	)

133 
	#M_TRIM_THRESHOLD
 -1

	)

134 
	#M_TOP_PAD
 -2

	)

135 
	#M_MMAP_THRESHOLD
 -3

	)

136 
	#M_MMAP_MAX
 -4

	)

137 
	#M_CHECK_ACTION
 -5

	)

138 
	#M_PERTURB
 -6

	)

139 
	#M_ARENA_TEST
 -7

	)

140 
	#M_ARENA_MAX
 -8

	)

143 
	$mÆl›t
 (
__∑øm
, 
__vÆ
Ë
__THROW
;

147 
	$mÆloc_åim
 (
size_t
 
__∑d
Ë
__THROW
;

151 
size_t
 
	$mÆloc_ußbÀ_size
 (*
__±r
Ë
__THROW
;

154 
	$mÆloc_°©s
 (Ë
__THROW
;

157 
	$mÆloc_öfo
 (
__›ti⁄s
, 
FILE
 *
__Â
Ë
__THROW
;

160 *
	$mÆloc_gë_°©e
 (Ë
__THROW
;

164 
	$mÆloc_£t_°©e
 (*
__±r
Ë
__THROW
;

169 (*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_öôülize_hook
) ()

170 
__MALLOC_DEPRECATED
;

172 (*
__MALLOC_HOOK_VOLATILE
 
__‰ì_hook
Ë(*
__±r
,

173 c⁄° 
__mÆloc_±r_t
)

174 
__MALLOC_DEPRECATED
;

175 *(*
__MALLOC_HOOK_VOLATILE
 
__mÆloc_hook
Ë(
size_t
 
__size
,

176 c⁄° 
__mÆloc_±r_t
)

177 
__MALLOC_DEPRECATED
;

178 *(*
__MALLOC_HOOK_VOLATILE
 
__ªÆloc_hook
Ë(*
__±r
,

179 
size_t
 
__size
,

180 c⁄° 
__mÆloc_±r_t
)

181 
__MALLOC_DEPRECATED
;

182 *(*
__MALLOC_HOOK_VOLATILE
 
__memÆign_hook
Ë(
size_t
 
__Æignmít
,

183 
size_t
 
__size
,

184 c⁄° 
__mÆloc_±r_t
)

185 
__MALLOC_DEPRECATED
;

186 (*
__MALLOC_HOOK_VOLATILE
 
__a·î_m‹ec‹e_hook
) ();

189 
	$__mÆloc_check_öô
 (Ë
__THROW
 
__MALLOC_DEPRECATED
;

192 
__END_DECLS


	@/usr/include/math.h

24 #i‚def 
_MATH_H


25 
	#_MATH_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 
	~<bôs/huge_vÆ.h
>

34 #ifde‡
__USE_ISOC99


35 
	~<bôs/huge_vÆf.h
>

36 
	~<bôs/huge_vÆl.h
>

39 
	~<bôs/öf.h
>

42 
	~<bôs/«n.h
>

46 
	~<bôs/m©hdef.h
>

53 
	#__MATHCALL
(
fun˘i⁄
,
suffix
, 
¨gs
) \

54 
	`__MATHDECL
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
)

	)

55 
	#__MATHDECL
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

56 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
); \

57 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
)

	)

58 
	#__MATHCALLX
(
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

59 
	`__MATHDECLX
 (
_MdoubÀ_
,
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
)

	)

60 
	#__MATHDECLX
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
©åib
) \

61 
	`__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
); \

62 
	`__MATHDECL_1
(
ty≥
, 
	`__CONCAT
(
__
,
fun˘i⁄
),
suffix
, 
¨gs
Ë
	`__©åibuã__
 (
©åib
)

	)

63 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

64 
ty≥
 
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
Ë
¨gs
 
__THROW


	)

66 
	#_MdoubÀ_
 

	)

67 
	#__MATH_PRECNAME
(
«me
,
r
Ë
	`__CONCAT
“ame,r)

	)

68 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_STD


	)

69 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_STD


	)

70 
	~<bôs/m©hˇŒs.h
>

71 #unde‡
_MdoubÀ_


72 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


73 #unde‡
_MdoubÀ_END_NAMESPACE


74 #unde‡
__MATH_PRECNAME


76 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


82 #i‚de‡
_MÊﬂt_


83 
	#_MÊﬂt_
 

	)

85 
	#_MdoubÀ_
 
_MÊﬂt_


	)

86 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
f
##
	)
r

87 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

88 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

89 
	~<bôs/m©hˇŒs.h
>

90 #unde‡
_MdoubÀ_


91 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


92 #unde‡
_MdoubÀ_END_NAMESPACE


93 #unde‡
__MATH_PRECNAME


95 #i‡!(
deföed
 
__NO_LONG_DOUBLE_MATH
 && deföed 
_LIBC
) \

96 || 
deföed
 
__LDBL_COMPAT


97 #ifde‡
__LDBL_COMPAT


99 #ifde‡
__USE_ISOC99


100 
	$__∆dbl_√xâow¨df
 (
__x
, 
__y
)

101 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

102 #ifde‡
__REDIRECT_NTH


103 
	`__REDIRECT_NTH
 (
√xâow¨df
, (
__x
, 
__y
),

104 
__∆dbl_√xâow¨df
)

105 
	`__©åibuã__
 ((
__c⁄°__
));

106 
	`__REDIRECT_NTH
 (
√xâow¨d
, (
__x
, 
__y
),

107 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

108 
	`__REDIRECT_NTH
 (
√xâow¨dl
,

109 (
__x
, 
__y
),

110 
√xè·î
Ë
	`__©åibuã__
 ((
__c⁄°__
));

115 #i‡
deföed
 
__LDBL_COMPAT
 || deföed 
__NO_LONG_DOUBLE_MATH


117 #unde‡
__MATHDECL_1


118 
	#__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
Æüs
) \

119 
ty≥
 
	`__REDIRECT_NTH
(
	`__MATH_PRECNAME
(
fun˘i⁄
,
suffix
), \

120 
¨gs
, 
Æüs
)

	)

121 
	#__MATHDECL_1
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
) \

122 
	`__MATHDECL_2
(
ty≥
, 
fun˘i⁄
,
suffix
, 
¨gs
, 
	`__CONCAT
(fun˘i⁄,suffix))

	)

128 #i‚de‡
_Ml⁄g_doubÀ_


129 
	#_Ml⁄g_doubÀ_
 

	)

131 
	#_MdoubÀ_
 
_Ml⁄g_doubÀ_


	)

132 
	#__MATH_PRECNAME
(
«me
,
r
Ë«me##
l
##
	)
r

133 
	#_MdoubÀ_BEGIN_NAMESPACE
 
__BEGIN_NAMESPACE_C99


	)

134 
	#_MdoubÀ_END_NAMESPACE
 
__END_NAMESPACE_C99


	)

135 
	#__MATH_DECLARE_LDOUBLE
 1

	)

136 
	~<bôs/m©hˇŒs.h
>

137 #unde‡
_MdoubÀ_


138 #unde‡
_MdoubÀ_BEGIN_NAMESPACE


139 #unde‡
_MdoubÀ_END_NAMESPACE


140 #unde‡
__MATH_PRECNAME


145 #unde‡
__MATHDECL_1


146 #unde‡
__MATHDECL


147 #unde‡
__MATHCALL


150 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


152 
signgam
;

157 #ifde‡
__USE_ISOC99


195 
FP_NAN
 =

196 
	#FP_NAN
 0

	)

197 
FP_NAN
,

198 
FP_INFINITE
 =

199 
	#FP_INFINITE
 1

	)

200 
FP_INFINITE
,

201 
FP_ZERO
 =

202 
	#FP_ZERO
 2

	)

203 
FP_ZERO
,

204 
FP_SUBNORMAL
 =

205 
	#FP_SUBNORMAL
 3

	)

206 
FP_SUBNORMAL
,

207 
FP_NORMAL
 =

208 
	#FP_NORMAL
 4

	)

209 
FP_NORMAL


213 #ifde‡
__NO_LONG_DOUBLE_MATH


214 
	#Â˛assify
(
x
) \

215 ( (
x
Ë= (Ë? 
	`__Â˛assifyf
 (xË: 
	`__Â˛assify
 (x))

	)

217 
	#Â˛assify
(
x
) \

218 ( (
x
) ==  () \

219 ? 
	`__Â˛assifyf
 (
x
) \

220 :  (
x
) ==  () \

221 ? 
	`__Â˛assify
 (
x
Ë: 
	`__Â˛assifyl
 (x))

	)

225 #ifde‡
__NO_LONG_DOUBLE_MATH


226 
	#signbô
(
x
) \

227 ( (
x
Ë= (Ë? 
	`__signbôf
 (xË: 
	`__signbô
 (x))

	)

229 
	#signbô
(
x
) \

230 ( (
x
) ==  () \

231 ? 
	`__signbôf
 (
x
) \

232 :  (
x
) ==  () \

233 ? 
	`__signbô
 (
x
Ë: 
	`__signbôl
 (x))

	)

237 #ifde‡
__NO_LONG_DOUBLE_MATH


238 
	#isföôe
(
x
) \

239 ( (
x
Ë= (Ë? 
	`__föôef
 (xË: 
	`__föôe
 (x))

	)

241 
	#isföôe
(
x
) \

242 ( (
x
) ==  () \

243 ? 
	`__föôef
 (
x
) \

244 :  (
x
) ==  () \

245 ? 
	`__föôe
 (
x
Ë: 
	`__föôñ
 (x))

	)

249 
	#i¢‹mÆ
(
x
Ë(
	`Â˛assify
 (xË=
FP_NORMAL
)

	)

253 #ifde‡
__NO_LONG_DOUBLE_MATH


254 
	#i¢™
(
x
) \

255 ( (
x
Ë= (Ë? 
	`__i¢™f
 (xË: 
	`__i¢™
 (x))

	)

257 
	#i¢™
(
x
) \

258 ( (
x
) ==  () \

259 ? 
	`__i¢™f
 (
x
) \

260 :  (
x
) ==  () \

261 ? 
	`__i¢™
 (
x
Ë: 
	`__i¢™l
 (x))

	)

265 #ifde‡
__NO_LONG_DOUBLE_MATH


266 
	#isöf
(
x
) \

267 ( (
x
Ë= (Ë? 
	`__isöff
 (xË: 
	`__isöf
 (x))

	)

269 
	#isöf
(
x
) \

270 ( (
x
) ==  () \

271 ? 
	`__isöff
 (
x
) \

272 :  (
x
) ==  () \

273 ? 
	`__isöf
 (
x
Ë: 
	`__isöÊ
 (x))

	)

277 
	#MATH_ERRNO
 1

	)

278 
	#MATH_ERREXCEPT
 2

	)

283 #i‚de‡
__FAST_MATH__


284 
	#m©h_îrh™dlög
 (
MATH_ERRNO
 | 
MATH_ERREXCEPT
)

	)

289 #ifdef 
__USE_MISC


293 
_IEEE_
 = -1,

294 
_SVID_
,

295 
_XOPEN_
,

296 
_POSIX_
,

297 
_ISOC_


298 } 
	t_LIB_VERSION_TYPE
;

303 
_LIB_VERSION_TYPE
 
_LIB_VERSION
;

307 #ifde‡
__USE_SVID


313 #ifde‡
__˝lu•lus


314 
__ex˚±i⁄


316 
ex˚±i⁄


319 
ty≥
;

320 *
«me
;

321 
¨g1
;

322 
¨g2
;

323 
ªtvÆ
;

324 
	}
};

326 #ifde‡
__˝lu•lus


327 
	$m©hîr
 (
__ex˚±i⁄
 *
__exc
Ë
	`throw
 ();

329 
	`m©hîr
 (
ex˚±i⁄
 *
__exc
);

332 
	#X_TLOSS
 1.41484755040568800000e+16

	)

335 
	#DOMAIN
 1

	)

336 
	#SING
 2

	)

337 
	#OVERFLOW
 3

	)

338 
	#UNDERFLOW
 4

	)

339 
	#TLOSS
 5

	)

340 
	#PLOSS
 6

	)

343 
	#HUGE
 3.40282347e+38F

	)

347 #ifde‡
__USE_XOPEN


349 
	#MAXFLOAT
 3.40282347e+38F

	)

356 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


357 
	#M_E
 2.7182818284590452354

	)

358 
	#M_LOG2E
 1.4426950408889634074

	)

359 
	#M_LOG10E
 0.43429448190325182765

	)

360 
	#M_LN2
 0.69314718055994530942

	)

361 
	#M_LN10
 2.30258509299404568402

	)

362 
	#M_PI
 3.14159265358979323846

	)

363 
	#M_PI_2
 1.57079632679489661923

	)

364 
	#M_PI_4
 0.78539816339744830962

	)

365 
	#M_1_PI
 0.31830988618379067154

	)

366 
	#M_2_PI
 0.63661977236758134308

	)

367 
	#M_2_SQRTPI
 1.12837916709551257390

	)

368 
	#M_SQRT2
 1.41421356237309504880

	)

369 
	#M_SQRT1_2
 0.70710678118654752440

	)

375 #ifde‡
__USE_GNU


376 
	#M_El
 2.718281828459045235360287471352662498L

	)

377 
	#M_LOG2El
 1.442695040888963407359924681001892137L

	)

378 
	#M_LOG10El
 0.434294481903251827651128918916605082L

	)

379 
	#M_LN2l
 0.693147180559945309417232121458176568L

	)

380 
	#M_LN10l
 2.302585092994045684017991454684364208L

	)

381 
	#M_PIl
 3.141592653589793238462643383279502884L

	)

382 
	#M_PI_2l
 1.570796326794896619231321691639751442L

	)

383 
	#M_PI_4l
 0.785398163397448309615660845819875721L

	)

384 
	#M_1_PIl
 0.318309886183790671537767526745028724L

	)

385 
	#M_2_PIl
 0.636619772367581343075535053490057448L

	)

386 
	#M_2_SQRTPIl
 1.128379167095512573896158903121545172L

	)

387 
	#M_SQRT2l
 1.414213562373095048801688724209698079L

	)

388 
	#M_SQRT1_2l
 0.707106781186547524400844362104849039L

	)

395 #i‡
deföed
 
__STRICT_ANSI__
 && !deföed 
__NO_MATH_INLINES


396 
	#__NO_MATH_INLINES
 1

	)

399 #i‡
deföed
 
__USE_ISOC99
 && 
	`__GNUC_PREREQ
(2,97)

406 
	#isgª©î
(
x
, 
y
Ë
	`__buûtö_isgª©î
(x, y)

	)

407 
	#isgª©îequÆ
(
x
, 
y
Ë
	`__buûtö_isgª©îequÆ
(x, y)

	)

408 
	#i¶ess
(
x
, 
y
Ë
	`__buûtö_i¶ess
(x, y)

	)

409 
	#i¶es£quÆ
(
x
, 
y
Ë
	`__buûtö_i¶es£quÆ
(x, y)

	)

410 
	#i¶essgª©î
(
x
, 
y
Ë
	`__buûtö_i¶essgª©î
(x, y)

	)

411 
	#isun‹dîed
(
u
, 
v
Ë
	`__buûtö_isun‹dîed
(u, v)

	)

415 #ifde‡
__USE_EXTERN_INLINES


416 
	~<bôs/m©hölöe.h
>

421 #i‡
deföed
 
__FINITE_MATH_ONLY__
 && __FINITE_MATH_ONLY__ > 0

422 
	~<bôs/m©h-föôe.h
>

425 #ifde‡
__USE_ISOC99


429 #i‚de‡
isgª©î


430 
	#isgª©î
(
x
, 
y
) \

431 (
__exãnsi⁄__
 \

432 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

433 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x > __y; 
	}
}))

	)

437 #i‚de‡
isgª©îequÆ


438 
	#isgª©îequÆ
(
x
, 
y
) \

439 (
__exãnsi⁄__
 \

440 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

441 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x >__y; }))

	)

445 #i‚de‡
i¶ess


446 
	#i¶ess
(
x
, 
y
) \

447 (
__exãnsi⁄__
 \

448 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

449 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x < __y; }))

	)

453 #i‚de‡
i¶es£quÆ


454 
	#i¶es£quÆ
(
x
, 
y
) \

455 (
__exãnsi⁄__
 \

456 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

457 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& __x <__y; }))

	)

461 #i‚de‡
i¶essgª©î


462 
	#i¶essgª©î
(
x
, 
y
) \

463 (
__exãnsi⁄__
 \

464 ({ 
	`__ty≥of__
(
x
Ë
__x
 = (x); __ty≥of__(
y
Ë
__y
 = (y); \

465 !
	`isun‹dîed
 (
__x
, 
__y
Ë&& (__x < __y || __y < __x); }))

	)

469 #i‚de‡
isun‹dîed


470 
	#isun‹dîed
(
u
, 
v
) \

471 (
__exãnsi⁄__
 \

472 ({ 
	`__ty≥of__
(
u
Ë
__u
 = (u); __ty≥of__(
v
Ë
__v
 = (v); \

473 
	`Â˛assify
 (
__u
Ë=
FP_NAN
 || fp˛assify (
__v
Ë=FP_NAN; }))

	)

478 
	g__END_DECLS


	@/usr/include/memory.h

22 #i‚def 
_MEMORY_H


23 
	#_MEMORY_H
 1

	)

25 
	~<„©uªs.h
>

28 #i‚def 
_STRING_H


29 
	~<°rög.h
>

	@/usr/include/netdb.h

22 #i‚def 
_NETDB_H


23 
	#_NETDB_H
 1

	)

25 
	~<„©uªs.h
>

27 
	~<√töë/ö.h
>

28 
	~<°döt.h
>

29 #ifde‡
__USE_MISC


32 
	~<Ωc/√tdb.h
>

35 #ifde‡
__USE_GNU


36 
	#__√ed_sigevít_t


	)

37 
	~<bôs/sigöfo.h
>

38 
	#__√ed_time•ec


	)

39 
	~<time.h
>

42 
	~<bôs/√tdb.h
>

45 
	#_PATH_HEQUIV
 "/ëc/ho°s.equiv"

	)

46 
	#_PATH_HOSTS
 "/ëc/ho°s"

	)

47 
	#_PATH_NETWORKS
 "/ëc/√tw‹ks"

	)

48 
	#_PATH_NSSWITCH_CONF
 "/ëc/nsswôch.c⁄f"

	)

49 
	#_PATH_PROTOCOLS
 "/ëc/¥Ÿocﬁs"

	)

50 
	#_PATH_SERVICES
 "/ëc/£rvi˚s"

	)

53 
	g__BEGIN_DECLS


55 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8


58 
	#h_î∫o
 (*
	`__h_î∫o_loˇti⁄
 ())

	)

61 *
	$__h_î∫o_loˇti⁄
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

65 
	#HOST_NOT_FOUND
 1

	)

66 
	#TRY_AGAIN
 2

	)

68 
	#NO_RECOVERY
 3

	)

70 
	#NO_DATA
 4

	)

73 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


74 
	#NETDB_INTERNAL
 -1

	)

75 
	#NETDB_SUCCESS
 0

	)

76 
	#NO_ADDRESS
 
NO_DATA


	)

79 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_XOPEN_EXTENDED


81 
	#IPPORT_RESERVED
 1024

	)

84 #ifde‡
__USE_GNU


86 
	#SCOPE_DELIMITER
 '%'

	)

89 #ifde‡
__USE_MISC


92 
	$hîr‹
 (c⁄° *
__°r
Ë
__THROW
;

95 c⁄° *
	$h°ªº‹
 (
__îr_num
Ë
__THROW
;

100 
	sho°ít


102 *
h_«me
;

103 **
h_Æü£s
;

104 
h_addπy≥
;

105 
h_Àngth
;

106 **
h_addr_li°
;

107 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


108 
	#h_addr
 
h_addr_li°
[0]

	)

117 
	`£tho°ít
 (
__°ay_›í
);

123 
	`ídho°ít
 ();

130 
ho°ít
 *
	`gëho°ít
 ();

137 
ho°ít
 *
	`gëho°byaddr
 (c⁄° *
__addr
, 
__sockÀn_t
 
__Àn
,

138 
__ty≥
);

144 
ho°ít
 *
	`gëho°by«me
 (c⁄° *
__«me
);

146 #ifde‡
__USE_MISC


155 
ho°ít
 *
	`gëho°by«me2
 (c⁄° *
__«me
, 
__af
);

167 
	`gëho°ít_r
 (
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

168 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

169 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

170 *
__ª°ri˘
 
__h_î∫›
);

172 
	`gëho°byaddr_r
 (c⁄° *
__ª°ri˘
 
__addr
, 
__sockÀn_t
 
__Àn
,

173 
__ty≥
,

174 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

175 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

176 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

177 *
__ª°ri˘
 
__h_î∫›
);

179 
	`gëho°by«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

180 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

181 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

182 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

183 *
__ª°ri˘
 
__h_î∫›
);

185 
	`gëho°by«me2_r
 (c⁄° *
__ª°ri˘
 
__«me
, 
__af
,

186 
ho°ít
 *
__ª°ri˘
 
__ªsu…_buf
,

187 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

188 
ho°ít
 **
__ª°ri˘
 
__ªsu…
,

189 *
__ª°ri˘
 
__h_î∫›
);

198 
	`£äëít
 (
__°ay_›í
);

204 
	`íd√ã¡
 ();

211 
√ã¡
 *
	`gë√ã¡
 ();

218 
√ã¡
 *
	`gë√tbyaddr
 (
uöt32_t
 
__√t
, 
__ty≥
);

224 
√ã¡
 *
	`gë√tby«me
 (c⁄° *
__«me
);

226 #ifdef 
__USE_MISC


237 
	`gë√ã¡_r
 (
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

238 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

239 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

240 *
__ª°ri˘
 
__h_î∫›
);

242 
	`gë√tbyaddr_r
 (
uöt32_t
 
__√t
, 
__ty≥
,

243 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

244 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

245 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

246 *
__ª°ri˘
 
__h_î∫›
);

248 
	`gë√tby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

249 
√ã¡
 *
__ª°ri˘
 
__ªsu…_buf
,

250 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

251 
√ã¡
 **
__ª°ri˘
 
__ªsu…
,

252 *
__ª°ri˘
 
__h_î∫›
);

257 
	s£rvít


259 *
s_«me
;

260 **
s_Æü£s
;

261 
s_p‹t
;

262 *
s_¥Ÿo
;

270 
	`£t£rvít
 (
__°ay_›í
);

276 
	`íd£rvít
 ();

283 
£rvít
 *
	`gë£rvít
 ();

290 
£rvít
 *
	`gë£rvby«me
 (c⁄° *
__«me
, c⁄° *
__¥Ÿo
);

297 
£rvít
 *
	`gë£rvbyp‹t
 (
__p‹t
, c⁄° *
__¥Ÿo
);

300 #ifdef 
__USE_MISC


308 
	`gë£rvít_r
 (
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

309 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

310 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

312 
	`gë£rvby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

313 c⁄° *
__ª°ri˘
 
__¥Ÿo
,

314 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

315 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

316 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

318 
	`gë£rvbyp‹t_r
 (
__p‹t
, c⁄° *
__ª°ri˘
 
__¥Ÿo
,

319 
£rvít
 *
__ª°ri˘
 
__ªsu…_buf
,

320 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

321 
£rvít
 **
__ª°ri˘
 
__ªsu…
);

326 
	s¥Ÿ€¡


328 *
p_«me
;

329 **
p_Æü£s
;

330 
p_¥Ÿo
;

338 
	`£çrŸ€¡
 (
__°ay_›í
);

344 
	`íd¥Ÿ€¡
 ();

351 
¥Ÿ€¡
 *
	`gë¥Ÿ€¡
 ();

357 
¥Ÿ€¡
 *
	`gë¥Ÿoby«me
 (c⁄° *
__«me
);

363 
¥Ÿ€¡
 *
	`gë¥Ÿobynumbî
 (
__¥Ÿo
);

366 #ifdef 
__USE_MISC


374 
	`gë¥Ÿ€¡_r
 (
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

375 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

376 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

378 
	`gë¥Ÿoby«me_r
 (c⁄° *
__ª°ri˘
 
__«me
,

379 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

380 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

381 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

383 
	`gë¥Ÿobynumbî_r
 (
__¥Ÿo
,

384 
¥Ÿ€¡
 *
__ª°ri˘
 
__ªsu…_buf
,

385 *
__ª°ri˘
 
__buf
, 
size_t
 
__buÊí
,

386 
¥Ÿ€¡
 **
__ª°ri˘
 
__ªsu…
);

395 
	`£äëgª¡
 (c⁄° *
__√tgroup
);

403 
	`íd√tgª¡
 ();

412 
	`gë√tgª¡
 (**
__ª°ri˘
 
__ho°p
,

413 **
__ª°ri˘
 
__u£Ω
,

414 **
__ª°ri˘
 
__domaöp
);

423 
	`ö√tgr
 (c⁄° *
__√tgroup
, c⁄° *
__ho°
,

424 c⁄° *
__u£r
, c⁄° *
__domaö
);

432 
	`gë√tgª¡_r
 (**
__ª°ri˘
 
__ho°p
,

433 **
__ª°ri˘
 
__u£Ω
,

434 **
__ª°ri˘
 
__domaöp
,

435 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
);

439 #ifde‡
__USE_BSD


451 
	`rcmd
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

452 c⁄° *
__ª°ri˘
 
__locu£r
,

453 c⁄° *
__ª°ri˘
 
__ªmu£r
,

454 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

463 
	`rcmd_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

464 c⁄° *
__ª°ri˘
 
__locu£r
,

465 c⁄° *
__ª°ri˘
 
__ªmu£r
,

466 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

467 
ß_Ámûy_t
 
__af
);

479 
	`ªxec
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

480 c⁄° *
__ª°ri˘
 
__«me
,

481 c⁄° *
__ª°ri˘
 
__∑ss
,

482 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
);

491 
	`ªxec_af
 (**
__ª°ri˘
 
__aho°
, 
__Ω‹t
,

492 c⁄° *
__ª°ri˘
 
__«me
,

493 c⁄° *
__ª°ri˘
 
__∑ss
,

494 c⁄° *
__ª°ri˘
 
__cmd
, *__ª°ri˘ 
__fd2p
,

495 
ß_Ámûy_t
 
__af
);

505 
	`ru£rok
 (c⁄° *
__rho°
, 
__su£r
,

506 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
);

515 
	`ru£rok_af
 (c⁄° *
__rho°
, 
__su£r
,

516 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
,

517 
ß_Ámûy_t
 
__af
);

528 
	`úu£rok
 (
uöt32_t
 
__øddr
, 
__su£r
,

529 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
);

539 
	`úu£rok_af
 (c⁄° *
__øddr
, 
__su£r
,

540 c⁄° *
__ªmu£r
, c⁄° *
__locu£r
,

541 
ß_Ámûy_t
 
__af
);

551 
	`ºesvp‹t
 (*
__Æp‹t
);

560 
	`ºesvp‹t_af
 (*
__Æp‹t
, 
ß_Ámûy_t
 
__af
);

565 #ifdef 
__USE_POSIX


567 
	saddröfo


569 
ai_Êags
;

570 
ai_Ámûy
;

571 
ai_sockty≥
;

572 
ai_¥Ÿocﬁ
;

573 
sockÀn_t
 
ai_addæí
;

574 
sockaddr
 *
ai_addr
;

575 *
ai_ˇn⁄«me
;

576 
addröfo
 *
ai_√xt
;

579 #ifde‡
__USE_GNU


581 
	sgaicb


583 c⁄° *
¨_«me
;

584 c⁄° *
¨_£rvi˚
;

585 c⁄° 
addröfo
 *
¨_ªque°
;

586 
addröfo
 *
¨_ªsu…
;

588 
__ªtu∫
;

589 
__unu£d
[5];

593 
	#GAI_WAIT
 0

	)

594 
	#GAI_NOWAIT
 1

	)

598 
	#AI_PASSIVE
 0x0001

	)

599 
	#AI_CANONNAME
 0x0002

	)

600 
	#AI_NUMERICHOST
 0x0004

	)

601 
	#AI_V4MAPPED
 0x0008

	)

602 
	#AI_ALL
 0x0010

	)

603 
	#AI_ADDRCONFIG
 0x0020

	)

605 #ifde‡
__USE_GNU


606 
	#AI_IDN
 0x0040

	)

609 
	#AI_CANONIDN
 0x0080

	)

610 
	#AI_IDN_ALLOW_UNASSIGNED
 0x0100

	)

612 
	#AI_IDN_USE_STD3_ASCII_RULES
 0x0200

	)

615 
	#AI_NUMERICSERV
 0x0400

	)

618 
	#EAI_BADFLAGS
 -1

	)

619 
	#EAI_NONAME
 -2

	)

620 
	#EAI_AGAIN
 -3

	)

621 
	#EAI_FAIL
 -4

	)

622 
	#EAI_FAMILY
 -6

	)

623 
	#EAI_SOCKTYPE
 -7

	)

624 
	#EAI_SERVICE
 -8

	)

625 
	#EAI_MEMORY
 -10

	)

626 
	#EAI_SYSTEM
 -11

	)

627 
	#EAI_OVERFLOW
 -12

	)

628 #ifde‡
__USE_GNU


629 
	#EAI_NODATA
 -5

	)

630 
	#EAI_ADDRFAMILY
 -9

	)

631 
	#EAI_INPROGRESS
 -100

	)

632 
	#EAI_CANCELED
 -101

	)

633 
	#EAI_NOTCANCELED
 -102

	)

634 
	#EAI_ALLDONE
 -103

	)

635 
	#EAI_INTR
 -104

	)

636 
	#EAI_IDN_ENCODE
 -105

	)

639 #ifde‡
__USE_MISC


640 
	#NI_MAXHOST
 1025

	)

641 
	#NI_MAXSERV
 32

	)

644 
	#NI_NUMERICHOST
 1

	)

645 
	#NI_NUMERICSERV
 2

	)

646 
	#NI_NOFQDN
 4

	)

647 
	#NI_NAMEREQD
 8

	)

648 
	#NI_DGRAM
 16

	)

649 #ifde‡
__USE_GNU


650 
	#NI_IDN
 32

	)

651 
	#NI_IDN_ALLOW_UNASSIGNED
 64

	)

653 
	#NI_IDN_USE_STD3_ASCII_RULES
 128

	)

662 
	`gëaddröfo
 (c⁄° *
__ª°ri˘
 
__«me
,

663 c⁄° *
__ª°ri˘
 
__£rvi˚
,

664 c⁄° 
addröfo
 *
__ª°ri˘
 
__ªq
,

665 
addröfo
 **
__ª°ri˘
 
__∑i
);

668 
	$‰ìaddröfo
 (
addröfo
 *
__ai
Ë
__THROW
;

671 c⁄° *
	$gai_°ªº‹
 (
__ecode
Ë
__THROW
;

677 
	`gë«meöfo
 (c⁄° 
sockaddr
 *
__ª°ri˘
 
__ß
,

678 
sockÀn_t
 
__ßÀn
, *
__ª°ri˘
 
__ho°
,

679 
sockÀn_t
 
__ho°Àn
, *
__ª°ri˘
 
__£rv
,

680 
sockÀn_t
 
__£rvÀn
, 
__Êags
);

683 #ifde‡
__USE_GNU


692 
	`gëaddröfo_a
 (
__mode
, 
gaicb
 *
__li°
[
__ª°ri˘_¨r
],

693 
__ít
, 
sigevít
 *
__ª°ri˘
 
__sig
);

703 
	`gai_su•íd
 (c⁄° 
gaicb
 *c⁄° 
__li°
[], 
__ít
,

704 c⁄° 
time•ec
 *
__timeout
);

707 
	$gai_îr‹
 (
gaicb
 *
__ªq
Ë
__THROW
;

710 
	$gai_ˇn˚l
 (
gaicb
 *
__gaicbp
Ë
__THROW
;

713 
__END_DECLS


	@/usr/include/netinet/in.h

19 #i‚def 
_NETINET_IN_H


20 
	#_NETINET_IN_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<°döt.h
>

24 
	~<sys/sockë.h
>

25 
	~<bôs/ty≥s.h
>

28 
__BEGIN_DECLS


33 
	mIPPROTO_IP
 = 0,

34 
	#IPPROTO_IP
 
IPPROTO_IP


	)

35 
	mIPPROTO_HOPOPTS
 = 0,

36 
	#IPPROTO_HOPOPTS
 
IPPROTO_HOPOPTS


	)

37 
	mIPPROTO_ICMP
 = 1,

38 
	#IPPROTO_ICMP
 
IPPROTO_ICMP


	)

39 
	mIPPROTO_IGMP
 = 2,

40 
	#IPPROTO_IGMP
 
IPPROTO_IGMP


	)

41 
	mIPPROTO_IPIP
 = 4,

42 
	#IPPROTO_IPIP
 
IPPROTO_IPIP


	)

43 
	mIPPROTO_TCP
 = 6,

44 
	#IPPROTO_TCP
 
IPPROTO_TCP


	)

45 
	mIPPROTO_EGP
 = 8,

46 
	#IPPROTO_EGP
 
IPPROTO_EGP


	)

47 
	mIPPROTO_PUP
 = 12,

48 
	#IPPROTO_PUP
 
IPPROTO_PUP


	)

49 
	mIPPROTO_UDP
 = 17,

50 
	#IPPROTO_UDP
 
IPPROTO_UDP


	)

51 
	mIPPROTO_IDP
 = 22,

52 
	#IPPROTO_IDP
 
IPPROTO_IDP


	)

53 
	mIPPROTO_TP
 = 29,

54 
	#IPPROTO_TP
 
IPPROTO_TP


	)

55 
	mIPPROTO_DCCP
 = 33,

56 
	#IPPROTO_DCCP
 
IPPROTO_DCCP


	)

57 
	mIPPROTO_IPV6
 = 41,

58 
	#IPPROTO_IPV6
 
IPPROTO_IPV6


	)

59 
	mIPPROTO_ROUTING
 = 43,

60 
	#IPPROTO_ROUTING
 
IPPROTO_ROUTING


	)

61 
	mIPPROTO_FRAGMENT
 = 44,

62 
	#IPPROTO_FRAGMENT
 
IPPROTO_FRAGMENT


	)

63 
	mIPPROTO_RSVP
 = 46,

64 
	#IPPROTO_RSVP
 
IPPROTO_RSVP


	)

65 
	mIPPROTO_GRE
 = 47,

66 
	#IPPROTO_GRE
 
IPPROTO_GRE


	)

67 
	mIPPROTO_ESP
 = 50,

68 
	#IPPROTO_ESP
 
IPPROTO_ESP


	)

69 
	mIPPROTO_AH
 = 51,

70 
	#IPPROTO_AH
 
IPPROTO_AH


	)

71 
	mIPPROTO_ICMPV6
 = 58,

72 
	#IPPROTO_ICMPV6
 
IPPROTO_ICMPV6


	)

73 
	mIPPROTO_NONE
 = 59,

74 
	#IPPROTO_NONE
 
IPPROTO_NONE


	)

75 
	mIPPROTO_DSTOPTS
 = 60,

76 
	#IPPROTO_DSTOPTS
 
IPPROTO_DSTOPTS


	)

77 
	mIPPROTO_MTP
 = 92,

78 
	#IPPROTO_MTP
 
IPPROTO_MTP


	)

79 
	mIPPROTO_ENCAP
 = 98,

80 
	#IPPROTO_ENCAP
 
IPPROTO_ENCAP


	)

81 
	mIPPROTO_PIM
 = 103,

82 
	#IPPROTO_PIM
 
IPPROTO_PIM


	)

83 
	mIPPROTO_COMP
 = 108,

84 
	#IPPROTO_COMP
 
IPPROTO_COMP


	)

85 
	mIPPROTO_SCTP
 = 132,

86 
	#IPPROTO_SCTP
 
IPPROTO_SCTP


	)

87 
	mIPPROTO_UDPLITE
 = 136,

88 
	#IPPROTO_UDPLITE
 
IPPROTO_UDPLITE


	)

89 
	mIPPROTO_RAW
 = 255,

90 
	#IPPROTO_RAW
 
IPPROTO_RAW


	)

91 
	mIPPROTO_MAX


96 
uöt16_t
 
	tö_p‹t_t
;

101 
	mIPPORT_ECHO
 = 7,

102 
	mIPPORT_DISCARD
 = 9,

103 
	mIPPORT_SYSTAT
 = 11,

104 
	mIPPORT_DAYTIME
 = 13,

105 
	mIPPORT_NETSTAT
 = 15,

106 
	mIPPORT_FTP
 = 21,

107 
	mIPPORT_TELNET
 = 23,

108 
	mIPPORT_SMTP
 = 25,

109 
	mIPPORT_TIMESERVER
 = 37,

110 
	mIPPORT_NAMESERVER
 = 42,

111 
	mIPPORT_WHOIS
 = 43,

112 
	mIPPORT_MTP
 = 57,

114 
	mIPPORT_TFTP
 = 69,

115 
	mIPPORT_RJE
 = 77,

116 
	mIPPORT_FINGER
 = 79,

117 
	mIPPORT_TTYLINK
 = 87,

118 
	mIPPORT_SUPDUP
 = 95,

121 
	mIPPORT_EXECSERVER
 = 512,

122 
	mIPPORT_LOGINSERVER
 = 513,

123 
	mIPPORT_CMDSERVER
 = 514,

124 
	mIPPORT_EFSSERVER
 = 520,

127 
	mIPPORT_BIFFUDP
 = 512,

128 
	mIPPORT_WHOSERVER
 = 513,

129 
	mIPPORT_ROUTESERVER
 = 520,

132 
	mIPPORT_RESERVED
 = 1024,

135 
	mIPPORT_USERRESERVED
 = 5000

140 
uöt32_t
 
	tö_addr_t
;

141 
	sö_addr


143 
ö_addr_t
 
	ms_addr
;

152 
	#IN_CLASSA
(
a
Ë((((
ö_addr_t
)◊)Ë& 0x80000000Ë=0)

	)

153 
	#IN_CLASSA_NET
 0xff000000

	)

154 
	#IN_CLASSA_NSHIFT
 24

	)

155 
	#IN_CLASSA_HOST
 (0xfffffff‡& ~
IN_CLASSA_NET
)

	)

156 
	#IN_CLASSA_MAX
 128

	)

158 
	#IN_CLASSB
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xc0000000Ë=0x80000000)

	)

159 
	#IN_CLASSB_NET
 0xffff0000

	)

160 
	#IN_CLASSB_NSHIFT
 16

	)

161 
	#IN_CLASSB_HOST
 (0xfffffff‡& ~
IN_CLASSB_NET
)

	)

162 
	#IN_CLASSB_MAX
 65536

	)

164 
	#IN_CLASSC
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xc0000000)

	)

165 
	#IN_CLASSC_NET
 0xffffff00

	)

166 
	#IN_CLASSC_NSHIFT
 8

	)

167 
	#IN_CLASSC_HOST
 (0xfffffff‡& ~
IN_CLASSC_NET
)

	)

169 
	#IN_CLASSD
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xe0000000)

	)

170 
	#IN_MULTICAST
(
a
Ë
	`IN_CLASSD
◊)

	)

172 
	#IN_EXPERIMENTAL
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xe0000000Ë=0xe0000000)

	)

173 
	#IN_BADCLASS
(
a
Ë((((
ö_addr_t
)◊)Ë& 0xf0000000Ë=0xf0000000)

	)

176 
	#INADDR_ANY
 ((
ö_addr_t
Ë0x00000000)

	)

178 
	#INADDR_BROADCAST
 ((
ö_addr_t
Ë0xffffffff)

	)

180 
	#INADDR_NONE
 ((
ö_addr_t
Ë0xffffffff)

	)

183 
	#IN_LOOPBACKNET
 127

	)

185 #i‚de‡
INADDR_LOOPBACK


186 
	#INADDR_LOOPBACK
 ((
ö_addr_t
Ë0x7f000001Ë

	)

190 
	#INADDR_UNSPEC_GROUP
 ((
ö_addr_t
Ë0xe0000000Ë

	)

191 
	#INADDR_ALLHOSTS_GROUP
 ((
ö_addr_t
Ë0xe0000001Ë

	)

192 
	#INADDR_ALLRTRS_GROUP
 ((
ö_addr_t
Ë0xe0000002Ë

	)

193 
	#INADDR_MAX_LOCAL_GROUP
 ((
ö_addr_t
Ë0xe00000ffË

	)

197 
	sö6_addr


201 
uöt8_t
 
	m__u6_addr8
[16];

202 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


203 
uöt16_t
 
	m__u6_addr16
[8];

204 
uöt32_t
 
	m__u6_addr32
[4];

206 } 
	m__ö6_u
;

207 
	#s6_addr
 
__ö6_u
.
__u6_addr8


	)

208 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


209 
	#s6_addr16
 
__ö6_u
.
__u6_addr16


	)

210 
	#s6_addr32
 
__ö6_u
.
__u6_addr32


	)

214 c⁄° 
ö6_addr
 
ö6addr_™y
;

215 c⁄° 
ö6_addr
 
ö6addr_lo›back
;

216 
	#IN6ADDR_ANY_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0 } } }

	)

217 
	#IN6ADDR_LOOPBACK_INIT
 { { { 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1 } } }

	)

219 
	#INET_ADDRSTRLEN
 16

	)

220 
	#INET6_ADDRSTRLEN
 46

	)

224 
	ssockaddr_ö


226 
__SOCKADDR_COMMON
 (
sö_
);

227 
ö_p‹t_t
 
	msö_p‹t
;

228 
ö_addr
 
	msö_addr
;

231 
	msö_zîo
[ (
sockaddr
) -

232 
__SOCKADDR_COMMON_SIZE
 -

233  (
ö_p‹t_t
) -

234  (
ö_addr
)];

238 
	ssockaddr_ö6


240 
__SOCKADDR_COMMON
 (
sö6_
);

241 
ö_p‹t_t
 
	msö6_p‹t
;

242 
uöt32_t
 
	msö6_Êowöfo
;

243 
ö6_addr
 
	msö6_addr
;

244 
uöt32_t
 
	msö6_sc›e_id
;

248 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


250 
	sù_mªq


253 
ö_addr
 
	mimr_mu…üddr
;

256 
ö_addr
 
	mimr_öãrÁ˚
;

259 
	sù_mªq_sour˚


262 
ö_addr
 
	mimr_mu…üddr
;

265 
ö_addr
 
	mimr_öãrÁ˚
;

268 
ö_addr
 
	mimr_sour˚addr
;

274 
	sùv6_mªq


277 
ö6_addr
 
	mùv6mr_mu…üddr
;

280 
	mùv6mr_öãrÁ˚
;

284 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


286 
	sgroup_ªq


289 
uöt32_t
 
	mgr_öãrÁ˚
;

292 
sockaddr_°‹age
 
	mgr_group
;

295 
	sgroup_sour˚_ªq


298 
uöt32_t
 
	mg§_öãrÁ˚
;

301 
sockaddr_°‹age
 
	mg§_group
;

304 
sockaddr_°‹age
 
	mg§_sour˚
;

309 
	sù_msfûãr


312 
ö_addr
 
	mimsf_mu…üddr
;

315 
ö_addr
 
	mimsf_öãrÁ˚
;

318 
uöt32_t
 
	mimsf_fmode
;

321 
uöt32_t
 
	mimsf_num§c
;

323 
ö_addr
 
	mimsf_¶i°
[1];

326 
	#IP_MSFILTER_SIZE
(
num§c
Ë( (
ù_msfûãr
) \

327 -  (
ö_addr
) \

328 + (
num§c
Ë*  (
ö_addr
))

	)

330 
	sgroup_fûãr


333 
uöt32_t
 
	mgf_öãrÁ˚
;

336 
sockaddr_°‹age
 
	mgf_group
;

339 
uöt32_t
 
	mgf_fmode
;

342 
uöt32_t
 
	mgf_num§c
;

344 
sockaddr_°‹age
 
	mgf_¶i°
[1];

347 
	#GROUP_FILTER_SIZE
(
num§c
Ë( (
group_fûãr
) \

348 -  (
sockaddr_°‹age
) \

349 + ((
num§c
) \

350 *  (
sockaddr_°‹age
)))

	)

355 
	~<bôs/ö.h
>

364 
uöt32_t
 
	$¡ohl
 (
uöt32_t
 
__√é⁄g
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

365 
uöt16_t
 
	$¡ohs
 (
uöt16_t
 
__√tsh‹t
)

366 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

367 
uöt32_t
 
	$ht⁄l
 (
uöt32_t
 
__ho°l⁄g
)

368 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

369 
uöt16_t
 
	$ht⁄s
 (
uöt16_t
 
__ho°sh‹t
)

370 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

372 
	~<ídün.h
>

375 
	~<bôs/byãsw≠.h
>

377 #ifde‡
__OPTIMIZE__


381 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


384 
	#¡ohl
(
x
Ë(x)

	)

385 
	#¡ohs
(
x
Ë(x)

	)

386 
	#ht⁄l
(
x
Ë(x)

	)

387 
	#ht⁄s
(
x
Ë(x)

	)

389 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


390 
	#¡ohl
(
x
Ë
	`__bsw≠_32
 (x)

	)

391 
	#¡ohs
(
x
Ë
	`__bsw≠_16
 (x)

	)

392 
	#ht⁄l
(
x
Ë
	`__bsw≠_32
 (x)

	)

393 
	#ht⁄s
(
x
Ë
	`__bsw≠_16
 (x)

	)

398 #ifde‡
__GNUC__


399 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

400 (
__exãnsi⁄__
 \

401 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

402 
__a
->
s6_addr32
[0] == 0 \

403 && 
__a
->
s6_addr32
[1] == 0 \

404 && 
__a
->
s6_addr32
[2] == 0 \

405 && 
__a
->
s6_addr32
[3] =0; 
	}
}))

	)

407 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

408 (
__exãnsi⁄__
 \

409 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

410 
__a
->
s6_addr32
[0] == 0 \

411 && 
__a
->
s6_addr32
[1] == 0 \

412 && 
__a
->
s6_addr32
[2] == 0 \

413 && 
__a
->
s6_addr32
[3] =
	`ht⁄l
 (1); }))

	)

415 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

416 (
__exãnsi⁄__
 \

417 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

418 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„800000); }))

	)

420 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

421 (
__exãnsi⁄__
 \

422 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

423 (
__a
->
s6_addr32
[0] & 
	`ht⁄l
 (0xffc00000)Ë=ht⁄»(0x„c00000); }))

	)

425 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

426 (
__exãnsi⁄__
 \

427 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

428 
__a
->
s6_addr32
[0] == 0 \

429 && 
__a
->
s6_addr32
[1] == 0 \

430 && 
__a
->
s6_addr32
[2] =
	`ht⁄l
 (0xffff); }))

	)

432 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

433 (
__exãnsi⁄__
 \

434 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

435 
__a
->
s6_addr32
[0] == 0 \

436 && 
__a
->
s6_addr32
[1] == 0 \

437 && 
__a
->
s6_addr32
[2] == 0 \

438 && 
	`¡ohl
 (
__a
->
s6_addr32
[3]Ë> 1; }))

	)

440 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

441 (
__exãnsi⁄__
 \

442 ({ c⁄° 
ö6_addr
 *
__a
 = (c⁄° ö6_add∏*Ë(
a
); \

443 c⁄° 
ö6_addr
 *
__b
 = (c⁄° ö6_add∏*Ë(
b
); \

444 
__a
->
s6_addr32
[0] =
__b
->s6_addr32[0] \

445 && 
__a
->
s6_addr32
[1] =
__b
->s6_addr32[1] \

446 && 
__a
->
s6_addr32
[2] =
__b
->s6_addr32[2] \

447 && 
__a
->
s6_addr32
[3] =
__b
->s6_addr32[3]; }))

	)

449 
	#IN6_IS_ADDR_UNSPECIFIED
(
a
) \

450 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

451 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

452 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

453 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =0)

	)

455 
	#IN6_IS_ADDR_LOOPBACK
(
a
) \

456 (((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0 \

457 && ((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0 \

458 && ((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0 \

459 && ((c⁄° 
uöt32_t
 *Ë(
a
))[3] =
	`ht⁄l
 (1))

	)

461 
	#IN6_IS_ADDR_LINKLOCAL
(
a
) \

462 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

463 =
	`ht⁄l
 (0x„800000))

	)

465 
	#IN6_IS_ADDR_SITELOCAL
(
a
) \

466 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] & 
	`ht⁄l
 (0xffc00000)) \

467 =
	`ht⁄l
 (0x„c00000))

	)

469 
	#IN6_IS_ADDR_V4MAPPED
(
a
) \

470 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

471 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

472 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =
	`ht⁄l
 (0xffff)))

	)

474 
	#IN6_IS_ADDR_V4COMPAT
(
a
) \

475 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] == 0) \

476 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] == 0) \

477 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] == 0) \

478 && (
	`¡ohl
 (((c⁄° 
uöt32_t
 *Ë(
a
))[3]Ë> 1))

	)

480 
	#IN6_ARE_ADDR_EQUAL
(
a
,
b
) \

481 ((((c⁄° 
uöt32_t
 *Ë(
a
))[0] =((c⁄° uöt32_à*Ë(
b
))[0]) \

482 && (((c⁄° 
uöt32_t
 *Ë(
a
))[1] =((c⁄° uöt32_à*Ë(
b
))[1]) \

483 && (((c⁄° 
uöt32_t
 *Ë(
a
))[2] =((c⁄° uöt32_à*Ë(
b
))[2]) \

484 && (((c⁄° 
uöt32_t
 *Ë(
a
))[3] =((c⁄° uöt32_à*Ë(
b
))[3]))

	)

487 
	#IN6_IS_ADDR_MULTICAST
(
a
Ë(((c⁄° 
uöt8_t
 *Ë◊))[0] =0xff)

	)

489 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_GNU


491 
	$bödªsvp‹t
 (
__sockfd
, 
sockaddr_ö
 *
__sock_ö
Ë
__THROW
;

494 
	$bödªsvp‹t6
 (
__sockfd
, 
sockaddr_ö6
 *
__sock_ö
)

495 
__THROW
;

499 
	#IN6_IS_ADDR_MC_NODELOCAL
(
a
) \

500 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

501 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x1))

	)

503 
	#IN6_IS_ADDR_MC_LINKLOCAL
(
a
) \

504 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

505 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x2))

	)

507 
	#IN6_IS_ADDR_MC_SITELOCAL
(
a
) \

508 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

509 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x5))

	)

511 
	#IN6_IS_ADDR_MC_ORGLOCAL
(
a
) \

512 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

513 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0x8))

	)

515 
	#IN6_IS_ADDR_MC_GLOBAL
(
a
) \

516 (
	`IN6_IS_ADDR_MULTICAST
(
a
) \

517 && ((((c⁄° 
uöt8_t
 *Ë(
a
))[1] & 0xfË=0xe))

	)

520 #ifde‡
__USE_GNU


521 
cmsghdr
;

524 
	sö6_pktöfo


526 
ö6_addr
 
ùi6_addr
;

527 
ùi6_ifödex
;

531 
	sù6_mtuöfo


533 
sockaddr_ö6
 
ù6m_addr
;

534 
uöt32_t
 
ù6m_mtu
;

539 
	$öë6_›ti⁄_•a˚
 (
__nbyãs
)

540 
__THROW
 
__©åibuã_dïªˇãd__
;

541 
	$öë6_›ti⁄_öô
 (*
__bp
, 
cmsghdr
 **
__cmsgp
,

542 
__ty≥
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

543 
	$öë6_›ti⁄_≠≥nd
 (
cmsghdr
 *
__cmsg
,

544 c⁄° 
uöt8_t
 *
__ty≥p
, 
__mu…x
,

545 
__∂usy
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

546 
uöt8_t
 *
	$öë6_›ti⁄_Æloc
 (
cmsghdr
 *
__cmsg
, 
__d©Æí
,

547 
__mu…x
, 
__∂usy
)

548 
__THROW
 
__©åibuã_dïªˇãd__
;

549 
	$öë6_›ti⁄_√xt
 (c⁄° 
cmsghdr
 *
__cmsg
,

550 
uöt8_t
 **
__çåp
)

551 
__THROW
 
__©åibuã_dïªˇãd__
;

552 
	$öë6_›ti⁄_föd
 (c⁄° 
cmsghdr
 *
__cmsg
,

553 
uöt8_t
 **
__çåp
, 
__ty≥
)

554 
__THROW
 
__©åibuã_dïªˇãd__
;

558 
	$öë6_›t_öô
 (*
__extbuf
, 
sockÀn_t
 
__exéí
Ë
__THROW
;

559 
	$öë6_›t_≠≥nd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

560 
uöt8_t
 
__ty≥
, 
sockÀn_t
 
__Àn
, uöt8_à
__Æign
,

561 **
__d©abuÂ
Ë
__THROW
;

562 
	$öë6_›t_föish
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
)

563 
__THROW
;

564 
	$öë6_›t_£t_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

565 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

566 
	$öë6_›t_√xt
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

567 
uöt8_t
 *
__ty≥p
, 
sockÀn_t
 *
__À≈
,

568 **
__d©abuÂ
Ë
__THROW
;

569 
	$öë6_›t_föd
 (*
__extbuf
, 
sockÀn_t
 
__exéí
, 
__off£t
,

570 
uöt8_t
 
__ty≥
, 
sockÀn_t
 *
__À≈
,

571 **
__d©abuÂ
Ë
__THROW
;

572 
	$öë6_›t_gë_vÆ
 (*
__d©abuf
, 
__off£t
, *
__vÆ
,

573 
sockÀn_t
 
__vÆÀn
Ë
__THROW
;

577 
sockÀn_t
 
	$öë6_πh_•a˚
 (
__ty≥
, 
__£gmíts
Ë
__THROW
;

578 *
	$öë6_πh_öô
 (*
__bp
, 
sockÀn_t
 
__bp_Àn
, 
__ty≥
,

579 
__£gmíts
Ë
__THROW
;

580 
	$öë6_πh_add
 (*
__bp
, c⁄° 
ö6_addr
 *
__addr
Ë
__THROW
;

581 
	$öë6_πh_ªvî£
 (c⁄° *
__ö
, *
__out
Ë
__THROW
;

582 
	$öë6_πh_£gmíts
 (c⁄° *
__bp
Ë
__THROW
;

583 
ö6_addr
 *
	$öë6_πh_gëaddr
 (c⁄° *
__bp
, 
__ödex
)

584 
__THROW
;

590 
	$gëùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

591 
ö_addr
 
__group
, 
uöt32_t
 *
__fmode
,

592 
uöt32_t
 *
__num§c
, 
ö_addr
 *
__¶i°
)

593 
__THROW
;

596 
	$£tùv4sour˚fûãr
 (
__s
, 
ö_addr
 
__öãrÁ˚_addr
,

597 
ö_addr
 
__group
, 
uöt32_t
 
__fmode
,

598 
uöt32_t
 
__num§c
,

599 c⁄° 
ö_addr
 *
__¶i°
)

600 
__THROW
;

604 
	$gësour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

605 c⁄° 
sockaddr
 *
__group
,

606 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 *
__fmode
,

607 
uöt32_t
 *
__num§c
,

608 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

611 
	$£tsour˚fûãr
 (
__s
, 
uöt32_t
 
__öãrÁ˚_addr
,

612 c⁄° 
sockaddr
 *
__group
,

613 
sockÀn_t
 
__grou∂í
, 
uöt32_t
 
__fmode
,

614 
uöt32_t
 
__num§c
,

615 c⁄° 
sockaddr_°‹age
 *
__¶i°
Ë
__THROW
;

618 
__END_DECLS


	@/usr/include/netinet/tcp.h

32 #i‚de‡
_NETINET_TCP_H


33 
	#_NETINET_TCP_H
 1

	)

35 
	~<„©uªs.h
>

40 
	#TCP_NODELAY
 1

	)

41 
	#TCP_MAXSEG
 2

	)

42 
	#TCP_CORK
 3

	)

43 
	#TCP_KEEPIDLE
 4

	)

44 
	#TCP_KEEPINTVL
 5

	)

45 
	#TCP_KEEPCNT
 6

	)

46 
	#TCP_SYNCNT
 7

	)

47 
	#TCP_LINGER2
 8

	)

48 
	#TCP_DEFER_ACCEPT
 9

	)

49 
	#TCP_WINDOW_CLAMP
 10

	)

50 
	#TCP_INFO
 11

	)

51 
	#TCP_QUICKACK
 12

	)

52 
	#TCP_CONGESTION
 13

	)

53 
	#TCP_MD5SIG
 14

	)

54 
	#TCP_COOKIE_TRANSACTIONS
 15

	)

55 
	#TCP_THIN_LINEAR_TIMEOUTS
 16

	)

56 
	#TCP_THIN_DUPACK
 17

	)

57 
	#TCP_USER_TIMEOUT
 18

	)

58 
	#TCP_REPAIR
 19

	)

59 
	#TCP_REPAIR_QUEUE
 20

	)

60 
	#TCP_QUEUE_SEQ
 21

	)

61 
	#TCP_REPAIR_OPTIONS
 22

	)

62 
	#TCP_FASTOPEN
 23

	)

64 #ifde‡
__USE_MISC


65 
	~<sys/ty≥s.h
>

66 
	~<sys/sockë.h
>

68 #ifde‡
__FAVOR_BSD


69 
u_öt32_t
 
	tt˝_£q
;

74 
	st˝hdr


76 
u_öt16_t
 
	mth_•‹t
;

77 
u_öt16_t
 
	mth_dp‹t
;

78 
t˝_£q
 
	mth_£q
;

79 
t˝_£q
 
	mth_ack
;

80 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


81 
u_öt8_t
 
	mth_x2
:4;

82 
u_öt8_t
 
	mth_off
:4;

84 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


85 
u_öt8_t
 
	mth_off
:4;

86 
u_öt8_t
 
	mth_x2
:4;

88 
u_öt8_t
 
	mth_Êags
;

89 
	#TH_FIN
 0x01

	)

90 
	#TH_SYN
 0x02

	)

91 
	#TH_RST
 0x04

	)

92 
	#TH_PUSH
 0x08

	)

93 
	#TH_ACK
 0x10

	)

94 
	#TH_URG
 0x20

	)

95 
u_öt16_t
 
	mth_wö
;

96 
u_öt16_t
 
	mth_sum
;

97 
u_öt16_t
 
	mth_uΩ
;

101 
	st˝hdr


103 
u_öt16_t
 
	msour˚
;

104 
u_öt16_t
 
	mde°
;

105 
u_öt32_t
 
	m£q
;

106 
u_öt32_t
 
	mack_£q
;

107 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


108 
u_öt16_t
 
	mªs1
:4;

109 
u_öt16_t
 
	mdoff
:4;

110 
u_öt16_t
 
	mfö
:1;

111 
u_öt16_t
 
	msyn
:1;

112 
u_öt16_t
 
	mr°
:1;

113 
u_öt16_t
 
	mpsh
:1;

114 
u_öt16_t
 
	mack
:1;

115 
u_öt16_t
 
	murg
:1;

116 
u_öt16_t
 
	mªs2
:2;

117 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


118 
u_öt16_t
 
	mdoff
:4;

119 
u_öt16_t
 
	mªs1
:4;

120 
u_öt16_t
 
	mªs2
:2;

121 
u_öt16_t
 
	murg
:1;

122 
u_öt16_t
 
	mack
:1;

123 
u_öt16_t
 
	mpsh
:1;

124 
u_öt16_t
 
	mr°
:1;

125 
u_öt16_t
 
	msyn
:1;

126 
u_öt16_t
 
	mfö
:1;

130 
u_öt16_t
 
	mwödow
;

131 
u_öt16_t
 
	mcheck
;

132 
u_öt16_t
 
	murg_±r
;

138 
	mTCP_ESTABLISHED
 = 1,

139 
	mTCP_SYN_SENT
,

140 
	mTCP_SYN_RECV
,

141 
	mTCP_FIN_WAIT1
,

142 
	mTCP_FIN_WAIT2
,

143 
	mTCP_TIME_WAIT
,

144 
	mTCP_CLOSE
,

145 
	mTCP_CLOSE_WAIT
,

146 
	mTCP_LAST_ACK
,

147 
	mTCP_LISTEN
,

148 
	mTCP_CLOSING


151 
	#TCPOPT_EOL
 0

	)

152 
	#TCPOPT_NOP
 1

	)

153 
	#TCPOPT_MAXSEG
 2

	)

154 
	#TCPOLEN_MAXSEG
 4

	)

155 
	#TCPOPT_WINDOW
 3

	)

156 
	#TCPOLEN_WINDOW
 3

	)

157 
	#TCPOPT_SACK_PERMITTED
 4

	)

158 
	#TCPOLEN_SACK_PERMITTED
 2

	)

159 
	#TCPOPT_SACK
 5

	)

160 
	#TCPOPT_TIMESTAMP
 8

	)

161 
	#TCPOLEN_TIMESTAMP
 10

	)

162 
	#TCPOLEN_TSTAMP_APPA
 (
TCPOLEN_TIMESTAMP
+2Ë

	)

164 
	#TCPOPT_TSTAMP_HDR
 \

165 (
TCPOPT_NOP
<<24|TCPOPT_NOP<<16|
TCPOPT_TIMESTAMP
<<8|
TCPOLEN_TIMESTAMP
)

	)

173 
	#TCP_MSS
 512

	)

175 
	#TCP_MAXWIN
 65535

	)

177 
	#TCP_MAX_WINSHIFT
 14

	)

179 
	#SOL_TCP
 6

	)

182 
	#TCPI_OPT_TIMESTAMPS
 1

	)

183 
	#TCPI_OPT_SACK
 2

	)

184 
	#TCPI_OPT_WSCALE
 4

	)

185 
	#TCPI_OPT_ECN
 8

	)

186 
	#TCPI_OPT_ECN_SEEN
 16

	)

187 
	#TCPI_OPT_SYN_DATA
 32

	)

190 
	et˝_ˇ_°©e


192 
	mTCP_CA_O≥n
 = 0,

193 
	mTCP_CA_Dis‹dî
 = 1,

194 
	mTCP_CA_CWR
 = 2,

195 
	mTCP_CA_Recovîy
 = 3,

196 
	mTCP_CA_Loss
 = 4

199 
	st˝_öfo


201 
u_öt8_t
 
	mt˝i_°©e
;

202 
u_öt8_t
 
	mt˝i_ˇ_°©e
;

203 
u_öt8_t
 
	mt˝i_ªå™smôs
;

204 
u_öt8_t
 
	mt˝i_¥obes
;

205 
u_öt8_t
 
	mt˝i_backoff
;

206 
u_öt8_t
 
	mt˝i_›ti⁄s
;

207 
u_öt8_t
 
	mt˝i_¢d_wsˇÀ
 : 4, 
	mt˝i_rcv_wsˇÀ
 : 4;

209 
u_öt32_t
 
	mt˝i_πo
;

210 
u_öt32_t
 
	mt˝i_©o
;

211 
u_öt32_t
 
	mt˝i_¢d_mss
;

212 
u_öt32_t
 
	mt˝i_rcv_mss
;

214 
u_öt32_t
 
	mt˝i_u«cked
;

215 
u_öt32_t
 
	mt˝i_ßcked
;

216 
u_öt32_t
 
	mt˝i_lo°
;

217 
u_öt32_t
 
	mt˝i_ªå™s
;

218 
u_öt32_t
 
	mt˝i_Áckës
;

221 
u_öt32_t
 
	mt˝i_œ°_d©a_£¡
;

222 
u_öt32_t
 
	mt˝i_œ°_ack_£¡
;

223 
u_öt32_t
 
	mt˝i_œ°_d©a_ªcv
;

224 
u_öt32_t
 
	mt˝i_œ°_ack_ªcv
;

227 
u_öt32_t
 
	mt˝i_pmtu
;

228 
u_öt32_t
 
	mt˝i_rcv_s°hªsh
;

229 
u_öt32_t
 
	mt˝i_πt
;

230 
u_öt32_t
 
	mt˝i_πtv¨
;

231 
u_öt32_t
 
	mt˝i_¢d_s°hªsh
;

232 
u_öt32_t
 
	mt˝i_¢d_cwnd
;

233 
u_öt32_t
 
	mt˝i_advmss
;

234 
u_öt32_t
 
	mt˝i_ª‹dîög
;

236 
u_öt32_t
 
	mt˝i_rcv_πt
;

237 
u_öt32_t
 
	mt˝i_rcv_•a˚
;

239 
u_öt32_t
 
	mt˝i_tŸÆ_ªå™s
;

244 
	#TCP_MD5SIG_MAXKEYLEN
 80

	)

246 
	st˝_md5sig


248 
sockaddr_°‹age
 
	mt˝m_addr
;

249 
u_öt16_t
 
	m__t˝m_∑d1
;

250 
u_öt16_t
 
	mt˝m_keyÀn
;

251 
u_öt32_t
 
	m__t˝m_∑d2
;

252 
u_öt8_t
 
	mt˝m_key
[
TCP_MD5SIG_MAXKEYLEN
];

256 
	st˝_ª∑ú_›t


258 
u_öt32_t
 
	m›t_code
;

259 
u_öt32_t
 
	m›t_vÆ
;

265 
	mTCP_NO_QUEUE
,

266 
	mTCP_RECV_QUEUE
,

267 
	mTCP_SEND_QUEUE
,

268 
	mTCP_QUEUES_NR
,

272 
	#TCP_COOKIE_MIN
 8

	)

273 
	#TCP_COOKIE_MAX
 16

	)

274 
	#TCP_COOKIE_PAIR_SIZE
 (2*
TCP_COOKIE_MAX
)

	)

277 
	#TCP_COOKIE_IN_ALWAYS
 (1 << 0Ë

	)

278 
	#TCP_COOKIE_OUT_NEVER
 (1 << 1Ë

	)

282 
	#TCP_S_DATA_IN
 (1 << 2Ë

	)

283 
	#TCP_S_DATA_OUT
 (1 << 3Ë

	)

285 
	#TCP_MSS_DEFAULT
 536U

	)

286 
	#TCP_MSS_DESIRED
 1220U

	)

288 
	st˝_cookõ_å™ß˘i⁄s


290 
u_öt16_t
 
	mt˝˘_Êags
;

291 
u_öt8_t
 
	m__t˝˘_∑d1
;

292 
u_öt8_t
 
	mt˝˘_cookõ_desúed
;

293 
u_öt16_t
 
	mt˝˘_s_d©a_desúed
;

294 
u_öt16_t
 
	mt˝˘_u£d
;

295 
u_öt8_t
 
	mt˝˘_vÆue
[
TCP_MSS_DEFAULT
];

	@/usr/include/poll.h

1 
	~<sys/pﬁl.h
>

	@/usr/include/pthread.h

18 #i‚de‡
_PTHREAD_H


19 
	#_PTHREAD_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<ídün.h
>

23 
	~<sched.h
>

24 
	~<time.h
>

26 
	~<bôs/±hªadty≥s.h
>

27 
	~<bôs/£tjmp.h
>

28 
	~<bôs/w‹dsize.h
>

34 
	mPTHREAD_CREATE_JOINABLE
,

35 
	#PTHREAD_CREATE_JOINABLE
 
PTHREAD_CREATE_JOINABLE


	)

36 
	mPTHREAD_CREATE_DETACHED


37 
	#PTHREAD_CREATE_DETACHED
 
PTHREAD_CREATE_DETACHED


	)

44 
	mPTHREAD_MUTEX_TIMED_NP
,

45 
	mPTHREAD_MUTEX_RECURSIVE_NP
,

46 
	mPTHREAD_MUTEX_ERRORCHECK_NP
,

47 
	mPTHREAD_MUTEX_ADAPTIVE_NP


48 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


50 
	mPTHREAD_MUTEX_NORMAL
 = 
PTHREAD_MUTEX_TIMED_NP
,

51 
	mPTHREAD_MUTEX_RECURSIVE
 = 
PTHREAD_MUTEX_RECURSIVE_NP
,

52 
	mPTHREAD_MUTEX_ERRORCHECK
 = 
PTHREAD_MUTEX_ERRORCHECK_NP
,

53 
	mPTHREAD_MUTEX_DEFAULT
 = 
PTHREAD_MUTEX_NORMAL


55 #ifde‡
__USE_GNU


57 , 
	mPTHREAD_MUTEX_FAST_NP
 = 
PTHREAD_MUTEX_TIMED_NP


62 #ifde‡
__USE_XOPEN2K


66 
	mPTHREAD_MUTEX_STALLED
,

67 
	mPTHREAD_MUTEX_STALLED_NP
 = 
PTHREAD_MUTEX_STALLED
,

68 
	mPTHREAD_MUTEX_ROBUST
,

69 
	mPTHREAD_MUTEX_ROBUST_NP
 = 
PTHREAD_MUTEX_ROBUST


74 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


78 
	mPTHREAD_PRIO_NONE
,

79 
	mPTHREAD_PRIO_INHERIT
,

80 
	mPTHREAD_PRIO_PROTECT


86 #ifde‡
__PTHREAD_MUTEX_HAVE_PREV


87 
	#PTHREAD_MUTEX_INITIALIZER
 \

88 { { 0, 0, 0, 0, 0, 0, { 0, 0 } } }

	)

89 #ifde‡
__USE_GNU


90 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

91 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0, 0 } } }

	)

92 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

93 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0, 0 } } }

	)

94 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

95 { { 0, 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0, 0 } } }

	)

98 
	#PTHREAD_MUTEX_INITIALIZER
 \

99 { { 0, 0, 0, 0, 0, { 0 } } }

	)

100 #ifde‡
__USE_GNU


101 
	#PTHREAD_RECURSIVE_MUTEX_INITIALIZER_NP
 \

102 { { 0, 0, 0, 
PTHREAD_MUTEX_RECURSIVE_NP
, 0, { 0 } } }

	)

103 
	#PTHREAD_ERRORCHECK_MUTEX_INITIALIZER_NP
 \

104 { { 0, 0, 0, 
PTHREAD_MUTEX_ERRORCHECK_NP
, 0, { 0 } } }

	)

105 
	#PTHREAD_ADAPTIVE_MUTEX_INITIALIZER_NP
 \

106 { { 0, 0, 0, 
PTHREAD_MUTEX_ADAPTIVE_NP
, 0, { 0 } } }

	)

112 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


115 
	mPTHREAD_RWLOCK_PREFER_READER_NP
,

116 
	mPTHREAD_RWLOCK_PREFER_WRITER_NP
,

117 
	mPTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,

118 
	mPTHREAD_RWLOCK_DEFAULT_NP
 = 
PTHREAD_RWLOCK_PREFER_READER_NP


124 #i‚de‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


125 #i‡
__WORDSIZE
 == 64

126 
	#__PTHREAD_RWLOCK_INT_FLAGS_SHARED
 1

	)

131 
	#PTHREAD_RWLOCK_INITIALIZER
 \

132 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 } }

	)

133 #ifde‡
__USE_GNU


134 #ifde‡
__PTHREAD_RWLOCK_INT_FLAGS_SHARED


135 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

137 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
 } }

	)

139 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


140 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

141 { { 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
, \

142 0, 0, 0, 0 } }

	)

144 
	#PTHREAD_RWLOCK_WRITER_NONRECURSIVE_INITIALIZER_NP
 \

145 { { 0, 0, 0, 0, 0, 0, 0, 0, 0, 
PTHREAD_RWLOCK_PREFER_WRITER_NONRECURSIVE_NP
,\

146 0 } }

	)

156 
	mPTHREAD_INHERIT_SCHED
,

157 
	#PTHREAD_INHERIT_SCHED
 
PTHREAD_INHERIT_SCHED


	)

158 
	mPTHREAD_EXPLICIT_SCHED


159 
	#PTHREAD_EXPLICIT_SCHED
 
PTHREAD_EXPLICIT_SCHED


	)

166 
	mPTHREAD_SCOPE_SYSTEM
,

167 
	#PTHREAD_SCOPE_SYSTEM
 
PTHREAD_SCOPE_SYSTEM


	)

168 
	mPTHREAD_SCOPE_PROCESS


169 
	#PTHREAD_SCOPE_PROCESS
 
PTHREAD_SCOPE_PROCESS


	)

176 
	mPTHREAD_PROCESS_PRIVATE
,

177 
	#PTHREAD_PROCESS_PRIVATE
 
PTHREAD_PROCESS_PRIVATE


	)

178 
	mPTHREAD_PROCESS_SHARED


179 
	#PTHREAD_PROCESS_SHARED
 
PTHREAD_PROCESS_SHARED


	)

185 
	#PTHREAD_COND_INITIALIZER
 { { 0, 0, 0, 0, 0, (*Ë0, 0, 0 } }

	)

189 
	s_±hªad_˛ónup_buf„r


191 (*
	m__routöe
) (*);

192 *
	m__¨g
;

193 
	m__ˇn˚…y≥
;

194 
_±hªad_˛ónup_buf„r
 *
	m__¥ev
;

200 
	mPTHREAD_CANCEL_ENABLE
,

201 
	#PTHREAD_CANCEL_ENABLE
 
PTHREAD_CANCEL_ENABLE


	)

202 
	mPTHREAD_CANCEL_DISABLE


203 
	#PTHREAD_CANCEL_DISABLE
 
PTHREAD_CANCEL_DISABLE


	)

207 
	mPTHREAD_CANCEL_DEFERRED
,

208 
	#PTHREAD_CANCEL_DEFERRED
 
PTHREAD_CANCEL_DEFERRED


	)

209 
	mPTHREAD_CANCEL_ASYNCHRONOUS


210 
	#PTHREAD_CANCEL_ASYNCHRONOUS
 
PTHREAD_CANCEL_ASYNCHRONOUS


	)

212 
	#PTHREAD_CANCELED
 ((*Ë-1)

	)

216 
	#PTHREAD_ONCE_INIT
 0

	)

219 #ifde‡
__USE_XOPEN2K


223 
	#PTHREAD_BARRIER_SERIAL_THREAD
 -1

	)

227 
__BEGIN_DECLS


232 
±hªad_¸óã
 (
±hªad_t
 *
__ª°ri˘
 
__√wthªad
,

233 c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

234 *(*
__°¨t_routöe
) (*),

235 *
__ª°ri˘
 
__¨g
Ë
__THROWNL
 
__n⁄nuŒ
 ((1, 3));

241 
	$±hªad_exô
 (*
__ªtvÆ
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

249 
	`±hªad_joö
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
);

251 #ifde‡
__USE_GNU


254 
	$±hªad_åyjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
Ë
__THROW
;

262 
	`±hªad_timedjoö_≈
 (
±hªad_t
 
__th
, **
__thªad_ªtu∫
,

263 c⁄° 
time•ec
 *
__ab°ime
);

270 
	$±hªad_dëach
 (
±hªad_t
 
__th
Ë
__THROW
;

274 
±hªad_t
 
	$±hªad_£lf
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

277 
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
)

278 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

286 
	$±hªad_©å_öô
 (
±hªad_©å_t
 *
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

289 
	$±hªad_©å_de°roy
 (
±hªad_©å_t
 *
__©å
)

290 
__THROW
 
	`__n⁄nuŒ
 ((1));

293 
	$±hªad_©å_gëdëach°©e
 (c⁄° 
±hªad_©å_t
 *
__©å
,

294 *
__dëach°©e
)

295 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

298 
	$±hªad_©å_£tdëach°©e
 (
±hªad_©å_t
 *
__©å
,

299 
__dëach°©e
)

300 
__THROW
 
	`__n⁄nuŒ
 ((1));

304 
	$±hªad_©å_gëgu¨dsize
 (c⁄° 
±hªad_©å_t
 *
__©å
,

305 
size_t
 *
__gu¨dsize
)

306 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

309 
	$±hªad_©å_£tgu¨dsize
 (
±hªad_©å_t
 *
__©å
,

310 
size_t
 
__gu¨dsize
)

311 
__THROW
 
	`__n⁄nuŒ
 ((1));

315 
	$±hªad_©å_gësched∑øm
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

316 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

317 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

320 
	$±hªad_©å_£tsched∑øm
 (
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

321 c⁄° 
sched_∑øm
 *
__ª°ri˘


322 
__∑øm
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

325 
	$±hªad_©å_gëschedpﬁicy
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


326 
__©å
, *
__ª°ri˘
 
__pﬁicy
)

327 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

330 
	$±hªad_©å_£tschedpﬁicy
 (
±hªad_©å_t
 *
__©å
, 
__pﬁicy
)

331 
__THROW
 
	`__n⁄nuŒ
 ((1));

334 
	$±hªad_©å_gëöhîôsched
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


335 
__©å
, *
__ª°ri˘
 
__öhîô
)

336 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

339 
	$±hªad_©å_£töhîôsched
 (
±hªad_©å_t
 *
__©å
,

340 
__öhîô
)

341 
__THROW
 
	`__n⁄nuŒ
 ((1));

345 
	$±hªad_©å_gësc›e
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

346 *
__ª°ri˘
 
__sc›e
)

347 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

350 
	$±hªad_©å_£tsc›e
 (
±hªad_©å_t
 *
__©å
, 
__sc›e
)

351 
__THROW
 
	`__n⁄nuŒ
 ((1));

354 
	$±hªad_©å_gë°ackaddr
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


355 
__©å
, **
__ª°ri˘
 
__°ackaddr
)

356 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__©åibuã_dïªˇãd__
;

362 
	$±hªad_©å_£t°ackaddr
 (
±hªad_©å_t
 *
__©å
,

363 *
__°ackaddr
)

364 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
;

367 
	$±hªad_©å_gë°acksize
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘


368 
__©å
, 
size_t
 *
__ª°ri˘
 
__°acksize
)

369 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

374 
	$±hªad_©å_£t°acksize
 (
±hªad_©å_t
 *
__©å
,

375 
size_t
 
__°acksize
)

376 
__THROW
 
	`__n⁄nuŒ
 ((1));

378 #ifde‡
__USE_XOPEN2K


380 
	$±hªad_©å_gë°ack
 (c⁄° 
±hªad_©å_t
 *
__ª°ri˘
 
__©å
,

381 **
__ª°ri˘
 
__°ackaddr
,

382 
size_t
 *
__ª°ri˘
 
__°acksize
)

383 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

388 
	$±hªad_©å_£t°ack
 (
±hªad_©å_t
 *
__©å
, *
__°ackaddr
,

389 
size_t
 
__°acksize
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

392 #ifde‡
__USE_GNU


395 
	$±hªad_©å_£èfföôy_≈
 (
±hªad_©å_t
 *
__©å
,

396 
size_t
 
__˝u£tsize
,

397 c⁄° 
˝u_£t_t
 *
__˝u£t
)

398 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

402 
	$±hªad_©å_gëafföôy_≈
 (c⁄° 
±hªad_©å_t
 *
__©å
,

403 
size_t
 
__˝u£tsize
,

404 
˝u_£t_t
 *
__˝u£t
)

405 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

411 
	$±hªad_gë©å_≈
 (
±hªad_t
 
__th
, 
±hªad_©å_t
 *
__©å
)

412 
__THROW
 
	`__n⁄nuŒ
 ((2));

420 
	$±hªad_£tsched∑øm
 (
±hªad_t
 
__èrgë_thªad
, 
__pﬁicy
,

421 c⁄° 
sched_∑øm
 *
__∑øm
)

422 
__THROW
 
	`__n⁄nuŒ
 ((3));

425 
	$±hªad_gësched∑øm
 (
±hªad_t
 
__èrgë_thªad
,

426 *
__ª°ri˘
 
__pﬁicy
,

427 
sched_∑øm
 *
__ª°ri˘
 
__∑øm
)

428 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

431 
	$±hªad_£tsched¥io
 (
±hªad_t
 
__èrgë_thªad
, 
__¥io
)

432 
__THROW
;

435 #ifde‡
__USE_GNU


437 
	$±hªad_gë«me_≈
 (
±hªad_t
 
__èrgë_thªad
, *
__buf
,

438 
size_t
 
__buÊí
)

439 
__THROW
 
	`__n⁄nuŒ
 ((2));

442 
	$±hªad_£äame_≈
 (
±hªad_t
 
__èrgë_thªad
, c⁄° *
__«me
)

443 
__THROW
 
	`__n⁄nuŒ
 ((2));

447 #ifde‡
__USE_UNIX98


449 
	$±hªad_gëc⁄cuºícy
 (Ë
__THROW
;

452 
	$±hªad_£tc⁄cuºícy
 (
__Àvñ
Ë
__THROW
;

455 #ifde‡
__USE_GNU


460 
	$±hªad_yõld
 (Ë
__THROW
;

465 
	$±hªad_£èfföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

466 c⁄° 
˝u_£t_t
 *
__˝u£t
)

467 
__THROW
 
	`__n⁄nuŒ
 ((3));

470 
	$±hªad_gëafföôy_≈
 (
±hªad_t
 
__th
, 
size_t
 
__˝u£tsize
,

471 
˝u_£t_t
 *
__˝u£t
)

472 
__THROW
 
	`__n⁄nuŒ
 ((3));

485 
	`±hªad_⁄˚
 (
±hªad_⁄˚_t
 *
__⁄˚_c⁄åﬁ
,

486 (*
__öô_routöe
Ë()Ë
	`__n⁄nuŒ
 ((1, 2));

497 
	`±hªad_£tˇn˚l°©e
 (
__°©e
, *
__ﬁd°©e
);

501 
	`±hªad_£tˇn˚…y≥
 (
__ty≥
, *
__ﬁdty≥
);

504 
	`±hªad_ˇn˚l
 (
±hªad_t
 
__th
);

509 
	`±hªad_ã°ˇn˚l
 ();

518 
__jmp_buf
 
__ˇn˚l_jmp_buf
;

519 
__mask_was_ßved
;

520 } 
__ˇn˚l_jmp_buf
[1];

521 *
__∑d
[4];

522 } 
	t__±hªad_unwöd_buf_t
 
	t__©åibuã__
 ((
	t__Æig√d__
));

525 #i‚de‡
__˛ónup_f˘_©åibuã


526 
	#__˛ónup_f˘_©åibuã


	)

531 
	s__±hªad_˛ónup_‰ame


533 (*
__ˇn˚l_routöe
) (*);

534 *
__ˇn˚l_¨g
;

535 
__do_ô
;

536 
__ˇn˚l_ty≥
;

539 #i‡
deföed
 
__GNUC__
 && deföed 
__EXCEPTIONS


540 #ifde‡
__˝lu•lus


542 ˛as†
	c__±hªad_˛ónup_˛ass


544 (*
__ˇn˚l_routöe
) (*);

545 *
__ˇn˚l_¨g
;

546 
__do_ô
;

547 
__ˇn˚l_ty≥
;

549 
public
:

550 
	`__±hªad_˛ónup_˛ass
 ((*
__f˘
Ë(*), *
__¨g
)

551 : 
	`__ˇn˚l_routöe
 (
__f˘
), 
	`__ˇn˚l_¨g
 (
__¨g
), 
	$__do_ô
 (1) { }

552 ~
	$__±hªad_˛ónup_˛ass
 (Ë{ i‡(
__do_ô
Ë
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); 
	}
}

553 
	$__£tdoô
 (
__√wvÆ
Ë{ 
__do_ô
 = __√wvÆ; 
	}
}

554 
	$__de„r
 (Ë{ 
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
,

555 &
__ˇn˚l_ty≥
); 
	}
}

556 
	$__ª°‹e
 (Ëc⁄° { 
	`±hªad_£tˇn˚…y≥
 (
__ˇn˚l_ty≥
, 0); 
	}
}

566 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

568 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
)

	)

572 
	#±hªad_˛ónup_p›
(
execuã
) \

573 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

574 } 0)

	)

576 #ifde‡
__USE_GNU


580 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

582 
__±hªad_˛ónup_˛ass
 
	`__˛‰ame
 (
routöe
, 
¨g
); \

583 
__˛‰ame
.
	`__de„r
 ()

	)

588 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

589 
__˛‰ame
.
	`__ª°‹e
 (); \

590 
__˛‰ame
.
	`__£tdoô
 (
execuã
); \

591 } 0)

	)

598 
__exã∫_ölöe
 

599 
	$__±hªad_˛ónup_routöe
 (
__±hªad_˛ónup_‰ame
 *
__‰ame
)

601 i‡(
__‰ame
->
__do_ô
)

602 
__‰ame
->
	`__ˇn˚l_routöe
 (__‰ame->
__ˇn˚l_¨g
);

603 
	}
}

612 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

614 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

615 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

616 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

617 .
__do_ô
 = 1 };

	)

621 
	#±hªad_˛ónup_p›
(
execuã
) \

622 
__˛‰ame
.
__do_ô
 = (
execuã
); \

623 } 0)

	)

625 #ifde‡
__USE_GNU


629 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

631 
__±hªad_˛ónup_‰ame
 
__˛‰ame
 \

632 
	`__©åibuã__
 ((
	`__˛ónup__
 (
__±hªad_˛ónup_routöe
))) \

633 { .
__ˇn˚l_routöe
 = (
routöe
), .
__ˇn˚l_¨g
 = (
¨g
), \

634 .
__do_ô
 = 1 }; \

635 (Ë
	`±hªad_£tˇn˚…y≥
 (
PTHREAD_CANCEL_DEFERRED
, \

636 &
__˛‰ame
.
__ˇn˚l_ty≥
)

	)

641 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

642 (Ë
	`±hªad_£tˇn˚…y≥
 (
__˛‰ame
.
__ˇn˚l_ty≥
, 
NULL
); \

643 
__˛‰ame
.
__do_ô
 = (
execuã
); \

644 } 0)

	)

655 
	#±hªad_˛ónup_push
(
routöe
, 
¨g
) \

657 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

658 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

659 *
__ˇn˚l_¨g
 = (
¨g
); \

660 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

661 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

662 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

664 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

665 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

669 
	`__±hªad_ªgi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

670 dÿ{

	)

671 
__±hªad_ªgi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

672 
__˛ónup_f˘_©åibuã
;

676 
	#±hªad_˛ónup_p›
(
execuã
) \

679 
	`__±hªad_uƒegi°î_ˇn˚l
 (&
__ˇn˚l_buf
); \

680 i‡(
execuã
) \

681 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

682 } 0)

	)

683 
	$__±hªad_uƒegi°î_ˇn˚l
 (
__±hªad_unwöd_buf_t
 *
__buf
)

684 
__˛ónup_f˘_©åibuã
;

686 #ifde‡
__USE_GNU


690 
	#±hªad_˛ónup_push_de„r_≈
(
routöe
, 
¨g
) \

692 
__±hªad_unwöd_buf_t
 
__ˇn˚l_buf
; \

693 (*
__ˇn˚l_routöe
Ë(*Ë(
routöe
); \

694 *
__ˇn˚l_¨g
 = (
¨g
); \

695 
__nŸ_fú°_ˇŒ
 = 
	`__sig£tjmp
 ((
__jmp_buf_èg
 *) (*) \

696 
__ˇn˚l_buf
.
__ˇn˚l_jmp_buf
, 0); \

697 i‡(
	`__glibc_u∆ikñy
 (
__nŸ_fú°_ˇŒ
)) \

699 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

700 
	`__±hªad_unwöd_√xt
 (&
__ˇn˚l_buf
); \

704 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (&
__ˇn˚l_buf
); \

705 dÿ{

	)

706 
	`__±hªad_ªgi°î_ˇn˚l_de„r
 (
__±hªad_unwöd_buf_t
 *
__buf
)

707 
__˛ónup_f˘_©åibuã
;

712 
	#±hªad_˛ónup_p›_ª°‹e_≈
(
execuã
) \

715 
	`__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (&
__ˇn˚l_buf
); \

716 i‡(
execuã
) \

717 
	`__ˇn˚l_routöe
 (
__ˇn˚l_¨g
); \

718 
	}
} 0)

	)

719 
	$__±hªad_uƒegi°î_ˇn˚l_ª°‹e
 (
__±hªad_unwöd_buf_t
 *
__buf
)

720 
__˛ónup_f˘_©åibuã
;

724 
	$__±hªad_unwöd_√xt
 (
__±hªad_unwöd_buf_t
 *
__buf
)

725 
__˛ónup_f˘_©åibuã
 
	`__©åibuã__
 ((
__n‹ëu∫__
))

726 #i‚de‡
SHARED


727 
	`__©åibuã__
 ((
__wók__
))

733 
__jmp_buf_èg
;

734 
	$__sig£tjmp
 (
__jmp_buf_èg
 *
__ív
, 
__ßvemask
Ë
__THROWNL
;

740 
	$±hªad_muãx_öô
 (
±hªad_muãx_t
 *
__muãx
,

741 c⁄° 
±hªad_muãx©å_t
 *
__muãx©å
)

742 
__THROW
 
	`__n⁄nuŒ
 ((1));

745 
	$±hªad_muãx_de°roy
 (
±hªad_muãx_t
 *
__muãx
)

746 
__THROW
 
	`__n⁄nuŒ
 ((1));

749 
	$±hªad_muãx_åylock
 (
±hªad_muãx_t
 *
__muãx
)

750 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

753 
	$±hªad_muãx_lock
 (
±hªad_muãx_t
 *
__muãx
)

754 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

756 #ifde‡
__USE_XOPEN2K


758 
	$±hªad_muãx_timedlock
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

759 c⁄° 
time•ec
 *
__ª°ri˘


760 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

764 
	$±hªad_muãx_u∆ock
 (
±hªad_muãx_t
 *
__muãx
)

765 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

769 
	$±hªad_muãx_gë¥io˚ûög
 (c⁄° 
±hªad_muãx_t
 *

770 
__ª°ri˘
 
__muãx
,

771 *
__ª°ri˘
 
__¥io˚ûög
)

772 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

776 
	$±hªad_muãx_£çrio˚ûög
 (
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

777 
__¥io˚ûög
,

778 *
__ª°ri˘
 
__ﬁd_˚ûög
)

779 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

782 #ifde‡
__USE_XOPEN2K8


784 
	$±hªad_muãx_c⁄si°ít
 (
±hªad_muãx_t
 *
__muãx
)

785 
__THROW
 
	`__n⁄nuŒ
 ((1));

786 #ifde‡
__USE_GNU


787 
	$±hªad_muãx_c⁄si°ít_≈
 (
±hªad_muãx_t
 *
__muãx
)

788 
__THROW
 
	`__n⁄nuŒ
 ((1));

797 
	$±hªad_muãx©å_öô
 (
±hªad_muãx©å_t
 *
__©å
)

798 
__THROW
 
	`__n⁄nuŒ
 ((1));

801 
	$±hªad_muãx©å_de°roy
 (
±hªad_muãx©å_t
 *
__©å
)

802 
__THROW
 
	`__n⁄nuŒ
 ((1));

805 
	$±hªad_muãx©å_gëpsh¨ed
 (c⁄° 
±hªad_muãx©å_t
 *

806 
__ª°ri˘
 
__©å
,

807 *
__ª°ri˘
 
__psh¨ed
)

808 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

811 
	$±hªad_muãx©å_£çsh¨ed
 (
±hªad_muãx©å_t
 *
__©å
,

812 
__psh¨ed
)

813 
__THROW
 
	`__n⁄nuŒ
 ((1));

815 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


817 
	$±hªad_muãx©å_gëty≥
 (c⁄° 
±hªad_muãx©å_t
 *
__ª°ri˘


818 
__©å
, *
__ª°ri˘
 
__köd
)

819 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

824 
	$±hªad_muãx©å_£ây≥
 (
±hªad_muãx©å_t
 *
__©å
, 
__köd
)

825 
__THROW
 
	`__n⁄nuŒ
 ((1));

829 
	$±hªad_muãx©å_gë¥Ÿocﬁ
 (c⁄° 
±hªad_muãx©å_t
 *

830 
__ª°ri˘
 
__©å
,

831 *
__ª°ri˘
 
__¥Ÿocﬁ
)

832 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

836 
	$±hªad_muãx©å_£çrŸocﬁ
 (
±hªad_muãx©å_t
 *
__©å
,

837 
__¥Ÿocﬁ
)

838 
__THROW
 
	`__n⁄nuŒ
 ((1));

841 
	$±hªad_muãx©å_gë¥io˚ûög
 (c⁄° 
±hªad_muãx©å_t
 *

842 
__ª°ri˘
 
__©å
,

843 *
__ª°ri˘
 
__¥io˚ûög
)

844 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

847 
	$±hªad_muãx©å_£çrio˚ûög
 (
±hªad_muãx©å_t
 *
__©å
,

848 
__¥io˚ûög
)

849 
__THROW
 
	`__n⁄nuŒ
 ((1));

851 #ifde‡
__USE_XOPEN2K


853 
	$±hªad_muãx©å_gërobu°
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

854 *
__robu°√ss
)

855 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

856 #ifde‡
__USE_GNU


857 
	$±hªad_muãx©å_gërobu°_≈
 (c⁄° 
±hªad_muãx©å_t
 *
__©å
,

858 *
__robu°√ss
)

859 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

863 
	$±hªad_muãx©å_£åobu°
 (
±hªad_muãx©å_t
 *
__©å
,

864 
__robu°√ss
)

865 
__THROW
 
	`__n⁄nuŒ
 ((1));

866 #ifde‡
__USE_GNU


867 
	$±hªad_muãx©å_£åobu°_≈
 (
±hªad_muãx©å_t
 *
__©å
,

868 
__robu°√ss
)

869 
__THROW
 
	`__n⁄nuŒ
 ((1));

874 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


879 
	$±hªad_rwlock_öô
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

880 c⁄° 
±hªad_rwlock©å_t
 *
__ª°ri˘


881 
__©å
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

884 
	$±hªad_rwlock_de°roy
 (
±hªad_rwlock_t
 *
__rwlock
)

885 
__THROW
 
	`__n⁄nuŒ
 ((1));

888 
	$±hªad_rwlock_rdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

889 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

892 
	$±hªad_rwlock_åyrdlock
 (
±hªad_rwlock_t
 *
__rwlock
)

893 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

895 #ifde‡
__USE_XOPEN2K


897 
	$±hªad_rwlock_timedrdlock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

898 c⁄° 
time•ec
 *
__ª°ri˘


899 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

903 
	$±hªad_rwlock_wæock
 (
±hªad_rwlock_t
 *
__rwlock
)

904 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

907 
	$±hªad_rwlock_åywæock
 (
±hªad_rwlock_t
 *
__rwlock
)

908 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

910 #ifde‡
__USE_XOPEN2K


912 
	$±hªad_rwlock_timedwæock
 (
±hªad_rwlock_t
 *
__ª°ri˘
 
__rwlock
,

913 c⁄° 
time•ec
 *
__ª°ri˘


914 
__ab°ime
Ë
__THROWNL
 
	`__n⁄nuŒ
 ((1, 2));

918 
	$±hªad_rwlock_u∆ock
 (
±hªad_rwlock_t
 *
__rwlock
)

919 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

925 
	$±hªad_rwlock©å_öô
 (
±hªad_rwlock©å_t
 *
__©å
)

926 
__THROW
 
	`__n⁄nuŒ
 ((1));

929 
	$±hªad_rwlock©å_de°roy
 (
±hªad_rwlock©å_t
 *
__©å
)

930 
__THROW
 
	`__n⁄nuŒ
 ((1));

933 
	$±hªad_rwlock©å_gëpsh¨ed
 (c⁄° 
±hªad_rwlock©å_t
 *

934 
__ª°ri˘
 
__©å
,

935 *
__ª°ri˘
 
__psh¨ed
)

936 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

939 
	$±hªad_rwlock©å_£çsh¨ed
 (
±hªad_rwlock©å_t
 *
__©å
,

940 
__psh¨ed
)

941 
__THROW
 
	`__n⁄nuŒ
 ((1));

944 
	$±hªad_rwlock©å_gëköd_≈
 (c⁄° 
±hªad_rwlock©å_t
 *

945 
__ª°ri˘
 
__©å
,

946 *
__ª°ri˘
 
__¥ef
)

947 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

950 
	$±hªad_rwlock©å_£tköd_≈
 (
±hªad_rwlock©å_t
 *
__©å
,

951 
__¥ef
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

959 
	$±hªad_c⁄d_öô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

960 c⁄° 
±hªad_c⁄d©å_t
 *
__ª°ri˘
 
__c⁄d_©å
)

961 
__THROW
 
	`__n⁄nuŒ
 ((1));

964 
	$±hªad_c⁄d_de°roy
 (
±hªad_c⁄d_t
 *
__c⁄d
)

965 
__THROW
 
	`__n⁄nuŒ
 ((1));

968 
	$±hªad_c⁄d_sig«l
 (
±hªad_c⁄d_t
 *
__c⁄d
)

969 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

972 
	$±hªad_c⁄d_brﬂdˇ°
 (
±hªad_c⁄d_t
 *
__c⁄d
)

973 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

980 
	$±hªad_c⁄d_waô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

981 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
)

982 
	`__n⁄nuŒ
 ((1, 2));

991 
	$±hªad_c⁄d_timedwaô
 (
±hªad_c⁄d_t
 *
__ª°ri˘
 
__c⁄d
,

992 
±hªad_muãx_t
 *
__ª°ri˘
 
__muãx
,

993 c⁄° 
time•ec
 *
__ª°ri˘
 
__ab°ime
)

994 
	`__n⁄nuŒ
 ((1, 2, 3));

999 
	$±hªad_c⁄d©å_öô
 (
±hªad_c⁄d©å_t
 *
__©å
)

1000 
__THROW
 
	`__n⁄nuŒ
 ((1));

1003 
	$±hªad_c⁄d©å_de°roy
 (
±hªad_c⁄d©å_t
 *
__©å
)

1004 
__THROW
 
	`__n⁄nuŒ
 ((1));

1007 
	$±hªad_c⁄d©å_gëpsh¨ed
 (c⁄° 
±hªad_c⁄d©å_t
 *

1008 
__ª°ri˘
 
__©å
,

1009 *
__ª°ri˘
 
__psh¨ed
)

1010 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1013 
	$±hªad_c⁄d©å_£çsh¨ed
 (
±hªad_c⁄d©å_t
 *
__©å
,

1014 
__psh¨ed
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1016 #ifde‡
__USE_XOPEN2K


1018 
	$±hªad_c⁄d©å_gë˛ock
 (c⁄° 
±hªad_c⁄d©å_t
 *

1019 
__ª°ri˘
 
__©å
,

1020 
__˛ockid_t
 *
__ª°ri˘
 
__˛ock_id
)

1021 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1024 
	$±hªad_c⁄d©å_£t˛ock
 (
±hªad_c⁄d©å_t
 *
__©å
,

1025 
__˛ockid_t
 
__˛ock_id
)

1026 
__THROW
 
	`__n⁄nuŒ
 ((1));

1030 #ifde‡
__USE_XOPEN2K


1035 
	$±hªad_•ö_öô
 (
±hªad_•ölock_t
 *
__lock
, 
__psh¨ed
)

1036 
__THROW
 
	`__n⁄nuŒ
 ((1));

1039 
	$±hªad_•ö_de°roy
 (
±hªad_•ölock_t
 *
__lock
)

1040 
__THROW
 
	`__n⁄nuŒ
 ((1));

1043 
	$±hªad_•ö_lock
 (
±hªad_•ölock_t
 *
__lock
)

1044 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1047 
	$±hªad_•ö_åylock
 (
±hªad_•ölock_t
 *
__lock
)

1048 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1051 
	$±hªad_•ö_u∆ock
 (
±hªad_•ölock_t
 *
__lock
)

1052 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1059 
	$±hªad_b¨rõr_öô
 (
±hªad_b¨rõr_t
 *
__ª°ri˘
 
__b¨rõr
,

1060 c⁄° 
±hªad_b¨rõøâr_t
 *
__ª°ri˘


1061 
__©å
, 
__cou¡
)

1062 
__THROW
 
	`__n⁄nuŒ
 ((1));

1065 
	$±hªad_b¨rõr_de°roy
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1066 
__THROW
 
	`__n⁄nuŒ
 ((1));

1069 
	$±hªad_b¨rõr_waô
 (
±hªad_b¨rõr_t
 *
__b¨rõr
)

1070 
__THROWNL
 
	`__n⁄nuŒ
 ((1));

1074 
	$±hªad_b¨rõøâr_öô
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1075 
__THROW
 
	`__n⁄nuŒ
 ((1));

1078 
	$±hªad_b¨rõøâr_de°roy
 (
±hªad_b¨rõøâr_t
 *
__©å
)

1079 
__THROW
 
	`__n⁄nuŒ
 ((1));

1082 
	$±hªad_b¨rõøâr_gëpsh¨ed
 (c⁄° 
±hªad_b¨rõøâr_t
 *

1083 
__ª°ri˘
 
__©å
,

1084 *
__ª°ri˘
 
__psh¨ed
)

1085 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1088 
	$±hªad_b¨rõøâr_£çsh¨ed
 (
±hªad_b¨rõøâr_t
 *
__©å
,

1089 
__psh¨ed
)

1090 
__THROW
 
	`__n⁄nuŒ
 ((1));

1102 
	`±hªad_key_¸óã
 (
±hªad_key_t
 *
__key
,

1103 (*
__de°r_fun˘i⁄
) (*))

1104 
__THROW
 
	`__n⁄nuŒ
 ((1));

1107 
	$±hªad_key_dñëe
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1110 *
	$±hªad_gë•ecific
 (
±hªad_key_t
 
__key
Ë
__THROW
;

1113 
	$±hªad_£t•ecific
 (
±hªad_key_t
 
__key
,

1114 c⁄° *
__poöãr
Ë
__THROW
 ;

1117 #ifde‡
__USE_XOPEN2K


1119 
	$±hªad_gë˝u˛ockid
 (
±hªad_t
 
__thªad_id
,

1120 
__˛ockid_t
 *
__˛ock_id
)

1121 
__THROW
 
	`__n⁄nuŒ
 ((2));

1136 
	`±hªad_©f‹k
 ((*
__¥ï¨e
) (),

1137 (*
__∑ª¡
) (),

1138 (*
__chûd
Ë()Ë
__THROW
;

1141 #ifde‡
__USE_EXTERN_INLINES


1143 
__exã∫_ölöe
 

1144 
	`__NTH
 (
	$±hªad_equÆ
 (
±hªad_t
 
__thªad1
,Öthªad_à
__thªad2
))

1146  
__thªad1
 =
__thªad2
;

1147 
	}
}

1150 
	g__END_DECLS


	@/usr/include/pwd.h

23 #i‚def 
_PWD_H


24 
	#_PWD_H
 1

	)

26 
	~<„©uªs.h
>

28 
	g__BEGIN_DECLS


30 
	~<bôs/ty≥s.h
>

32 
	#__√ed_size_t


	)

33 
	~<°ddef.h
>

35 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


38 #i‚de‡
__gid_t_deföed


39 
__gid_t
 
	tgid_t
;

40 
	#__gid_t_deföed


	)

43 #i‚de‡
__uid_t_deföed


44 
__uid_t
 
	tuid_t
;

45 
	#__uid_t_deföed


	)

50 
	s∑sswd


52 *
	mpw_«me
;

53 *
	mpw_∑sswd
;

54 
__uid_t
 
	mpw_uid
;

55 
__gid_t
 
	mpw_gid
;

56 *
	mpw_gecos
;

57 *
	mpw_dú
;

58 *
	mpw_shñl
;

62 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_GNU


63 
	#__√ed_FILE


	)

64 
	~<°dio.h
>

68 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED


73 
£çwít
 ();

79 
ídpwít
 ();

85 
∑sswd
 *
gëpwít
 ();

88 #ifdef 
__USE_SVID


95 
∑sswd
 *
fgëpwít
 (
FILE
 *
__°ªam
);

103 
puçwít
 (c⁄° 
∑sswd
 *
__ª°ri˘
 
__p
,

104 
FILE
 *
__ª°ri˘
 
__f
);

111 
∑sswd
 *
gëpwuid
 (
__uid_t
 
__uid
);

117 
∑sswd
 *
gëpw«m
 (c⁄° *
__«me
);

119 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


121 #ifde‡
__USE_MISC


124 
	#NSS_BUFLEN_PASSWD
 1024

	)

135 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC


140 
gëpwít_r
 (
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

141 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

142 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

145 
gëpwuid_r
 (
__uid_t
 
__uid
,

146 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

147 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

148 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

150 
gëpw«m_r
 (c⁄° *
__ª°ri˘
 
__«me
,

151 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

152 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

153 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

156 #ifdef 
__USE_SVID


164 
fgëpwít_r
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

165 
∑sswd
 *
__ª°ri˘
 
__ªsu…buf
,

166 *
__ª°ri˘
 
__buf„r
, 
size_t
 
__buÊí
,

167 
∑sswd
 **
__ª°ri˘
 
__ªsu…
);

172 #ifde‡
__USE_GNU


181 
gëpw
 (
__uid_t
 
__uid
, *
__buf„r
);

184 
	g__END_DECLS


	@/usr/include/sched.h

20 #i‚def 
_SCHED_H


21 
	#_SCHED_H
 1

	)

23 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

31 
	#__√ed_time_t


	)

32 
	#__√ed_time•ec


	)

33 
	~<time.h
>

35 #i‚de‡
__pid_t_deföed


36 
__pid_t
 
	tpid_t
;

37 
	#__pid_t_deföed


	)

42 
	~<bôs/sched.h
>

44 
	#sched_¥i‹ôy
 
__sched_¥i‹ôy


	)

47 
__BEGIN_DECLS


50 
	$sched_£ç¨am
 (
__pid_t
 
__pid
, c⁄° 
sched_∑øm
 *
__∑øm
)

51 
__THROW
;

54 
	$sched_gë∑øm
 (
__pid_t
 
__pid
, 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

57 
	$sched_£tscheduÀr
 (
__pid_t
 
__pid
, 
__pﬁicy
,

58 c⁄° 
sched_∑øm
 *
__∑øm
Ë
__THROW
;

61 
	$sched_gëscheduÀr
 (
__pid_t
 
__pid
Ë
__THROW
;

64 
	$sched_yõld
 (Ë
__THROW
;

67 
	$sched_gë_¥i‹ôy_max
 (
__Æg‹ôhm
Ë
__THROW
;

70 
	$sched_gë_¥i‹ôy_mö
 (
__Æg‹ôhm
Ë
__THROW
;

73 
	$sched_º_gë_öãrvÆ
 (
__pid_t
 
__pid
, 
time•ec
 *
__t
Ë
__THROW
;

76 #ifde‡
__USE_GNU


78 
	#CPU_SETSIZE
 
__CPU_SETSIZE


	)

79 
	#CPU_SET
(
˝u
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

80 
	#CPU_CLR
(
˝u
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u,  (
˝u_£t_t
), cpu£ç)

	)

81 
	#CPU_ISSET
(
˝u
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (˝u,  (
˝u_£t_t
), \

82 
˝u£ç
)

	)

83 
	#CPU_ZERO
(
˝u£ç
Ë
	`__CPU_ZERO_S
 ( (
˝u_£t_t
), cpu£ç)

	)

84 
	#CPU_COUNT
(
˝u£ç
Ë
	`__CPU_COUNT_S
 ( (
˝u_£t_t
), cpu£ç)

	)

86 
	#CPU_SET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_SET_S
 (˝u, sësize, cpu£ç)

	)

87 
	#CPU_CLR_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_CLR_S
 (˝u, sësize, cpu£ç)

	)

88 
	#CPU_ISSET_S
(
˝u
, 
£tsize
, 
˝u£ç
Ë
	`__CPU_ISSET_S
 (cpu, setsize, \

89 
˝u£ç
)

	)

90 
	#CPU_ZERO_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_ZERO_S
 (£tsize, cpu£ç)

	)

91 
	#CPU_COUNT_S
(
£tsize
, 
˝u£ç
Ë
	`__CPU_COUNT_S
 (£tsize, cpu£ç)

	)

93 
	#CPU_EQUAL
(
˝u£ç1
, 
˝u£ç2
) \

94 
	`__CPU_EQUAL_S
 ( (
˝u_£t_t
), 
˝u£ç1
, 
˝u£ç2
)

	)

95 
	#CPU_EQUAL_S
(
£tsize
, 
˝u£ç1
, 
˝u£ç2
) \

96 
	`__CPU_EQUAL_S
 (
£tsize
, 
˝u£ç1
, 
˝u£ç2
)

	)

98 
	#CPU_AND
(
de°£t
, 
§c£t1
, 
§c£t2
) \

99 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

100 
	#CPU_OR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

101 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

102 
	#CPU_XOR
(
de°£t
, 
§c£t1
, 
§c£t2
) \

103 
	`__CPU_OP_S
 ( (
˝u_£t_t
), 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

104 
	#CPU_AND_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

105 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, &)

	)

106 
	#CPU_OR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

107 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, |)

	)

108 
	#CPU_XOR_S
(
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
) \

109 
	`__CPU_OP_S
 (
£tsize
, 
de°£t
, 
§c£t1
, 
§c£t2
, ^)

	)

111 
	#CPU_ALLOC_SIZE
(
cou¡
Ë
	`__CPU_ALLOC_SIZE
 (cou¡)

	)

112 
	#CPU_ALLOC
(
cou¡
Ë
	`__CPU_ALLOC
 (cou¡)

	)

113 
	#CPU_FREE
(
˝u£t
Ë
	`__CPU_FREE
 (˝u£t)

	)

117 
	$sched_£èfföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

118 c⁄° 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

121 
	$sched_gëafföôy
 (
__pid_t
 
__pid
, 
size_t
 
__˝u£tsize
,

122 
˝u_£t_t
 *
__˝u£t
Ë
__THROW
;

125 
__END_DECLS


	@/usr/include/semaphore.h

18 #i‚de‡
_SEMAPHORE_H


19 
	#_SEMAPHORE_H
 1

	)

21 
	~<„©uªs.h
>

22 
	~<sys/ty≥s.h
>

23 #ifde‡
__USE_XOPEN2K


24 
	#__√ed_time•ec


	)

25 
	~<time.h
>

29 
	~<bôs/£m≠h‹e.h
>

32 
__BEGIN_DECLS


36 
	$£m_öô
 (
£m_t
 *
__£m
, 
__psh¨ed
, 
__vÆue
)

37 
__THROW
;

39 
	$£m_de°roy
 (
£m_t
 *
__£m
Ë
__THROW
;

42 
£m_t
 *
	$£m_›í
 (c⁄° *
__«me
, 
__oÊag
, ...Ë
__THROW
;

45 
	$£m_˛o£
 (
£m_t
 *
__£m
Ë
__THROW
;

48 
	$£m_u∆ök
 (c⁄° *
__«me
Ë
__THROW
;

54 
	`£m_waô
 (
£m_t
 *
__£m
);

56 #ifde‡
__USE_XOPEN2K


61 
	`£m_timedwaô
 (
£m_t
 *
__ª°ri˘
 
__£m
,

62 c⁄° 
time•ec
 *
__ª°ri˘
 
__ab°ime
);

66 
	$£m_åywaô
 (
£m_t
 *
__£m
Ë
__THROWNL
;

69 
	$£m_po°
 (
£m_t
 *
__£m
Ë
__THROWNL
;

72 
	$£m_gëvÆue
 (
£m_t
 *
__ª°ri˘
 
__£m
, *__ª°ri˘ 
__svÆ
)

73 
__THROW
;

76 
__END_DECLS


	@/usr/include/signal.h

22 #i‚def 
_SIGNAL_H


24 #i‡!
deföed
 
__√ed_sig_©omic_t
 && !deföed 
__√ed_sig£t_t


25 
	#_SIGNAL_H


	)

28 
	~<„©uªs.h
>

30 
	g__BEGIN_DECLS


32 
	~<bôs/sig£t.h
>

36 #i‡
deföed
 
__√ed_sig_©omic_t
 || deföed 
_SIGNAL_H


37 #i‚de‡
__sig_©omic_t_deföed


38 
	#__sig_©omic_t_deföed


	)

39 
__BEGIN_NAMESPACE_STD


40 
__sig_©omic_t
 
	tsig_©omic_t
;

41 
	g__END_NAMESPACE_STD


43 #unde‡
__√ed_sig_©omic_t


46 #i‡
deföed
 
__√ed_sig£t_t
 || (deföed 
_SIGNAL_H
 && deföed 
__USE_POSIX
)

47 #i‚de‡
__sig£t_t_deföed


48 
	#__sig£t_t_deföed


	)

49 
__sig£t_t
 
	tsig£t_t
;

51 #unde‡
__√ed_sig£t_t


54 #ifde‡
_SIGNAL_H


56 
	~<bôs/ty≥s.h
>

57 
	~<bôs/signum.h
>

59 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


60 #i‚de‡
__pid_t_deföed


61 
__pid_t
 
	tpid_t
;

62 
	#__pid_t_deföed


	)

64 #ifde‡
__USE_XOPEN


66 #i‚de‡
__uid_t_deföed


67 
__uid_t
 
	tuid_t
;

68 
	#__uid_t_deföed


	)

72 #ifde‡
__USE_POSIX199309


74 
	#__√ed_time•ec


	)

75 
	~<time.h
>

78 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_XOPEN_EXTENDED


80 
	~<bôs/sigöfo.h
>

85 (*
	t__sigh™dÀr_t
) ();

90 
__sigh™dÀr_t
 
	$__sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

91 
__THROW
;

92 #ifde‡
__USE_GNU


93 
__sigh™dÀr_t
 
	$sysv_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

94 
__THROW
;

100 
__BEGIN_NAMESPACE_STD


101 #ifde‡
__USE_BSD


102 
__sigh™dÀr_t
 
	$sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

103 
__THROW
;

106 #ifde‡
__REDIRECT_NTH


107 
__sigh™dÀr_t
 
	`__REDIRECT_NTH
 (
sig«l
,

108 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
),

109 
__sysv_sig«l
);

111 
	#sig«l
 
__sysv_sig«l


	)

114 
__END_NAMESPACE_STD


116 #ifde‡
__USE_XOPEN


119 
__sigh™dÀr_t
 
	$bsd_sig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

120 
__THROW
;

126 #ifde‡
__USE_POSIX


127 
	$kûl
 (
__pid_t
 
__pid
, 
__sig
Ë
__THROW
;

130 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


134 
	$kûÕg
 (
__pid_t
 
__pgΩ
, 
__sig
Ë
__THROW
;

137 
__BEGIN_NAMESPACE_STD


139 
	$øi£
 (
__sig
Ë
__THROW
;

140 
__END_NAMESPACE_STD


142 #ifde‡
__USE_SVID


144 
__sigh™dÀr_t
 
	$ssig«l
 (
__sig
, 
__sigh™dÀr_t
 
__h™dÀr
)

145 
__THROW
;

146 
	$gsig«l
 (
__sig
Ë
__THROW
;

149 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN2K


151 
	`psig«l
 (
__sig
, c⁄° *
__s
);

154 #ifde‡
__USE_XOPEN2K


156 
	`psigöfo
 (c⁄° 
sigöfo_t
 *
__pöfo
, c⁄° *
__s
);

169 
	`__sig∑u£
 (
__sig_‹_mask
, 
__is_sig
);

171 #ifde‡
__FAVOR_BSD


174 
	$sig∑u£
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

176 #ifde‡
__USE_XOPEN


177 #ifde‡
__GNUC__


178 
	$sig∑u£
 (
__sig
Ë
	`__asm__
 ("__xpg_sigpause");

181 
	#sig∑u£
(
sig
Ë
	`__sig∑u£
 ((sig), 1)

	)

187 #ifde‡
__USE_BSD


194 
	#sigmask
(
sig
Ë
	`__sigmask
(sig)

	)

197 
	$sigblock
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

200 
	$sig£tmask
 (
__mask
Ë
__THROW
 
__©åibuã_dïªˇãd__
;

203 
	$siggëmask
 (Ë
__THROW
 
__©åibuã_dïªˇãd__
;

207 #ifde‡
__USE_MISC


208 
	#NSIG
 
_NSIG


	)

211 #ifde‡
__USE_GNU


212 
__sigh™dÀr_t
 
	tsigh™dÀr_t
;

216 #ifde‡
__USE_BSD


217 
__sigh™dÀr_t
 
	tsig_t
;

220 #ifde‡
__USE_POSIX


223 
	$sigem±y£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

226 
	$sigfûl£t
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

229 
	$sigadd£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

232 
	$sigdñ£t
 (
sig£t_t
 *
__£t
, 
__signo
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

235 
	$sigismembî
 (c⁄° 
sig£t_t
 *
__£t
, 
__signo
)

236 
__THROW
 
	`__n⁄nuŒ
 ((1));

238 #ifde‡
__USE_GNU


240 
	$sigi£m±y£t
 (c⁄° 
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

243 
	$sig™d£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

244 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

247 
	$sig‹£t
 (
sig£t_t
 *
__£t
, c⁄° sig£t_à*
__À·
,

248 c⁄° 
sig£t_t
 *
__right
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3));

253 
	~<bôs/siga˘i⁄.h
>

256 
	$sig¥ocmask
 (
__how
, c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

257 
sig£t_t
 *
__ª°ri˘
 
__o£t
Ë
__THROW
;

264 
	$sigsu•íd
 (c⁄° 
sig£t_t
 *
__£t
Ë
	`__n⁄nuŒ
 ((1));

267 
	$siga˘i⁄
 (
__sig
, c⁄° 
siga˘i⁄
 *
__ª°ri˘
 
__a˘
,

268 
siga˘i⁄
 *
__ª°ri˘
 
__ﬂ˘
Ë
__THROW
;

271 
	$sig≥ndög
 (
sig£t_t
 *
__£t
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

278 
	$sigwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
, *__ª°ri˘ 
__sig
)

279 
	`__n⁄nuŒ
 ((1, 2));

281 #ifde‡
__USE_POSIX199309


286 
	$sigwaôöfo
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

287 
sigöfo_t
 *
__ª°ri˘
 
__öfo
Ë
	`__n⁄nuŒ
 ((1));

294 
	$sigtimedwaô
 (c⁄° 
sig£t_t
 *
__ª°ri˘
 
__£t
,

295 
sigöfo_t
 *
__ª°ri˘
 
__öfo
,

296 c⁄° 
time•ec
 *
__ª°ri˘
 
__timeout
)

297 
	`__n⁄nuŒ
 ((1));

301 
	$sigqueue
 (
__pid_t
 
__pid
, 
__sig
, c⁄° 
sigvÆ
 
__vÆ
)

302 
__THROW
;

307 #ifde‡
__USE_BSD


311 c⁄° *c⁄° 
_sys_sigli°
[
_NSIG
];

312 c⁄° *c⁄° 
sys_sigli°
[
_NSIG
];

315 
	ssigvec


317 
__sigh™dÀr_t
 
sv_h™dÀr
;

318 
sv_mask
;

320 
sv_Êags
;

321 
	#sv_⁄°ack
 
sv_Êags


	)

325 
	#SV_ONSTACK
 (1 << 0)

	)

326 
	#SV_INTERRUPT
 (1 << 1)

	)

327 
	#SV_RESETHAND
 (1 << 2)

	)

335 
	$sigvec
 (
__sig
, c⁄° 
sigvec
 *
__vec
,

336 
sigvec
 *
__ovec
Ë
__THROW
;

340 
	~<bôs/sigc⁄ãxt.h
>

343 
	$sigªtu∫
 (
sigc⁄ãxt
 *
__s˝
Ë
__THROW
;

348 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


349 
	#__√ed_size_t


	)

350 
	~<°ddef.h
>

355 
	$sigöãºu±
 (
__sig
, 
__öãºu±
Ë
__THROW
;

357 
	~<bôs/sig°ack.h
>

358 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


360 
	~<sys/uc⁄ãxt.h
>

366 
	$sig°ack
 (
sig°ack
 *
__ss
, sig°ack *
__oss
)

367 
__THROW
 
__©åibuã_dïªˇãd__
;

371 
	$sigÆt°ack
 (c⁄° 
sigÆt°ack
 *
__ª°ri˘
 
__ss
,

372 
sigÆt°ack
 *
__ª°ri˘
 
__oss
Ë
__THROW
;

376 #ifde‡
__USE_XOPEN_EXTENDED


380 
	$sighﬁd
 (
__sig
Ë
__THROW
;

383 
	$sigªl£
 (
__sig
Ë
__THROW
;

386 
	$sigign‹e
 (
__sig
Ë
__THROW
;

389 
__sigh™dÀr_t
 
	$sig£t
 (
__sig
, 
__sigh™dÀr_t
 
__di•
Ë
__THROW
;

392 #i‡
deföed
 
__USE_POSIX199506
 || deföed 
__USE_UNIX98


395 
	~<bôs/±hªadty≥s.h
>

396 
	~<bôs/sigthªad.h
>

403 
	$__libc_cuºít_sigπmö
 (Ë
__THROW
;

405 
	$__libc_cuºít_sigπmax
 (Ë
__THROW
;

409 
__END_DECLS


	@/usr/include/spawn.h

19 #i‚def 
_SPAWN_H


20 
	#_SPAWN_H
 1

	)

22 
	~<„©uªs.h
>

23 
	~<sched.h
>

24 
	#__√ed_sig£t_t


	)

25 
	~<sig«l.h
>

26 
	~<sys/ty≥s.h
>

32 
	m__Êags
;

33 
pid_t
 
	m__pgΩ
;

34 
sig£t_t
 
	m__sd
;

35 
sig£t_t
 
	m__ss
;

36 
sched_∑øm
 
	m__•
;

37 
	m__pﬁicy
;

38 
	m__∑d
[16];

39 } 
	tposix_•aw«âr_t
;

46 
	m__Æloˇãd
;

47 
	m__u£d
;

48 
__•awn_a˘i⁄
 *
	m__a˘i⁄s
;

49 
	m__∑d
[16];

50 } 
	tposix_•awn_fûe_a˘i⁄s_t
;

54 
	#POSIX_SPAWN_RESETIDS
 0x01

	)

55 
	#POSIX_SPAWN_SETPGROUP
 0x02

	)

56 
	#POSIX_SPAWN_SETSIGDEF
 0x04

	)

57 
	#POSIX_SPAWN_SETSIGMASK
 0x08

	)

58 
	#POSIX_SPAWN_SETSCHEDPARAM
 0x10

	)

59 
	#POSIX_SPAWN_SETSCHEDULER
 0x20

	)

60 #ifde‡
__USE_GNU


61 
	#POSIX_SPAWN_USEVFORK
 0x40

	)

65 
__BEGIN_DECLS


72 
posix_•awn
 (
pid_t
 *
__ª°ri˘
 
__pid
,

73 c⁄° *
__ª°ri˘
 
__∑th
,

74 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__ª°ri˘


75 
__fûe_a˘i⁄s
,

76 c⁄° 
posix_•aw«âr_t
 *
__ª°ri˘
 
__©åp
,

77 *c⁄° 
__¨gv
[
__ª°ri˘_¨r
],

78 *c⁄° 
__ívp
[
__ª°ri˘_¨r
]);

84 
posix_•aw≈
 (
pid_t
 *
__pid
, c⁄° *
__fûe
,

85 c⁄° 
posix_•awn_fûe_a˘i⁄s_t
 *
__fûe_a˘i⁄s
,

86 c⁄° 
posix_•aw«âr_t
 *
__©åp
,

87 *c⁄° 
__¨gv
[], *c⁄° 
__ívp
[]);

91 
	$posix_•aw«âr_öô
 (
posix_•aw«âr_t
 *
__©å
Ë
__THROW
;

94 
	$posix_•aw«âr_de°roy
 (
posix_•aw«âr_t
 *
__©å
Ë
__THROW
;

98 
	$posix_•aw«âr_gësigdeÁu…
 (c⁄° 
posix_•aw«âr_t
 *

99 
__ª°ri˘
 
__©å
,

100 
sig£t_t
 *
__ª°ri˘
 
__sigdeÁu…
)

101 
__THROW
;

104 
	$posix_•aw«âr_£tsigdeÁu…
 (
posix_•aw«âr_t
 *
__ª°ri˘
 
__©å
,

105 c⁄° 
sig£t_t
 *
__ª°ri˘


106 
__sigdeÁu…
)

107 
__THROW
;

110 
	$posix_•aw«âr_gësigmask
 (c⁄° 
posix_•aw«âr_t
 *
__ª°ri˘


111 
__©å
,

112 
sig£t_t
 *
__ª°ri˘
 
__sigmask
Ë
__THROW
;

115 
	$posix_•aw«âr_£tsigmask
 (
posix_•aw«âr_t
 *
__ª°ri˘
 
__©å
,

116 c⁄° 
sig£t_t
 *
__ª°ri˘
 
__sigmask
)

117 
__THROW
;

120 
	$posix_•aw«âr_gëÊags
 (c⁄° 
posix_•aw«âr_t
 *
__ª°ri˘


121 
__©å
,

122 *
__ª°ri˘
 
__Êags
Ë
__THROW
;

125 
	$posix_•aw«âr_£tÊags
 (
posix_•aw«âr_t
 *
_©å
,

126 
__Êags
Ë
__THROW
;

129 
	$posix_•aw«âr_gëpgroup
 (c⁄° 
posix_•aw«âr_t
 *
__ª°ri˘


130 
__©å
, 
pid_t
 *
__ª°ri˘
 
__pgroup
)

131 
__THROW
;

134 
	$posix_•aw«âr_£çgroup
 (
posix_•aw«âr_t
 *
__©å
,

135 
pid_t
 
__pgroup
Ë
__THROW
;

138 
	$posix_•aw«âr_gëschedpﬁicy
 (c⁄° 
posix_•aw«âr_t
 *

139 
__ª°ri˘
 
__©å
,

140 *
__ª°ri˘
 
__schedpﬁicy
)

141 
__THROW
;

144 
	$posix_•aw«âr_£tschedpﬁicy
 (
posix_•aw«âr_t
 *
__©å
,

145 
__schedpﬁicy
Ë
__THROW
;

148 
	$posix_•aw«âr_gësched∑øm
 (c⁄° 
posix_•aw«âr_t
 *

149 
__ª°ri˘
 
__©å
,

150 
sched_∑øm
 *
__ª°ri˘


151 
__sched∑øm
Ë
__THROW
;

154 
	$posix_•aw«âr_£tsched∑øm
 (
posix_•aw«âr_t
 *
__ª°ri˘
 
__©å
,

155 c⁄° 
sched_∑øm
 *

156 
__ª°ri˘
 
__sched∑øm
Ë
__THROW
;

160 
	$posix_•awn_fûe_a˘i⁄s_öô
 (
posix_•awn_fûe_a˘i⁄s_t
 *

161 
__fûe_a˘i⁄s
Ë
__THROW
;

164 
	$posix_•awn_fûe_a˘i⁄s_de°roy
 (
posix_•awn_fûe_a˘i⁄s_t
 *

165 
__fûe_a˘i⁄s
Ë
__THROW
;

169 
	$posix_•awn_fûe_a˘i⁄s_add›í
 (
posix_•awn_fûe_a˘i⁄s_t
 *

170 
__ª°ri˘
 
__fûe_a˘i⁄s
,

171 
__fd
,

172 c⁄° *
__ª°ri˘
 
__∑th
,

173 
__oÊag
, 
mode_t
 
__mode
)

174 
__THROW
;

178 
	$posix_•awn_fûe_a˘i⁄s_add˛o£
 (
posix_•awn_fûe_a˘i⁄s_t
 *

179 
__fûe_a˘i⁄s
, 
__fd
)

180 
__THROW
;

184 
	$posix_•awn_fûe_a˘i⁄s_adddup2
 (
posix_•awn_fûe_a˘i⁄s_t
 *

185 
__fûe_a˘i⁄s
,

186 
__fd
, 
__√wfd
Ë
__THROW
;

188 
__END_DECLS


	@/usr/include/stdint.h

22 #i‚de‡
_STDINT_H


23 
	#_STDINT_H
 1

	)

25 
	~<„©uªs.h
>

26 
	~<bôs/wch¨.h
>

27 
	~<bôs/w‹dsize.h
>

34 #i‚de‡
__öt8_t_deföed


35 
	#__öt8_t_deföed


	)

36 sig√d 
	töt8_t
;

37 
	töt16_t
;

38 
	töt32_t
;

39 #i‡
__WORDSIZE
 == 64

40 
	töt64_t
;

42 
__exãnsi⁄__


43 
	töt64_t
;

48 
	tuöt8_t
;

49 
	tuöt16_t
;

50 #i‚de‡
__uöt32_t_deföed


51 
	tuöt32_t
;

52 
	#__uöt32_t_deföed


	)

54 #i‡
__WORDSIZE
 == 64

55 
	tuöt64_t
;

57 
__exãnsi⁄__


58 
	tuöt64_t
;

65 sig√d 
	töt_Àa°8_t
;

66 
	töt_Àa°16_t
;

67 
	töt_Àa°32_t
;

68 #i‡
__WORDSIZE
 == 64

69 
	töt_Àa°64_t
;

71 
__exãnsi⁄__


72 
	töt_Àa°64_t
;

76 
	tuöt_Àa°8_t
;

77 
	tuöt_Àa°16_t
;

78 
	tuöt_Àa°32_t
;

79 #i‡
__WORDSIZE
 == 64

80 
	tuöt_Àa°64_t
;

82 
__exãnsi⁄__


83 
	tuöt_Àa°64_t
;

90 sig√d 
	töt_Á°8_t
;

91 #i‡
__WORDSIZE
 == 64

92 
	töt_Á°16_t
;

93 
	töt_Á°32_t
;

94 
	töt_Á°64_t
;

96 
	töt_Á°16_t
;

97 
	töt_Á°32_t
;

98 
__exãnsi⁄__


99 
	töt_Á°64_t
;

103 
	tuöt_Á°8_t
;

104 #i‡
__WORDSIZE
 == 64

105 
	tuöt_Á°16_t
;

106 
	tuöt_Á°32_t
;

107 
	tuöt_Á°64_t
;

109 
	tuöt_Á°16_t
;

110 
	tuöt_Á°32_t
;

111 
__exãnsi⁄__


112 
	tuöt_Á°64_t
;

117 #i‡
__WORDSIZE
 == 64

118 #i‚de‡
__öçå_t_deföed


119 
	töçå_t
;

120 
	#__öçå_t_deföed


	)

122 
	tuöçå_t
;

124 #i‚de‡
__öçå_t_deföed


125 
	töçå_t
;

126 
	#__öçå_t_deföed


	)

128 
	tuöçå_t
;

133 #i‡
__WORDSIZE
 == 64

134 
	tötmax_t
;

135 
	tuötmax_t
;

137 
__exãnsi⁄__


138 
	tötmax_t
;

139 
__exãnsi⁄__


140 
	tuötmax_t
;

146 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_LIMIT_MACROS


148 #i‡
__WORDSIZE
 == 64

149 
	#__INT64_C
(
c
Ë¯## 
L


	)

150 
	#__UINT64_C
(
c
Ë¯## 
UL


	)

152 
	#__INT64_C
(
c
Ë¯## 
LL


	)

153 
	#__UINT64_C
(
c
Ë¯## 
ULL


	)

159 
	#INT8_MIN
 (-128)

	)

160 
	#INT16_MIN
 (-32767-1)

	)

161 
	#INT32_MIN
 (-2147483647-1)

	)

162 
	#INT64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

164 
	#INT8_MAX
 (127)

	)

165 
	#INT16_MAX
 (32767)

	)

166 
	#INT32_MAX
 (2147483647)

	)

167 
	#INT64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

170 
	#UINT8_MAX
 (255)

	)

171 
	#UINT16_MAX
 (65535)

	)

172 
	#UINT32_MAX
 (4294967295U)

	)

173 
	#UINT64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

177 
	#INT_LEAST8_MIN
 (-128)

	)

178 
	#INT_LEAST16_MIN
 (-32767-1)

	)

179 
	#INT_LEAST32_MIN
 (-2147483647-1)

	)

180 
	#INT_LEAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

182 
	#INT_LEAST8_MAX
 (127)

	)

183 
	#INT_LEAST16_MAX
 (32767)

	)

184 
	#INT_LEAST32_MAX
 (2147483647)

	)

185 
	#INT_LEAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

188 
	#UINT_LEAST8_MAX
 (255)

	)

189 
	#UINT_LEAST16_MAX
 (65535)

	)

190 
	#UINT_LEAST32_MAX
 (4294967295U)

	)

191 
	#UINT_LEAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

195 
	#INT_FAST8_MIN
 (-128)

	)

196 #i‡
__WORDSIZE
 == 64

197 
	#INT_FAST16_MIN
 (-9223372036854775807L-1)

	)

198 
	#INT_FAST32_MIN
 (-9223372036854775807L-1)

	)

200 
	#INT_FAST16_MIN
 (-2147483647-1)

	)

201 
	#INT_FAST32_MIN
 (-2147483647-1)

	)

203 
	#INT_FAST64_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

205 
	#INT_FAST8_MAX
 (127)

	)

206 #i‡
__WORDSIZE
 == 64

207 
	#INT_FAST16_MAX
 (9223372036854775807L)

	)

208 
	#INT_FAST32_MAX
 (9223372036854775807L)

	)

210 
	#INT_FAST16_MAX
 (2147483647)

	)

211 
	#INT_FAST32_MAX
 (2147483647)

	)

213 
	#INT_FAST64_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

216 
	#UINT_FAST8_MAX
 (255)

	)

217 #i‡
__WORDSIZE
 == 64

218 
	#UINT_FAST16_MAX
 (18446744073709551615UL)

	)

219 
	#UINT_FAST32_MAX
 (18446744073709551615UL)

	)

221 
	#UINT_FAST16_MAX
 (4294967295U)

	)

222 
	#UINT_FAST32_MAX
 (4294967295U)

	)

224 
	#UINT_FAST64_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

228 #i‡
__WORDSIZE
 == 64

229 
	#INTPTR_MIN
 (-9223372036854775807L-1)

	)

230 
	#INTPTR_MAX
 (9223372036854775807L)

	)

231 
	#UINTPTR_MAX
 (18446744073709551615UL)

	)

233 
	#INTPTR_MIN
 (-2147483647-1)

	)

234 
	#INTPTR_MAX
 (2147483647)

	)

235 
	#UINTPTR_MAX
 (4294967295U)

	)

240 
	#INTMAX_MIN
 (-
	`__INT64_C
(9223372036854775807)-1)

	)

242 
	#INTMAX_MAX
 (
	`__INT64_C
(9223372036854775807))

	)

245 
	#UINTMAX_MAX
 (
	`__UINT64_C
(18446744073709551615))

	)

251 #i‡
__WORDSIZE
 == 64

252 
	#PTRDIFF_MIN
 (-9223372036854775807L-1)

	)

253 
	#PTRDIFF_MAX
 (9223372036854775807L)

	)

255 
	#PTRDIFF_MIN
 (-2147483647-1)

	)

256 
	#PTRDIFF_MAX
 (2147483647)

	)

260 
	#SIG_ATOMIC_MIN
 (-2147483647-1)

	)

261 
	#SIG_ATOMIC_MAX
 (2147483647)

	)

264 #i‡
__WORDSIZE
 == 64

265 
	#SIZE_MAX
 (18446744073709551615UL)

	)

267 
	#SIZE_MAX
 (4294967295U)

	)

271 #i‚de‡
WCHAR_MIN


273 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

274 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

278 
	#WINT_MIN
 (0u)

	)

279 
	#WINT_MAX
 (4294967295u)

	)

286 #i‡!
deföed
 
__˝lu•lus
 || deföed 
__STDC_CONSTANT_MACROS


289 
	#INT8_C
(
c
Ë
	)
c

290 
	#INT16_C
(
c
Ë
	)
c

291 
	#INT32_C
(
c
Ë
	)
c

292 #i‡
__WORDSIZE
 == 64

293 
	#INT64_C
(
c
Ë¯## 
L


	)

295 
	#INT64_C
(
c
Ë¯## 
LL


	)

299 
	#UINT8_C
(
c
Ë
	)
c

300 
	#UINT16_C
(
c
Ë
	)
c

301 
	#UINT32_C
(
c
Ë¯## 
U


	)

302 #i‡
__WORDSIZE
 == 64

303 
	#UINT64_C
(
c
Ë¯## 
UL


	)

305 
	#UINT64_C
(
c
Ë¯## 
ULL


	)

309 #i‡
__WORDSIZE
 == 64

310 
	#INTMAX_C
(
c
Ë¯## 
L


	)

311 
	#UINTMAX_C
(
c
Ë¯## 
UL


	)

313 
	#INTMAX_C
(
c
Ë¯## 
LL


	)

314 
	#UINTMAX_C
(
c
Ë¯## 
ULL


	)

	@/usr/include/stdio.h

23 #i‚de‡
_STDIO_H


25 #i‡!
deföed
 
__√ed_FILE
 && !deföed 
__√ed___FILE


26 
	#_STDIO_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


31 
	#__√ed_size_t


	)

32 
	#__√ed_NULL


	)

33 
	~<°ddef.h
>

35 
	~<bôs/ty≥s.h
>

36 
	#__√ed_FILE


	)

37 
	#__√ed___FILE


	)

41 #i‡!
deföed
 
__FILE_deföed
 && deföed 
__√ed_FILE


44 
	g_IO_FILE
;

46 
__BEGIN_NAMESPACE_STD


48 
_IO_FILE
 
	tFILE
;

49 
	g__END_NAMESPACE_STD


50 #i‡
deföed
 
__USE_LARGEFILE64
 || deföed 
__USE_SVID
 || deföed 
__USE_POSIX
 \

51 || 
deföed
 
	g__USE_BSD
 || deföed 
	g__USE_ISOC99
 || deföed 
	g__USE_XOPEN
 \

52 || 
deföed
 
__USE_POSIX2


53 
	$__USING_NAMESPACE_STD
(
FILE
)

56 
	#__FILE_deföed
 1

	)

58 #unde‡
__√ed_FILE


61 #i‡!
deföed
 
____FILE_deföed
 && deföed 
__√ed___FILE


64 
_IO_FILE
 
	t__FILE
;

66 
	#____FILE_deföed
 1

	)

68 #unde‡
__√ed___FILE


71 #ifdef 
_STDIO_H


72 
	#_STDIO_USES_IOSTREAM


	)

74 
	~<libio.h
>

76 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8


77 #ifde‡
__GNUC__


78 #i‚de‡
_VA_LIST_DEFINED


79 
_G_va_li°
 
	tva_li°
;

80 
	#_VA_LIST_DEFINED


	)

83 
	~<°d¨g.h
>

87 #ifde‡
__USE_XOPEN2K8


88 #i‚de‡
__off_t_deföed


89 #i‚de‡
__USE_FILE_OFFSET64


90 
__off_t
 
	toff_t
;

92 
__off64_t
 
	toff_t
;

94 
	#__off_t_deföed


	)

96 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


97 
__off64_t
 
	toff64_t
;

98 
	#__off64_t_deföed


	)

101 #i‚de‡
__ssize_t_deföed


102 
__ssize_t
 
	tssize_t
;

103 
	#__ssize_t_deföed


	)

108 
__BEGIN_NAMESPACE_STD


109 #i‚de‡
__USE_FILE_OFFSET64


110 
_G_Âos_t
 
	tÂos_t
;

112 
_G_Âos64_t
 
	tÂos_t
;

114 
__END_NAMESPACE_STD


115 #ifde‡
__USE_LARGEFILE64


116 
_G_Âos64_t
 
	tÂos64_t
;

120 
	#_IOFBF
 0

	)

121 
	#_IOLBF
 1

	)

122 
	#_IONBF
 2

	)

126 #i‚de‡
BUFSIZ


127 
	#BUFSIZ
 
_IO_BUFSIZ


	)

133 #i‚de‡
EOF


134 
	#EOF
 (-1)

	)

140 
	#SEEK_SET
 0

	)

141 
	#SEEK_CUR
 1

	)

142 
	#SEEK_END
 2

	)

143 #ifde‡
__USE_GNU


144 
	#SEEK_DATA
 3

	)

145 
	#SEEK_HOLE
 4

	)

149 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


151 
	#P_tmpdú
 "/tmp"

	)

164 
	~<bôs/°dio_lim.h
>

168 
_IO_FILE
 *
°dö
;

169 
_IO_FILE
 *
°dout
;

170 
_IO_FILE
 *
°dîr
;

172 
	#°dö
 
°dö


	)

173 
	#°dout
 
°dout


	)

174 
	#°dîr
 
°dîr


	)

176 
__BEGIN_NAMESPACE_STD


178 
	$ªmove
 (c⁄° *
__fûíame
Ë
__THROW
;

180 
	$ª«me
 (c⁄° *
__ﬁd
, c⁄° *
__√w
Ë
__THROW
;

181 
__END_NAMESPACE_STD


183 #ifde‡
__USE_ATFILE


185 
	$ª«mót
 (
__ﬁdfd
, c⁄° *
__ﬁd
, 
__√wfd
,

186 c⁄° *
__√w
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


194 #i‚de‡
__USE_FILE_OFFSET64


195 
FILE
 *
	$tmpfûe
 (Ë
__wur
;

197 #ifde‡
__REDIRECT


198 
FILE
 *
	`__REDIRECT
 (
tmpfûe
, (), 
tmpfûe64
Ë
__wur
;

200 
	#tmpfûe
 
tmpfûe64


	)

204 #ifde‡
__USE_LARGEFILE64


205 
FILE
 *
	$tmpfûe64
 (Ë
__wur
;

209 *
	$tm≤am
 (*
__s
Ë
__THROW
 
__wur
;

210 
__END_NAMESPACE_STD


212 #ifde‡
__USE_MISC


215 *
	$tm≤am_r
 (*
__s
Ë
__THROW
 
__wur
;

219 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


227 *
	$ãm≤am
 (c⁄° *
__dú
, c⁄° *
__pfx
)

228 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

232 
__BEGIN_NAMESPACE_STD


237 
	`f˛o£
 (
FILE
 *
__°ªam
);

242 
	`fÊush
 (
FILE
 *
__°ªam
);

243 
__END_NAMESPACE_STD


245 #ifde‡
__USE_MISC


252 
	`fÊush_u∆ocked
 (
FILE
 *
__°ªam
);

255 #ifde‡
__USE_GNU


262 
	`f˛o£Æl
 ();

266 
__BEGIN_NAMESPACE_STD


267 #i‚de‡
__USE_FILE_OFFSET64


272 
FILE
 *
	$f›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

273 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

278 
FILE
 *
	$‰e›í
 (c⁄° *
__ª°ri˘
 
__fûíame
,

279 c⁄° *
__ª°ri˘
 
__modes
,

280 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

282 #ifde‡
__REDIRECT


283 
FILE
 *
	`__REDIRECT
 (
f›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

284 c⁄° *
__ª°ri˘
 
__modes
), 
f›í64
)

285 
__wur
;

286 
FILE
 *
	`__REDIRECT
 (
‰e›í
, (c⁄° *
__ª°ri˘
 
__fûíame
,

287 c⁄° *
__ª°ri˘
 
__modes
,

288 
FILE
 *
__ª°ri˘
 
__°ªam
), 
‰e›í64
)

289 
__wur
;

291 
	#f›í
 
f›í64


	)

292 
	#‰e›í
 
‰e›í64


	)

295 
__END_NAMESPACE_STD


296 #ifde‡
__USE_LARGEFILE64


297 
FILE
 *
	$f›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

298 c⁄° *
__ª°ri˘
 
__modes
Ë
__wur
;

299 
FILE
 *
	$‰e›í64
 (c⁄° *
__ª°ri˘
 
__fûíame
,

300 c⁄° *
__ª°ri˘
 
__modes
,

301 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

304 #ifdef 
__USE_POSIX


306 
FILE
 *
	$fd›í
 (
__fd
, c⁄° *
__modes
Ë
__THROW
 
__wur
;

309 #ifdef 
__USE_GNU


312 
FILE
 *
	$f›ícookõ
 (*
__ª°ri˘
 
__magic_cookõ
,

313 c⁄° *
__ª°ri˘
 
__modes
,

314 
_IO_cookõ_io_fun˘i⁄s_t
 
__io_funcs
Ë
__THROW
 
__wur
;

317 #ifde‡
__USE_XOPEN2K8


319 
FILE
 *
	$fmem›í
 (*
__s
, 
size_t
 
__Àn
, c⁄° *
__modes
)

320 
__THROW
 
__wur
;

325 
FILE
 *
	$›í_mem°ªam
 (**
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
 
__wur
;

329 
__BEGIN_NAMESPACE_STD


332 
	$£tbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
Ë
__THROW
;

336 
	$£tvbuf
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

337 
__modes
, 
size_t
 
__n
Ë
__THROW
;

338 
__END_NAMESPACE_STD


340 #ifdef 
__USE_BSD


343 
	$£tbuf„r
 (
FILE
 *
__ª°ri˘
 
__°ªam
, *__ª°ri˘ 
__buf
,

344 
size_t
 
__size
Ë
__THROW
;

347 
	$£éöebuf
 (
FILE
 *
__°ªam
Ë
__THROW
;

351 
__BEGIN_NAMESPACE_STD


356 
	`Ârötf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

357 c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

362 
	`¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...);

364 
	$•rötf
 (*
__ª°ri˘
 
__s
,

365 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROWNL
;

371 
	`vÂrötf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

372 
_G_va_li°
 
__¨g
);

377 
	`v¥ötf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
);

379 
	$v•rötf
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

380 
_G_va_li°
 
__¨g
Ë
__THROWNL
;

381 
__END_NAMESPACE_STD


383 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_ISOC99
 || deföed 
__USE_UNIX98


384 
__BEGIN_NAMESPACE_C99


386 
	$¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

387 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

388 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 4)));

390 
	$v¢¥ötf
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxÀn
,

391 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

392 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 3, 0)));

393 
__END_NAMESPACE_C99


396 #ifde‡
__USE_GNU


399 
	$va•rötf
 (**
__ª°ri˘
 
__±r
, c⁄° *__ª°ri˘ 
__f
,

400 
_G_va_li°
 
__¨g
)

401 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 0))Ë
__wur
;

402 
	$__a•rötf
 (**
__ª°ri˘
 
__±r
,

403 c⁄° *
__ª°ri˘
 
__fmt
, ...)

404 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

405 
	$a•rötf
 (**
__ª°ri˘
 
__±r
,

406 c⁄° *
__ª°ri˘
 
__fmt
, ...)

407 
__THROWNL
 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__¥ötf__
, 2, 3))Ë
__wur
;

410 #ifde‡
__USE_XOPEN2K8


412 
	$vd¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
,

413 
_G_va_li°
 
__¨g
)

414 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

415 
	$d¥ötf
 (
__fd
, c⁄° *
__ª°ri˘
 
__fmt
, ...)

416 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

420 
__BEGIN_NAMESPACE_STD


425 
	$fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

426 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

431 
	$sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

433 
	$ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

434 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

436 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

437 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

438 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

439 #ifde‡
__REDIRECT


443 
	`__REDIRECT
 (
fsˇnf
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

444 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

445 
__isoc99_fsˇnf
Ë
__wur
;

446 
	`__REDIRECT
 (
sˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

447 
__isoc99_sˇnf
Ë
__wur
;

448 
	`__REDIRECT_NTH
 (
ssˇnf
, (c⁄° *
__ª°ri˘
 
__s
,

449 c⁄° *
__ª°ri˘
 
__f‹m©
, ...),

450 
__isoc99_ssˇnf
);

452 
	$__isoc99_fsˇnf
 (
FILE
 *
__ª°ri˘
 
__°ªam
,

453 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

454 
	$__isoc99_sˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__wur
;

455 
	$__isoc99_ssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

456 c⁄° *
__ª°ri˘
 
__f‹m©
, ...Ë
__THROW
;

457 
	#fsˇnf
 
__isoc99_fsˇnf


	)

458 
	#sˇnf
 
__isoc99_sˇnf


	)

459 
	#ssˇnf
 
__isoc99_ssˇnf


	)

463 
__END_NAMESPACE_STD


465 #ifdef 
__USE_ISOC99


466 
__BEGIN_NAMESPACE_C99


471 
	$vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__f‹m©
,

472 
_G_va_li°
 
__¨g
)

473 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

479 
	$vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

480 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

483 
	$vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

484 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
)

485 
__THROW
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

487 #i‡!
deföed
 
__USE_GNU
 \

488 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

489 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

490 #ifde‡
__REDIRECT


494 
	`__REDIRECT
 (
vfsˇnf
,

495 (
FILE
 *
__ª°ri˘
 
__s
,

496 c⁄° *
__ª°ri˘
 
__f‹m©
, 
_G_va_li°
 
__¨g
),

497 
__isoc99_vfsˇnf
)

498 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 2, 0))Ë
__wur
;

499 
	`__REDIRECT
 (
vsˇnf
, (c⁄° *
__ª°ri˘
 
__f‹m©
,

500 
_G_va_li°
 
__¨g
), 
__isoc99_vsˇnf
)

501 
	`__©åibuã__
 ((
	$__f‹m©__
 (
__sˇnf__
, 1, 0))Ë
__wur
;

502 
	`__REDIRECT_NTH
 (
vssˇnf
,

503 (c⁄° *
__ª°ri˘
 
__s
,

504 c⁄° *
__ª°ri˘
 
__f‹m©
,

505 
_G_va_li°
 
__¨g
), 
__isoc99_vssˇnf
)

506 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__sˇnf__
, 2, 0)));

508 
	$__isoc99_vfsˇnf
 (
FILE
 *
__ª°ri˘
 
__s
,

509 c⁄° *
__ª°ri˘
 
__f‹m©
,

510 
_G_va_li°
 
__¨g
Ë
__wur
;

511 
	$__isoc99_vsˇnf
 (c⁄° *
__ª°ri˘
 
__f‹m©
,

512 
_G_va_li°
 
__¨g
Ë
__wur
;

513 
	$__isoc99_vssˇnf
 (c⁄° *
__ª°ri˘
 
__s
,

514 c⁄° *
__ª°ri˘
 
__f‹m©
,

515 
_G_va_li°
 
__¨g
Ë
__THROW
;

516 
	#vfsˇnf
 
__isoc99_vfsˇnf


	)

517 
	#vsˇnf
 
__isoc99_vsˇnf


	)

518 
	#vssˇnf
 
__isoc99_vssˇnf


	)

522 
__END_NAMESPACE_C99


526 
__BEGIN_NAMESPACE_STD


531 
	`fgëc
 (
FILE
 *
__°ªam
);

532 
	`gëc
 (
FILE
 *
__°ªam
);

538 
	`gëch¨
 ();

539 
__END_NAMESPACE_STD


543 
	#gëc
(
_Â
Ë
	`_IO_gëc
 (_Â)

	)

545 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


550 
	`gëc_u∆ocked
 (
FILE
 *
__°ªam
);

551 
	`gëch¨_u∆ocked
 ();

554 #ifde‡
__USE_MISC


561 
	`fgëc_u∆ocked
 (
FILE
 *
__°ªam
);

565 
__BEGIN_NAMESPACE_STD


573 
	`Âutc
 (
__c
, 
FILE
 *
__°ªam
);

574 
	`putc
 (
__c
, 
FILE
 *
__°ªam
);

580 
	`putch¨
 (
__c
);

581 
__END_NAMESPACE_STD


585 
	#putc
(
_ch
, 
_Â
Ë
	`_IO_putc
 (_ch, _Â)

	)

587 #ifde‡
__USE_MISC


594 
	`Âutc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

597 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


602 
	`putc_u∆ocked
 (
__c
, 
FILE
 *
__°ªam
);

603 
	`putch¨_u∆ocked
 (
__c
);

607 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_MISC
 \

608 || (
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

610 
	`gëw
 (
FILE
 *
__°ªam
);

613 
	`putw
 (
__w
, 
FILE
 *
__°ªam
);

617 
__BEGIN_NAMESPACE_STD


622 *
	$fgës
 (*
__ª°ri˘
 
__s
, 
__n
, 
FILE
 *__ª°ri˘ 
__°ªam
)

623 
__wur
;

625 #i‡!
deföed
 
__USE_ISOC11
 \

626 || (
deföed
 
__˝lu•lus
 && __cplusplus <= 201103L)

638 *
	$gës
 (*
__s
Ë
__wur
 
__©åibuã_dïªˇãd__
;

640 
__END_NAMESPACE_STD


642 #ifde‡
__USE_GNU


649 *
	$fgës_u∆ocked
 (*
__ª°ri˘
 
__s
, 
__n
,

650 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

654 #ifdef 
__USE_XOPEN2K8


665 
_IO_ssize_t
 
	$__gëdñim
 (**
__ª°ri˘
 
__löïå
,

666 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

667 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

668 
_IO_ssize_t
 
	$gëdñim
 (**
__ª°ri˘
 
__löïå
,

669 
size_t
 *
__ª°ri˘
 
__n
, 
__dñimôî
,

670 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

678 
_IO_ssize_t
 
	$gëlöe
 (**
__ª°ri˘
 
__löïå
,

679 
size_t
 *
__ª°ri˘
 
__n
,

680 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

684 
__BEGIN_NAMESPACE_STD


689 
	`Âuts
 (c⁄° *
__ª°ri˘
 
__s
, 
FILE
 *__ª°ri˘ 
__°ªam
);

695 
	`puts
 (c⁄° *
__s
);

702 
	`ungëc
 (
__c
, 
FILE
 *
__°ªam
);

709 
size_t
 
	$‰ód
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

710 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

715 
size_t
 
	`fwrôe
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

716 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__s
);

717 
__END_NAMESPACE_STD


719 #ifde‡
__USE_GNU


726 
	`Âuts_u∆ocked
 (c⁄° *
__ª°ri˘
 
__s
,

727 
FILE
 *
__ª°ri˘
 
__°ªam
);

730 #ifde‡
__USE_MISC


737 
size_t
 
	$‰ód_u∆ocked
 (*
__ª°ri˘
 
__±r
, 
size_t
 
__size
,

738 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
Ë
__wur
;

739 
size_t
 
	`fwrôe_u∆ocked
 (c⁄° *
__ª°ri˘
 
__±r
, size_à
__size
,

740 
size_t
 
__n
, 
FILE
 *
__ª°ri˘
 
__°ªam
);

744 
__BEGIN_NAMESPACE_STD


749 
	`f£ek
 (
FILE
 *
__°ªam
, 
__off
, 
__whí˚
);

754 
	$·ñl
 (
FILE
 *
__°ªam
Ë
__wur
;

759 
	`ªwöd
 (
FILE
 *
__°ªam
);

760 
__END_NAMESPACE_STD


767 #i‡
deföed
 
__USE_LARGEFILE
 || deföed 
__USE_XOPEN2K


768 #i‚de‡
__USE_FILE_OFFSET64


773 
	`f£eko
 (
FILE
 *
__°ªam
, 
__off_t
 
__off
, 
__whí˚
);

778 
__off_t
 
	$·ñlo
 (
FILE
 *
__°ªam
Ë
__wur
;

780 #ifde‡
__REDIRECT


781 
	`__REDIRECT
 (
f£eko
,

782 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
),

783 
f£eko64
);

784 
__off64_t
 
	`__REDIRECT
 (
·ñlo
, (
FILE
 *
__°ªam
), 
·ñlo64
);

786 
	#f£eko
 
f£eko64


	)

787 
	#·ñlo
 
·ñlo64


	)

792 
__BEGIN_NAMESPACE_STD


793 #i‚de‡
__USE_FILE_OFFSET64


798 
	`fgëpos
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos_t
 *__ª°ri˘ 
__pos
);

803 
	`f£ços
 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
);

805 #ifde‡
__REDIRECT


806 
	`__REDIRECT
 (
fgëpos
, (
FILE
 *
__ª°ri˘
 
__°ªam
,

807 
Âos_t
 *
__ª°ri˘
 
__pos
), 
fgëpos64
);

808 
	`__REDIRECT
 (
f£ços
,

809 (
FILE
 *
__°ªam
, c⁄° 
Âos_t
 *
__pos
), 
f£ços64
);

811 
	#fgëpos
 
fgëpos64


	)

812 
	#f£ços
 
f£ços64


	)

815 
__END_NAMESPACE_STD


817 #ifde‡
__USE_LARGEFILE64


818 
	`f£eko64
 (
FILE
 *
__°ªam
, 
__off64_t
 
__off
, 
__whí˚
);

819 
__off64_t
 
	$·ñlo64
 (
FILE
 *
__°ªam
Ë
__wur
;

820 
	`fgëpos64
 (
FILE
 *
__ª°ri˘
 
__°ªam
, 
Âos64_t
 *__ª°ri˘ 
__pos
);

821 
	`f£ços64
 (
FILE
 *
__°ªam
, c⁄° 
Âos64_t
 *
__pos
);

824 
__BEGIN_NAMESPACE_STD


826 
	$˛óªº
 (
FILE
 *
__°ªam
Ë
__THROW
;

828 
	$„of
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

830 
	$„º‹
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

831 
__END_NAMESPACE_STD


833 #ifde‡
__USE_MISC


835 
	$˛óªº_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
;

836 
	$„of_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

837 
	$„º‹_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

841 
__BEGIN_NAMESPACE_STD


846 
	`≥º‹
 (c⁄° *
__s
);

847 
__END_NAMESPACE_STD


853 
	~<bôs/sys_îæi°.h
>

856 #ifdef 
__USE_POSIX


858 
	$fûío
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

861 #ifde‡
__USE_MISC


863 
	$fûío_u∆ocked
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

867 #i‡(
deföed
 
__USE_POSIX2
 || deföed 
__USE_SVID
 || deföed 
__USE_BSD
 || \

868 
deföed
 
__USE_MISC
)

873 
FILE
 *
	$p›í
 (c⁄° *
__comm™d
, c⁄° *
__modes
Ë
__wur
;

879 
	`p˛o£
 (
FILE
 *
__°ªam
);

883 #ifdef 
__USE_POSIX


885 *
	$˘îmid
 (*
__s
Ë
__THROW
;

889 #ifde‡
__USE_XOPEN


891 *
	`cu£rid
 (*
__s
);

895 #ifdef 
__USE_GNU


896 
ob°ack
;

899 
	$ob°ack_¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

900 c⁄° *
__ª°ri˘
 
__f‹m©
, ...)

901 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 3)));

902 
	$ob°ack_v¥ötf
 (
ob°ack
 *
__ª°ri˘
 
__ob°ack
,

903 c⁄° *
__ª°ri˘
 
__f‹m©
,

904 
_G_va_li°
 
__¨gs
)

905 
__THROWNL
 
	`__©åibuã__
 ((
	`__f‹m©__
 (
__¥ötf__
, 2, 0)));

909 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


913 
	$Êockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

917 
	$·rylockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
 
__wur
;

920 
	$fu∆ockfûe
 (
FILE
 *
__°ªam
Ë
__THROW
;

923 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


927 
	#__√ed_gë›t


	)

928 
	~<gë›t.h
>

933 #ifde‡
__USE_EXTERN_INLINES


934 
	~<bôs/°dio.h
>

936 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__exã∫_Æways_ölöe


937 
	~<bôs/°dio2.h
>

939 #ifde‡
__LDBL_COMPAT


940 
	~<bôs/°dio-ldbl.h
>

943 
__END_DECLS


	@/usr/include/stdlib.h

22 #i‚def 
_STDLIB_H


24 
	~<„©uªs.h
>

27 
	#__√ed_size_t


	)

28 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


29 
	#__√ed_wch¨_t


	)

30 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

34 
	g__BEGIN_DECLS


36 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


37 
	#_STDLIB_H
 1

	)

39 #i‡(
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K8
Ë&& !deföed 
_SYS_WAIT_H


41 
	~<bôs/waôÊags.h
>

42 
	~<bôs/waô°©us.h
>

44 #ifde‡
__USE_BSD


49 #i‡
deföed
 
__GNUC__
 && !deföed 
__˝lu•lus


50 
	#__WAIT_INT
(
°©us
) \

51 (
	`__exãnsi⁄__
 (((uni⁄ { 
	`__ty≥of
(
°©us
Ë
__ö
; 
__i
; }) \

52 { .
__ö
 = (
°©us
Ë}).
__i
))

	)

54 
	#__WAIT_INT
(
°©us
Ë(*(*Ë&(°©us))

	)

62 #i‡!
deföed
 
__GNUC__
 || __GNUC__ < 2 || deföed 
__˝lu•lus


63 
	#__WAIT_STATUS
 *

	)

64 
	#__WAIT_STATUS_DEFN
 *

	)

69 
waô
 *
	m__u±r
;

70 *
	m__ùå
;

71 } 
	t__WAIT_STATUS
 
	t__©åibuã__
 ((
	t__å™•¨ít_uni⁄__
));

72 
	#__WAIT_STATUS_DEFN
 *

	)

77 
	#__WAIT_INT
(
°©us
Ë(°©us)

	)

78 
	#__WAIT_STATUS
 *

	)

79 
	#__WAIT_STATUS_DEFN
 *

	)

84 
	#WEXITSTATUS
(
°©us
Ë
	`__WEXITSTATUS
 (
	`__WAIT_INT
 (°©us))

	)

85 
	#WTERMSIG
(
°©us
Ë
	`__WTERMSIG
 (
	`__WAIT_INT
 (°©us))

	)

86 
	#WSTOPSIG
(
°©us
Ë
	`__WSTOPSIG
 (
	`__WAIT_INT
 (°©us))

	)

87 
	#WIFEXITED
(
°©us
Ë
	`__WIFEXITED
 (
	`__WAIT_INT
 (°©us))

	)

88 
	#WIFSIGNALED
(
°©us
Ë
	`__WIFSIGNALED
 (
	`__WAIT_INT
 (°©us))

	)

89 
	#WIFSTOPPED
(
°©us
Ë
	`__WIFSTOPPED
 (
	`__WAIT_INT
 (°©us))

	)

90 #ifde‡
__WIFCONTINUED


91 
	#WIFCONTINUED
(
°©us
Ë
	`__WIFCONTINUED
 (
	`__WAIT_INT
 (°©us))

	)

95 
__BEGIN_NAMESPACE_STD


99 
	mquŸ
;

100 
	mªm
;

101 } 
	tdiv_t
;

104 #i‚de‡
__ldiv_t_deföed


107 
	mquŸ
;

108 
	mªm
;

109 } 
	tldiv_t
;

110 
	#__ldiv_t_deföed
 1

	)

112 
	g__END_NAMESPACE_STD


114 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__Œdiv_t_deföed


115 
__BEGIN_NAMESPACE_C99


117 
__exãnsi⁄__
 struct

119 
	mquŸ
;

120 
	mªm
;

121 } 
	tŒdiv_t
;

122 
	#__Œdiv_t_deföed
 1

	)

123 
	g__END_NAMESPACE_C99


128 
	#RAND_MAX
 2147483647

	)

133 
	#EXIT_FAILURE
 1

	)

134 
	#EXIT_SUCCESS
 0

	)

138 
	#MB_CUR_MAX
 (
	`__˘y≥_gë_mb_cur_max
 ())

	)

139 
size_t
 
	$__˘y≥_gë_mb_cur_max
 (Ë
__THROW
 
__wur
;

142 
__BEGIN_NAMESPACE_STD


144 
	$©of
 (c⁄° *
__≈å
)

145 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

147 
	$©oi
 (c⁄° *
__≈å
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

150 
	$©ﬁ
 (c⁄° *
__≈å
)

151 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

152 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

155 
__BEGIN_NAMESPACE_C99


157 
__exãnsi⁄__
 
	$©ﬁl
 (c⁄° *
__≈å
)

158 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

159 
__END_NAMESPACE_C99


162 
__BEGIN_NAMESPACE_STD


164 
	$°πod
 (c⁄° *
__ª°ri˘
 
__≈å
,

165 **
__ª°ri˘
 
__íd±r
)

166 
__THROW
 
	`__n⁄nuŒ
 ((1));

167 
__END_NAMESPACE_STD


169 #ifdef 
__USE_ISOC99


170 
__BEGIN_NAMESPACE_C99


172 
	$°πof
 (c⁄° *
__ª°ri˘
 
__≈å
,

173 **
__ª°ri˘
 
__íd±r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

175 
	$°πﬁd
 (c⁄° *
__ª°ri˘
 
__≈å
,

176 **
__ª°ri˘
 
__íd±r
)

177 
__THROW
 
	`__n⁄nuŒ
 ((1));

178 
__END_NAMESPACE_C99


181 
__BEGIN_NAMESPACE_STD


183 
	$°πﬁ
 (c⁄° *
__ª°ri˘
 
__≈å
,

184 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

185 
__THROW
 
	`__n⁄nuŒ
 ((1));

187 
	$°πoul
 (c⁄° *
__ª°ri˘
 
__≈å
,

188 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

189 
__THROW
 
	`__n⁄nuŒ
 ((1));

190 
__END_NAMESPACE_STD


192 #i‡
deföed
 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_BSD


194 
__exãnsi⁄__


195 
	$°πoq
 (c⁄° *
__ª°ri˘
 
__≈å
,

196 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

197 
__THROW
 
	`__n⁄nuŒ
 ((1));

199 
__exãnsi⁄__


200 
	$°πouq
 (c⁄° *
__ª°ri˘
 
__≈å
,

201 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

202 
__THROW
 
	`__n⁄nuŒ
 ((1));

205 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GLIBC_HAVE_LONG_LONG
 && deföed 
__USE_MISC
)

206 
__BEGIN_NAMESPACE_C99


208 
__exãnsi⁄__


209 
	$°πﬁl
 (c⁄° *
__ª°ri˘
 
__≈å
,

210 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

211 
__THROW
 
	`__n⁄nuŒ
 ((1));

213 
__exãnsi⁄__


214 
	$°πouŒ
 (c⁄° *
__ª°ri˘
 
__≈å
,

215 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

216 
__THROW
 
	`__n⁄nuŒ
 ((1));

217 
__END_NAMESPACE_C99


221 #ifde‡
__USE_GNU


235 
	~<xloˇÀ.h
>

239 
	$°πﬁ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

240 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

241 
__loˇÀ_t
 
__loc
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

243 
	$°πoul_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

244 **
__ª°ri˘
 
__íd±r
,

245 
__ba£
, 
__loˇÀ_t
 
__loc
)

246 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

248 
__exãnsi⁄__


249 
	$°πﬁl_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

250 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

251 
__loˇÀ_t
 
__loc
)

252 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

254 
__exãnsi⁄__


255 
	$°πouŒ_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

256 **
__ª°ri˘
 
__íd±r
,

257 
__ba£
, 
__loˇÀ_t
 
__loc
)

258 
__THROW
 
	`__n⁄nuŒ
 ((1, 4));

260 
	$°πod_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

261 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

262 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

264 
	$°πof_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

265 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

266 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

268 
	$°πﬁd_l
 (c⁄° *
__ª°ri˘
 
__≈å
,

269 **
__ª°ri˘
 
__íd±r
,

270 
__loˇÀ_t
 
__loc
)

271 
__THROW
 
	`__n⁄nuŒ
 ((1, 3));

275 #ifde‡
__USE_EXTERN_INLINES


276 
__BEGIN_NAMESPACE_STD


277 
__exã∫_ölöe
 

278 
	`__NTH
 (
	$©oi
 (c⁄° *
__≈å
))

280  (Ë
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

281 
	}
}

282 
__exã∫_ölöe
 

283 
__NTH
 (
	$©ﬁ
 (c⁄° *
__≈å
))

285  
	`°πﬁ
 (
__≈å
, (**Ë
NULL
, 10);

286 
	}
}

287 
	g__END_NAMESPACE_STD


289 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_ISOC99


290 
__BEGIN_NAMESPACE_C99


291 
__exãnsi⁄__
 
__exã∫_ölöe
 

292 
__NTH
 (
	$©ﬁl
 (c⁄° *
__≈å
))

294  
	`°πﬁl
 (
__≈å
, (**Ë
NULL
, 10);

295 
	}
}

296 
	g__END_NAMESPACE_C99


301 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED


305 *
	$l64a
 (
__n
Ë
__THROW
 
__wur
;

308 
	$a64l
 (c⁄° *
__s
)

309 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

313 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_BSD


314 
	~<sys/ty≥s.h
>

321 
	$øndom
 (Ë
__THROW
;

324 
	$§™dom
 (
__£ed
Ë
__THROW
;

330 *
	$öô°©e
 (
__£ed
, *
__°©ebuf
,

331 
size_t
 
__°©ñí
Ë
__THROW
 
	`__n⁄nuŒ
 ((2));

335 *
	$£t°©e
 (*
__°©ebuf
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

338 #ifde‡
__USE_MISC


343 
	søndom_d©a


345 
öt32_t
 *
Âå
;

346 
öt32_t
 *
Ωå
;

347 
öt32_t
 *
°©e
;

348 
ønd_ty≥
;

349 
ønd_deg
;

350 
ønd_£p
;

351 
öt32_t
 *
íd_±r
;

354 
	$øndom_r
 (
øndom_d©a
 *
__ª°ri˘
 
__buf
,

355 
öt32_t
 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

357 
	$§™dom_r
 (
__£ed
, 
øndom_d©a
 *
__buf
)

358 
__THROW
 
	`__n⁄nuŒ
 ((2));

360 
	$öô°©e_r
 (
__£ed
, *
__ª°ri˘
 
__°©ebuf
,

361 
size_t
 
__°©ñí
,

362 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

363 
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

365 
	$£t°©e_r
 (*
__ª°ri˘
 
__°©ebuf
,

366 
øndom_d©a
 *
__ª°ri˘
 
__buf
)

367 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

372 
__BEGIN_NAMESPACE_STD


374 
	$ønd
 (Ë
__THROW
;

376 
	$§™d
 (
__£ed
Ë
__THROW
;

377 
__END_NAMESPACE_STD


379 #ifde‡
__USE_POSIX


381 
	$ønd_r
 (*
__£ed
Ë
__THROW
;

385 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


389 
	$dønd48
 (Ë
__THROW
;

390 
	$î™d48
 (
__xsubi
[3]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

393 
	$Ã™d48
 (Ë
__THROW
;

394 
	$ƒ™d48
 (
__xsubi
[3])

395 
__THROW
 
	`__n⁄nuŒ
 ((1));

398 
	$mønd48
 (Ë
__THROW
;

399 
	$jønd48
 (
__xsubi
[3])

400 
__THROW
 
	`__n⁄nuŒ
 ((1));

403 
	$§™d48
 (
__£edvÆ
Ë
__THROW
;

404 *
	$£ed48
 (
__£ed16v
[3])

405 
__THROW
 
	`__n⁄nuŒ
 ((1));

406 
	$lc⁄g48
 (
__∑øm
[7]Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

408 #ifde‡
__USE_MISC


412 
	sdønd48_d©a


414 
__x
[3];

415 
__ﬁd_x
[3];

416 
__c
;

417 
__öô
;

418 
__a
;

422 
	$dønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

423 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

424 
	$î™d48_r
 (
__xsubi
[3],

425 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

426 *
__ª°ri˘
 
__ªsu…
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

429 
	$Ã™d48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

430 *
__ª°ri˘
 
__ªsu…
)

431 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

432 
	$ƒ™d48_r
 (
__xsubi
[3],

433 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

434 *
__ª°ri˘
 
__ªsu…
)

435 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

438 
	$mønd48_r
 (
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

439 *
__ª°ri˘
 
__ªsu…
)

440 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

441 
	$jønd48_r
 (
__xsubi
[3],

442 
dønd48_d©a
 *
__ª°ri˘
 
__buf„r
,

443 *
__ª°ri˘
 
__ªsu…
)

444 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

447 
	$§™d48_r
 (
__£edvÆ
, 
dønd48_d©a
 *
__buf„r
)

448 
__THROW
 
	`__n⁄nuŒ
 ((2));

450 
	$£ed48_r
 (
__£ed16v
[3],

451 
dønd48_d©a
 *
__buf„r
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

453 
	$lc⁄g48_r
 (
__∑øm
[7],

454 
dønd48_d©a
 *
__buf„r
)

455 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

461 #i‚de‡
__mÆloc_™d_ˇŒoc_deföed


462 
	#__mÆloc_™d_ˇŒoc_deföed


	)

463 
__BEGIN_NAMESPACE_STD


465 *
	$mÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

467 *
	$ˇŒoc
 (
size_t
 
__nmemb
, size_à
__size
)

468 
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

469 
__END_NAMESPACE_STD


472 #i‚de‡
__√ed_mÆloc_™d_ˇŒoc


473 
__BEGIN_NAMESPACE_STD


479 *
	$ªÆloc
 (*
__±r
, 
size_t
 
__size
)

480 
__THROW
 
__©åibuã_w¨n_unu£d_ªsu…__
;

482 
	$‰ì
 (*
__±r
Ë
__THROW
;

483 
__END_NAMESPACE_STD


485 #ifdef 
__USE_MISC


487 
	$c‰ì
 (*
__±r
Ë
__THROW
;

490 #i‡
deföed
 
__USE_GNU
 || deföed 
__USE_BSD
 || deföed 
__USE_MISC


491 
	~<Æloˇ.h
>

494 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

495 || 
deföed
 
__USE_BSD


497 *
	$vÆloc
 (
size_t
 
__size
Ë
__THROW
 
__©åibuã_mÆloc__
 
__wur
;

500 #ifde‡
__USE_XOPEN2K


502 
	$posix_memÆign
 (**
__mem±r
, 
size_t
 
__Æignmít
, size_à
__size
)

503 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

506 #ifde‡
__USE_ISOC11


508 *
	$Æig√d_Æloc
 (
size_t
 
__Æignmít
, size_à
__size
)

509 
__THROW
 
__wur
 
	`__©åibuã__
 ((
__mÆloc__
, 
	`__Æloc_size__
 (2)));

512 
__BEGIN_NAMESPACE_STD


514 
	$ab‹t
 (Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

518 
	`©exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

520 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


522 #ifde‡
__˝lu•lus


523 "C++" 
	`©_quick_exô
 ((*
__func
) ())

524 
__THROW
 
	`__asm
 ("©_quick_exô"Ë
	`__n⁄nuŒ
 ((1));

526 
	`©_quick_exô
 ((*
__func
Ë()Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

529 
__END_NAMESPACE_STD


531 #ifdef 
__USE_MISC


534 
	`⁄_exô
 ((*
__func
Ë(
__°©us
, *
__¨g
), *__arg)

535 
__THROW
 
	`__n⁄nuŒ
 ((1));

538 
__BEGIN_NAMESPACE_STD


542 
	$exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

544 #i‡
deföed
 
__USE_ISOC11
 || deföed 
__USE_ISOCXX11


548 
	$quick_exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

550 
__END_NAMESPACE_STD


552 #ifde‡
__USE_ISOC99


553 
__BEGIN_NAMESPACE_C99


556 
	$_Exô
 (
__°©us
Ë
__THROW
 
	`__©åibuã__
 ((
__n‹ëu∫__
));

557 
__END_NAMESPACE_C99


561 
__BEGIN_NAMESPACE_STD


563 *
	$gëív
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

564 
__END_NAMESPACE_STD


566 #ifde‡
__USE_GNU


569 *
	$£cuª_gëív
 (c⁄° *
__«me
)

570 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

573 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


577 
	$puãnv
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

580 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


583 
	$£ãnv
 (c⁄° *
__«me
, c⁄° *
__vÆue
, 
__ª∂a˚
)

584 
__THROW
 
	`__n⁄nuŒ
 ((2));

587 
	$un£ãnv
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

590 #ifdef 
__USE_MISC


594 
	$˛óªnv
 (Ë
__THROW
;

598 #i‡
deföed
 
__USE_MISC
 \

599 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
)

605 *
	$mkãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

608 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 \

609 || 
deföed
 
__USE_XOPEN2K8


618 #i‚de‡
__USE_FILE_OFFSET64


619 
	$mk°emp
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

621 #ifde‡
__REDIRECT


622 
	`__REDIRECT
 (
mk°emp
, (*
__ãm∂©e
), 
mk°emp64
)

623 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

625 
	#mk°emp
 
mk°emp64


	)

628 #ifde‡
__USE_LARGEFILE64


629 
	$mk°emp64
 (*
__ãm∂©e
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

633 #ifde‡
__USE_MISC


640 #i‚de‡
__USE_FILE_OFFSET64


641 
	$mk°emps
 (*
__ãm∂©e
, 
__suffixÀn
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

643 #ifde‡
__REDIRECT


644 
	`__REDIRECT
 (
mk°emps
, (*
__ãm∂©e
, 
__suffixÀn
),

645 
mk°emps64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

647 
	#mk°emps
 
mk°emps64


	)

650 #ifde‡
__USE_LARGEFILE64


651 
	$mk°emps64
 (*
__ãm∂©e
, 
__suffixÀn
)

652 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

656 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K8


662 *
	$mkdãmp
 (*
__ãm∂©e
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

665 #ifde‡
__USE_GNU


672 #i‚de‡
__USE_FILE_OFFSET64


673 
	$mko°emp
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

675 #ifde‡
__REDIRECT


676 
	`__REDIRECT
 (
mko°emp
, (*
__ãm∂©e
, 
__Êags
), 
mko°emp64
)

677 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

679 
	#mko°emp
 
mko°emp64


	)

682 #ifde‡
__USE_LARGEFILE64


683 
	$mko°emp64
 (*
__ãm∂©e
, 
__Êags
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

692 #i‚de‡
__USE_FILE_OFFSET64


693 
	$mko°emps
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

694 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

696 #ifde‡
__REDIRECT


697 
	`__REDIRECT
 (
mko°emps
, (*
__ãm∂©e
, 
__suffixÀn
,

698 
__Êags
), 
mko°emps64
)

699 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

701 
	#mko°emps
 
mko°emps64


	)

704 #ifde‡
__USE_LARGEFILE64


705 
	$mko°emps64
 (*
__ãm∂©e
, 
__suffixÀn
, 
__Êags
)

706 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

711 
__BEGIN_NAMESPACE_STD


716 
	$sy°em
 (c⁄° *
__comm™d
Ë
__wur
;

717 
__END_NAMESPACE_STD


720 #ifdef 
__USE_GNU


723 *
	$ˇn⁄iˇlize_fûe_«me
 (c⁄° *
__«me
)

724 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

727 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


733 *
	$ªÆ∑th
 (c⁄° *
__ª°ri˘
 
__«me
,

734 *
__ª°ri˘
 
__ªsﬁved
Ë
__THROW
 
__wur
;

739 #i‚de‡
__COMPAR_FN_T


740 
	#__COMPAR_FN_T


	)

741 (*
	t__com∑r_‚_t
) (const *, const *);

743 #ifdef 
__USE_GNU


744 
__com∑r_‚_t
 
	tcom∑ris⁄_‚_t
;

747 #ifde‡
__USE_GNU


748 (*
	t__com∑r_d_‚_t
) (const *, const *, *);

751 
__BEGIN_NAMESPACE_STD


754 *
	$b£¨ch
 (c⁄° *
__key
, c⁄° *
__ba£
,

755 
size_t
 
__nmemb
, size_à
__size
, 
__com∑r_‚_t
 
__com∑r
)

756 
	`__n⁄nuŒ
 ((1, 2, 5)Ë
__wur
;

760 
	$qs‹t
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

761 
__com∑r_‚_t
 
__com∑r
Ë
	`__n⁄nuŒ
 ((1, 4));

762 #ifde‡
__USE_GNU


763 
	$qs‹t_r
 (*
__ba£
, 
size_t
 
__nmemb
, size_à
__size
,

764 
__com∑r_d_‚_t
 
__com∑r
, *
__¨g
)

765 
	`__n⁄nuŒ
 ((1, 4));

770 
	$abs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

771 
	$œbs
 (
__x
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

772 
__END_NAMESPACE_STD


774 #ifde‡
__USE_ISOC99


775 
__exãnsi⁄__
 
	$Œabs
 (
__x
)

776 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

780 
__BEGIN_NAMESPACE_STD


784 
div_t
 
	$div
 (
__numî
, 
__díom
)

785 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

786 
ldiv_t
 
	$ldiv
 (
__numî
, 
__díom
)

787 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

788 
__END_NAMESPACE_STD


790 #ifde‡
__USE_ISOC99


791 
__BEGIN_NAMESPACE_C99


792 
__exãnsi⁄__
 
Œdiv_t
 
	$Œdiv
 (
__numî
,

793 
__díom
)

794 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
)Ë
__wur
;

795 
__END_NAMESPACE_C99


799 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

800 || 
deföed
 
__USE_SVID


807 *
	$ecvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

808 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

813 *
	$fcvt
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

814 *
__ª°ri˘
 
__sign
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

819 *
	$gcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

820 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

823 #ifde‡
__USE_MISC


825 *
	$qecvt
 (
__vÆue
, 
__ndigô
,

826 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

827 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

828 *
	$qfcvt
 (
__vÆue
, 
__ndigô
,

829 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
)

830 
__THROW
 
	`__n⁄nuŒ
 ((3, 4)Ë
__wur
;

831 *
	$qgcvt
 (
__vÆue
, 
__ndigô
, *
__buf
)

832 
__THROW
 
	`__n⁄nuŒ
 ((3)Ë
__wur
;

837 
	$ecvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

838 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

839 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

840 
	$fcvt_r
 (
__vÆue
, 
__ndigô
, *
__ª°ri˘
 
__de˝t
,

841 *
__ª°ri˘
 
__sign
, *__ª°ri˘ 
__buf
,

842 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

844 
	$qecvt_r
 (
__vÆue
, 
__ndigô
,

845 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

846 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

847 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

848 
	$qfcvt_r
 (
__vÆue
, 
__ndigô
,

849 *
__ª°ri˘
 
__de˝t
, *__ª°ri˘ 
__sign
,

850 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

851 
__THROW
 
	`__n⁄nuŒ
 ((3, 4, 5));

856 
__BEGIN_NAMESPACE_STD


859 
	$mbÀn
 (c⁄° *
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

862 
	$mbtowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

863 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
 
__wur
;

866 
	$w˘omb
 (*
__s
, 
wch¨_t
 
__wch¨
Ë
__THROW
 
__wur
;

870 
size_t
 
	$mb°owcs
 (
wch¨_t
 *
__ª°ri˘
 
__pwcs
,

871 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
Ë
__THROW
;

873 
size_t
 
	$wc°ombs
 (*
__ª°ri˘
 
__s
,

874 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__pwcs
, 
size_t
 
__n
)

875 
__THROW
;

876 
__END_NAMESPACE_STD


879 #ifde‡
__USE_SVID


884 
	$Ωm©ch
 (c⁄° *
__ª•⁄£
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

888 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


895 
	$gësub›t
 (**
__ª°ri˘
 
__›ti⁄p
,

896 *c⁄° *
__ª°ri˘
 
__tokís
,

897 **
__ª°ri˘
 
__vÆuï
)

898 
__THROW
 
	`__n⁄nuŒ
 ((1, 2, 3)Ë
__wur
;

902 #ifde‡
__USE_XOPEN


904 
	$£tkey
 (c⁄° *
__key
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

910 #ifde‡
__USE_XOPEN2KXSI


912 
	$posix_›í±
 (
__oÊag
Ë
__wur
;

915 #ifde‡
__USE_XOPEN


920 
	$gø¡±
 (
__fd
Ë
__THROW
;

924 
	$u∆ock±
 (
__fd
Ë
__THROW
;

929 *
	$±¢ame
 (
__fd
Ë
__THROW
 
__wur
;

932 #ifde‡
__USE_GNU


936 
	$±¢ame_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

937 
__THROW
 
	`__n⁄nuŒ
 ((2));

940 
	`gë±
 ();

943 #ifde‡
__USE_BSD


947 
	$gëlﬂdavg
 (
__lﬂdavg
[], 
__√Àm
)

948 
__THROW
 
	`__n⁄nuŒ
 ((1));

951 
	~<bôs/°dlib-Êﬂt.h
>

954 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


955 
	~<bôs/°dlib.h
>

957 #ifde‡
__LDBL_COMPAT


958 
	~<bôs/°dlib-ldbl.h
>

962 #unde‡
__√ed_mÆloc_™d_ˇŒoc


964 
__END_DECLS


	@/usr/include/string.h

22 #i‚def 
_STRING_H


23 
	#_STRING_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


30 
	#__√ed_size_t


	)

31 
	#__√ed_NULL


	)

32 
	~<°ddef.h
>

35 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

36 
	#__CORRECT_ISO_CPP_STRING_H_PROTO


	)

40 
__BEGIN_NAMESPACE_STD


42 *
	$mem˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

43 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

46 *
	$memmove
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

48 
__END_NAMESPACE_STD


53 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN


54 *
	$memc˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

55 
__c
, 
size_t
 
__n
)

56 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

60 
__BEGIN_NAMESPACE_STD


62 *
	$mem£t
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

65 
	$memcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

66 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

69 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


72 *
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

73 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

74 c⁄° *
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

75 
__THROW
 
	`__asm
 ("memchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

77 #ifde‡
__OPTIMIZE__


78 
__exã∫_Æways_ölöe
 *

79 
	`memchr
 (*
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


81  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

84 
__exã∫_Æways_ölöe
 const *

85 
	`memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
Ë
__THROW


87  
	`__buûtö_memchr
 (
__s
, 
__c
, 
__n
);

90 
	}
}

92 *
	$memchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

93 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

95 
__END_NAMESPACE_STD


97 #ifde‡
__USE_GNU


100 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


101 "C++" *
	$øwmemchr
 (*
__s
, 
__c
)

102 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

103 "C++" c⁄° *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

104 
__THROW
 
	`__asm
 ("øwmemchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 *
	$øwmemchr
 (c⁄° *
__s
, 
__c
)

107 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

111 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


112 "C++" *
	$memrchr
 (*
__s
, 
__c
, 
size_t
 
__n
)

113 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

114 "C++" c⁄° *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

115 
__THROW
 
	`__asm
 ("memrchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

117 *
	$memrchr
 (c⁄° *
__s
, 
__c
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

123 
__BEGIN_NAMESPACE_STD


125 *
	$°r˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

126 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

128 *
	$°∫˝y
 (*
__ª°ri˘
 
__de°
,

129 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

130 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

133 *
	$°rˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

134 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

136 *
	$°∫ˇt
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
,

137 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

140 
	$°rcmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

141 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

143 
	$°∫cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

144 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

147 
	$°rcﬁl
 (c⁄° *
__s1
, c⁄° *
__s2
)

148 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

150 
size_t
 
	$°rx‰m
 (*
__ª°ri˘
 
__de°
,

151 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
 
	`__n⁄nuŒ
 ((2));

153 
__END_NAMESPACE_STD


155 #ifde‡
__USE_XOPEN2K8


159 
	~<xloˇÀ.h
>

162 
	$°rcﬁl_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__l
)

163 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

165 
size_t
 
	$°rx‰m_l
 (*
__de°
, c⁄° *
__§c
, 
size_t
 
__n
,

166 
__loˇÀ_t
 
__l
Ë
__THROW
 
	`__n⁄nuŒ
 ((2, 4));

169 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 \

170 || 
deföed
 
__USE_XOPEN2K8


172 *
	$°rdup
 (c⁄° *
__s
)

173 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

179 #i‡
deföed
 
__USE_XOPEN2K8


180 *
	$°∫dup
 (c⁄° *
__°rög
, 
size_t
 
__n
)

181 
__THROW
 
__©åibuã_mÆloc__
 
	`__n⁄nuŒ
 ((1));

184 #i‡
deföed
 
__USE_GNU
 && deföed 
__GNUC__


186 
	#°rdu∑
(
s
) \

187 (
__exãnsi⁄__
 \

189 c⁄° *
__ﬁd
 = (
s
); \

190 
size_t
 
__Àn
 = 
	`°æí
 (
__ﬁd
) + 1; \

191 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
); \

192 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

193 
	}
}))

	)

196 
	#°∫du∑
(
s
, 
n
) \

197 (
__exãnsi⁄__
 \

199 c⁄° *
__ﬁd
 = (
s
); \

200 
size_t
 
__Àn
 = 
	`°∫Àn
 (
__ﬁd
, (
n
)); \

201 *
__√w
 = (*Ë
	`__buûtö_Æloˇ
 (
__Àn
 + 1); \

202 
__√w
[
__Àn
] = '\0'; \

203 (*Ë
	`mem˝y
 (
__√w
, 
__ﬁd
, 
__Àn
); \

204 }))

	)

207 
	g__BEGIN_NAMESPACE_STD


209 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


212 *
°rchr
 (*
__s
, 
__c
)

213 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

214 c⁄° *
°rchr
 (c⁄° *
__s
, 
__c
)

215 
__THROW
 
__asm
 ("°rchr"Ë
__©åibuã_puª__
 
__n⁄nuŒ
 ((1));

217 #ifde‡
__OPTIMIZE__


218 
__exã∫_Æways_ölöe
 *

219 
°rchr
 (*
__s
, 
__c
Ë
	g__THROW


221  
__buûtö_°rchr
 (
__s
, 
__c
);

224 
__exã∫_Æways_ölöe
 const *

225 
°rchr
 (c⁄° *
__s
, 
__c
Ë
	g__THROW


227  
__buûtö_°rchr
 (
__s
, 
__c
);

232 *
	$°rchr
 (c⁄° *
__s
, 
__c
)

233 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

236 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


239 *
	`°ºchr
 (*
__s
, 
__c
)

240 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

241 c⁄° *
	`°ºchr
 (c⁄° *
__s
, 
__c
)

242 
__THROW
 
	`__asm
 ("°ºchr"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

244 #ifde‡
__OPTIMIZE__


245 
__exã∫_Æways_ölöe
 *

246 
	`°ºchr
 (*
__s
, 
__c
Ë
__THROW


248  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

251 
__exã∫_Æways_ölöe
 const *

252 
	`°ºchr
 (c⁄° *
__s
, 
__c
Ë
__THROW


254  
	`__buûtö_°ºchr
 (
__s
, 
__c
);

257 
	}
}

259 *
	$°ºchr
 (c⁄° *
__s
, 
__c
)

260 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

262 
__END_NAMESPACE_STD


264 #ifde‡
__USE_GNU


267 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


268 "C++" *
	$°rch∫ul
 (*
__s
, 
__c
)

269 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

270 "C++" c⁄° *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

271 
__THROW
 
	`__asm
 ("°rch∫ul"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

273 *
	$°rch∫ul
 (c⁄° *
__s
, 
__c
)

274 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

278 
__BEGIN_NAMESPACE_STD


281 
size_t
 
	$°rc•n
 (c⁄° *
__s
, c⁄° *
__ªje˘
)

282 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

285 
size_t
 
	$°r•n
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

286 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

288 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


291 *
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
)

292 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

293 c⁄° *
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

294 
__THROW
 
	`__asm
 ("°Ωbrk"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

296 #ifde‡
__OPTIMIZE__


297 
__exã∫_Æways_ölöe
 *

298 
	`°Ωbrk
 (*
__s
, c⁄° *
__ac˚±
Ë
__THROW


300  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

303 
__exã∫_Æways_ölöe
 const *

304 
	`°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
Ë
__THROW


306  
	`__buûtö_°Ωbrk
 (
__s
, 
__ac˚±
);

309 
	}
}

311 *
	$°Ωbrk
 (c⁄° *
__s
, c⁄° *
__ac˚±
)

312 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

315 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


318 *
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

319 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

320 c⁄° *
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

321 
__THROW
 
	`__asm
 ("°r°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

323 #ifde‡
__OPTIMIZE__


324 
__exã∫_Æways_ölöe
 *

325 
	`°r°r
 (*
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


327  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

330 
__exã∫_Æways_ölöe
 const *

331 
	`°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
Ë
__THROW


333  
	`__buûtö_°r°r
 (
__hay°ack
, 
__√edÀ
);

336 
	}
}

338 *
	$°r°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

339 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

344 *
	$°πok
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
)

345 
__THROW
 
	`__n⁄nuŒ
 ((2));

346 
__END_NAMESPACE_STD


350 *
	$__°πok_r
 (*
__ª°ri˘
 
__s
,

351 c⁄° *
__ª°ri˘
 
__dñim
,

352 **
__ª°ri˘
 
__ßve_±r
)

353 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

354 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


355 *
	$°πok_r
 (*
__ª°ri˘
 
__s
, c⁄° *__ª°ri˘ 
__dñim
,

356 **
__ª°ri˘
 
__ßve_±r
)

357 
__THROW
 
	`__n⁄nuŒ
 ((2, 3));

360 #ifde‡
__USE_GNU


362 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


363 "C++" *
	$°rˇ£°r
 (*
__hay°ack
, c⁄° *
__√edÀ
)

364 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

365 "C++" c⁄° *
	$°rˇ£°r
 (c⁄° *
__hay°ack
,

366 c⁄° *
__√edÀ
)

367 
__THROW
 
	`__asm
 ("°rˇ£°r"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

369 *
	$°rˇ£°r
 (c⁄° *
__hay°ack
, c⁄° *
__√edÀ
)

370 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

374 #ifde‡
__USE_GNU


378 *
	$memmem
 (c⁄° *
__hay°ack
, 
size_t
 
__hay°ackÀn
,

379 c⁄° *
__√edÀ
, 
size_t
 
__√edÀÀn
)

380 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 3));

384 *
	$__memp˝y
 (*
__ª°ri˘
 
__de°
,

385 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

386 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

387 *
	$memp˝y
 (*
__ª°ri˘
 
__de°
,

388 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

389 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

393 
__BEGIN_NAMESPACE_STD


395 
size_t
 
	$°æí
 (c⁄° *
__s
)

396 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

397 
__END_NAMESPACE_STD


399 #ifdef 
__USE_XOPEN2K8


402 
size_t
 
	$°∫Àn
 (c⁄° *
__°rög
, 
size_t
 
__maxÀn
)

403 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

407 
__BEGIN_NAMESPACE_STD


409 *
	$°ªº‹
 (
__î∫um
Ë
__THROW
;

410 
__END_NAMESPACE_STD


411 #i‡
deföed
 
__USE_XOPEN2K
 || deföed 
__USE_MISC


419 #i‡
deföed
 
__USE_XOPEN2K
 && !deföed 
__USE_GNU


422 #ifde‡
__REDIRECT_NTH


423 
	`__REDIRECT_NTH
 (
°ªº‹_r
,

424 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
),

425 
__xpg_°ªº‹_r
Ë
	`__n⁄nuŒ
 ((2));

427 
	$__xpg_°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

428 
__THROW
 
	`__n⁄nuŒ
 ((2));

429 
	#°ªº‹_r
 
__xpg_°ªº‹_r


	)

434 *
	$°ªº‹_r
 (
__î∫um
, *
__buf
, 
size_t
 
__buÊí
)

435 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

439 #ifde‡
__USE_XOPEN2K8


441 *
	$°ªº‹_l
 (
__î∫um
, 
__loˇÀ_t
 
__l
Ë
__THROW
;

447 
	$__bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

449 #ifde‡
__USE_BSD


451 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
)

452 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

455 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

458 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

459 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

462 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


465 *
	`ödex
 (*
__s
, 
__c
)

466 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

467 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

468 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

470 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


471 
__exã∫_Æways_ölöe
 *

472 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


474  
	`__buûtö_ödex
 (
__s
, 
__c
);

477 
__exã∫_Æways_ölöe
 const *

478 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


480  
	`__buûtö_ödex
 (
__s
, 
__c
);

483 
	}
}

485 *
	$ödex
 (c⁄° *
__s
, 
__c
)

486 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

490 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


493 *
	`rödex
 (*
__s
, 
__c
)

494 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

495 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

496 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

498 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRINGS_H_PROTO


499 
__exã∫_Æways_ölöe
 *

500 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


502  
	`__buûtö_rödex
 (
__s
, 
__c
);

505 
__exã∫_Æways_ölöe
 const *

506 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


508  
	`__buûtö_rödex
 (
__s
, 
__c
);

511 
	}
}

513 *
	$rödex
 (c⁄° *
__s
, 
__c
)

514 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

519 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

523 #ifdef 
__USE_GNU


524 
	$ff¶
 (
__l
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

525 #ifde‡
__GNUC__


526 
__exãnsi⁄__
 
	$ff¶l
 (
__Œ
)

527 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

532 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

533 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

536 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

537 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

540 #ifdef 
__USE_GNU


543 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

544 
__loˇÀ_t
 
__loc
)

545 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

547 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

548 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

549 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

552 #ifdef 
__USE_BSD


555 *
	$°r£p
 (**
__ª°ri˘
 
__°rögp
,

556 c⁄° *
__ª°ri˘
 
__dñim
)

557 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

560 #ifdef 
__USE_XOPEN2K8


562 *
	$°rsig«l
 (
__sig
Ë
__THROW
;

565 *
	$__°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

566 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

567 *
	$°p˝y
 (*
__ª°ri˘
 
__de°
, c⁄° *__ª°ri˘ 
__§c
)

568 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

572 *
	$__°≤˝y
 (*
__ª°ri˘
 
__de°
,

573 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

575 *
	$°≤˝y
 (*
__ª°ri˘
 
__de°
,

576 c⁄° *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

577 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

580 #ifdef 
__USE_GNU


582 
	$°rvîscmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

583 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2));

586 *
	$°r‰y
 (*
__°rög
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

589 *
	$mem‰ob
 (*
__s
, 
size_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

591 #i‚de‡
ba£«me


596 #ifde‡
__CORRECT_ISO_CPP_STRING_H_PROTO


597 "C++" *
	$ba£«me
 (*
__fûíame
)

598 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

599 "C++" c⁄° *
	$ba£«me
 (c⁄° *
__fûíame
)

600 
__THROW
 
	`__asm
 ("ba£«me"Ë
	`__n⁄nuŒ
 ((1));

602 *
	$ba£«me
 (c⁄° *
__fûíame
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

608 #i‡
deföed
 
__GNUC__
 && __GNUC__ >= 2

609 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__OPTIMIZE_SIZE__
 \

610 && !
deföed
 
__NO_INLINE__
 && !deföed 
__˝lu•lus


630 
	~<bôs/°rög.h
>

633 
	~<bôs/°rög2.h
>

636 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


638 
	~<bôs/°rög3.h
>

642 
__END_DECLS


	@/usr/include/strings.h

19 #i‚def 
_STRINGS_H


20 
	#_STRINGS_H
 1

	)

25 #i‡!
deföed
 
_STRING_H
 || !deföed 
__USE_BSD


27 
	~<„©uªs.h
>

28 
	#__√ed_size_t


	)

29 
	~<°ddef.h
>

32 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

33 
	#__CORRECT_ISO_CPP_STRINGS_H_PROTO


	)

36 
	g__BEGIN_DECLS


38 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8


40 
	$bcmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

41 
__THROW
 
__©åibuã_puª__
;

44 
	$bc›y
 (c⁄° *
__§c
, *
__de°
, 
size_t
 
__n
Ë
__THROW
;

47 
	$bzîo
 (*
__s
, 
size_t
 
__n
Ë
__THROW
;

50 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


53 *
	`ödex
 (*
__s
, 
__c
)

54 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

55 c⁄° *
	`ödex
 (c⁄° *
__s
, 
__c
)

56 
__THROW
 
	`__asm
 ("ödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

58 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


59 
__exã∫_Æways_ölöe
 *

60 
	`ödex
 (*
__s
, 
__c
Ë
__THROW


62  
	`__buûtö_ödex
 (
__s
, 
__c
);

65 
__exã∫_Æways_ölöe
 const *

66 
	`ödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


68  
	`__buûtö_ödex
 (
__s
, 
__c
);

71 
	}
}

73 *
	$ödex
 (c⁄° *
__s
, 
__c
)

74 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

78 #ifde‡
__CORRECT_ISO_CPP_STRINGS_H_PROTO


81 *
	`rödex
 (*
__s
, 
__c
)

82 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

83 c⁄° *
	`rödex
 (c⁄° *
__s
, 
__c
)

84 
__THROW
 
	`__asm
 ("rödex"Ë
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

86 #i‡
deföed
 
__OPTIMIZE__
 && !deföed 
__CORRECT_ISO_CPP_STRING_H_PROTO


87 
__exã∫_Æways_ölöe
 *

88 
	`rödex
 (*
__s
, 
__c
Ë
__THROW


90  
	`__buûtö_rödex
 (
__s
, 
__c
);

93 
__exã∫_Æways_ölöe
 const *

94 
	`rödex
 (c⁄° *
__s
, 
__c
Ë
__THROW


96  
	`__buûtö_rödex
 (
__s
, 
__c
);

99 
	}
}

101 *
	$rödex
 (c⁄° *
__s
, 
__c
)

102 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1));

106 #i‡
deföed
 
__USE_MISC
 || !deföed 
__USE_XOPEN2K8
 || deföed 
__USE_XOPEN2K8XSI


109 
	$ffs
 (
__i
Ë
__THROW
 
	`__©åibuã__
 ((const));

113 
	$°rˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
)

114 
__THROW
 
__©åibuã_puª__
;

117 
	$°∫ˇ£cmp
 (c⁄° *
__s1
, c⁄° *
__s2
, 
size_t
 
__n
)

118 
__THROW
 
__©åibuã_puª__
;

120 #ifdef 
__USE_XOPEN2K8


124 
	~<xloˇÀ.h
>

128 
	$°rˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
, 
__loˇÀ_t
 
__loc
)

129 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 3));

131 
	$°∫ˇ£cmp_l
 (c⁄° *
__s1
, c⁄° *
__s2
,

132 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
)

133 
__THROW
 
__©åibuã_puª__
 
	`__n⁄nuŒ
 ((1, 2, 4));

136 
__END_DECLS


	@/usr/include/syslog.h

1 
	~<sys/sy¶og.h
>

	@/usr/include/time.h

22 #i‚def 
_TIME_H


24 #i‡(! 
deföed
 
__√ed_time_t
 && !deföed 
__√ed_˛ock_t
 && \

25 ! 
deföed
 
	g__√ed_time•ec
)

26 
	#_TIME_H
 1

	)

27 
	~<„©uªs.h
>

29 
	g__BEGIN_DECLS


33 #ifdef 
_TIME_H


35 
	#__√ed_size_t


	)

36 
	#__√ed_NULL


	)

37 
	~<°ddef.h
>

41 
	~<bôs/time.h
>

44 #i‡!
deföed
 
__STRICT_ANSI__
 && !deföed 
__USE_XOPEN2K


45 #i‚de‡
CLK_TCK


46 
	#CLK_TCK
 
CLOCKS_PER_SEC


	)

52 #i‡!
deföed
 
__˛ock_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_˛ock_t
)

53 
	#__˛ock_t_deföed
 1

	)

55 
	~<bôs/ty≥s.h
>

57 
__BEGIN_NAMESPACE_STD


59 
__˛ock_t
 
	t˛ock_t
;

60 
	g__END_NAMESPACE_STD


61 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


62 
	$__USING_NAMESPACE_STD
(
˛ock_t
)

66 #unde‡
__√ed_˛ock_t


68 #i‡!
deföed
 
__time_t_deföed
 && (deföed 
_TIME_H
 || deföed 
__√ed_time_t
)

69 
	#__time_t_deföed
 1

	)

71 
	~<bôs/ty≥s.h
>

73 
__BEGIN_NAMESPACE_STD


75 
__time_t
 
	ttime_t
;

76 
__END_NAMESPACE_STD


77 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC
 || deföed 
__USE_SVID


78 
	$__USING_NAMESPACE_STD
(
time_t
)

82 #unde‡
__√ed_time_t


84 #i‡!
deföed
 
__˛ockid_t_deföed
 && \

85 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_˛ockid_t
)

86 
	#__˛ockid_t_deföed
 1

	)

88 
	~<bôs/ty≥s.h
>

91 
__˛ockid_t
 
	t˛ockid_t
;

94 #unde‡
__˛ockid_time_t


96 #i‡!
deföed
 
__timî_t_deföed
 && \

97 ((
deföed
 
_TIME_H
 && deföed 
__USE_POSIX199309
Ë|| deföed 
__√ed_timî_t
)

98 
	#__timî_t_deföed
 1

	)

100 
	~<bôs/ty≥s.h
>

103 
__timî_t
 
	ttimî_t
;

106 #unde‡
__√ed_timî_t


109 #i‡(!
deföed
 
__time•ec_deföed
 \

110 && ((
deföed
 
_TIME_H
 \

111 && (
deföed
 
__USE_POSIX199309
 || deföed 
__USE_MISC
 \

112 || 
deföed
 
__USE_ISOC11
)) \

113 || 
deföed
 
__√ed_time•ec
))

114 
	#__time•ec_deföed
 1

	)

116 
	~<bôs/ty≥s.h
>

120 
	stime•ec


122 
__time_t
 
tv_£c
;

123 
__sysˇŒ_¶⁄g_t
 
tv_n£c
;

127 #unde‡
__√ed_time•ec


130 #ifdef 
_TIME_H


131 
__BEGIN_NAMESPACE_STD


133 
	stm


135 
tm_£c
;

136 
tm_mö
;

137 
tm_hour
;

138 
tm_mday
;

139 
tm_m⁄
;

140 
tm_yór
;

141 
tm_wday
;

142 
tm_yday
;

143 
tm_isd°
;

145 #ifdef 
__USE_BSD


146 
tm_gmtoff
;

147 c⁄° *
tm_z⁄e
;

149 
__tm_gmtoff
;

150 c⁄° *
__tm_z⁄e
;

153 
__END_NAMESPACE_STD


154 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_POSIX
 || deföed 
__USE_MISC


155 
	$__USING_NAMESPACE_STD
(
tm
)

159 #ifde‡
__USE_POSIX199309


161 
	sôimî•ec


163 
time•ec
 
ô_öãrvÆ
;

164 
time•ec
 
ô_vÆue
;

168 
sigevít
;

172 #ifde‡
__USE_XOPEN2K


173 #i‚de‡
__pid_t_deföed


174 
__pid_t
 
	tpid_t
;

175 
	#__pid_t_deföed


	)

180 #ifde‡
__USE_ISOC11


182 
	#TIME_UTC
 1

	)

186 
__BEGIN_NAMESPACE_STD


189 
˛ock_t
 
	$˛ock
 (Ë
__THROW
;

192 
time_t
 
	$time
 (
time_t
 *
__timî
Ë
__THROW
;

195 
	$dif·ime
 (
time_t
 
__time1
,Åime_à
__time0
)

196 
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

199 
time_t
 
	$mktime
 (
tm
 *
__ç
Ë
__THROW
;

205 
size_t
 
	$°r·ime
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

206 c⁄° *
__ª°ri˘
 
__f‹m©
,

207 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

208 
__END_NAMESPACE_STD


210 #ifde‡
__USE_XOPEN


213 *
	$°Ωtime
 (c⁄° *
__ª°ri˘
 
__s
,

214 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
)

215 
__THROW
;

218 #ifde‡
__USE_XOPEN2K8


221 
	~<xloˇÀ.h
>

223 
size_t
 
	$°r·ime_l
 (*
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

224 c⁄° *
__ª°ri˘
 
__f‹m©
,

225 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

226 
__loˇÀ_t
 
__loc
Ë
__THROW
;

229 #ifde‡
__USE_GNU


230 *
	$°Ωtime_l
 (c⁄° *
__ª°ri˘
 
__s
,

231 c⁄° *
__ª°ri˘
 
__fmt
, 
tm
 *
__ç
,

232 
__loˇÀ_t
 
__loc
Ë
__THROW
;

236 
__BEGIN_NAMESPACE_STD


239 
tm
 *
	$gmtime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

243 
tm
 *
	$loˇ…ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

244 
__END_NAMESPACE_STD


246 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


249 
tm
 *
	$gmtime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

250 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

254 
tm
 *
	$loˇ…ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

255 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

258 
__BEGIN_NAMESPACE_STD


261 *
	$as˘ime
 (c⁄° 
tm
 *
__ç
Ë
__THROW
;

264 *
	$˘ime
 (c⁄° 
time_t
 *
__timî
Ë
__THROW
;

265 
__END_NAMESPACE_STD


267 #i‡
deföed
 
__USE_POSIX
 || deföed 
__USE_MISC


272 *
	$as˘ime_r
 (c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

273 *
__ª°ri˘
 
__buf
Ë
__THROW
;

276 *
	$˘ime_r
 (c⁄° 
time_t
 *
__ª°ri˘
 
__timî
,

277 *
__ª°ri˘
 
__buf
Ë
__THROW
;

282 *
__tz«me
[2];

283 
__daylight
;

284 
__timez⁄e
;

287 #ifdef 
__USE_POSIX


289 *
tz«me
[2];

293 
	$tz£t
 (Ë
__THROW
;

296 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_XOPEN


297 
daylight
;

298 
timez⁄e
;

301 #ifde‡
__USE_SVID


304 
	$°ime
 (c⁄° 
time_t
 *
__whí
Ë
__THROW
;

310 
	#__i¶óp
(
yór
) \

311 ((
yór
Ë% 4 =0 && ((yórË% 100 !0 || (yórË% 400 =0))

	)

314 #ifde‡
__USE_MISC


319 
time_t
 
	$timegm
 (
tm
 *
__ç
Ë
__THROW
;

322 
time_t
 
	$timñoˇl
 (
tm
 *
__ç
Ë
__THROW
;

325 
	$dysize
 (
__yór
Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

329 #ifde‡
__USE_POSIX199309


334 
	`«no¶ìp
 (c⁄° 
time•ec
 *
__ªque°ed_time
,

335 
time•ec
 *
__ªmaöög
);

339 
	$˛ock_gëªs
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ªs
Ë
__THROW
;

342 
	$˛ock_gëtime
 (
˛ockid_t
 
__˛ock_id
, 
time•ec
 *
__ç
Ë
__THROW
;

345 
	$˛ock_£âime
 (
˛ockid_t
 
__˛ock_id
, c⁄° 
time•ec
 *
__ç
)

346 
__THROW
;

348 #ifde‡
__USE_XOPEN2K


353 
	`˛ock_«no¶ìp
 (
˛ockid_t
 
__˛ock_id
, 
__Êags
,

354 c⁄° 
time•ec
 *
__ªq
,

355 
time•ec
 *
__ªm
);

358 
	$˛ock_gë˝u˛ockid
 (
pid_t
 
__pid
, 
˛ockid_t
 *
__˛ock_id
Ë
__THROW
;

363 
	$timî_¸óã
 (
˛ockid_t
 
__˛ock_id
,

364 
sigevít
 *
__ª°ri˘
 
__evp
,

365 
timî_t
 *
__ª°ri˘
 
__timîid
Ë
__THROW
;

368 
	$timî_dñëe
 (
timî_t
 
__timîid
Ë
__THROW
;

371 
	$timî_£âime
 (
timî_t
 
__timîid
, 
__Êags
,

372 c⁄° 
ôimî•ec
 *
__ª°ri˘
 
__vÆue
,

373 
ôimî•ec
 *
__ª°ri˘
 
__ovÆue
Ë
__THROW
;

376 
	$timî_gëtime
 (
timî_t
 
__timîid
, 
ôimî•ec
 *
__vÆue
)

377 
__THROW
;

380 
	$timî_gëovîrun
 (
timî_t
 
__timîid
Ë
__THROW
;

384 #ifde‡
__USE_ISOC11


386 
	$time•ec_gë
 (
time•ec
 *
__ts
, 
__ba£
)

387 
__THROW
 
	`__n⁄nuŒ
 ((1));

391 #ifde‡
__USE_XOPEN_EXTENDED


403 
gëd©e_îr
;

412 
tm
 *
	`gëd©e
 (c⁄° *
__°rög
);

415 #ifde‡
__USE_GNU


426 
	`gëd©e_r
 (c⁄° *
__ª°ri˘
 
__°rög
,

427 
tm
 *
__ª°ri˘
 
__ªsbuÂ
);

430 
__END_DECLS


	@/usr/include/unistd.h

22 #i‚def 
_UNISTD_H


23 
	#_UNISTD_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


32 #ifde‡
__USE_XOPEN2K8


34 
	#_POSIX_VERSION
 200809L

	)

35 #ñi‡
deföed
 
__USE_XOPEN2K


37 
	#_POSIX_VERSION
 200112L

	)

38 #ñi‡
deföed
 
__USE_POSIX199506


40 
	#_POSIX_VERSION
 199506L

	)

41 #ñi‡
deföed
 
__USE_POSIX199309


43 
	#_POSIX_VERSION
 199309L

	)

46 
	#_POSIX_VERSION
 199009L

	)

52 #ifde‡
__USE_XOPEN2K8


53 
	#__POSIX2_THIS_VERSION
 200809L

	)

55 #ñi‡
deföed
 
__USE_XOPEN2K


57 
	#__POSIX2_THIS_VERSION
 200112L

	)

58 #ñi‡
deföed
 
__USE_POSIX199506


60 
	#__POSIX2_THIS_VERSION
 199506L

	)

63 
	#__POSIX2_THIS_VERSION
 199209L

	)

67 
	#_POSIX2_VERSION
 
__POSIX2_THIS_VERSION


	)

71 
	#_POSIX2_C_BIND
 
__POSIX2_THIS_VERSION


	)

75 
	#_POSIX2_C_DEV
 
__POSIX2_THIS_VERSION


	)

79 
	#_POSIX2_SW_DEV
 
__POSIX2_THIS_VERSION


	)

83 
	#_POSIX2_LOCALEDEF
 
__POSIX2_THIS_VERSION


	)

86 #ifde‡
__USE_XOPEN2K8


87 
	#_XOPEN_VERSION
 700

	)

88 #ñi‡
deföed
 
__USE_XOPEN2K


89 
	#_XOPEN_VERSION
 600

	)

90 #ñi‡
deföed
 
__USE_UNIX98


91 
	#_XOPEN_VERSION
 500

	)

93 
	#_XOPEN_VERSION
 4

	)

97 
	#_XOPEN_XCU_VERSION
 4

	)

100 
	#_XOPEN_XPG2
 1

	)

101 
	#_XOPEN_XPG3
 1

	)

102 
	#_XOPEN_XPG4
 1

	)

105 
	#_XOPEN_UNIX
 1

	)

108 
	#_XOPEN_CRYPT
 1

	)

112 
	#_XOPEN_ENH_I18N
 1

	)

115 
	#_XOPEN_LEGACY
 1

	)

202 
	~<bôs/posix_›t.h
>

205 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


206 
	~<bôs/ívú⁄míts.h
>

210 
	#STDIN_FILENO
 0

	)

211 
	#STDOUT_FILENO
 1

	)

212 
	#STDERR_FILENO
 2

	)

217 
	~<bôs/ty≥s.h
>

219 #i‚def 
__ssize_t_deföed


220 
__ssize_t
 
	tssize_t
;

221 
	#__ssize_t_deföed


	)

224 
	#__√ed_size_t


	)

225 
	#__√ed_NULL


	)

226 
	~<°ddef.h
>

228 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


231 #i‚de‡
__gid_t_deföed


232 
__gid_t
 
	tgid_t
;

233 
	#__gid_t_deföed


	)

236 #i‚de‡
__uid_t_deföed


237 
__uid_t
 
	tuid_t
;

238 
	#__uid_t_deföed


	)

241 #i‚de‡
__off_t_deföed


242 #i‚de‡
__USE_FILE_OFFSET64


243 
__off_t
 
	toff_t
;

245 
__off64_t
 
	toff_t
;

247 
	#__off_t_deföed


	)

249 #i‡
deföed
 
__USE_LARGEFILE64
 && !deföed 
__off64_t_deföed


250 
__off64_t
 
	toff64_t
;

251 
	#__off64_t_deföed


	)

254 #i‚de‡
__u£c⁄ds_t_deföed


255 
__u£c⁄ds_t
 
	tu£c⁄ds_t
;

256 
	#__u£c⁄ds_t_deföed


	)

259 #i‚de‡
__pid_t_deföed


260 
__pid_t
 
	tpid_t
;

261 
	#__pid_t_deföed


	)

265 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


266 #i‚de‡
__öçå_t_deföed


267 
__öçå_t
 
	töçå_t
;

268 
	#__öçå_t_deföed


	)

272 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN


273 #i‚de‡
__sockÀn_t_deföed


274 
__sockÀn_t
 
	tsockÀn_t
;

275 
	#__sockÀn_t_deföed


	)

281 
	#R_OK
 4

	)

282 
	#W_OK
 2

	)

283 
	#X_OK
 1

	)

284 
	#F_OK
 0

	)

287 
	$ac˚ss
 (c⁄° *
__«me
, 
__ty≥
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

289 #ifde‡
__USE_GNU


292 
	$euidac˚ss
 (c⁄° *
__«me
, 
__ty≥
)

293 
__THROW
 
	`__n⁄nuŒ
 ((1));

296 
	$óc˚ss
 (c⁄° *
__«me
, 
__ty≥
)

297 
__THROW
 
	`__n⁄nuŒ
 ((1));

300 #ifde‡
__USE_ATFILE


304 
	$Ác˚sßt
 (
__fd
, c⁄° *
__fûe
, 
__ty≥
, 
__Êag
)

305 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

310 #i‚def 
_STDIO_H


311 
	#SEEK_SET
 0

	)

312 
	#SEEK_CUR
 1

	)

313 
	#SEEK_END
 2

	)

314 #ifde‡
__USE_GNU


315 
	#SEEK_DATA
 3

	)

316 
	#SEEK_HOLE
 4

	)

320 #i‡
deföed
 
__USE_BSD
 && !deföed 
L_SET


322 
	#L_SET
 
SEEK_SET


	)

323 
	#L_INCR
 
SEEK_CUR


	)

324 
	#L_XTND
 
SEEK_END


	)

333 #i‚de‡
__USE_FILE_OFFSET64


334 
__off_t
 
	$l£ek
 (
__fd
, 
__off_t
 
__off£t
, 
__whí˚
Ë
__THROW
;

336 #ifde‡
__REDIRECT_NTH


337 
__off64_t
 
	`__REDIRECT_NTH
 (
l£ek
,

338 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
),

339 
l£ek64
);

341 
	#l£ek
 
l£ek64


	)

344 #ifde‡
__USE_LARGEFILE64


345 
__off64_t
 
	$l£ek64
 (
__fd
, 
__off64_t
 
__off£t
, 
__whí˚
)

346 
__THROW
;

353 
	`˛o£
 (
__fd
);

360 
ssize_t
 
	$ªad
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
Ë
__wur
;

366 
ssize_t
 
	$wrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
Ë
__wur
;

368 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K8


369 #i‚de‡
__USE_FILE_OFFSET64


376 
ssize_t
 
	$¥ód
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

377 
__off_t
 
__off£t
Ë
__wur
;

384 
ssize_t
 
	$pwrôe
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

385 
__off_t
 
__off£t
Ë
__wur
;

387 #ifde‡
__REDIRECT


388 
ssize_t
 
	`__REDIRECT
 (
¥ód
, (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

389 
__off64_t
 
__off£t
),

390 
¥ód64
Ë
__wur
;

391 
ssize_t
 
	`__REDIRECT
 (
pwrôe
, (
__fd
, c⁄° *
__buf
,

392 
size_t
 
__nbyãs
, 
__off64_t
 
__off£t
),

393 
pwrôe64
Ë
__wur
;

395 
	#¥ód
 
¥ód64


	)

396 
	#pwrôe
 
pwrôe64


	)

400 #ifde‡
__USE_LARGEFILE64


404 
ssize_t
 
	$¥ód64
 (
__fd
, *
__buf
, 
size_t
 
__nbyãs
,

405 
__off64_t
 
__off£t
Ë
__wur
;

408 
ssize_t
 
	$pwrôe64
 (
__fd
, c⁄° *
__buf
, 
size_t
 
__n
,

409 
__off64_t
 
__off£t
Ë
__wur
;

417 
	$pùe
 (
__pùedes
[2]Ë
__THROW
 
__wur
;

419 #ifde‡
__USE_GNU


422 
	$pùe2
 (
__pùedes
[2], 
__Êags
Ë
__THROW
 
__wur
;

432 
	$Æ¨m
 (
__£c⁄ds
Ë
__THROW
;

444 
	`¶ìp
 (
__£c⁄ds
);

446 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

447 || 
deföed
 
__USE_BSD


452 
__u£c⁄ds_t
 
	$uÆ¨m
 (
__u£c⁄ds_t
 
__vÆue
, __u£c⁄ds_à
__öãrvÆ
)

453 
__THROW
;

460 
	`u¶ìp
 (
__u£c⁄ds_t
 
__u£c⁄ds
);

469 
	`∑u£
 ();

473 
	$chown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

474 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

476 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


478 
	$fchown
 (
__fd
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
Ë
__THROW
 
__wur
;

483 
	$lchown
 (c⁄° *
__fûe
, 
__uid_t
 
__ow√r
, 
__gid_t
 
__group
)

484 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

488 #ifde‡
__USE_ATFILE


491 
	$fchow«t
 (
__fd
, c⁄° *
__fûe
, 
__uid_t
 
__ow√r
,

492 
__gid_t
 
__group
, 
__Êag
)

493 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

497 
	$chdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

499 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


501 
	$fchdú
 (
__fd
Ë
__THROW
 
__wur
;

511 *
	$gëcwd
 (*
__buf
, 
size_t
 
__size
Ë
__THROW
 
__wur
;

513 #ifdef 
__USE_GNU


517 *
	$gë_cuºít_dú_«me
 (Ë
__THROW
;

520 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

521 || 
deföed
 
__USE_BSD


525 *
	$gëwd
 (*
__buf
)

526 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__©åibuã_dïªˇãd__
 
__wur
;

531 
	$dup
 (
__fd
Ë
__THROW
 
__wur
;

534 
	$dup2
 (
__fd
, 
__fd2
Ë
__THROW
;

536 #ifde‡
__USE_GNU


539 
	$dup3
 (
__fd
, 
__fd2
, 
__Êags
Ë
__THROW
;

543 **
__ívú⁄
;

544 #ifde‡
__USE_GNU


545 **
ívú⁄
;

551 
	$execve
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[],

552 *c⁄° 
__ívp
[]Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

554 #ifde‡
__USE_XOPEN2K8


557 
	$„xecve
 (
__fd
, *c⁄° 
__¨gv
[], *c⁄° 
__ívp
[])

558 
__THROW
 
	`__n⁄nuŒ
 ((2));

563 
	$execv
 (c⁄° *
__∑th
, *c⁄° 
__¨gv
[])

564 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

568 
	$exe˛e
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

569 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

573 
	$exe˛
 (c⁄° *
__∑th
, c⁄° *
__¨g
, ...)

574 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

578 
	$execvp
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[])

579 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

584 
	$exe˛p
 (c⁄° *
__fûe
, c⁄° *
__¨g
, ...)

585 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

587 #ifde‡
__USE_GNU


590 
	$execv≥
 (c⁄° *
__fûe
, *c⁄° 
__¨gv
[],

591 *c⁄° 
__ívp
[])

592 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

596 #i‡
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN


598 
	$ni˚
 (
__öc
Ë
__THROW
 
__wur
;

603 
	$_exô
 (
__°©us
Ë
	`__©åibuã__
 ((
__n‹ëu∫__
));

609 
	~<bôs/c⁄‚ame.h
>

612 
	$∑thc⁄f
 (c⁄° *
__∑th
, 
__«me
)

613 
__THROW
 
	`__n⁄nuŒ
 ((1));

616 
	$Â©hc⁄f
 (
__fd
, 
__«me
Ë
__THROW
;

619 
	$sysc⁄f
 (
__«me
Ë
__THROW
;

621 #ifdef 
__USE_POSIX2


623 
size_t
 
	$c⁄f°r
 (
__«me
, *
__buf
, 
size_t
 
__Àn
Ë
__THROW
;

628 
__pid_t
 
	$gëpid
 (Ë
__THROW
;

631 
__pid_t
 
	$gëµid
 (Ë
__THROW
;

635 #i‚de‡
__FAVOR_BSD


636 
__pid_t
 
	$gëpgΩ
 (Ë
__THROW
;

638 #ifde‡
__REDIRECT_NTH


639 
__pid_t
 
	`__REDIRECT_NTH
 (
gëpgΩ
, (__pid_à
__pid
), 
__gëpgid
);

641 
	#gëpgΩ
 
__gëpgid


	)

646 
__pid_t
 
	$__gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

647 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


648 
__pid_t
 
	$gëpgid
 (
__pid_t
 
__pid
Ë
__THROW
;

655 
	$£çgid
 (
__pid_t
 
__pid
, __pid_à
__pgid
Ë
__THROW
;

657 #i‡
deföed
 
__USE_SVID
 || deföed 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


668 #i‚de‡
__FAVOR_BSD


672 
	$£çgΩ
 (Ë
__THROW
;

677 #ifde‡
__REDIRECT_NTH


678 
	`__REDIRECT_NTH
 (
£çgΩ
, (
__pid_t
 
__pid
, __pid_à
__pgΩ
), 
£çgid
);

680 
	#£çgΩ
 
£çgid


	)

689 
__pid_t
 
	$£tsid
 (Ë
__THROW
;

691 #i‡
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


693 
__pid_t
 
	$gësid
 (
__pid_t
 
__pid
Ë
__THROW
;

697 
__uid_t
 
	$gëuid
 (Ë
__THROW
;

700 
__uid_t
 
	$gëeuid
 (Ë
__THROW
;

703 
__gid_t
 
	$gëgid
 (Ë
__THROW
;

706 
__gid_t
 
	$gëegid
 (Ë
__THROW
;

711 
	$gëgroups
 (
__size
, 
__gid_t
 
__li°
[]Ë
__THROW
 
__wur
;

713 #ifdef 
__USE_GNU


715 
	$group_membî
 (
__gid_t
 
__gid
Ë
__THROW
;

722 
	$£tuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

724 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


727 
	$£åeuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
Ë
__THROW
 
__wur
;

730 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


732 
	$£ãuid
 (
__uid_t
 
__uid
Ë
__THROW
 
__wur
;

739 
	$£tgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

741 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


744 
	$£åegid
 (
__gid_t
 
__rgid
, __gid_à
__egid
Ë
__THROW
 
__wur
;

747 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN2K


749 
	$£ãgid
 (
__gid_t
 
__gid
Ë
__THROW
 
__wur
;

752 #ifde‡
__USE_GNU


755 
	$gëªsuid
 (
__uid_t
 *
__ruid
, __uid_à*
__euid
, __uid_à*
__suid
)

756 
__THROW
;

760 
	$gëªsgid
 (
__gid_t
 *
__rgid
, __gid_à*
__egid
, __gid_à*
__sgid
)

761 
__THROW
;

765 
	$£åesuid
 (
__uid_t
 
__ruid
, __uid_à
__euid
, __uid_à
__suid
)

766 
__THROW
 
__wur
;

770 
	$£åesgid
 (
__gid_t
 
__rgid
, __gid_à
__egid
, __gid_à
__sgid
)

771 
__THROW
 
__wur
;

778 
__pid_t
 
	$f‹k
 (Ë
__THROWNL
;

780 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K8
) \

781 || 
deföed
 
__USE_BSD


786 
__pid_t
 
	$vf‹k
 (Ë
__THROW
;

792 *
	$ây«me
 (
__fd
Ë
__THROW
;

796 
	$ây«me_r
 (
__fd
, *
__buf
, 
size_t
 
__buÊí
)

797 
__THROW
 
	`__n⁄nuŒ
 ((2)Ë
__wur
;

801 
	$ißây
 (
__fd
Ë
__THROW
;

803 #i‡
deföed
 
__USE_BSD
 \

804 || (
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_UNIX98
)

807 
	$ây¶Ÿ
 (Ë
__THROW
;

812 
	$lök
 (c⁄° *
__‰om
, c⁄° *
__to
)

813 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

815 #ifde‡
__USE_ATFILE


818 
	$lök©
 (
__‰omfd
, c⁄° *
__‰om
, 
__tofd
,

819 c⁄° *
__to
, 
__Êags
)

820 
__THROW
 
	`__n⁄nuŒ
 ((2, 4)Ë
__wur
;

823 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


825 
	$symlök
 (c⁄° *
__‰om
, c⁄° *
__to
)

826 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

831 
ssize_t
 
	$ªadlök
 (c⁄° *
__ª°ri˘
 
__∑th
,

832 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

833 
__THROW
 
	`__n⁄nuŒ
 ((1, 2)Ë
__wur
;

836 #ifde‡
__USE_ATFILE


838 
	$symlök©
 (c⁄° *
__‰om
, 
__tofd
,

839 c⁄° *
__to
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 3)Ë
__wur
;

842 
ssize_t
 
	$ªadlök©
 (
__fd
, c⁄° *
__ª°ri˘
 
__∑th
,

843 *
__ª°ri˘
 
__buf
, 
size_t
 
__Àn
)

844 
__THROW
 
	`__n⁄nuŒ
 ((2, 3)Ë
__wur
;

848 
	$u∆ök
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

850 #ifde‡
__USE_ATFILE


852 
	$u∆ök©
 (
__fd
, c⁄° *
__«me
, 
__Êag
)

853 
__THROW
 
	`__n⁄nuŒ
 ((2));

857 
	$rmdú
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

861 
__pid_t
 
	$tcgëpgΩ
 (
__fd
Ë
__THROW
;

864 
	$tc£çgΩ
 (
__fd
, 
__pid_t
 
__pgΩ_id
Ë
__THROW
;

871 *
	`gëlogö
 ();

872 #i‡
deföed
 
__USE_REENTRANT
 || deföed 
__USE_POSIX199506


879 
	$gëlogö_r
 (*
__«me
, 
size_t
 
__«me_Àn
Ë
	`__n⁄nuŒ
 ((1));

882 #ifdef 
__USE_BSD


884 
	$£éogö
 (c⁄° *
__«me
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

888 #ifdef 
__USE_POSIX2


892 
	#__√ed_gë›t


	)

893 
	~<gë›t.h
>

897 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


901 
	$gëho°«me
 (*
__«me
, 
size_t
 
__Àn
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

905 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_UNIX98
)

908 
	$£tho°«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

909 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

913 
	$£tho°id
 (
__id
Ë
__THROW
 
__wur
;

919 
	$gëdomaö«me
 (*
__«me
, 
size_t
 
__Àn
)

920 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

921 
	$£tdomaö«me
 (c⁄° *
__«me
, 
size_t
 
__Àn
)

922 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

928 
	$vh™gup
 (Ë
__THROW
;

931 
	$ªvoke
 (c⁄° *
__fûe
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

939 
	$¥ofû
 (*
__ßm∂e_buf„r
, 
size_t
 
__size
,

940 
size_t
 
__off£t
, 
__sˇÀ
)

941 
__THROW
 
	`__n⁄nuŒ
 ((1));

947 
	$ac˘
 (c⁄° *
__«me
Ë
__THROW
;

951 *
	$gëu£rshñl
 (Ë
__THROW
;

952 
	$ídu£rshñl
 (Ë
__THROW
;

953 
	$£tu£rshñl
 (Ë
__THROW
;

959 
	$d´m⁄
 (
__nochdú
, 
__no˛o£
Ë
__THROW
 
__wur
;

963 #i‡
deföed
 
__USE_BSD
 || (deföed 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K
)

966 
	$chroŸ
 (c⁄° *
__∑th
Ë
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

970 *
	$gë∑ss
 (c⁄° *
__¥om±
Ë
	`__n⁄nuŒ
 ((1));

978 
	`fsync
 (
__fd
);

981 #ifde‡
__USE_GNU


984 
	$syncfs
 (
__fd
Ë
__THROW
;

988 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED


991 
	`gëho°id
 ();

994 
	$sync
 (Ë
__THROW
;

997 #i‡
deföed
 
__USE_BSD
 || !deföed 
__USE_XOPEN2K


1000 
	$gë∑gesize
 (Ë
__THROW
 
	`__©åibuã__
 ((
__c⁄°__
));

1005 
	$gëdèbÀsize
 (Ë
__THROW
;

1011 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K8


1014 #i‚de‡
__USE_FILE_OFFSET64


1015 
	$åunˇã
 (c⁄° *
__fûe
, 
__off_t
 
__Àngth
)

1016 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1018 #ifde‡
__REDIRECT_NTH


1019 
	`__REDIRECT_NTH
 (
åunˇã
,

1020 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
),

1021 
åunˇã64
Ë
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1023 
	#åunˇã
 
åunˇã64


	)

1026 #ifde‡
__USE_LARGEFILE64


1027 
	$åunˇã64
 (c⁄° *
__fûe
, 
__off64_t
 
__Àngth
)

1028 
__THROW
 
	`__n⁄nuŒ
 ((1)Ë
__wur
;

1033 #i‡
deföed
 
__USE_BSD
 || deföed 
__USE_POSIX199309
 \

1034 || 
deföed
 
__USE_XOPEN_EXTENDED
 || deföed 
__USE_XOPEN2K


1037 #i‚de‡
__USE_FILE_OFFSET64


1038 
	$·runˇã
 (
__fd
, 
__off_t
 
__Àngth
Ë
__THROW
 
__wur
;

1040 #ifde‡
__REDIRECT_NTH


1041 
	`__REDIRECT_NTH
 (
·runˇã
, (
__fd
, 
__off64_t
 
__Àngth
),

1042 
·runˇã64
Ë
__wur
;

1044 
	#·runˇã
 
·runˇã64


	)

1047 #ifde‡
__USE_LARGEFILE64


1048 
	$·runˇã64
 (
__fd
, 
__off64_t
 
__Àngth
Ë
__THROW
 
__wur
;

1054 #i‡(
deföed
 
__USE_XOPEN_EXTENDED
 && !deföed 
__USE_XOPEN2K
) \

1055 || 
deföed
 
__USE_MISC


1059 
	$brk
 (*
__addr
Ë
__THROW
 
__wur
;

1065 *
	$sbrk
 (
öçå_t
 
__dñè
Ë
__THROW
;

1069 #ifde‡
__USE_MISC


1080 
	$sysˇŒ
 (
__sy¢o
, ...Ë
__THROW
;

1085 #i‡(
deföed
 
__USE_MISC
 || deföed 
__USE_XOPEN_EXTENDED
Ë&& !deföed 
F_LOCK


1097 
	#F_ULOCK
 0

	)

1098 
	#F_LOCK
 1

	)

1099 
	#F_TLOCK
 2

	)

1100 
	#F_TEST
 3

	)

1102 #i‚de‡
__USE_FILE_OFFSET64


1103 
	$lockf
 (
__fd
, 
__cmd
, 
__off_t
 
__Àn
Ë
__wur
;

1105 #ifde‡
__REDIRECT


1106 
	`__REDIRECT
 (
lockf
, (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
),

1107 
lockf64
Ë
__wur
;

1109 
	#lockf
 
lockf64


	)

1112 #ifde‡
__USE_LARGEFILE64


1113 
	$lockf64
 (
__fd
, 
__cmd
, 
__off64_t
 
__Àn
Ë
__wur
;

1118 #ifde‡
__USE_GNU


1123 
	#TEMP_FAILURE_RETRY
(
ex¥essi⁄
) \

1124 (
__exãnsi⁄__
 \

1125 ({ 
__ªsu…
; \

1126 dÿ
__ªsu…
 = (Ë(
ex¥essi⁄
); \

1127 
__ªsu…
 =-1L && 
î∫o
 =
EINTR
); \

1128 
__ªsu…
; 
	}
}))

	)

1131 #i‡
deföed
 
__USE_POSIX199309
 || deföed 
__USE_UNIX98


1134 
fd©async
 (
__fûdes
);

1140 #ifdef 
__USE_XOPEN


1142 *
	$¸y±
 (c⁄° *
__key
, c⁄° *
__ß…
)

1143 
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1147 
	$í¸y±
 (*
__libc_block
, 
__edÊag
Ë
__THROW
 
	`__n⁄nuŒ
 ((1));

1154 
	$swab
 (c⁄° *
__ª°ri˘
 
__‰om
, *__ª°ri˘ 
__to
,

1155 
ssize_t
 
__n
Ë
__THROW
 
	`__n⁄nuŒ
 ((1, 2));

1161 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_XOPEN2K


1163 *
	$˘îmid
 (*
__s
Ë
__THROW
;

1168 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


1169 
	~<bôs/uni°d.h
>

1172 
__END_DECLS


	@/usr/include/zlib.h

31 #i‚de‡
ZLIB_H


32 
	#ZLIB_H


	)

34 
	~"zc⁄f.h
"

36 #ifde‡
__˝lu•lus


40 
	#ZLIB_VERSION
 "1.2.7"

	)

41 
	#ZLIB_VERNUM
 0x1270

	)

42 
	#ZLIB_VER_MAJOR
 1

	)

43 
	#ZLIB_VER_MINOR
 2

	)

44 
	#ZLIB_VER_REVISION
 7

	)

45 
	#ZLIB_VER_SUBREVISION
 0

	)

80 
voidpf
 (*
	tÆloc_func
Ë
	tOF
((
	tvoidpf
 
	t›aque
, 
	tuI¡
 
	tôems
, uI¡ 
	tsize
));

81 (*
‰ì_func
Ë
	tOF
((
	tvoidpf
 
	t›aque
, voidp‡
	taddªss
));

83 
öã∫Æ_°©e
;

85 
	sz_°ªam_s
 {

86 
z_c⁄°
 
Byãf
 *
√xt_ö
;

87 
uI¡
 
avaû_ö
;

88 
uL⁄g
 
tŸÆ_ö
;

90 
Byãf
 *
√xt_out
;

91 
uI¡
 
avaû_out
;

92 
uL⁄g
 
tŸÆ_out
;

94 
z_c⁄°
 *
msg
;

95 
öã∫Æ_°©e
 
FAR
 *
°©e
;

97 
Æloc_func
 
zÆloc
;

98 
‰ì_func
 
z‰ì
;

99 
voidpf
 
›aque
;

101 
d©a_ty≥
;

102 
uL⁄g
 
adÀr
;

103 
uL⁄g
 
ª£rved
;

104 } 
	tz_°ªam
;

106 
z_°ªam
 
	tFAR
 *
	tz_°ªamp
;

112 
	sgz_hódî_s
 {

113 
ãxt
;

114 
uL⁄g
 
time
;

115 
xÊags
;

116 
os
;

117 
Byãf
 *
exåa
;

118 
uI¡
 
exåa_Àn
;

119 
uI¡
 
exåa_max
;

120 
Byãf
 *
«me
;

121 
uI¡
 
«me_max
;

122 
Byãf
 *
commít
;

123 
uI¡
 
comm_max
;

124 
h¸c
;

125 
d⁄e
;

127 } 
	tgz_hódî
;

129 
gz_hódî
 
	tFAR
 *
	tgz_hódîp
;

164 
	#Z_NO_FLUSH
 0

	)

165 
	#Z_PARTIAL_FLUSH
 1

	)

166 
	#Z_SYNC_FLUSH
 2

	)

167 
	#Z_FULL_FLUSH
 3

	)

168 
	#Z_FINISH
 4

	)

169 
	#Z_BLOCK
 5

	)

170 
	#Z_TREES
 6

	)

173 
	#Z_OK
 0

	)

174 
	#Z_STREAM_END
 1

	)

175 
	#Z_NEED_DICT
 2

	)

176 
	#Z_ERRNO
 (-1)

	)

177 
	#Z_STREAM_ERROR
 (-2)

	)

178 
	#Z_DATA_ERROR
 (-3)

	)

179 
	#Z_MEM_ERROR
 (-4)

	)

180 
	#Z_BUF_ERROR
 (-5)

	)

181 
	#Z_VERSION_ERROR
 (-6)

	)

186 
	#Z_NO_COMPRESSION
 0

	)

187 
	#Z_BEST_SPEED
 1

	)

188 
	#Z_BEST_COMPRESSION
 9

	)

189 
	#Z_DEFAULT_COMPRESSION
 (-1)

	)

192 
	#Z_FILTERED
 1

	)

193 
	#Z_HUFFMAN_ONLY
 2

	)

194 
	#Z_RLE
 3

	)

195 
	#Z_FIXED
 4

	)

196 
	#Z_DEFAULT_STRATEGY
 0

	)

199 
	#Z_BINARY
 0

	)

200 
	#Z_TEXT
 1

	)

201 
	#Z_ASCII
 
Z_TEXT


	)

202 
	#Z_UNKNOWN
 2

	)

205 
	#Z_DEFLATED
 8

	)

208 
	#Z_NULL
 0

	)

210 
	#zlib_vîsi⁄
 
	`zlibVîsi⁄
()

	)

216 
ZEXTERN
 c⁄° * 
ZEXPORT
 
zlibVîsi⁄
 
OF
(());

246 
ZEXTERN
 
ZEXPORT
 
deÊ©e
 
OF
((
z_°ªamp
 
°rm
, 
Êush
));

353 
ZEXTERN
 
ZEXPORT
 
deÊ©eEnd
 
OF
((
z_°ªamp
 
°rm
));

392 
ZEXTERN
 
ZEXPORT
 
öÊ©e
 
OF
((
z_°ªamp
 
°rm
, 
Êush
));

508 
ZEXTERN
 
ZEXPORT
 
öÊ©eEnd
 
OF
((
z_°ªamp
 
°rm
));

587 
ZEXTERN
 
ZEXPORT
 
deÊ©eSëDi˘i⁄¨y
 
OF
((
z_°ªamp
 
°rm
,

588 c⁄° 
Byãf
 *
di˘i⁄¨y
,

589 
uI¡
 
di˘Lígth
));

631 
ZEXTERN
 
ZEXPORT
 
deÊ©eC›y
 
OF
((
z_°ªamp
 
de°
,

632 
z_°ªamp
 
sour˚
));

649 
ZEXTERN
 
ZEXPORT
 
deÊ©eRe£t
 
OF
((
z_°ªamp
 
°rm
));

660 
ZEXTERN
 
ZEXPORT
 
deÊ©eP¨ams
 
OF
((
z_°ªamp
 
°rm
,

661 
Àvñ
,

662 
°øãgy
));

681 
ZEXTERN
 
ZEXPORT
 
deÊ©eTu√
 
OF
((
z_°ªamp
 
°rm
,

682 
good_Àngth
,

683 
max_œzy
,

684 
ni˚_Àngth
,

685 
max_chaö
));

698 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
deÊ©eBound
 
OF
((
z_°ªamp
 
°rm
,

699 
uL⁄g
 
sour˚Lí
));

713 
ZEXTERN
 
ZEXPORT
 
deÊ©ePídög
 
OF
((
z_°ªamp
 
°rm
,

714 *
≥ndög
,

715 *
bôs
));

728 
ZEXTERN
 
ZEXPORT
 
deÊ©ePrime
 
OF
((
z_°ªamp
 
°rm
,

729 
bôs
,

730 
vÆue
));

745 
ZEXTERN
 
ZEXPORT
 
deÊ©eSëHódî
 
OF
((
z_°ªamp
 
°rm
,

746 
gz_hódîp
 
hód
));

819 
ZEXTERN
 
ZEXPORT
 
öÊ©eSëDi˘i⁄¨y
 
OF
((
z_°ªamp
 
°rm
,

820 c⁄° 
Byãf
 *
di˘i⁄¨y
,

821 
uI¡
 
di˘Lígth
));

842 
ZEXTERN
 
ZEXPORT
 
öÊ©eSync
 
OF
((
z_°ªamp
 
°rm
));

861 
ZEXTERN
 
ZEXPORT
 
öÊ©eC›y
 
OF
((
z_°ªamp
 
de°
,

862 
z_°ªamp
 
sour˚
));

877 
ZEXTERN
 
ZEXPORT
 
öÊ©eRe£t
 
OF
((
z_°ªamp
 
°rm
));

887 
ZEXTERN
 
ZEXPORT
 
öÊ©eRe£t2
 
OF
((
z_°ªamp
 
°rm
,

888 
wödowBôs
));

899 
ZEXTERN
 
ZEXPORT
 
öÊ©ePrime
 
OF
((
z_°ªamp
 
°rm
,

900 
bôs
,

901 
vÆue
));

920 
ZEXTERN
 
ZEXPORT
 
öÊ©eM¨k
 
OF
((
z_°ªamp
 
°rm
));

948 
ZEXTERN
 
ZEXPORT
 
öÊ©eGëHódî
 
OF
((
z_°ªamp
 
°rm
,

949 
gz_hódîp
 
hód
));

1010 (*
ö_func
Ë
	tOF
((
	tFAR
 *, FAR * FAR *));

1011 (*
out_func
Ë
	tOF
((
	tFAR
 *, FAR *, ));

1013 
ZEXTERN
 
ZEXPORT
 
öÊ©eBack
 
OF
((
z_°ªamp
 
°rm
,

1014 
ö_func
 
ö
, 
FAR
 *
ö_desc
,

1015 
out_func
 
out
, 
FAR
 *
out_desc
));

1082 
ZEXTERN
 
ZEXPORT
 
öÊ©eBackEnd
 
OF
((
z_°ªamp
 
°rm
));

1090 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
zlibCompûeFœgs
 
OF
(());

1131 #i‚de‡
Z_SOLO


1143 
ZEXTERN
 
ZEXPORT
 
com¥ess
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1144 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
));

1157 
ZEXTERN
 
ZEXPORT
 
com¥ess2
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1158 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
,

1159 
Àvñ
));

1173 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
com¥essBound
 
OF
((uL⁄g 
sour˚Lí
));

1180 
ZEXTERN
 
ZEXPORT
 
uncom¥ess
 
OF
((
Byãf
 *
de°
, 
uL⁄gf
 *
de°Lí
,

1181 c⁄° 
Byãf
 *
sour˚
, 
uL⁄g
 
sour˚Lí
));

1207 
gzFûe_s
 *
	tgzFûe
;

1247 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gzd›í
 
OF
((
fd
, c⁄° *
mode
));

1270 
ZEXTERN
 
ZEXPORT
 
gzbuf„r
 
OF
((
gzFûe
 
fûe
, 
size
));

1287 
ZEXTERN
 
ZEXPORT
 
gz£ç¨ams
 
OF
((
gzFûe
 
fûe
, 
Àvñ
, 
°øãgy
));

1296 
ZEXTERN
 
ZEXPORT
 
gzªad
 
OF
((
gzFûe
 
fûe
, 
voidp
 
buf
, 
Àn
));

1324 
ZEXTERN
 
ZEXPORT
 
gzwrôe
 
OF
((
gzFûe
 
fûe
,

1325 
voidpc
 
buf
, 
Àn
));

1332 
ZEXTERN
 
ZEXPORTVA
 
gz¥ötf
 
Z_ARG
((
gzFûe
 
fûe
, c⁄° *
f‹m©
, ...));

1347 
ZEXTERN
 
ZEXPORT
 
gzputs
 
OF
((
gzFûe
 
fûe
, c⁄° *
s
));

1355 
ZEXTERN
 * 
ZEXPORT
 
gzgës
 
OF
((
gzFûe
 
fûe
, *
buf
, 
Àn
));

1368 
ZEXTERN
 
ZEXPORT
 
gzputc
 
OF
((
gzFûe
 
fûe
, 
c
));

1374 
ZEXTERN
 
ZEXPORT
 
gzgëc
 
OF
((
gzFûe
 
fûe
));

1383 
ZEXTERN
 
ZEXPORT
 
gzungëc
 
OF
((
c
, 
gzFûe
 
fûe
));

1395 
ZEXTERN
 
ZEXPORT
 
gzÊush
 
OF
((
gzFûe
 
fûe
, 
Êush
));

1430 
ZEXTERN
 
ZEXPORT
 
gzªwöd
 
OF
((
gzFûe
 
fûe
));

1458 
ZEXTERN
 
ZEXPORT
 
gzeof
 
OF
((
gzFûe
 
fûe
));

1473 
ZEXTERN
 
ZEXPORT
 
gzdúe˘
 
OF
((
gzFûe
 
fûe
));

1494 
ZEXTERN
 
ZEXPORT
 
gz˛o£
 
OF
((
gzFûe
 
fûe
));

1507 
ZEXTERN
 
ZEXPORT
 
gz˛o£_r
 
OF
((
gzFûe
 
fûe
));

1508 
ZEXTERN
 
ZEXPORT
 
gz˛o£_w
 
OF
((
gzFûe
 
fûe
));

1519 
ZEXTERN
 c⁄° * 
ZEXPORT
 
gzîr‹
 
OF
((
gzFûe
 
fûe
, *
î∫um
));

1535 
ZEXTERN
 
ZEXPORT
 
gz˛óªº
 
OF
((
gzFûe
 
fûe
));

1552 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32
 
OF
((uL⁄g 
adÀr
, c⁄° 
Byãf
 *
buf
, 
uI¡
 
Àn
));

1583 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32
 
OF
((uL⁄g 
¸c
, c⁄° 
Byãf
 *
buf
, 
uI¡
 
Àn
));

1616 
ZEXTERN
 
ZEXPORT
 
deÊ©eInô_
 
OF
((
z_°ªamp
 
°rm
, 
Àvñ
,

1617 c⁄° *
vîsi⁄
, 
°ªam_size
));

1618 
ZEXTERN
 
ZEXPORT
 
öÊ©eInô_
 
OF
((
z_°ªamp
 
°rm
,

1619 c⁄° *
vîsi⁄
, 
°ªam_size
));

1620 
ZEXTERN
 
ZEXPORT
 
deÊ©eInô2_
 
OF
((
z_°ªamp
 
°rm
, 
Àvñ
, 
mëhod
,

1621 
wödowBôs
, 
memLevñ
,

1622 
°øãgy
, c⁄° *
vîsi⁄
,

1623 
°ªam_size
));

1624 
ZEXTERN
 
ZEXPORT
 
öÊ©eInô2_
 
OF
((
z_°ªamp
 
°rm
, 
wödowBôs
,

1625 c⁄° *
vîsi⁄
, 
°ªam_size
));

1626 
ZEXTERN
 
ZEXPORT
 
öÊ©eBackInô_
 
OF
((
z_°ªamp
 
°rm
, 
wödowBôs
,

1627 
FAR
 *
wödow
,

1628 c⁄° *
vîsi⁄
,

1629 
°ªam_size
));

1630 
	#deÊ©eInô
(
°rm
, 
Àvñ
) \

1631 
	`deÊ©eInô_
((
°rm
), (
Àvñ
), 
ZLIB_VERSION
, ()(
z_°ªam
))

	)

1632 
	#öÊ©eInô
(
°rm
) \

1633 
	`öÊ©eInô_
((
°rm
), 
ZLIB_VERSION
, ()(
z_°ªam
))

	)

1634 
	#deÊ©eInô2
(
°rm
, 
Àvñ
, 
mëhod
, 
wödowBôs
, 
memLevñ
, 
°øãgy
) \

1635 
	`deÊ©eInô2_
((
°rm
),(
Àvñ
),(
mëhod
),(
wödowBôs
),(
memLevñ
),\

1636 (
°øãgy
), 
ZLIB_VERSION
, ()(
z_°ªam
))

	)

1637 
	#öÊ©eInô2
(
°rm
, 
wödowBôs
) \

1638 
	`öÊ©eInô2_
((
°rm
), (
wödowBôs
), 
ZLIB_VERSION
, \

1639 ()(
z_°ªam
))

	)

1640 
	#öÊ©eBackInô
(
°rm
, 
wödowBôs
, 
wödow
) \

1641 
	`öÊ©eBackInô_
((
°rm
), (
wödowBôs
), (
wödow
), \

1642 
ZLIB_VERSION
, ()(
z_°ªam
))

	)

1644 #i‚de‡
Z_SOLO


1653 
	sgzFûe_s
 {

1654 
have
;

1655 *
√xt
;

1656 
z_off64_t
 
pos
;

1658 
ZEXTERN
 
ZEXPORT
 
gzgëc_
 
OF
((
gzFûe
 
fûe
));

1659 #ifde‡
Z_PREFIX_SET


1660 #unde‡
z_gzgëc


1661 
	#z_gzgëc
(
g
) \

1662 ((
g
)->
have
 ? ((g)->have--, (g)->
pos
++, *((g)->
√xt
)++Ë: 
	`gzgëc
(g))

	)

1664 
	#gzgëc
(
g
) \

1665 ((
g
)->
have
 ? ((g)->have--, (g)->
pos
++, *((g)->
√xt
)++Ë: 
	`gzgëc
(g))

	)

1674 #ifde‡
Z_LARGE64


1675 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í64
 
OF
((const *, const *));

1676 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFûe
, z_off64_t, ));

1677 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gzãŒ64
 
OF
((
gzFûe
));

1678 
ZEXTERN
 
z_off64_t
 
ZEXPORT
 
gzoff£t64
 
OF
((
gzFûe
));

1679 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off64_t
));

1680 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off64_t
));

1683 #i‡!
deföed
(
ZLIB_INTERNAL
Ë&& deföed(
Z_WANT64
)

1684 #ifde‡
Z_PREFIX_SET


1685 
	#z_gz›í
 
z_gz›í64


	)

1686 
	#z_gz£ek
 
z_gz£ek64


	)

1687 
	#z_gzãŒ
 
z_gzãŒ64


	)

1688 
	#z_gzoff£t
 
z_gzoff£t64


	)

1689 
	#z_adÀr32_comböe
 
z_adÀr32_comböe64


	)

1690 
	#z_¸c32_comböe
 
z_¸c32_comböe64


	)

1692 
	#gz›í
 
gz›í64


	)

1693 
	#gz£ek
 
gz£ek64


	)

1694 
	#gzãŒ
 
gzãŒ64


	)

1695 
	#gzoff£t
 
gzoff£t64


	)

1696 
	#adÀr32_comböe
 
adÀr32_comböe64


	)

1697 
	#¸c32_comböe
 
¸c32_comböe64


	)

1699 #i‚de‡
Z_LARGE64


1700 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í64
 
OF
((const *, const *));

1701 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek64
 
OF
((
gzFûe
, z_off_t, ));

1702 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzãŒ64
 
OF
((
gzFûe
));

1703 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzoff£t64
 
OF
((
gzFûe
));

1704 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1705 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe64
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1708 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í
 
OF
((const *, const *));

1709 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gz£ek
 
OF
((
gzFûe
, z_off_t, ));

1710 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzãŒ
 
OF
((
gzFûe
));

1711 
ZEXTERN
 
z_off_t
 
ZEXPORT
 
gzoff£t
 
OF
((
gzFûe
));

1712 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1713 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1718 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
adÀr32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1719 
ZEXTERN
 
uL⁄g
 
ZEXPORT
 
¸c32_comböe
 
OF
((uL⁄g, uL⁄g, 
z_off_t
));

1724 #i‡!
deföed
(
ZUTIL_H
Ë&& !deföed(
NO_DUMMY_DECL
)

1725 
	söã∫Æ_°©e
 {
dummy
;};

1729 
ZEXTERN
 c⁄° * 
ZEXPORT
 
zEº‹
 
OF
(());

1730 
ZEXTERN
 
ZEXPORT
 
öÊ©eSyncPoöt
 
OF
((
z_°ªamp
));

1731 
ZEXTERN
 c⁄° 
z_¸c_t
 
FAR
 * 
ZEXPORT
 
gë_¸c_èbÀ
 
OF
(());

1732 
ZEXTERN
 
ZEXPORT
 
öÊ©eUndîmöe
 
OF
((
z_°ªamp
, ));

1733 
ZEXTERN
 
ZEXPORT
 
öÊ©eRe£tKìp
 
OF
((
z_°ªamp
));

1734 
ZEXTERN
 
ZEXPORT
 
deÊ©eRe£tKìp
 
OF
((
z_°ªamp
));

1735 #i‡
deföed
(
_WIN32
Ë&& !deföed(
Z_SOLO
)

1736 
ZEXTERN
 
gzFûe
 
ZEXPORT
 
gz›í_w
 
OF
((c⁄° 
wch¨_t
 *
∑th
,

1737 c⁄° *
mode
));

1740 #ifde‡
__˝lu•lus


	@/usr/include/endian.h

18 #i‚def 
_ENDIAN_H


19 
	#_ENDIAN_H
 1

	)

21 
	~<„©uªs.h
>

31 
	#__LITTLE_ENDIAN
 1234

	)

32 
	#__BIG_ENDIAN
 4321

	)

33 
	#__PDP_ENDIAN
 3412

	)

36 
	~<bôs/ídün.h
>

40 #i‚de‡
__FLOAT_WORD_ORDER


41 
	#__FLOAT_WORD_ORDER
 
__BYTE_ORDER


	)

44 #ifdef 
__USE_BSD


45 
	#LITTLE_ENDIAN
 
__LITTLE_ENDIAN


	)

46 
	#BIG_ENDIAN
 
__BIG_ENDIAN


	)

47 
	#PDP_ENDIAN
 
__PDP_ENDIAN


	)

48 
	#BYTE_ORDER
 
__BYTE_ORDER


	)

51 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


52 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËLO, 
	)
HI

53 #ñi‡
__BYTE_ORDER
 =
__BIG_ENDIAN


54 
	#__LONG_LONG_PAIR
(
HI
, 
LO
ËHI, 
	)
LO

58 #i‡
deföed
 
__USE_BSD
 && !deföed 
__ASSEMBLER__


60 
	~<bôs/byãsw≠.h
>

62 #i‡
__BYTE_ORDER
 =
__LITTLE_ENDIAN


63 
	#htobe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

64 
	#htﬁe16
(
x
Ë(x)

	)

65 
	#be16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

66 
	#À16toh
(
x
Ë(x)

	)

68 
	#htobe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

69 
	#htﬁe32
(
x
Ë(x)

	)

70 
	#be32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

71 
	#À32toh
(
x
Ë(x)

	)

73 #i‡
__GLIBC_HAVE_LONG_LONG


74 
	#htobe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

75 
	#htﬁe64
(
x
Ë(x)

	)

76 
	#be64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

77 
	#À64toh
(
x
Ë(x)

	)

81 
	#htobe16
(
x
Ë(x)

	)

82 
	#htﬁe16
(
x
Ë
	`__bsw≠_16
 (x)

	)

83 
	#be16toh
(
x
Ë(x)

	)

84 
	#À16toh
(
x
Ë
	`__bsw≠_16
 (x)

	)

86 
	#htobe32
(
x
Ë(x)

	)

87 
	#htﬁe32
(
x
Ë
	`__bsw≠_32
 (x)

	)

88 
	#be32toh
(
x
Ë(x)

	)

89 
	#À32toh
(
x
Ë
	`__bsw≠_32
 (x)

	)

91 #i‡
__GLIBC_HAVE_LONG_LONG


92 
	#htobe64
(
x
Ë(x)

	)

93 
	#htﬁe64
(
x
Ë
	`__bsw≠_64
 (x)

	)

94 
	#be64toh
(
x
Ë(x)

	)

95 
	#À64toh
(
x
Ë
	`__bsw≠_64
 (x)

	)

	@/usr/include/features.h

18 #i‚def 
_FEATURES_H


19 
	#_FEATURES_H
 1

	)

98 #unde‡
__USE_ISOC11


99 #unde‡
__USE_ISOC99


100 #unde‡
__USE_ISOC95


101 #unde‡
__USE_ISOCXX11


102 #unde‡
__USE_POSIX


103 #unde‡
__USE_POSIX2


104 #unde‡
__USE_POSIX199309


105 #unde‡
__USE_POSIX199506


106 #unde‡
__USE_XOPEN


107 #unde‡
__USE_XOPEN_EXTENDED


108 #unde‡
__USE_UNIX98


109 #unde‡
__USE_XOPEN2K


110 #unde‡
__USE_XOPEN2KXSI


111 #unde‡
__USE_XOPEN2K8


112 #unde‡
__USE_XOPEN2K8XSI


113 #unde‡
__USE_LARGEFILE


114 #unde‡
__USE_LARGEFILE64


115 #unde‡
__USE_FILE_OFFSET64


116 #unde‡
__USE_BSD


117 #unde‡
__USE_SVID


118 #unde‡
__USE_MISC


119 #unde‡
__USE_ATFILE


120 #unde‡
__USE_GNU


121 #unde‡
__USE_REENTRANT


122 #unde‡
__USE_FORTIFY_LEVEL


123 #unde‡
__FAVOR_BSD


124 #unde‡
__KERNEL_STRICT_NAMES


128 #i‚de‡
_LOOSE_KERNEL_NAMES


129 
	#__KERNEL_STRICT_NAMES


	)

133 
	#__USE_ANSI
 1

	)

142 #i‡
deföed
 
__GNUC__
 && deföed 
__GNUC_MINOR__


143 
	#__GNUC_PREREQ
(
maj
, 
mö
) \

144 ((
__GNUC__
 << 16Ë+ 
__GNUC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

146 
	#__GNUC_PREREQ
(
maj
, 
mö
Ë0

	)

151 #i‡
deföed
 
_BSD_SOURCE
 && \

152 !(
deföed
 
	g_POSIX_SOURCE
 || deföed 
	g_POSIX_C_SOURCE
 || \

153 
deföed
 
	g_XOPEN_SOURCE
 || deföed 
	g_GNU_SOURCE
 || deföed 
	g_SVID_SOURCE
)

154 
	#__FAVOR_BSD
 1

	)

158 #ifde‡
_GNU_SOURCE


159 #unde‡
_ISOC95_SOURCE


160 
	#_ISOC95_SOURCE
 1

	)

161 #unde‡
_ISOC99_SOURCE


162 
	#_ISOC99_SOURCE
 1

	)

163 #unde‡
_ISOC11_SOURCE


164 
	#_ISOC11_SOURCE
 1

	)

165 #unde‡
_POSIX_SOURCE


166 
	#_POSIX_SOURCE
 1

	)

167 #unde‡
_POSIX_C_SOURCE


168 
	#_POSIX_C_SOURCE
 200809L

	)

169 #unde‡
_XOPEN_SOURCE


170 
	#_XOPEN_SOURCE
 700

	)

171 #unde‡
_XOPEN_SOURCE_EXTENDED


172 
	#_XOPEN_SOURCE_EXTENDED
 1

	)

173 #unde‡
_LARGEFILE64_SOURCE


174 
	#_LARGEFILE64_SOURCE
 1

	)

175 #unde‡
_BSD_SOURCE


176 
	#_BSD_SOURCE
 1

	)

177 #unde‡
_SVID_SOURCE


178 
	#_SVID_SOURCE
 1

	)

179 #unde‡
_ATFILE_SOURCE


180 
	#_ATFILE_SOURCE
 1

	)

185 #i‡(!
deföed
 
__STRICT_ANSI__
 && !deföed 
_ISOC99_SOURCE
 && \

186 !
deföed
 
	g_POSIX_SOURCE
 && !deföed 
	g_POSIX_C_SOURCE
 && \

187 !
deföed
 
	g_XOPEN_SOURCE
 && !deföed 
	g_BSD_SOURCE
 && !deföed 
	g_SVID_SOURCE
)

188 
	#_BSD_SOURCE
 1

	)

189 
	#_SVID_SOURCE
 1

	)

193 #i‡(
deföed
 
_ISOC11_SOURCE
 \

194 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 201112L))

195 
	#__USE_ISOC11
 1

	)

199 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

200 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L))

201 
	#__USE_ISOC99
 1

	)

205 #i‡(
deföed
 
_ISOC99_SOURCE
 || deföed 
_ISOC11_SOURCE
 \

206 || (
deföed
 
__STDC_VERSION__
 && __STDC_VERSION__ >= 199409L))

207 
	#__USE_ISOC95
 1

	)

214 #i‡((
deföed
 
__˝lu•lus
 && __cplusplus >= 201103L) \

215 || 
deföed
 
__GXX_EXPERIMENTAL_CXX0X__
)

216 
	#__USE_ISOCXX11
 1

	)

221 #i‡((!
deföed
 
__STRICT_ANSI__
 || (
_XOPEN_SOURCE
 - 0) >= 500) && \

222 !
deföed
 
_POSIX_SOURCE
 && !deföed 
_POSIX_C_SOURCE
)

223 
	#_POSIX_SOURCE
 1

	)

224 #i‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 500

225 
	#_POSIX_C_SOURCE
 2

	)

226 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 600

227 
	#_POSIX_C_SOURCE
 199506L

	)

228 #ñi‡
deföed
 
_XOPEN_SOURCE
 && (_XOPEN_SOURCE - 0) < 700

229 
	#_POSIX_C_SOURCE
 200112L

	)

231 
	#_POSIX_C_SOURCE
 200809L

	)

233 
	#__USE_POSIX_IMPLICITLY
 1

	)

236 #i‡
deföed
 
_POSIX_SOURCE
 || 
_POSIX_C_SOURCE
 >1 || deföed 
_XOPEN_SOURCE


237 
	#__USE_POSIX
 1

	)

240 #i‡
deföed
 
_POSIX_C_SOURCE
 && _POSIX_C_SOURCE >2 || deföed 
_XOPEN_SOURCE


241 
	#__USE_POSIX2
 1

	)

244 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199309L

245 
	#__USE_POSIX199309
 1

	)

248 #i‡(
_POSIX_C_SOURCE
 - 0) >= 199506L

249 
	#__USE_POSIX199506
 1

	)

252 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200112L

253 
	#__USE_XOPEN2K
 1

	)

254 #unde‡
__USE_ISOC95


255 
	#__USE_ISOC95
 1

	)

256 #unde‡
__USE_ISOC99


257 
	#__USE_ISOC99
 1

	)

260 #i‡(
_POSIX_C_SOURCE
 - 0) >= 200809L

261 
	#__USE_XOPEN2K8
 1

	)

262 #unde‡
_ATFILE_SOURCE


263 
	#_ATFILE_SOURCE
 1

	)

266 #ifdef 
_XOPEN_SOURCE


267 
	#__USE_XOPEN
 1

	)

268 #i‡(
_XOPEN_SOURCE
 - 0) >= 500

269 
	#__USE_XOPEN_EXTENDED
 1

	)

270 
	#__USE_UNIX98
 1

	)

271 #unde‡
_LARGEFILE_SOURCE


272 
	#_LARGEFILE_SOURCE
 1

	)

273 #i‡(
_XOPEN_SOURCE
 - 0) >= 600

274 #i‡(
_XOPEN_SOURCE
 - 0) >= 700

275 
	#__USE_XOPEN2K8
 1

	)

276 
	#__USE_XOPEN2K8XSI
 1

	)

278 
	#__USE_XOPEN2K
 1

	)

279 
	#__USE_XOPEN2KXSI
 1

	)

280 #unde‡
__USE_ISOC95


281 
	#__USE_ISOC95
 1

	)

282 #unde‡
__USE_ISOC99


283 
	#__USE_ISOC99
 1

	)

286 #ifde‡
_XOPEN_SOURCE_EXTENDED


287 
	#__USE_XOPEN_EXTENDED
 1

	)

292 #ifde‡
_LARGEFILE_SOURCE


293 
	#__USE_LARGEFILE
 1

	)

296 #ifde‡
_LARGEFILE64_SOURCE


297 
	#__USE_LARGEFILE64
 1

	)

300 #i‡
deföed
 
_FILE_OFFSET_BITS
 && _FILE_OFFSET_BITS == 64

301 
	#__USE_FILE_OFFSET64
 1

	)

304 #i‡
deföed
 
_BSD_SOURCE
 || deföed 
_SVID_SOURCE


305 
	#__USE_MISC
 1

	)

308 #ifdef 
_BSD_SOURCE


309 
	#__USE_BSD
 1

	)

312 #ifdef 
_SVID_SOURCE


313 
	#__USE_SVID
 1

	)

316 #ifdef 
_ATFILE_SOURCE


317 
	#__USE_ATFILE
 1

	)

320 #ifdef 
_GNU_SOURCE


321 
	#__USE_GNU
 1

	)

324 #i‡
deföed
 
_REENTRANT
 || deföed 
_THREAD_SAFE


325 
	#__USE_REENTRANT
 1

	)

328 #i‡
deföed
 
_FORTIFY_SOURCE
 && _FORTIFY_SOURCE > 0 \

329 && 
__GNUC_PREREQ
 (4, 1Ë&& 
deföed
 
	g__OPTIMIZE__
 && __OPTIMIZE__ > 0

330 #i‡
_FORTIFY_SOURCE
 > 1

331 
	#__USE_FORTIFY_LEVEL
 2

	)

333 
	#__USE_FORTIFY_LEVEL
 1

	)

336 
	#__USE_FORTIFY_LEVEL
 0

	)

341 
	~<°dc-¥edef.h
>

349 #unde‡
__GNU_LIBRARY__


350 
	#__GNU_LIBRARY__
 6

	)

354 
	#__GLIBC__
 2

	)

355 
	#__GLIBC_MINOR__
 17

	)

357 
	#__GLIBC_PREREQ
(
maj
, 
mö
) \

358 ((
__GLIBC__
 << 16Ë+ 
__GLIBC_MINOR__
 >((
maj
Ë<< 16Ë+ (
mö
))

	)

361 #i‡
deföed
 
__GNUC__
 \

362 || (
deföed
 
	g__PGI
 && deföed 
	g__i386__
 ) \

363 || (
deföed
 
	g__INTEL_COMPILER
 && (deföed 
	g__i386__
 || deföed 
	g__ü64__
)) \

364 || (
deföed
 
	g__STDC_VERSION__
 && __STDC_VERSION__ >= 199901L)

365 
	#__GLIBC_HAVE_LONG_LONG
 1

	)

369 #i‚de‡
__ASSEMBLER__


370 #i‚de‡
_SYS_CDEFS_H


371 
	~<sys/cdefs.h
>

376 #i‡
deföed
 
__USE_FILE_OFFSET64
 && !deföed 
__REDIRECT


377 
	#__USE_LARGEFILE
 1

	)

378 
	#__USE_LARGEFILE64
 1

	)

384 #i‡
__GNUC_PREREQ
 (2, 7Ë&& 
deföed
 
__OPTIMIZE__
 \

385 && !
deföed
 
	g__OPTIMIZE_SIZE__
 && !deföed 
	g__NO_INLINE__
 \

386 && 
deföed
 
	g__exã∫_ölöe


387 
	#__USE_EXTERN_INLINES
 1

	)

395 
	~<gnu/°ubs.h
>

	@/usr/include/fuse/fuse.h

9 #i‚de‡
_FUSE_H_


10 
	#_FUSE_H_


	)

22 #i‚de‡
FUSE_USE_VERSION


23 
	#FUSE_USE_VERSION
 21

	)

26 
	~"fu£_comm⁄.h
"

28 
	~<f˙é.h
>

29 
	~<time.h
>

30 
	~<utime.h
>

31 
	~<sys/ty≥s.h
>

32 
	~<sys/°©.h
>

33 
	~<sys/°©vfs.h
>

34 
	~<sys/uio.h
>

36 #ifde‡
__˝lu•lus


45 
fu£
;

48 
fu£_cmd
;

58 (*
fu£_fûl_dú_t
Ë(*
	tbuf
, c⁄° *
	t«me
,

59 c⁄° 
	t°©
 *
	t°buf
, 
	toff_t
 
	toff
);

62 
fu£_dúh™dÀ
 *
	tfu£_dúh_t
;

63 (*
fu£_dúfû_t
Ë(
	tfu£_dúh_t
 
	th
, c⁄° *
	t«me
, 
	tty≥
,

64 
	töo_t
 
	töo
);

88 
	sfu£_›î©i⁄s
 {

95 (*
gë©å
Ë(c⁄° *, 
°©
 *);

105 (*
ªadlök
Ë(c⁄° *, *, 
size_t
);

108 (*
gëdú
Ë(c⁄° *, 
fu£_dúh_t
, 
fu£_dúfû_t
);

116 (*
mknod
Ë(c⁄° *, 
mode_t
, 
dev_t
);

124 (*
mkdú
Ë(c⁄° *, 
mode_t
);

127 (*
u∆ök
) (const *);

130 (*
rmdú
) (const *);

133 (*
symlök
) (const *, const *);

136 (*
ª«me
) (const *, const *);

139 (*
lök
) (const *, const *);

142 (*
chmod
Ë(c⁄° *, 
mode_t
);

145 (*
chown
Ë(c⁄° *, 
uid_t
, 
gid_t
);

148 (*
åunˇã
Ë(c⁄° *, 
off_t
);

154 (*
utime
Ë(c⁄° *, 
utimbuf
 *);

173 (*
›í
Ë(c⁄° *, 
fu£_fûe_öfo
 *);

186 (*
ªad
Ë(c⁄° *, *, 
size_t
, 
off_t
,

187 
fu£_fûe_öfo
 *);

197 (*
wrôe
Ë(c⁄° *, c⁄° *, 
size_t
, 
off_t
,

198 
fu£_fûe_öfo
 *);

207 (*
°©fs
Ë(c⁄° *, 
°©vfs
 *);

232 (*
Êush
Ë(c⁄° *, 
fu£_fûe_öfo
 *);

248 (*
ªÀa£
Ë(c⁄° *, 
fu£_fûe_öfo
 *);

257 (*
fsync
Ë(c⁄° *, , 
fu£_fûe_öfo
 *);

260 (*
£tx©å
Ë(c⁄° *, c⁄° *, c⁄° *, 
size_t
, );

263 (*
gëx©å
Ë(c⁄° *, c⁄° *, *, 
size_t
);

266 (*
li°x©å
Ë(c⁄° *, *, 
size_t
);

269 (*
ªmovex©å
) (const *, const *);

281 (*
›ídú
Ë(c⁄° *, 
fu£_fûe_öfo
 *);

304 (*
ªaddú
Ë(c⁄° *, *, 
fu£_fûl_dú_t
, 
off_t
,

305 
fu£_fûe_öfo
 *);

311 (*
ªÀa£dú
Ë(c⁄° *, 
fu£_fûe_öfo
 *);

320 (*
fsyncdú
Ë(c⁄° *, , 
fu£_fûe_öfo
 *);

332 *(*
öô
Ë(
fu£_c⁄n_öfo
 *
c⁄n
);

341 (*
de°roy
) (*);

354 (*
ac˚ss
) (const *, );

368 (*
¸óã
Ë(c⁄° *, 
mode_t
, 
fu£_fûe_öfo
 *);

382 (*
·runˇã
Ë(c⁄° *, 
off_t
, 
fu£_fûe_öfo
 *);

396 (*
fgë©å
Ë(c⁄° *, 
°©
 *, 
fu£_fûe_öfo
 *);

430 (*
lock
Ë(c⁄° *, 
fu£_fûe_öfo
 *, 
cmd
,

431 
Êock
 *);

444 (*
utimís
Ë(c⁄° *, c⁄° 
time•ec
 
tv
[2]);

454 (*
bm≠
Ë(c⁄° *, 
size_t
 
blocksize
, 
uöt64_t
 *
idx
);

466 
Êag_nuŒ∑th_ok
:1;

480 
Êag_n›©h
:1;

486 
Êag_utime_omô_ok
:1;

491 
Êag_ª£rved
:29;

505 (*
io˘l
Ë(c⁄° *, 
cmd
, *
¨g
,

506 
fu£_fûe_öfo
 *, 
Êags
, *
d©a
);

525 (*
pﬁl
Ë(c⁄° *, 
fu£_fûe_öfo
 *,

526 
fu£_pﬁlh™dÀ
 *
ph
, *
ªvít•
);

536 (*
wrôe_buf
Ë(c⁄° *, 
fu£_bufvec
 *
buf
, 
off_t
 
off
,

537 
fu£_fûe_öfo
 *);

555 (*
ªad_buf
Ë(c⁄° *, 
fu£_bufvec
 **
buÂ
,

556 
size_t
 
size
, 
off_t
 
off
, 
fu£_fûe_öfo
 *);

577 (*
Êock
Ë(c⁄° *, 
fu£_fûe_öfo
 *, 
›
);

585 
	sfu£_c⁄ãxt
 {

587 
fu£
 *fuse;

590 
uid_t
 
uid
;

593 
gid_t
 
gid
;

596 
pid_t
 
pid
;

599 *
¥iv©e_d©a
;

602 
mode_t
 
umask
;

632 
	#fu£_maö
(
¨gc
, 
¨gv
, 
›
, 
u£r_d©a
) \

633 
	`fu£_maö_ªÆ
(
¨gc
, 
¨gv
, 
›
, (*(›)), 
u£r_d©a
)

	)

649 
fu£
 *
fu£_√w
(
fu£_ch™
 *
ch
, 
fu£_¨gs
 *
¨gs
,

650 c⁄° 
fu£_›î©i⁄s
 *
›
, 
size_t
 
›_size
,

651 *
u£r_d©a
);

663 
fu£_de°roy
(
fu£
 *
f
);

674 
fu£_lo›
(
fu£
 *
f
);

681 
fu£_exô
(
fu£
 *
f
);

696 
fu£_lo›_mt
(
fu£
 *
f
);

706 
fu£_c⁄ãxt
 *
fu£_gë_c⁄ãxt
();

726 
fu£_gëgroups
(
size
, 
gid_t
 
li°
[]);

733 
fu£_öãºu±ed
();

740 
fu£_övÆid©e
(
fu£
 *
f
, c⁄° *
∑th
);

743 
fu£_is_lib_›ti⁄
(c⁄° *
›t
);

750 
fu£_maö_ªÆ
(
¨gc
, *
¨gv
[], c⁄° 
fu£_›î©i⁄s
 *
›
,

751 
size_t
 
›_size
, *
u£r_d©a
);

760 
fu£_°¨t_˛ónup_thªad
(
fu£
 *fuse);

768 
fu£_°›_˛ónup_thªad
(
fu£
 *fuse);

779 
fu£_˛ón_ˇche
(
fu£
 *fuse);

790 
fu£_fs
;

801 
fu£_fs_gë©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
°©
 *
buf
);

802 
fu£_fs_fgë©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
°©
 *
buf
,

803 
fu£_fûe_öfo
 *
fi
);

804 
fu£_fs_ª«me
(
fu£_fs
 *
fs
, c⁄° *
ﬁd∑th
,

805 c⁄° *
√w∑th
);

806 
fu£_fs_u∆ök
(
fu£_fs
 *
fs
, c⁄° *
∑th
);

807 
fu£_fs_rmdú
(
fu£_fs
 *
fs
, c⁄° *
∑th
);

808 
fu£_fs_symlök
(
fu£_fs
 *
fs
, c⁄° *
lök«me
,

809 c⁄° *
∑th
);

810 
fu£_fs_lök
(
fu£_fs
 *
fs
, c⁄° *
ﬁd∑th
, c⁄° *
√w∑th
);

811 
fu£_fs_ªÀa£
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

812 
fu£_fûe_öfo
 *
fi
);

813 
fu£_fs_›í
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

814 
fu£_fûe_öfo
 *
fi
);

815 
fu£_fs_ªad
(
fu£_fs
 *
fs
, c⁄° *
∑th
, *
buf
, 
size_t
 
size
,

816 
off_t
 
off
, 
fu£_fûe_öfo
 *
fi
);

817 
fu£_fs_ªad_buf
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

818 
fu£_bufvec
 **
buÂ
, 
size_t
 
size
, 
off_t
 
off
,

819 
fu£_fûe_öfo
 *
fi
);

820 
fu£_fs_wrôe
(
fu£_fs
 *
fs
, c⁄° *
∑th
, c⁄° *
buf
,

821 
size_t
 
size
, 
off_t
 
off
, 
fu£_fûe_öfo
 *
fi
);

822 
fu£_fs_wrôe_buf
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

823 
fu£_bufvec
 *
buf
, 
off_t
 
off
,

824 
fu£_fûe_öfo
 *
fi
);

825 
fu£_fs_fsync
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
d©async
,

826 
fu£_fûe_öfo
 *
fi
);

827 
fu£_fs_Êush
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

828 
fu£_fûe_öfo
 *
fi
);

829 
fu£_fs_°©fs
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
°©vfs
 *
buf
);

830 
fu£_fs_›ídú
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

831 
fu£_fûe_öfo
 *
fi
);

832 
fu£_fs_ªaddú
(
fu£_fs
 *
fs
, c⁄° *
∑th
, *
buf
,

833 
fu£_fûl_dú_t
 
fûÀr
, 
off_t
 
off
,

834 
fu£_fûe_öfo
 *
fi
);

835 
fu£_fs_fsyncdú
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
d©async
,

836 
fu£_fûe_öfo
 *
fi
);

837 
fu£_fs_ªÀa£dú
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

838 
fu£_fûe_öfo
 *
fi
);

839 
fu£_fs_¸óã
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
mode_t
 
mode
,

840 
fu£_fûe_öfo
 *
fi
);

841 
fu£_fs_lock
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

842 
fu£_fûe_öfo
 *
fi
, 
cmd
, 
Êock
 *
lock
);

843 
fu£_fs_Êock
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

844 
fu£_fûe_öfo
 *
fi
, 
›
);

845 
fu£_fs_chmod
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
mode_t
 
mode
);

846 
fu£_fs_chown
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
uid_t
 
uid
, 
gid_t
 
gid
);

847 
fu£_fs_åunˇã
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
off_t
 
size
);

848 
fu£_fs_·runˇã
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
off_t
 
size
,

849 
fu£_fûe_öfo
 *
fi
);

850 
fu£_fs_utimís
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

851 c⁄° 
time•ec
 
tv
[2]);

852 
fu£_fs_ac˚ss
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
mask
);

853 
fu£_fs_ªadlök
(
fu£_fs
 *
fs
, c⁄° *
∑th
, *
buf
,

854 
size_t
 
Àn
);

855 
fu£_fs_mknod
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
mode_t
 
mode
,

856 
dev_t
 
rdev
);

857 
fu£_fs_mkdú
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
mode_t
 
mode
);

858 
fu£_fs_£tx©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
, c⁄° *
«me
,

859 c⁄° *
vÆue
, 
size_t
 
size
, 
Êags
);

860 
fu£_fs_gëx©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
, c⁄° *
«me
,

861 *
vÆue
, 
size_t
 
size
);

862 
fu£_fs_li°x©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
, *
li°
,

863 
size_t
 
size
);

864 
fu£_fs_ªmovex©å
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

865 c⁄° *
«me
);

866 
fu£_fs_bm≠
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
size_t
 
blocksize
,

867 
uöt64_t
 *
idx
);

868 
fu£_fs_io˘l
(
fu£_fs
 *
fs
, c⁄° *
∑th
, 
cmd
, *
¨g
,

869 
fu£_fûe_öfo
 *
fi
, 
Êags
, *
d©a
);

870 
fu£_fs_pﬁl
(
fu£_fs
 *
fs
, c⁄° *
∑th
,

871 
fu£_fûe_öfo
 *
fi
, 
fu£_pﬁlh™dÀ
 *
ph
,

872 *
ªvít•
);

873 
fu£_fs_öô
(
fu£_fs
 *
fs
, 
fu£_c⁄n_öfo
 *
c⁄n
);

874 
fu£_fs_de°roy
(
fu£_fs
 *
fs
);

876 
fu£_nŸify_pﬁl
(
fu£_pﬁlh™dÀ
 *
ph
);

889 
fu£_fs
 *
fu£_fs_√w
(c⁄° 
fu£_›î©i⁄s
 *
›
, 
size_t
 
›_size
,

890 *
u£r_d©a
);

902 
	sfu£_moduÀ
 {

906 c⁄° *
«me
;

922 
fu£_fs
 *(*
Á˘‹y
)(
fu£_¨gs
 *
¨gs
,

923 
fu£_fs
 *
fs
[]);

925 
fu£_moduÀ
 *
√xt
;

926 
fu£mod_so
 *
so
;

927 
˘r
;

936 
fu£_ªgi°î_moduÀ
(
fu£_moduÀ
 *
mod
);

944 
	#FUSE_REGISTER_MODULE
(
«me_
, 
Á˘‹y_
) \

945 
	`__©åibuã__
((
c⁄°ru˘‹
)Ë
«me_
 ## 
	`_ªgi°î
() \

947 
fu£_moduÀ
 
mod
 = \

948 { #«me_, 
Á˘‹y_
, 
NULL
, NULL, 0 }; \

949 
	`fu£_ªgi°î_moduÀ
(&
mod
); \

950 }

	)

961 (*
fu£_¥o˚ss‹_t
)(
	tfu£
 *, 
	tfu£_cmd
 *, *);

964 
fu£
 *
fu£_£tup
(
¨gc
, *
¨gv
[],

965 c⁄° 
fu£_›î©i⁄s
 *
›
, 
size_t
 
›_size
,

966 **
mou¡poöt
, *
mu…ôhªaded
,

967 *
u£r_d©a
);

970 
fu£_ã¨down
(
fu£
 *fu£, *
mou¡poöt
);

973 
fu£_cmd
 *
fu£_ªad_cmd
(
fu£
 *
f
);

976 
fu£_¥o˚ss_cmd
(
fu£
 *
f
, 
fu£_cmd
 *
cmd
);

980 
fu£_lo›_mt_¥oc
(
fu£
 *
f
, 
fu£_¥o˚ss‹_t
 
¥oc
, *
d©a
);

984 
fu£_exôed
(
fu£
 *
f
);

987 
fu£_£t_gëc⁄ãxt_func
(
fu£_c⁄ãxt
 *(*
func
)());

990 
fu£_£ssi⁄
 *
fu£_gë_£ssi⁄
(
fu£
 *
f
);

996 #i‡
FUSE_USE_VERSION
 < 26

997 
	~"fu£_com∑t.h
"

998 #unde‡
fu£_maö


999 #i‡
FUSE_USE_VERSION
 == 25

1000 
	#fu£_maö
(
¨gc
, 
¨gv
, 
›
) \

1001 
	`fu£_maö_ªÆ_com∑t25
(
¨gc
, 
¨gv
, 
›
, (*(›)))

	)

1002 
	#fu£_√w
 
fu£_√w_com∑t25


	)

1003 
	#fu£_£tup
 
fu£_£tup_com∑t25


	)

1004 
	#fu£_ã¨down
 
fu£_ã¨down_com∑t22


	)

1005 
	#fu£_›î©i⁄s
 
fu£_›î©i⁄s_com∑t25


	)

1006 #ñi‡
FUSE_USE_VERSION
 == 22

1007 
	#fu£_maö
(
¨gc
, 
¨gv
, 
›
) \

1008 
	`fu£_maö_ªÆ_com∑t22
(
¨gc
, 
¨gv
, 
›
, (*(›)))

	)

1009 
	#fu£_√w
 
fu£_√w_com∑t22


	)

1010 
	#fu£_£tup
 
fu£_£tup_com∑t22


	)

1011 
	#fu£_ã¨down
 
fu£_ã¨down_com∑t22


	)

1012 
	#fu£_›î©i⁄s
 
fu£_›î©i⁄s_com∑t22


	)

1013 
	#fu£_fûe_öfo
 
fu£_fûe_öfo_com∑t


	)

1014 #ñi‡
FUSE_USE_VERSION
 == 24

1015 #îr‹ 
Com∑tibûôy
 
wôh
 
high
-
Àvñ
 
API
 
vîsi⁄
 24 
nŸ
 
suµ‹ãd


1017 
	#fu£_dúfû_t
 
fu£_dúfû_t_com∑t


	)

1018 
	#__fu£_ªad_cmd
 
fu£_ªad_cmd


	)

1019 
	#__fu£_¥o˚ss_cmd
 
fu£_¥o˚ss_cmd


	)

1020 
	#__fu£_lo›_mt
 
fu£_lo›_mt_¥oc


	)

1021 #i‡
FUSE_USE_VERSION
 == 21

1022 
	#fu£_›î©i⁄s
 
fu£_›î©i⁄s_com∑t2


	)

1023 
	#fu£_maö
 
fu£_maö_com∑t2


	)

1024 
	#fu£_√w
 
fu£_√w_com∑t2


	)

1025 
	#__fu£_£tup
 
fu£_£tup_com∑t2


	)

1026 
	#__fu£_ã¨down
 
fu£_ã¨down_com∑t22


	)

1027 
	#__fu£_exôed
 
fu£_exôed


	)

1028 
	#__fu£_£t_gëc⁄ãxt_func
 
fu£_£t_gëc⁄ãxt_func


	)

1030 
	#fu£_°©fs
 
fu£_°©fs_com∑t1


	)

1031 
	#fu£_›î©i⁄s
 
fu£_›î©i⁄s_com∑t1


	)

1032 
	#fu£_maö
 
fu£_maö_com∑t1


	)

1033 
	#fu£_√w
 
fu£_√w_com∑t1


	)

1034 
	#FUSE_DEBUG
 
FUSE_DEBUG_COMPAT1


	)

1039 #ifde‡
__˝lu•lus


	@/usr/include/libio.h

29 #i‚de‡
_IO_STDIO_H


30 
	#_IO_STDIO_H


	)

32 
	~<_G_c⁄fig.h
>

34 
	#_IO_Âos_t
 
_G_Âos_t


	)

35 
	#_IO_Âos64_t
 
_G_Âos64_t


	)

36 
	#_IO_size_t
 
size_t


	)

37 
	#_IO_ssize_t
 
__ssize_t


	)

38 
	#_IO_off_t
 
__off_t


	)

39 
	#_IO_off64_t
 
__off64_t


	)

40 
	#_IO_pid_t
 
__pid_t


	)

41 
	#_IO_uid_t
 
__uid_t


	)

42 
	#_IO_ic⁄v_t
 
_G_ic⁄v_t


	)

43 
	#_IO_HAVE_ST_BLKSIZE
 
_G_HAVE_ST_BLKSIZE


	)

44 
	#_IO_BUFSIZ
 
_G_BUFSIZ


	)

45 
	#_IO_va_li°
 
_G_va_li°


	)

46 
	#_IO_wöt_t
 
wöt_t


	)

49 
	#__√ed___va_li°


	)

50 
	~<°d¨g.h
>

51 #ifde‡
__GNUC_VA_LIST


52 #unde‡
_IO_va_li°


53 
	#_IO_va_li°
 
__gnuc_va_li°


	)

56 #i‚de‡
__P


57 
	~<sys/cdefs.h
>

60 
	#_IO_UNIFIED_JUMPTABLES
 1

	)

62 #i‚de‡
EOF


63 
	#EOF
 (-1)

	)

65 #i‚de‡
NULL


66 #i‡
deföed
 
__GNUG__
 && \

67 (
	g__GNUC__
 > 2 || (__GNUC__ =2 && 
__GNUC_MINOR__
 >= 8))

68 
	#NULL
 (
__nuŒ
)

	)

70 #i‡!
deföed
(
__˝lu•lus
)

71 
	#NULL
 ((*)0)

	)

73 
	#NULL
 (0)

	)

78 
	#_IOS_INPUT
 1

	)

79 
	#_IOS_OUTPUT
 2

	)

80 
	#_IOS_ATEND
 4

	)

81 
	#_IOS_APPEND
 8

	)

82 
	#_IOS_TRUNC
 16

	)

83 
	#_IOS_NOCREATE
 32

	)

84 
	#_IOS_NOREPLACE
 64

	)

85 
	#_IOS_BIN
 128

	)

93 
	#_IO_MAGIC
 0xFBAD0000

	)

94 
	#_OLD_STDIO_MAGIC
 0xFABC0000

	)

95 
	#_IO_MAGIC_MASK
 0xFFFF0000

	)

96 
	#_IO_USER_BUF
 1

	)

97 
	#_IO_UNBUFFERED
 2

	)

98 
	#_IO_NO_READS
 4

	)

99 
	#_IO_NO_WRITES
 8

	)

100 
	#_IO_EOF_SEEN
 0x10

	)

101 
	#_IO_ERR_SEEN
 0x20

	)

102 
	#_IO_DELETE_DONT_CLOSE
 0x40

	)

103 
	#_IO_LINKED
 0x80

	)

104 
	#_IO_IN_BACKUP
 0x100

	)

105 
	#_IO_LINE_BUF
 0x200

	)

106 
	#_IO_TIED_PUT_GET
 0x400

	)

107 
	#_IO_CURRENTLY_PUTTING
 0x800

	)

108 
	#_IO_IS_APPENDING
 0x1000

	)

109 
	#_IO_IS_FILEBUF
 0x2000

	)

110 
	#_IO_BAD_SEEN
 0x4000

	)

111 
	#_IO_USER_LOCK
 0x8000

	)

113 
	#_IO_FLAGS2_MMAP
 1

	)

114 
	#_IO_FLAGS2_NOTCANCEL
 2

	)

115 #ifde‡
_LIBC


116 
	#_IO_FLAGS2_FORTIFY
 4

	)

118 
	#_IO_FLAGS2_USER_WBUF
 8

	)

119 #ifde‡
_LIBC


120 
	#_IO_FLAGS2_SCANF_STD
 16

	)

121 
	#_IO_FLAGS2_NOCLOSE
 32

	)

122 
	#_IO_FLAGS2_CLOEXEC
 64

	)

126 
	#_IO_SKIPWS
 01

	)

127 
	#_IO_LEFT
 02

	)

128 
	#_IO_RIGHT
 04

	)

129 
	#_IO_INTERNAL
 010

	)

130 
	#_IO_DEC
 020

	)

131 
	#_IO_OCT
 040

	)

132 
	#_IO_HEX
 0100

	)

133 
	#_IO_SHOWBASE
 0200

	)

134 
	#_IO_SHOWPOINT
 0400

	)

135 
	#_IO_UPPERCASE
 01000

	)

136 
	#_IO_SHOWPOS
 02000

	)

137 
	#_IO_SCIENTIFIC
 04000

	)

138 
	#_IO_FIXED
 010000

	)

139 
	#_IO_UNITBUF
 020000

	)

140 
	#_IO_STDIO
 040000

	)

141 
	#_IO_DONT_CLOSE
 0100000

	)

142 
	#_IO_BOOLALPHA
 0200000

	)

145 
_IO_jump_t
; 
	g_IO_FILE
;

148 #ifde‡
_IO_MTSAFE_IO


149 #i‡
deföed
 
__GLIBC__
 && __GLIBC__ >= 2

150 
	~<bôs/°dio-lock.h
>

155 
	t_IO_lock_t
;

161 
	s_IO_m¨kî
 {

162 
_IO_m¨kî
 *
	m_√xt
;

163 
_IO_FILE
 *
	m_sbuf
;

167 
	m_pos
;

169 
£t_°ªampos
(
°ªampos
 
•
Ë{ 
	m_•os
 = sp; }

170 
£t_off£t
(
off£t
Ë{ 
	m_pos
 = off£t; 
	m_•os
 = (
°ªampos
)(-2); }

171 
	mpublic
:

172 
°ªamm¨kî
(
°ªambuf
 *
sb
);

173 ~
°ªamm¨kî
();

174 
ßvög
(Ë{  
	m_•os
 == -2; }

175 
dñè
(
°ªamm¨kî
&);

176 
dñè
();

181 
	e__codecvt_ªsu…


183 
	m__codecvt_ok
,

184 
	m__codecvt_∑πül
,

185 
	m__codecvt_îr‹
,

186 
	m__codecvt_noc⁄v


189 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


192 
	s_IO_codecvt


194 (*
	m__codecvt_de°r
Ë(
	m_IO_codecvt
 *);

195 
__codecvt_ªsu…
 (*
__codecvt_do_out
Ë(
	m_IO_codecvt
 *,

196 
	m__mb°©e_t
 *,

197 c⁄° 
	mwch¨_t
 *,

198 c⁄° 
	mwch¨_t
 *,

199 c⁄° 
	mwch¨_t
 **, *,

201 
__codecvt_ªsu…
 (*
__codecvt_do_unshi·
Ë(
	m_IO_codecvt
 *,

202 
	m__mb°©e_t
 *, *,

204 
__codecvt_ªsu…
 (*
__codecvt_do_ö
Ë(
	m_IO_codecvt
 *,

205 
	m__mb°©e_t
 *,

207 c⁄° **, 
	mwch¨_t
 *,

208 
	mwch¨_t
 *, wchar_t **);

209 (*
	m__codecvt_do_ícodög
Ë(
	m_IO_codecvt
 *);

210 (*
	m__codecvt_do_Æways_noc⁄v
Ë(
	m_IO_codecvt
 *);

211 (*
	m__codecvt_do_Àngth
Ë(
	m_IO_codecvt
 *, 
	m__mb°©e_t
 *,

212 c⁄° *, c⁄° *, 
	m_IO_size_t
);

213 (*
	m__codecvt_do_max_Àngth
Ë(
	m_IO_codecvt
 *);

215 
_IO_ic⁄v_t
 
	m__cd_ö
;

216 
_IO_ic⁄v_t
 
	m__cd_out
;

220 
	s_IO_wide_d©a


222 
wch¨_t
 *
	m_IO_ªad_±r
;

223 
wch¨_t
 *
	m_IO_ªad_íd
;

224 
wch¨_t
 *
	m_IO_ªad_ba£
;

225 
wch¨_t
 *
	m_IO_wrôe_ba£
;

226 
wch¨_t
 *
	m_IO_wrôe_±r
;

227 
wch¨_t
 *
	m_IO_wrôe_íd
;

228 
wch¨_t
 *
	m_IO_buf_ba£
;

229 
wch¨_t
 *
	m_IO_buf_íd
;

231 
wch¨_t
 *
	m_IO_ßve_ba£
;

232 
wch¨_t
 *
	m_IO_backup_ba£
;

234 
wch¨_t
 *
	m_IO_ßve_íd
;

236 
__mb°©e_t
 
	m_IO_°©e
;

237 
__mb°©e_t
 
	m_IO_œ°_°©e
;

238 
_IO_codecvt
 
	m_codecvt
;

240 
wch¨_t
 
	m_sh‹tbuf
[1];

242 c⁄° 
_IO_jump_t
 *
	m_wide_vèbÀ
;

246 
	s_IO_FILE
 {

247 
	m_Êags
;

248 
	#_IO_fûe_Êags
 
_Êags


	)

252 * 
	m_IO_ªad_±r
;

253 * 
	m_IO_ªad_íd
;

254 * 
	m_IO_ªad_ba£
;

255 * 
	m_IO_wrôe_ba£
;

256 * 
	m_IO_wrôe_±r
;

257 * 
	m_IO_wrôe_íd
;

258 * 
	m_IO_buf_ba£
;

259 * 
	m_IO_buf_íd
;

261 *
	m_IO_ßve_ba£
;

262 *
	m_IO_backup_ba£
;

263 *
	m_IO_ßve_íd
;

265 
_IO_m¨kî
 *
	m_m¨kîs
;

267 
_IO_FILE
 *
	m_chaö
;

269 
	m_fûío
;

271 
	m_blksize
;

273 
	m_Êags2
;

275 
_IO_off_t
 
	m_ﬁd_off£t
;

277 
	#__HAVE_COLUMN


	)

279 
	m_cur_cﬁumn
;

280 sig√d 
	m_vèbÀ_off£t
;

281 
	m_sh‹tbuf
[1];

285 
_IO_lock_t
 *
	m_lock
;

286 #ifde‡
_IO_USE_OLD_IO_FILE


289 
	s_IO_FILE_com∂ëe


291 
_IO_FILE
 
	m_fûe
;

293 #i‡
deföed
 
_G_IO_IO_FILE_VERSION
 && _G_IO_IO_FILE_VERSION == 0x20001

294 
_IO_off64_t
 
	m_off£t
;

295 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


297 
_IO_codecvt
 *
	m_codecvt
;

298 
_IO_wide_d©a
 *
	m_wide_d©a
;

299 
_IO_FILE
 *
	m_‰ìªs_li°
;

300 *
	m_‰ìªs_buf
;

301 
size_t
 
	m_‰ìªs_size
;

303 *
	m__∑d1
;

304 *
	m__∑d2
;

305 *
	m__∑d3
;

306 *
	m__∑d4
;

307 
size_t
 
	m__∑d5
;

309 
	m_mode
;

311 
	m_unu£d2
[15 *  (Ë- 4 *  (*Ë-  (
size_t
)];

315 #i‚de‡
__˝lu•lus


316 
_IO_FILE
 
	t_IO_FILE
;

319 
	g_IO_FILE_∂us
;

321 
_IO_FILE_∂us
 
_IO_2_1_°dö_
;

322 
_IO_FILE_∂us
 
_IO_2_1_°dout_
;

323 
_IO_FILE_∂us
 
_IO_2_1_°dîr_
;

324 #i‚de‡
_LIBC


325 
	#_IO_°dö
 ((
_IO_FILE
*)(&
_IO_2_1_°dö_
))

	)

326 
	#_IO_°dout
 ((
_IO_FILE
*)(&
_IO_2_1_°dout_
))

	)

327 
	#_IO_°dîr
 ((
_IO_FILE
*)(&
_IO_2_1_°dîr_
))

	)

329 
_IO_FILE
 *
_IO_°dö
 
©åibuã_hiddí
;

330 
_IO_FILE
 *
_IO_°dout
 
©åibuã_hiddí
;

331 
_IO_FILE
 *
_IO_°dîr
 
©åibuã_hiddí
;

339 
__ssize_t
 
	t__io_ªad_‚
 (*
	t__cookõ
, *
	t__buf
, 
	tsize_t
 
	t__nbyãs
);

347 
__ssize_t
 
	t__io_wrôe_‚
 (*
	t__cookõ
, c⁄° *
	t__buf
,

348 
	tsize_t
 
	t__n
);

356 
	t__io_£ek_‚
 (*
	t__cookõ
, 
	t_IO_off64_t
 *
	t__pos
, 
	t__w
);

359 
	t__io_˛o£_‚
 (*
	t__cookõ
);

362 #ifde‡
_GNU_SOURCE


364 
__io_ªad_‚
 
	tcookõ_ªad_fun˘i⁄_t
;

365 
__io_wrôe_‚
 
	tcookõ_wrôe_fun˘i⁄_t
;

366 
__io_£ek_‚
 
	tcookõ_£ek_fun˘i⁄_t
;

367 
__io_˛o£_‚
 
	tcookõ_˛o£_fun˘i⁄_t
;

372 
__io_ªad_‚
 *
	mªad
;

373 
__io_wrôe_‚
 *
	mwrôe
;

374 
__io_£ek_‚
 *
	m£ek
;

375 
__io_˛o£_‚
 *
	m˛o£
;

376 } 
	t_IO_cookõ_io_fun˘i⁄s_t
;

377 
_IO_cookõ_io_fun˘i⁄s_t
 
	tcookõ_io_fun˘i⁄s_t
;

379 
	g_IO_cookõ_fûe
;

382 
_IO_cookõ_öô
 (
_IO_cookõ_fûe
 *
__cfûe
, 
__ªad_wrôe
,

383 *
__cookõ
, 
_IO_cookõ_io_fun˘i⁄s_t
 
__‚s
);

387 #ifde‡
__˝lu•lus


391 
__undîÊow
 (
_IO_FILE
 *);

392 
__uÊow
 (
_IO_FILE
 *);

393 
__ovîÊow
 (
_IO_FILE
 *, );

394 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


395 
_IO_wöt_t
 
__wundîÊow
 (
_IO_FILE
 *);

396 
_IO_wöt_t
 
__wuÊow
 (
_IO_FILE
 *);

397 
_IO_wöt_t
 
__wovîÊow
 (
_IO_FILE
 *, _IO_wint_t);

400 #i‡ 
__GNUC__
 >= 3

401 
	#_IO_BE
(
ex¥
, 
ªs
Ë
	`__buûtö_ex≥˘
 (”x¥),Ñes)

	)

403 
	#_IO_BE
(
ex¥
, 
ªs
Ë”x¥)

	)

406 
	#_IO_gëc_u∆ocked
(
_Â
) \

407 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

408 ? 
	`__uÊow
 (
_Â
Ë: *(*Ë(_Â)->
_IO_ªad_±r
++)

	)

409 
	#_IO_≥ekc_u∆ocked
(
_Â
) \

410 (
	`_IO_BE
 ((
_Â
)->
_IO_ªad_±r
 >(_Â)->
_IO_ªad_íd
, 0) \

411 && 
	`__undîÊow
 (
_Â
Ë=
EOF
 ? EOF \

412 : *(*Ë(
_Â
)->
_IO_ªad_±r
)

	)

413 
	#_IO_putc_u∆ocked
(
_ch
, 
_Â
) \

414 (
	`_IO_BE
 ((
_Â
)->
_IO_wrôe_±r
 >(_Â)->
_IO_wrôe_íd
, 0) \

415 ? 
	`__ovîÊow
 (
_Â
, (Ë(
_ch
)) \

416 : (Ë(*(
_Â
)->
_IO_wrôe_±r
++ = (
_ch
)))

	)

418 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


419 
	#_IO_gëwc_u∆ocked
(
_Â
) \

420 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

421 || ((
_Â
)->
_wide_d©a
->
_IO_ªad_±r
 \

422 >(
_Â
)->
_wide_d©a
->
_IO_ªad_íd
), 0) \

423 ? 
	`__wuÊow
 (
_Â
Ë: (
_IO_wöt_t
Ë*(_Â)->
_wide_d©a
->
_IO_ªad_±r
++)

	)

424 
	#_IO_putwc_u∆ocked
(
_wch
, 
_Â
) \

425 (
	`_IO_BE
 ((
_Â
)->
_wide_d©a
 =
NULL
 \

426 || ((
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
 \

427 >(
_Â
)->
_wide_d©a
->
_IO_wrôe_íd
), 0) \

428 ? 
	`__wovîÊow
 (
_Â
, 
_wch
) \

429 : (
_IO_wöt_t
Ë(*(
_Â
)->
_wide_d©a
->
_IO_wrôe_±r
++ = (
_wch
)))

	)

432 
	#_IO_„of_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_EOF_SEEN
Ë!0)

	)

433 
	#_IO_„º‹_u∆ocked
(
__Â
Ë(((__Â)->
_Êags
 & 
_IO_ERR_SEEN
Ë!0)

	)

435 
_IO_gëc
 (
_IO_FILE
 *
__Â
);

436 
_IO_putc
 (
__c
, 
_IO_FILE
 *
__Â
);

437 
_IO_„of
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

438 
_IO_„º‹
 (
_IO_FILE
 *
__Â
Ë
__THROW
;

440 
_IO_≥ekc_locked
 (
_IO_FILE
 *
__Â
);

443 
	#_IO_PENDING_OUTPUT_COUNT
(
_Â
) \

444 ((
_Â
)->
_IO_wrôe_±r
 - (_Â)->
_IO_wrôe_ba£
)

	)

446 
_IO_Êockfûe
 (
_IO_FILE
 *Ë
__THROW
;

447 
_IO_fu∆ockfûe
 (
_IO_FILE
 *Ë
__THROW
;

448 
_IO_·rylockfûe
 (
_IO_FILE
 *Ë
__THROW
;

450 #ifde‡
_IO_MTSAFE_IO


451 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_locked
 (_Â)

	)

452 
	#_IO_Êockfûe
(
_Â
) \

453 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_Êockfûe
 (_Â)

	)

454 
	#_IO_fu∆ockfûe
(
_Â
) \

455 i‡(((
_Â
)->
_Êags
 & 
_IO_USER_LOCK
Ë=0Ë
	`_IO_fu∆ockfûe
 (_Â)

	)

457 
	#_IO_≥ekc
(
_Â
Ë
	`_IO_≥ekc_u∆ocked
 (_Â)

	)

458 
	#_IO_Êockfûe
(
_Â
Ë

	)

459 
	#_IO_fu∆ockfûe
(
_Â
Ë

	)

460 
	#_IO_·rylockfûe
(
_Â
Ë

	)

461 
	#_IO_˛ónup_ªgi⁄_°¨t
(
_f˘
, 
_Â
Ë

	)

462 
	#_IO_˛ónup_ªgi⁄_íd
(
_Doô
Ë

	)

465 
_IO_vfsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, const * __restrict,

466 
_IO_va_li°
, *
__ª°ri˘
);

467 
_IO_vÂrötf
 (
_IO_FILE
 *
__ª°ri˘
, const *__restrict,

468 
_IO_va_li°
);

469 
_IO_ssize_t
 
_IO_∑dn
 (
_IO_FILE
 *, , _IO_ssize_t);

470 
_IO_size_t
 
_IO_sgën
 (
_IO_FILE
 *, *, _IO_size_t);

472 
_IO_off64_t
 
_IO_£ekoff
 (
_IO_FILE
 *, _IO_off64_t, , );

473 
_IO_off64_t
 
_IO_£ekpos
 (
_IO_FILE
 *, _IO_off64_t, );

475 
_IO_‰ì_backup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

477 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


478 
_IO_wöt_t
 
_IO_gëwc
 (
_IO_FILE
 *
__Â
);

479 
_IO_wöt_t
 
_IO_putwc
 (
wch¨_t
 
__wc
, 
_IO_FILE
 *
__Â
);

480 
_IO_fwide
 (
_IO_FILE
 *
__Â
, 
__mode
Ë
__THROW
;

481 #i‡
__GNUC__
 >= 2

484 #i‡
deföed
 
_LIBC
 && deföed 
SHARED


485 
	~<shlib-com∑t.h
>

486 #i‡
SHLIB_COMPAT
 (
libc
, 
GLIBC_2_0
, 
GLIBC_2_1
)

487 
	#_IO_fwide_maybe_öcom∑tibÀ
 \

488 (
	`__buûtö_ex≥˘
 (&
_IO_°dö_u£d
 =
NULL
, 0))

	)

489 c⁄° 
_IO_°dö_u£d
;

490 
wók_exã∫
 (
_IO_°dö_u£d
);

493 #i‚de‡
_IO_fwide_maybe_öcom∑tibÀ


494 
	#_IO_fwide_maybe_öcom∑tibÀ
 (0)

	)

498 
	#_IO_fwide
(
__Â
, 
__mode
) \

499 ({ 
__ªsu…
 = (
__mode
); \

500 i‡(
__ªsu…
 < 0 && ! 
_IO_fwide_maybe_öcom∑tibÀ
) \

502 i‡((
__Â
)->
_mode
 == 0) \

504 (
__Â
)->
_mode
 = -1; \

505 
__ªsu…
 = (
__Â
)->
_mode
; \

507 i‡(
	`__buûtö_c⁄°™t_p
 (
__mode
) && (__mode) == 0) \

508 
__ªsu…
 = 
_IO_fwide_maybe_öcom∑tibÀ
 ? -1 : (
__Â
)->
_mode
; \

510 
__ªsu…
 = 
	`_IO_fwide
 (
__Â
, __result); \

511 
__ªsu…
; })

	)

514 
_IO_vfwsˇnf
 (
_IO_FILE
 * 
__ª°ri˘
, c⁄° 
wch¨_t
 * __restrict,

515 
_IO_va_li°
, *
__ª°ri˘
);

516 
_IO_vfw¥ötf
 (
_IO_FILE
 *
__ª°ri˘
, c⁄° 
wch¨_t
 *__restrict,

517 
_IO_va_li°
);

518 
_IO_ssize_t
 
_IO_w∑dn
 (
_IO_FILE
 *, 
wöt_t
, _IO_ssize_t);

519 
_IO_‰ì_wbackup_¨ó
 (
_IO_FILE
 *Ë
__THROW
;

522 #ifde‡
__LDBL_COMPAT


523 
	~<bôs/libio-ldbl.h
>

526 #ifde‡
__˝lu•lus


	@/usr/include/linux/types.h

1 #i‚de‡
_LINUX_TYPES_H


2 
	#_LINUX_TYPES_H


	)

4 
	~<asm/ty≥s.h
>

6 #i‚de‡
__ASSEMBLY__


8 
	~<löux/posix_ty≥s.h
>

16 #ifde‡
__CHECKER__


17 
	#__bôwi£__
 
	`__©åibuã__
((
bôwi£
))

	)

19 
	#__bôwi£__


	)

21 #ifde‡
__CHECK_ENDIAN__


22 
	#__bôwi£
 
__bôwi£__


	)

24 
	#__bôwi£


	)

27 
__u16
 
	t__bôwi£
 
	t__À16
;

28 
__u16
 
	t__bôwi£
 
	t__be16
;

29 
__u32
 
	t__bôwi£
 
	t__À32
;

30 
__u32
 
	t__bôwi£
 
	t__be32
;

31 
__u64
 
	t__bôwi£
 
	t__À64
;

32 
__u64
 
	t__bôwi£
 
	t__be64
;

34 
__u16
 
	t__bôwi£
 
	t__sum16
;

35 
__u32
 
	t__bôwi£
 
	t__wsum
;

46 
	#__Æig√d_u64
 
__u64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

47 
	#__Æig√d_be64
 
__be64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

48 
	#__Æig√d_À64
 
__À64
 
	`__©åibuã__
((
	`Æig√d
(8)))

	)

	@/usr/include/lzma/base.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

29 
	tlzma_boﬁ
;

45 
	mLZMA_RESERVED_ENUM
 = 0

46 } 
	tlzma_ª£rved_íum
;

58 
	mLZMA_OK
 = 0,

63 
	mLZMA_STREAM_END
 = 1,

75 
	mLZMA_NO_CHECK
 = 2,

90 
	mLZMA_UNSUPPORTED_CHECK
 = 3,

115 
	mLZMA_GET_CHECK
 = 4,

128 
	mLZMA_MEM_ERROR
 = 5,

140 
	mLZMA_MEMLIMIT_ERROR
 = 6,

150 
	mLZMA_FORMAT_ERROR
 = 7,

160 
	mLZMA_OPTIONS_ERROR
 = 8,

172 
	mLZMA_DATA_ERROR
 = 9,

191 
	mLZMA_BUF_ERROR
 = 10,

218 
	mLZMA_PROG_ERROR
 = 11,

237 } 
	tlzma_ªt
;

251 
	mLZMA_RUN
 = 0,

265 
	mLZMA_SYNC_FLUSH
 = 1,

290 
	mLZMA_FULL_FLUSH
 = 2,

305 
	mLZMA_FINISH
 = 3

322 } 
	tlzma_a˘i⁄
;

384 *(
LZMA_API_CALL
 *
	mÆloc
)(*
	m›aque
, 
size_t
 
	mnmemb
, size_à
	msize
);

398 (
LZMA_API_CALL
 *
	m‰ì
)(*
	m›aque
, *
	m±r
);

409 *
	m›aque
;

411 } 
	tlzma_Æloˇt‹
;

419 
lzma_öã∫Æ_s
 
	tlzma_öã∫Æ
;

462 c⁄° 
uöt8_t
 *
	m√xt_ö
;

463 
size_t
 
	mavaû_ö
;

464 
uöt64_t
 
	mtŸÆ_ö
;

466 
uöt8_t
 *
	m√xt_out
;

467 
size_t
 
	mavaû_out
;

468 
uöt64_t
 
	mtŸÆ_out
;

476 
lzma_Æloˇt‹
 *
	mÆloˇt‹
;

479 
lzma_öã∫Æ
 *
	möã∫Æ
;

487 *
	mª£rved_±r1
;

488 *
	mª£rved_±r2
;

489 *
	mª£rved_±r3
;

490 *
	mª£rved_±r4
;

491 
uöt64_t
 
	mª£rved_öt1
;

492 
uöt64_t
 
	mª£rved_öt2
;

493 
size_t
 
	mª£rved_öt3
;

494 
size_t
 
	mª£rved_öt4
;

495 
lzma_ª£rved_íum
 
	mª£rved_íum1
;

496 
lzma_ª£rved_íum
 
	mª£rved_íum2
;

498 } 
	tlzma_°ªam
;

519 
	#LZMA_STREAM_INIT
 \

520 { 
NULL
, 0, 0, NULL, 0, 0, NULL, NULL, \

521 
NULL
, NULL, NULL, NULL, 0, 0, 0, 0, \

522 
LZMA_RESERVED_ENUM
, LZMA_RESERVED_ENUM }

	)

537 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_code
(
lzma_°ªam
 *
°rm
, 
lzma_a˘i⁄
 
a˘i⁄
)

538 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

554 
	$LZMA_API
(Ë
	$lzma_íd
(
lzma_°ªam
 *
°rm
Ë
lzma_nŸhrow
;

579 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_memußge
(c⁄° 
lzma_°ªam
 *
°rm
)

580 
lzma_nŸhrow
 
lzma_©å_puª
;

592 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_memlimô_gë
(c⁄° 
lzma_°ªam
 *
°rm
)

593 
lzma_nŸhrow
 
lzma_©å_puª
;

608 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_memlimô_£t
(

609 
lzma_°ªam
 *
°rm
, 
uöt64_t
 
memlimô
Ë
lzma_nŸhrow
;

	@/usr/include/lzma/bcj.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

22 
	#LZMA_FILTER_X86
 
	`LZMA_VLI_C
(0x04)

	)

27 
	#LZMA_FILTER_POWERPC
 
	`LZMA_VLI_C
(0x05)

	)

32 
	#LZMA_FILTER_IA64
 
	`LZMA_VLI_C
(0x06)

	)

37 
	#LZMA_FILTER_ARM
 
	`LZMA_VLI_C
(0x07)

	)

42 
	#LZMA_FILTER_ARMTHUMB
 
	`LZMA_VLI_C
(0x08)

	)

47 
	#LZMA_FILTER_SPARC
 
	`LZMA_VLI_C
(0x09)

	)

88 
uöt32_t
 
	m°¨t_off£t
;

90 } 
	tlzma_›ti⁄s_bcj
;

	@/usr/include/lzma/block.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

47 
uöt32_t
 
	mvîsi⁄
;

67 
uöt32_t
 
	mhódî_size
;

68 
	#LZMA_BLOCK_HEADER_SIZE_MIN
 8

	)

69 
	#LZMA_BLOCK_HEADER_SIZE_MAX
 1024

	)

88 
lzma_check
 
	mcheck
;

143 
lzma_vli
 
	mcom¥es£d_size
;

167 
lzma_vli
 
	muncom¥es£d_size
;

195 
lzma_fûãr
 *
	mfûãrs
;

212 
uöt8_t
 
	møw_check
[
LZMA_CHECK_SIZE_MAX
];

221 *
	mª£rved_±r1
;

222 *
	mª£rved_±r2
;

223 *
	mª£rved_±r3
;

224 
uöt32_t
 
	mª£rved_öt1
;

225 
uöt32_t
 
	mª£rved_öt2
;

226 
lzma_vli
 
	mª£rved_öt3
;

227 
lzma_vli
 
	mª£rved_öt4
;

228 
lzma_vli
 
	mª£rved_öt5
;

229 
lzma_vli
 
	mª£rved_öt6
;

230 
lzma_vli
 
	mª£rved_öt7
;

231 
lzma_vli
 
	mª£rved_öt8
;

232 
lzma_ª£rved_íum
 
	mª£rved_íum1
;

233 
lzma_ª£rved_íum
 
	mª£rved_íum2
;

234 
lzma_ª£rved_íum
 
	mª£rved_íum3
;

235 
lzma_ª£rved_íum
 
	mª£rved_íum4
;

236 
lzma_boﬁ
 
	mª£rved_boﬁ1
;

237 
lzma_boﬁ
 
	mª£rved_boﬁ2
;

238 
lzma_boﬁ
 
	mª£rved_boﬁ3
;

239 
lzma_boﬁ
 
	mª£rved_boﬁ4
;

240 
lzma_boﬁ
 
	mª£rved_boﬁ5
;

241 
lzma_boﬁ
 
	mª£rved_boﬁ6
;

242 
lzma_boﬁ
 
	mª£rved_boﬁ7
;

243 
lzma_boﬁ
 
	mª£rved_boﬁ8
;

245 } 
	tlzma_block
;

259 
	#lzma_block_hódî_size_decode
(
b
Ë(((
uöt32_t
)(bË+ 1Ë* 4)

	)

283 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_hódî_size
(
lzma_block
 *
block
)

284 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

305 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_hódî_ícode
(

306 c⁄° 
lzma_block
 *
block
, 
uöt8_t
 *
out
)

307 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

343 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_hódî_decode
(
lzma_block
 *
block
,

344 
lzma_Æloˇt‹
 *
Æloˇt‹
, c⁄° 
uöt8_t
 *
ö
)

345 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

375 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_com¥es£d_size
(

376 
lzma_block
 *
block
, 
lzma_vli
 
u≈added_size
)

377 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

391 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_block_u≈added_size
(c⁄° 
lzma_block
 *
block
)

392 
lzma_nŸhrow
 
lzma_©å_puª
;

404 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_block_tŸÆ_size
(c⁄° 
lzma_block
 *
block
)

405 
lzma_nŸhrow
 
lzma_©å_puª
;

422 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_ícodî
(

423 
lzma_°ªam
 *
°rm
, 
lzma_block
 *
block
)

424 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

440 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_decodî
(

441 
lzma_°ªam
 *
°rm
, 
lzma_block
 *
block
)

442 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

451 
	$LZMA_API
(
size_t
Ë
	$lzma_block_buf„r_bound
(
size_t
 
uncom¥es£d_size
)

452 
lzma_nŸhrow
;

492 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_buf„r_ícode
(

493 
lzma_block
 *
block
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

494 c⁄° 
uöt8_t
 *
ö
, 
size_t
 
ö_size
,

495 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
)

496 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

526 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_block_buf„r_decode
(

527 
lzma_block
 *
block
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

528 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
,

529 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
)

530 
lzma_nŸhrow
;

	@/usr/include/lzma/check.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

28 
	mLZMA_CHECK_NONE
 = 0,

35 
	mLZMA_CHECK_CRC32
 = 1,

42 
	mLZMA_CHECK_CRC64
 = 4,

49 
	mLZMA_CHECK_SHA256
 = 10

55 } 
	tlzma_check
;

68 
	#LZMA_CHECK_ID_MAX
 15

	)

81 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_check_is_suµ‹ãd
(
lzma_check
 
check
)

82 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

95 
	$LZMA_API
(
uöt32_t
Ë
	$lzma_check_size
(
lzma_check
 
check
)

96 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

102 
	#LZMA_CHECK_SIZE_MAX
 64

	)

119 
	$LZMA_API
(
uöt32_t
Ë
	$lzma_¸c32
(

120 c⁄° 
uöt8_t
 *
buf
, 
size_t
 
size
, 
uöt32_t
 
¸c
)

121 
lzma_nŸhrow
 
lzma_©å_puª
;

131 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_¸c64
(

132 c⁄° 
uöt8_t
 *
buf
, 
size_t
 
size
, 
uöt64_t
 
¸c
)

133 
lzma_nŸhrow
 
lzma_©å_puª
;

149 
	$LZMA_API
(
lzma_check
Ë
	$lzma_gë_check
(c⁄° 
lzma_°ªam
 *
°rm
)

150 
lzma_nŸhrow
;

	@/usr/include/lzma/container.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

31 
	#LZMA_PRESET_DEFAULT
 
	`UINT32_C
(6)

	)

40 
	#LZMA_PRESET_LEVEL_MASK
 
	`UINT32_C
(0x1F)

	)

60 
	#LZMA_PRESET_EXTREME
 (
	`UINT32_C
(1Ë<< 31)

	)

74 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_ósy_ícodî_memußge
(
uöt32_t
 
¥e£t
)

75 
lzma_nŸhrow
 
lzma_©å_puª
;

90 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_ósy_decodî_memußge
(
uöt32_t
 
¥e£t
)

91 
lzma_nŸhrow
 
lzma_©å_puª
;

133 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ósy_ícodî
(

134 
lzma_°ªam
 *
°rm
, 
uöt32_t
 
¥e£t
, 
lzma_check
 
check
)

135 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

166 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ósy_buf„r_ícode
(

167 
uöt32_t
 
¥e£t
, 
lzma_check
 
check
,

168 
lzma_Æloˇt‹
 *
Æloˇt‹
, c⁄° 
uöt8_t
 *
ö
, 
size_t
 
ö_size
,

169 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
Ë
lzma_nŸhrow
;

188 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_ícodî
(
lzma_°ªam
 *
°rm
,

189 c⁄° 
lzma_fûãr
 *
fûãrs
, 
lzma_check
 
check
)

190 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

213 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_Æ⁄e_ícodî
(

214 
lzma_°ªam
 *
°rm
, c⁄° 
lzma_›ti⁄s_lzma
 *
›ti⁄s
)

215 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

240 
	$LZMA_API
(
size_t
Ë
	$lzma_°ªam_buf„r_bound
(
size_t
 
uncom¥es£d_size
)

241 
lzma_nŸhrow
;

270 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_buf„r_ícode
(

271 
lzma_fûãr
 *
fûãrs
, 
lzma_check
 
check
,

272 
lzma_Æloˇt‹
 *
Æloˇt‹
, c⁄° 
uöt8_t
 *
ö
, 
size_t
 
ö_size
,

273 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
)

274 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

287 
	#LZMA_TELL_NO_CHECK
 
	`UINT32_C
(0x01)

	)

296 
	#LZMA_TELL_UNSUPPORTED_CHECK
 
	`UINT32_C
(0x02)

	)

304 
	#LZMA_TELL_ANY_CHECK
 
	`UINT32_C
(0x04)

	)

321 
	#LZMA_CONCATENATED
 
	`UINT32_C
(0x08)

	)

339 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_decodî
(

340 
lzma_°ªam
 *
°rm
, 
uöt64_t
 
memlimô
, 
uöt32_t
 
Êags
)

341 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

361 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_auto_decodî
(

362 
lzma_°ªam
 *
°rm
, 
uöt64_t
 
memlimô
, 
uöt32_t
 
Êags
)

363 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

377 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_Æ⁄e_decodî
(

378 
lzma_°ªam
 *
°rm
, 
uöt64_t
 
memlimô
)

379 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

420 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_buf„r_decode
(

421 
uöt64_t
 *
memlimô
, 
uöt32_t
 
Êags
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

422 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
,

423 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
)

424 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

	@/usr/include/lzma/delta.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

25 
	#LZMA_FILTER_DELTA
 
	`LZMA_VLI_C
(0x03)

	)

36 
	mLZMA_DELTA_TYPE_BYTE


37 } 
	tlzma_dñè_ty≥
;

47 
lzma_dñè_ty≥
 
	mty≥
;

59 
uöt32_t
 
	mdi°
;

60 
	#LZMA_DELTA_DIST_MIN
 1

	)

61 
	#LZMA_DELTA_DIST_MAX
 256

	)

70 
uöt32_t
 
	mª£rved_öt1
;

71 
uöt32_t
 
	mª£rved_öt2
;

72 
uöt32_t
 
	mª£rved_öt3
;

73 
uöt32_t
 
	mª£rved_öt4
;

74 *
	mª£rved_±r1
;

75 *
	mª£rved_±r2
;

77 } 
	tlzma_›ti⁄s_dñè
;

	@/usr/include/lzma/filter.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

26 
	#LZMA_FILTERS_MAX
 4

	)

54 
lzma_vli
 
	mid
;

63 *
	m›ti⁄s
;

65 } 
	tlzma_fûãr
;

78 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_fûãr_ícodî_is_suµ‹ãd
(
lzma_vli
 
id
)

79 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

88 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_fûãr_decodî_is_suµ‹ãd
(
lzma_vli
 
id
)

89 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

119 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_fûãrs_c›y
(c⁄° 
lzma_fûãr
 *
§c
,

120 
lzma_fûãr
 *
de°
, 
lzma_Æloˇt‹
 *
Æloˇt‹
Ë
lzma_nŸhrow
;

138 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_øw_ícodî_memußge
(c⁄° 
lzma_fûãr
 *
fûãrs
)

139 
lzma_nŸhrow
 
lzma_©å_puª
;

157 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_øw_decodî_memußge
(c⁄° 
lzma_fûãr
 *
fûãrs
)

158 
lzma_nŸhrow
 
lzma_©å_puª
;

178 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_øw_ícodî
(

179 
lzma_°ªam
 *
°rm
, c⁄° 
lzma_fûãr
 *
fûãrs
)

180 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

196 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_øw_decodî
(

197 
lzma_°ªam
 *
°rm
, c⁄° 
lzma_fûãr
 *
fûãrs
)

198 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

227 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_fûãrs_upd©e
(

228 
lzma_°ªam
 *
°rm
, c⁄° 
lzma_fûãr
 *
fûãrs
Ë
lzma_nŸhrow
;

258 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_øw_buf„r_ícode
(

259 c⁄° 
lzma_fûãr
 *
fûãrs
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

260 c⁄° 
uöt8_t
 *
ö
, 
size_t
 
ö_size
, uöt8_à*
out
,

261 
size_t
 *
out_pos
, size_à
out_size
Ë
lzma_nŸhrow
;

282 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_øw_buf„r_decode
(

283 c⁄° 
lzma_fûãr
 *
fûãrs
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

284 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
,

285 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
Ë
lzma_nŸhrow
;

307 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_¥›îtõs_size
(

308 
uöt32_t
 *
size
, c⁄° 
lzma_fûãr
 *
fûãr
Ë
lzma_nŸhrow
;

333 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_¥›îtõs_ícode
(

334 c⁄° 
lzma_fûãr
 *
fûãr
, 
uöt8_t
 *
¥›s
Ë
lzma_nŸhrow
;

358 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_¥›îtõs_decode
(

359 
lzma_fûãr
 *
fûãr
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

360 c⁄° 
uöt8_t
 *
¥›s
, 
size_t
 
¥›s_size
Ë
lzma_nŸhrow
;

382 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_fûãr_Êags_size
(

383 
uöt32_t
 *
size
, c⁄° 
lzma_fûãr
 *
fûãr
)

384 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

405 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_fûãr_Êags_ícode
(c⁄° 
lzma_fûãr
 *
fûãr
,

406 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
)

407 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

421 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_fûãr_Êags_decode
(

422 
lzma_fûãr
 *
fûãr
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

423 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
)

424 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

	@/usr/include/lzma/hardware.h

32 #i‚de‡
LZMA_H_INTERNAL


33 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

50 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_physmem
(Ë
lzma_nŸhrow
;

	@/usr/include/lzma/index.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

37 
lzma_ödex_s
 
	tlzma_ödex
;

51 c⁄° 
lzma_°ªam_Êags
 *
	mÊags
;

53 c⁄° *
	mª£rved_±r1
;

54 c⁄° *
	mª£rved_±r2
;

55 c⁄° *
	mª£rved_±r3
;

62 
lzma_vli
 
	mnumbî
;

70 
lzma_vli
 
	mblock_cou¡
;

78 
lzma_vli
 
	mcom¥es£d_off£t
;

86 
lzma_vli
 
	muncom¥es£d_off£t
;

94 
lzma_vli
 
	mcom¥es£d_size
;

99 
lzma_vli
 
	muncom¥es£d_size
;

108 
lzma_vli
 
	m∑ddög
;

110 
lzma_vli
 
	mª£rved_vli1
;

111 
lzma_vli
 
	mª£rved_vli2
;

112 
lzma_vli
 
	mª£rved_vli3
;

113 
lzma_vli
 
	mª£rved_vli4
;

114 } 
	m°ªam
;

122 
lzma_vli
 
	mnumbî_ö_fûe
;

132 
lzma_vli
 
	mcom¥es£d_fûe_off£t
;

147 
lzma_vli
 
	muncom¥es£d_fûe_off£t
;

154 
lzma_vli
 
	mnumbî_ö_°ªam
;

162 
lzma_vli
 
	mcom¥es£d_°ªam_off£t
;

170 
lzma_vli
 
	muncom¥es£d_°ªam_off£t
;

179 
lzma_vli
 
	muncom¥es£d_size
;

188 
lzma_vli
 
	mu≈added_size
;

197 
lzma_vli
 
	mtŸÆ_size
;

199 
lzma_vli
 
	mª£rved_vli1
;

200 
lzma_vli
 
	mª£rved_vli2
;

201 
lzma_vli
 
	mª£rved_vli3
;

202 
lzma_vli
 
	mª£rved_vli4
;

204 c⁄° *
	mª£rved_±r1
;

205 c⁄° *
	mª£rved_±r2
;

206 c⁄° *
	mª£rved_±r3
;

207 c⁄° *
	mª£rved_±r4
;

208 } 
	mblock
;

216 c⁄° *
	mp
;

217 
size_t
 
	ms
;

218 
lzma_vli
 
	mv
;

219 } 
	möã∫Æ
[6];

220 } 
	tlzma_ödex_ôî
;

227 
	mLZMA_INDEX_ITER_ANY
 = 0,

238 
	mLZMA_INDEX_ITER_STREAM
 = 1,

249 
	mLZMA_INDEX_ITER_BLOCK
 = 2,

260 
	mLZMA_INDEX_ITER_NONEMPTY_BLOCK
 = 3

268 } 
	tlzma_ödex_ôî_mode
;

286 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_ödex_memußge
(

287 
lzma_vli
 
°ªams
,Üzma_vlò
blocks
Ë
lzma_nŸhrow
;

296 
	$LZMA_API
(
uöt64_t
Ë
	$lzma_ödex_memu£d
(c⁄° 
lzma_ödex
 *
i
)

297 
lzma_nŸhrow
;

306 
	$LZMA_API
(
lzma_ödex
 *Ë
	$lzma_ödex_öô
(
lzma_Æloˇt‹
 *
Æloˇt‹
)

307 
lzma_nŸhrow
;

315 
	$LZMA_API
(Ë
	$lzma_ödex_íd
(
lzma_ödex
 *
i
, 
lzma_Æloˇt‹
 *
Æloˇt‹
)

316 
lzma_nŸhrow
;

343 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_≠≥nd
(

344 
lzma_ödex
 *
i
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

345 
lzma_vli
 
u≈added_size
,Üzma_vlò
uncom¥es£d_size
)

346 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

365 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_°ªam_Êags
(

366 
lzma_ödex
 *
i
, c⁄° 
lzma_°ªam_Êags
 *
°ªam_Êags
)

367 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

380 
	$LZMA_API
(
uöt32_t
Ë
	$lzma_ödex_checks
(c⁄° 
lzma_ödex
 *
i
)

381 
lzma_nŸhrow
 
lzma_©å_puª
;

397 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_°ªam_∑ddög
(

398 
lzma_ödex
 *
i
, 
lzma_vli
 
°ªam_∑ddög
)

399 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

405 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_°ªam_cou¡
(c⁄° 
lzma_ödex
 *
i
)

406 
lzma_nŸhrow
 
lzma_©å_puª
;

415 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_block_cou¡
(c⁄° 
lzma_ödex
 *
i
)

416 
lzma_nŸhrow
 
lzma_©å_puª
;

424 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_size
(c⁄° 
lzma_ödex
 *
i
)

425 
lzma_nŸhrow
 
lzma_©å_puª
;

435 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_°ªam_size
(c⁄° 
lzma_ödex
 *
i
)

436 
lzma_nŸhrow
 
lzma_©å_puª
;

445 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_tŸÆ_size
(c⁄° 
lzma_ödex
 *
i
)

446 
lzma_nŸhrow
 
lzma_©å_puª
;

457 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_fûe_size
(c⁄° 
lzma_ödex
 *
i
)

458 
lzma_nŸhrow
 
lzma_©å_puª
;

464 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_uncom¥es£d_size
(c⁄° 
lzma_ödex
 *
i
)

465 
lzma_nŸhrow
 
lzma_©å_puª
;

487 
	$LZMA_API
(Ë
	$lzma_ödex_ôî_öô
(

488 
lzma_ödex_ôî
 *
ôî
, c⁄° 
lzma_ödex
 *
i
Ë
lzma_nŸhrow
;

497 
	$LZMA_API
(Ë
	$lzma_ödex_ôî_ªwöd
(
lzma_ödex_ôî
 *
ôî
)

498 
lzma_nŸhrow
;

514 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_ödex_ôî_√xt
(

515 
lzma_ödex_ôî
 *
ôî
, 
lzma_ödex_ôî_mode
 
mode
)

516 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

542 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_ödex_ôî_loˇã
(

543 
lzma_ödex_ôî
 *
ôî
, 
lzma_vli
 
èrgë
Ë
lzma_nŸhrow
;

567 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_ˇt
(

568 
lzma_ödex
 *
de°
,Üzma_ödex *
§c
, 
lzma_Æloˇt‹
 *
Æloˇt‹
)

569 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

577 
	$LZMA_API
(
lzma_ödex
 *Ë
	$lzma_ödex_dup
(

578 c⁄° 
lzma_ödex
 *
i
, 
lzma_Æloˇt‹
 *
Æloˇt‹
)

579 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

596 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_ícodî
(

597 
lzma_°ªam
 *
°rm
, c⁄° 
lzma_ödex
 *
i
)

598 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

624 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_decodî
(

625 
lzma_°ªam
 *
°rm
, 
lzma_ödex
 **
i
, 
uöt64_t
 
memlimô
)

626 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

648 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_buf„r_ícode
(c⁄° 
lzma_ödex
 *
i
,

649 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
Ë
lzma_nŸhrow
;

679 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_buf„r_decode
(
lzma_ödex
 **
i
,

680 
uöt64_t
 *
memlimô
, 
lzma_Æloˇt‹
 *
Æloˇt‹
,

681 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
)

682 
lzma_nŸhrow
;

	@/usr/include/lzma/index_hash.h

18 #i‚de‡
LZMA_H_INTERNAL


19 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

25 
lzma_ödex_hash_s
 
	tlzma_ödex_hash
;

39 
	$LZMA_API
(
lzma_ödex_hash
 *Ë
	$lzma_ödex_hash_öô
(

40 
lzma_ödex_hash
 *
ödex_hash
, 
lzma_Æloˇt‹
 *
Æloˇt‹
)

41 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

47 
	$LZMA_API
(Ë
	$lzma_ödex_hash_íd
(

48 
lzma_ödex_hash
 *
ödex_hash
, 
lzma_Æloˇt‹
 *
Æloˇt‹
)

49 
lzma_nŸhrow
;

65 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_hash_≠≥nd
(
lzma_ödex_hash
 *
ödex_hash
,

66 
lzma_vli
 
u≈added_size
,Üzma_vlò
uncom¥es£d_size
)

67 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

95 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_ödex_hash_decode
(
lzma_ödex_hash
 *
ödex_hash
,

96 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
)

97 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

105 
	$LZMA_API
(
lzma_vli
Ë
	$lzma_ödex_hash_size
(

106 c⁄° 
lzma_ödex_hash
 *
ödex_hash
)

107 
lzma_nŸhrow
 
lzma_©å_puª
;

	@/usr/include/lzma/lzma.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

30 
	#LZMA_FILTER_LZMA1
 
	`LZMA_VLI_C
(0x4000000000000001)

	)

40 
	#LZMA_FILTER_LZMA2
 
	`LZMA_VLI_C
(0x21)

	)

59 
	mLZMA_MF_HC3
 = 0x03,

70 
	mLZMA_MF_HC4
 = 0x04,

81 
	mLZMA_MF_BT2
 = 0x12,

90 
	mLZMA_MF_BT3
 = 0x13,

101 
	mLZMA_MF_BT4
 = 0x14

111 } 
	tlzma_m©ch_födî
;

128 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_mf_is_suµ‹ãd
(
lzma_m©ch_födî
 
m©ch_födî
)

129 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

139 
LZMA_MODE_FAST
 = 1,

147 
LZMA_MODE_NORMAL
 = 2

155 } 
	tlzma_mode
;

170 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_mode_is_suµ‹ãd
(
lzma_mode
 
mode
)

171 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

217 
uöt32_t
 
di˘_size
;

218 
	#LZMA_DICT_SIZE_MIN
 
	`UINT32_C
(4096)

	)

219 
	#LZMA_DICT_SIZE_DEFAULT
 (
	`UINT32_C
(1Ë<< 23)

	)

240 c⁄° 
uöt8_t
 *
¥e£t_di˘
;

254 
uöt32_t
 
¥e£t_di˘_size
;

281 
uöt32_t
 
lc
;

282 
	#LZMA_LCLP_MIN
 0

	)

283 
	#LZMA_LCLP_MAX
 4

	)

284 
	#LZMA_LC_DEFAULT
 3

	)

293 
uöt32_t
 
Õ
;

294 
	#LZMA_LP_DEFAULT
 0

	)

316 
uöt32_t
 
pb
;

317 
	#LZMA_PB_MIN
 0

	)

318 
	#LZMA_PB_MAX
 4

	)

319 
	#LZMA_PB_DEFAULT
 2

	)

322 
lzma_mode
 
mode
;

342 
uöt32_t
 
ni˚_Àn
;

345 
lzma_m©ch_födî
 
mf
;

375 
uöt32_t
 
dïth
;

384 
uöt32_t
 
ª£rved_öt1
;

385 
uöt32_t
 
ª£rved_öt2
;

386 
uöt32_t
 
ª£rved_öt3
;

387 
uöt32_t
 
ª£rved_öt4
;

388 
uöt32_t
 
ª£rved_öt5
;

389 
uöt32_t
 
ª£rved_öt6
;

390 
uöt32_t
 
ª£rved_öt7
;

391 
uöt32_t
 
ª£rved_öt8
;

392 
lzma_ª£rved_íum
 
ª£rved_íum1
;

393 
lzma_ª£rved_íum
 
ª£rved_íum2
;

394 
lzma_ª£rved_íum
 
ª£rved_íum3
;

395 
lzma_ª£rved_íum
 
ª£rved_íum4
;

396 *
ª£rved_±r1
;

397 *
ª£rved_±r2
;

399 } 
	tlzma_›ti⁄s_lzma
;

419 
	$LZMA_API
(
lzma_boﬁ
Ë
	$lzma_lzma_¥e£t
(

420 
lzma_›ti⁄s_lzma
 *
›ti⁄s
, 
uöt32_t
 
¥e£t
Ë
lzma_nŸhrow
;

	@/usr/include/lzma/stream_flags.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

27 
	#LZMA_STREAM_HEADER_SIZE
 12

	)

51 
uöt32_t
 
	mvîsi⁄
;

69 
lzma_vli
 
	mbackw¨d_size
;

70 
	#LZMA_BACKWARD_SIZE_MIN
 4

	)

71 
	#LZMA_BACKWARD_SIZE_MAX
 (
	`LZMA_VLI_C
(1Ë<< 34)

	)

79 
lzma_check
 
	mcheck
;

90 
lzma_ª£rved_íum
 
	mª£rved_íum1
;

91 
lzma_ª£rved_íum
 
	mª£rved_íum2
;

92 
lzma_ª£rved_íum
 
	mª£rved_íum3
;

93 
lzma_ª£rved_íum
 
	mª£rved_íum4
;

94 
lzma_boﬁ
 
	mª£rved_boﬁ1
;

95 
lzma_boﬁ
 
	mª£rved_boﬁ2
;

96 
lzma_boﬁ
 
	mª£rved_boﬁ3
;

97 
lzma_boﬁ
 
	mª£rved_boﬁ4
;

98 
lzma_boﬁ
 
	mª£rved_boﬁ5
;

99 
lzma_boﬁ
 
	mª£rved_boﬁ6
;

100 
lzma_boﬁ
 
	mª£rved_boﬁ7
;

101 
lzma_boﬁ
 
	mª£rved_boﬁ8
;

102 
uöt32_t
 
	mª£rved_öt1
;

103 
uöt32_t
 
	mª£rved_öt2
;

105 } 
	tlzma_°ªam_Êags
;

122 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_hódî_ícode
(

123 c⁄° 
lzma_°ªam_Êags
 *
›ti⁄s
, 
uöt8_t
 *
out
)

124 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

139 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_foŸî_ícode
(

140 c⁄° 
lzma_°ªam_Êags
 *
›ti⁄s
, 
uöt8_t
 *
out
)

141 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

174 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_hódî_decode
(

175 
lzma_°ªam_Êags
 *
›ti⁄s
, c⁄° 
uöt8_t
 *
ö
)

176 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

201 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_foŸî_decode
(

202 
lzma_°ªam_Êags
 *
›ti⁄s
, c⁄° 
uöt8_t
 *
ö
)

203 
lzma_nŸhrow
 
lzma_©å_w¨n_unu£d_ªsu…
;

221 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_°ªam_Êags_com∑ª
(

222 c⁄° 
lzma_°ªam_Êags
 *
a
, c⁄°Üzma_°ªam_Êag†*
b
)

223 
lzma_nŸhrow
 
lzma_©å_puª
;

	@/usr/include/lzma/version.h

15 #i‚de‡
LZMA_H_INTERNAL


16 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

23 
	#LZMA_VERSION_MAJOR
 5

	)

24 
	#LZMA_VERSION_MINOR
 1

	)

25 
	#LZMA_VERSION_PATCH
 0

	)

26 
	#LZMA_VERSION_STABILITY
 
LZMA_VERSION_STABILITY_ALPHA


	)

28 #i‚de‡
LZMA_VERSION_COMMIT


29 
	#LZMA_VERSION_COMMIT
 ""

	)

36 
	#LZMA_VERSION_STABILITY_ALPHA
 0

	)

37 
	#LZMA_VERSION_STABILITY_BETA
 1

	)

38 
	#LZMA_VERSION_STABILITY_STABLE
 2

	)

57 
	#LZMA_VERSION
 (
LZMA_VERSION_MAJOR
 * 
	`UINT32_C
(10000000) \

58 + 
LZMA_VERSION_MINOR
 * 
	`UINT32_C
(10000) \

59 + 
LZMA_VERSION_PATCH
 * 
	`UINT32_C
(10) \

60 + 
LZMA_VERSION_STABILITY
)

	)

66 #i‡
LZMA_VERSION_STABILITY
 =
LZMA_VERSION_STABILITY_ALPHA


67 
	#LZMA_VERSION_STABILITY_STRING
 "Æpha"

	)

68 #ñi‡
LZMA_VERSION_STABILITY
 =
LZMA_VERSION_STABILITY_BETA


69 
	#LZMA_VERSION_STABILITY_STRING
 "bëa"

	)

70 #ñi‡
LZMA_VERSION_STABILITY
 =
LZMA_VERSION_STABILITY_STABLE


71 
	#LZMA_VERSION_STABILITY_STRING
 ""

	)

73 #îr‹ 
Inc‹ª˘
 
LZMA_VERSION_STABILITY


76 
	#LZMA_VERSION_STRING_C_
(
maj‹
, 
mö‹
, 
∑tch
, 
°abûôy
, 
commô
) \

77 #maj‹ "." #mö‹ "." #∑tch 
°abûôy
 
commô


	)

79 
	#LZMA_VERSION_STRING_C
(
maj‹
, 
mö‹
, 
∑tch
, 
°abûôy
, 
commô
) \

80 
	`LZMA_VERSION_STRING_C_
(
maj‹
, 
mö‹
, 
∑tch
, 
°abûôy
, 
commô
)

	)

92 
	#LZMA_VERSION_STRING
 
	`LZMA_VERSION_STRING_C
( \

93 
LZMA_VERSION_MAJOR
, 
LZMA_VERSION_MINOR
, \

94 
LZMA_VERSION_PATCH
, 
LZMA_VERSION_STABILITY_STRING
, \

95 
LZMA_VERSION_COMMIT
)

	)

99 #i‚de‡
LZMA_H_INTERNAL_RC


108 
	$LZMA_API
(
uöt32_t
Ë
	$lzma_vîsi⁄_numbî
()

109 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

118 
	$LZMA_API
(c⁄° *Ë
	$lzma_vîsi⁄_°rög
()

119 
lzma_nŸhrow
 
lzma_©å_c⁄°
;

	@/usr/include/lzma/vli.h

26 #i‚de‡
LZMA_H_INTERNAL


27 #îr‹ 
Nevî
 
ö˛ude
 
this
 
fûe
 
dúe˘ly
. 
U£
 <
lzma
.
h
> 
ö°ód
.

34 
	#LZMA_VLI_MAX
 (
UINT64_MAX
 / 2)

	)

39 
	#LZMA_VLI_UNKNOWN
 
UINT64_MAX


	)

44 
	#LZMA_VLI_BYTES_MAX
 9

	)

49 
	#LZMA_VLI_C
(
n
Ë
	`UINT64_C
“)

	)

63 
uöt64_t
 
	tlzma_vli
;

75 
	#lzma_vli_is_vÆid
(
vli
) \

76 ((
vli
Ë<
LZMA_VLI_MAX
 || (vliË=
LZMA_VLI_UNKNOWN
)

	)

115 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_vli_ícode
(
lzma_vli
 
vli
, 
size_t
 *
vli_pos
,

116 
uöt8_t
 *
out
, 
size_t
 *
out_pos
, size_à
out_size
Ë
lzma_nŸhrow
;

154 
	$LZMA_API
(
lzma_ªt
Ë
	$lzma_vli_decode
(
lzma_vli
 *
vli
, 
size_t
 *
vli_pos
,

155 c⁄° 
uöt8_t
 *
ö
, 
size_t
 *
ö_pos
, size_à
ö_size
)

156 
lzma_nŸhrow
;

165 
	$LZMA_API
(
uöt32_t
Ë
	$lzma_vli_size
(
lzma_vli
 
vli
)

166 
lzma_nŸhrow
 
lzma_©å_puª
;

	@/usr/include/rpc/netdb.h

36 #i‚de‡
_RPC_NETDB_H


37 
	#_RPC_NETDB_H
 1

	)

39 
	~<„©uªs.h
>

41 
	#__√ed_size_t


	)

42 
	~<°ddef.h
>

44 
__BEGIN_DECLS


46 
	sΩ˚¡


48 *
	mr_«me
;

49 **
	mr_Æü£s
;

50 
	mr_numbî
;

53 
	$£åp˚¡
 (
__°ay›í
Ë
__THROW
;

54 
	$ídΩ˚¡
 (Ë
__THROW
;

55 
Ω˚¡
 *
	$gëΩcby«me
 (c⁄° *
__«me
Ë
__THROW
;

56 
Ω˚¡
 *
	$gëΩcbynumbî
 (
__numbî
Ë
__THROW
;

57 
Ω˚¡
 *
	$gëΩ˚¡
 (Ë
__THROW
;

59 #ifde‡
__USE_MISC


60 
	$gëΩcby«me_r
 (c⁄° *
__«me
, 
Ω˚¡
 *
__ªsu…_buf
,

61 *
__buf„r
, 
size_t
 
__buÊí
,

62 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

64 
	$gëΩcbynumbî_r
 (
__numbî
, 
Ω˚¡
 *
__ªsu…_buf
,

65 *
__buf„r
, 
size_t
 
__buÊí
,

66 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

68 
	$gëΩ˚¡_r
 (
Ω˚¡
 *
__ªsu…_buf
, *
__buf„r
,

69 
size_t
 
__buÊí
, 
Ω˚¡
 **
__ªsu…
Ë
__THROW
;

72 
__END_DECLS


	@/usr/include/xlocale.h

20 #i‚de‡
_XLOCALE_H


21 
	#_XLOCALE_H
 1

	)

27 
	s__loˇÀ_°ru˘


30 
__loˇÀ_d©a
 *
	m__loˇÀs
[13];

33 c⁄° *
	m__˘y≥_b
;

34 c⁄° *
	m__˘y≥_tﬁowî
;

35 c⁄° *
	m__˘y≥_touµî
;

38 c⁄° *
	m__«mes
[13];

39 } *
	t__loˇÀ_t
;

42 
__loˇÀ_t
 
	tloˇÀ_t
;

	@/usr/include/_G_config.h

4 #i‚de‡
_G_c⁄fig_h


5 
	#_G_c⁄fig_h
 1

	)

9 
	~<bôs/ty≥s.h
>

10 
	#__√ed_size_t


	)

11 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


12 
	#__√ed_wch¨_t


	)

14 
	#__√ed_NULL


	)

15 
	~<°ddef.h
>

16 
	#__√ed_mb°©e_t


	)

17 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


18 
	#__√ed_wöt_t


	)

20 
	~<wch¨.h
>

23 
__off_t
 
	m__pos
;

24 
__mb°©e_t
 
	m__°©e
;

25 } 
	t_G_Âos_t
;

28 
__off64_t
 
	m__pos
;

29 
__mb°©e_t
 
	m__°©e
;

30 } 
	t_G_Âos64_t
;

31 #i‡
deföed
 
_LIBC
 || deföed 
_GLIBCPP_USE_WCHAR_T


32 
	~<gc⁄v.h
>

35 
__gc⁄v_öfo
 
	m__cd
;

38 
__gc⁄v_öfo
 
	m__cd
;

39 
__gc⁄v_°ï_d©a
 
	m__d©a
;

40 } 
	m__comböed
;

41 } 
	t_G_ic⁄v_t
;

46 
	#_G_va_li°
 
__gnuc_va_li°


	)

48 
	#_G_HAVE_MMAP
 1

	)

49 
	#_G_HAVE_MREMAP
 1

	)

51 
	#_G_IO_IO_FILE_VERSION
 0x20001

	)

54 
	#_G_HAVE_ST_BLKSIZE
 
	`deföed
 (
_STATBUF_ST_BLKSIZE
)

	)

56 
	#_G_BUFSIZ
 8192

	)

	@/usr/include/linux/posix_types.h

1 #i‚de‡
_LINUX_POSIX_TYPES_H


2 
	#_LINUX_POSIX_TYPES_H


	)

4 
	~<löux/°ddef.h
>

21 #unde‡
__FD_SETSIZE


22 
	#__FD_SETSIZE
 1024

	)

25 
	mfds_bôs
[
__FD_SETSIZE
 / (8 * ())];

26 } 
	t__kî√l_fd_£t
;

29 (*
	t__kî√l_sigh™dÀr_t
)();

32 
	t__kî√l_key_t
;

33 
	t__kî√l_mqd_t
;

35 
	~<asm/posix_ty≥s.h
>

	@/usr/include/stdc-predef.h

18 #i‚def 
_STDC_PREDEF_H


19 
	#_STDC_PREDEF_H
 1

	)

30 
	~<bôs/¥edefs.h
>

34 
	#__STDC_ISO_10646__
 201103L

	)

37 
	#__STDC_NO_THREADS__
 1

	)

	@/usr/include/utime.h

22 #i‚def 
_UTIME_H


23 
	#_UTIME_H
 1

	)

25 
	~<„©uªs.h
>

27 
	g__BEGIN_DECLS


29 
	~<bôs/ty≥s.h
>

31 #i‡
deföed
 
__USE_XOPEN
 || deföed 
__USE_XOPEN2K


32 
	#__√ed_time_t


	)

33 
	~<time.h
>

37 
	sutimbuf


39 
__time_t
 
	ma˘ime
;

40 
__time_t
 
	mmodtime
;

45 
	$utime
 (c⁄° *
__fûe
,

46 c⁄° 
utimbuf
 *
__fûe_times
)

47 
__THROW
 
	`__n⁄nuŒ
 ((1));

49 
__END_DECLS


	@/usr/include/gconv.h

22 #i‚de‡
_GCONV_H


23 
	#_GCONV_H
 1

	)

25 
	~<„©uªs.h
>

26 
	#__√ed_mb°©e_t


	)

27 
	#__√ed_wöt_t


	)

28 
	~<wch¨.h
>

29 
	#__√ed_size_t


	)

30 
	#__√ed_wch¨_t


	)

31 
	~<°ddef.h
>

34 
	#__UNKNOWN_10646_CHAR
 ((
wch¨_t
Ë0xfffd)

	)

39 
	m__GCONV_OK
 = 0,

40 
	m__GCONV_NOCONV
,

41 
	m__GCONV_NODB
,

42 
	m__GCONV_NOMEM
,

44 
	m__GCONV_EMPTY_INPUT
,

45 
	m__GCONV_FULL_OUTPUT
,

46 
	m__GCONV_ILLEGAL_INPUT
,

47 
	m__GCONV_INCOMPLETE_INPUT
,

49 
	m__GCONV_ILLEGAL_DESCRIPTOR
,

50 
	m__GCONV_INTERNAL_ERROR


57 
	m__GCONV_IS_LAST
 = 0x0001,

58 
	m__GCONV_IGNORE_ERRORS
 = 0x0002,

59 
	m__GCONV_SWAP
 = 0x0004

64 
	g__gc⁄v_°ï
;

65 
	g__gc⁄v_°ï_d©a
;

66 
	g__gc⁄v_lﬂded_obje˘
;

67 
	g__gc⁄v_å™s_d©a
;

71 (*
	t__gc⁄v_f˘
Ë(
	t__gc⁄v_°ï
 *, 
	t__gc⁄v_°ï_d©a
 *,

73 **, 
	tsize_t
 *, , );

76 
	$wöt_t
 (*
	t__gc⁄v_btowc_f˘
Ë(
	t__gc⁄v_°ï
 *, );

79 (*
	t__gc⁄v_öô_f˘
Ë(
	t__gc⁄v_°ï
 *);

80 (*
	t__gc⁄v_íd_f˘
Ë(
	t__gc⁄v_°ï
 *);

84 (*
	t__gc⁄v_å™s_f˘
Ë(
	t__gc⁄v_°ï
 *,

85 
	t__gc⁄v_°ï_d©a
 *, *,

89 
	tsize_t
 *);

92 (*
	t__gc⁄v_å™s_c⁄ãxt_f˘
) (*, const *,

97 (*
	t__gc⁄v_å™s_quîy_f˘
) (const *, const ***,

98 
	tsize_t
 *);

101 (*
	t__gc⁄v_å™s_öô_f˘
) (**, const *);

102 (*
	t__gc⁄v_å™s_íd_f˘
) (*);

104 
	s__gc⁄v_å™s_d©a


107 
__gc⁄v_å™s_f˘
 
__å™s_f˘
;

108 
__gc⁄v_å™s_c⁄ãxt_f˘
 
__å™s_c⁄ãxt_f˘
;

109 
__gc⁄v_å™s_íd_f˘
 
__å™s_íd_f˘
;

110 *
__d©a
;

111 
__gc⁄v_å™s_d©a
 *
__√xt
;

116 
	s__gc⁄v_°ï


118 
__gc⁄v_lﬂded_obje˘
 *
__shlib_h™dÀ
;

119 c⁄° *
__mod«me
;

121 
__cou¡î
;

123 *
__‰om_«me
;

124 *
__to_«me
;

126 
__gc⁄v_f˘
 
__f˘
;

127 
__gc⁄v_btowc_f˘
 
__btowc_f˘
;

128 
__gc⁄v_öô_f˘
 
__öô_f˘
;

129 
__gc⁄v_íd_f˘
 
__íd_f˘
;

133 
__mö_√eded_‰om
;

134 
__max_√eded_‰om
;

135 
__mö_√eded_to
;

136 
__max_√eded_to
;

139 
__°©eful
;

141 *
__d©a
;

146 
	s__gc⁄v_°ï_d©a


148 *
__outbuf
;

149 *
__outbu„nd
;

153 
__Êags
;

157 
__övoˇti⁄_cou¡î
;

161 
__öã∫Æ_u£
;

163 
__mb°©e_t
 *
__°©ï
;

164 
__mb°©e_t
 
__°©e
;

168 
__gc⁄v_å™s_d©a
 *
__å™s
;

173 
	s__gc⁄v_öfo


175 
size_t
 
__n°ïs
;

176 
__gc⁄v_°ï
 *
__°ïs
;

177 
__exãnsi⁄__
 
__gc⁄v_°ï_d©a
 
__d©a
 
__Êex¨r
;

178 } *
	t__gc⁄v_t
;

	@/usr/include/linux/stddef.h

	@/usr/include/wchar.h

23 #i‚de‡
_WCHAR_H


25 #i‡!
deföed
 
__√ed_mb°©e_t
 && !deföed 
__√ed_wöt_t


26 
	#_WCHAR_H
 1

	)

27 
	~<„©uªs.h
>

30 #ifde‡
_WCHAR_H


32 
	#__√ed___FILE


	)

33 #i‡
deföed
 
__USE_UNIX98
 || deföed 
__USE_XOPEN2K


34 
	#__√ed_FILE


	)

36 
	~<°dio.h
>

38 
	#__√ed___va_li°


	)

39 
	~<°d¨g.h
>

41 
	~<bôs/wch¨.h
>

44 
	#__√ed_size_t


	)

45 
	#__√ed_wch¨_t


	)

46 
	#__√ed_NULL


	)

48 #i‡
deföed
 
_WCHAR_H
 || deföed 
__√ed_wöt_t
 || !deföed 
__WINT_TYPE__


49 #unde‡
__√ed_wöt_t


50 
	#__√ed_wöt_t


	)

51 
	~<°ddef.h
>

55 #i‚de‡
_WINT_T


60 
	#_WINT_T


	)

61 
	twöt_t
;

65 #i‡
deföed
 
__˝lu•lus
 && deföed 
_GLIBCPP_USE_NAMESPACES
 \

66 && 
deföed
 
__WINT_TYPE__


67 
__BEGIN_NAMESPACE_STD


68 
__WINT_TYPE__
 
	twöt_t
;

69 
	g__END_NAMESPACE_STD


74 #i‡
deföed
 
__˝lu•lus
 && 
__GNUC_PREREQ
 (4, 4)

75 
	#__CORRECT_ISO_CPP_WCHAR_H_PROTO


	)

79 #i‡(
deföed
 
_WCHAR_H
 || deföed 
__√ed_mb°©e_t
Ë&& !deföed 
____mb°©e_t_deföed


80 
	#____mb°©e_t_deföed
 1

	)

84 
	m__cou¡
;

87 #ifde‡
__WINT_TYPE__


88 
__WINT_TYPE__
 
	m__wch
;

90 
wöt_t
 
	m__wch
;

92 
	m__wchb
[4];

93 } 
	m__vÆue
;

94 } 
	t__mb°©e_t
;

96 #unde‡
__√ed_mb°©e_t


101 #ifde‡
_WCHAR_H


103 #i‚de‡
__mb°©e_t_deföed


104 
__BEGIN_NAMESPACE_C99


106 
__mb°©e_t
 
	tmb°©e_t
;

107 
	g__END_NAMESPACE_C99


108 
	#__mb°©e_t_deföed
 1

	)

111 #ifde‡
__USE_GNU


112 
	$__USING_NAMESPACE_C99
(
mb°©e_t
)

115 #i‚de‡
WCHAR_MIN


117 
	#WCHAR_MIN
 
__WCHAR_MIN


	)

118 
	#WCHAR_MAX
 
__WCHAR_MAX


	)

121 #i‚de‡
WEOF


122 
	#WEOF
 (0xffffffffu)

	)

127 #i‡
deföed
 
__USE_XOPEN
 && !deföed 
__USE_UNIX98


128 
	~<w˘y≥.h
>

132 
__BEGIN_DECLS


134 
__BEGIN_NAMESPACE_STD


137 
tm
;

138 
__END_NAMESPACE_STD


142 
	$__USING_NAMESPACE_STD
(
tm
)

145 
__BEGIN_NAMESPACE_STD


147 
wch¨_t
 *
	$wcs˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

148 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

150 
wch¨_t
 *
	$wc¢˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

151 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

152 
__THROW
;

155 
wch¨_t
 *
	$wcsˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

156 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

158 
wch¨_t
 *
	$wc¢ˇt
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

159 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

160 
__THROW
;

163 
	$wcscmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
)

164 
__THROW
 
__©åibuã_puª__
;

166 
	$wc¢cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

167 
__THROW
 
__©åibuã_puª__
;

168 
__END_NAMESPACE_STD


170 #ifde‡
__USE_XOPEN2K8


172 
	$wcsˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

175 
	$wc¢ˇ£cmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

176 
size_t
 
__n
Ë
__THROW
;

180 
	~<xloˇÀ.h
>

182 
	$wcsˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

183 
__loˇÀ_t
 
__loc
Ë
__THROW
;

185 
	$wc¢ˇ£cmp_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

186 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

189 
__BEGIN_NAMESPACE_STD


192 
	$wcscﬁl
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
Ë
__THROW
;

196 
size_t
 
	$wcsx‰m
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

197 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

198 
__END_NAMESPACE_STD


200 #ifde‡
__USE_XOPEN2K8


206 
	$wcscﬁl_l
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

207 
__loˇÀ_t
 
__loc
Ë
__THROW
;

212 
size_t
 
	$wcsx‰m_l
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
,

213 
size_t
 
__n
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

216 
wch¨_t
 *
	$wcsdup
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_mÆloc__
;

219 
__BEGIN_NAMESPACE_STD


221 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


222 "C++" 
wch¨_t
 *
	$wcschr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

223 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

224 "C++" c⁄° 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

225 
__THROW
 
	`__asm
 ("wcschr"Ë
__©åibuã_puª__
;

227 
wch¨_t
 *
	$wcschr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

228 
__THROW
 
__©åibuã_puª__
;

231 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


232 "C++" 
wch¨_t
 *
	$wc§chr
 (
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

233 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

234 "C++" c⁄° 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

235 
__THROW
 
	`__asm
 ("wc§chr"Ë
__©åibuã_puª__
;

237 
wch¨_t
 *
	$wc§chr
 (c⁄° 
wch¨_t
 *
__wcs
, wch¨_à
__wc
)

238 
__THROW
 
__©åibuã_puª__
;

240 
__END_NAMESPACE_STD


242 #ifde‡
__USE_GNU


245 
wch¨_t
 *
	$wcsch∫ul
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__wc
)

246 
__THROW
 
__©åibuã_puª__
;

249 
__BEGIN_NAMESPACE_STD


252 
size_t
 
	$wcsc•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ªje˘
)

253 
__THROW
 
__©åibuã_puª__
;

256 
size_t
 
	$wcs•n
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

257 
__THROW
 
__©åibuã_puª__
;

259 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


260 "C++" 
wch¨_t
 *
	$wc•brk
 (
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

261 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

262 "C++" c⁄° 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
,

263 c⁄° 
wch¨_t
 *
__ac˚±
)

264 
__THROW
 
	`__asm
 ("wc•brk"Ë
__©åibuã_puª__
;

266 
wch¨_t
 *
	$wc•brk
 (c⁄° 
wch¨_t
 *
__wcs
, c⁄° wch¨_à*
__ac˚±
)

267 
__THROW
 
__©åibuã_puª__
;

270 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


271 "C++" 
wch¨_t
 *
	$wcs°r
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

272 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

273 "C++" c⁄° 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
,

274 c⁄° 
wch¨_t
 *
__√edÀ
)

275 
__THROW
 
	`__asm
 ("wcs°r"Ë
__©åibuã_puª__
;

277 
wch¨_t
 *
	$wcs°r
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

278 
__THROW
 
__©åibuã_puª__
;

282 
wch¨_t
 *
	$wc°ok
 (
wch¨_t
 *
__ª°ri˘
 
__s
,

283 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__dñim
,

284 
wch¨_t
 **
__ª°ri˘
 
__±r
Ë
__THROW
;

287 
size_t
 
	$wc¶í
 (c⁄° 
wch¨_t
 *
__s
Ë
__THROW
 
__©åibuã_puª__
;

288 
__END_NAMESPACE_STD


290 #ifde‡
__USE_XOPEN


292 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


293 "C++" 
wch¨_t
 *
	$wcswcs
 (
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

294 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

295 "C++" c⁄° 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
,

296 c⁄° 
wch¨_t
 *
__√edÀ
)

297 
__THROW
 
	`__asm
 ("wcswcs"Ë
__©åibuã_puª__
;

299 
wch¨_t
 *
	$wcswcs
 (c⁄° 
wch¨_t
 *
__hay°ack
, c⁄° wch¨_à*
__√edÀ
)

300 
__THROW
 
__©åibuã_puª__
;

304 #ifde‡
__USE_XOPEN2K8


306 
size_t
 
	$wc¢Àn
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__maxÀn
)

307 
__THROW
 
__©åibuã_puª__
;

311 
__BEGIN_NAMESPACE_STD


313 #ifde‡
__CORRECT_ISO_CPP_WCHAR_H_PROTO


314 "C++" 
wch¨_t
 *
	$wmemchr
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

315 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

316 "C++" c⁄° 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
,

317 
size_t
 
__n
)

318 
__THROW
 
	`__asm
 ("wmemchr"Ë
__©åibuã_puª__
;

320 
wch¨_t
 *
	$wmemchr
 (c⁄° 
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
)

321 
__THROW
 
__©åibuã_puª__
;

325 
	$wmemcmp
 (c⁄° 
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

326 
__THROW
 
__©åibuã_puª__
;

329 
wch¨_t
 *
	$wmem˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

330 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
Ë
__THROW
;

334 
wch¨_t
 *
	$wmemmove
 (
wch¨_t
 *
__s1
, c⁄° wch¨_à*
__s2
, 
size_t
 
__n
)

335 
__THROW
;

338 
wch¨_t
 *
	$wmem£t
 (
wch¨_t
 *
__s
, wch¨_à
__c
, 
size_t
 
__n
Ë
__THROW
;

339 
__END_NAMESPACE_STD


341 #ifde‡
__USE_GNU


344 
wch¨_t
 *
	$wmemp˝y
 (
wch¨_t
 *
__ª°ri˘
 
__s1
,

345 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s2
, 
size_t
 
__n
)

346 
__THROW
;

350 
__BEGIN_NAMESPACE_STD


353 
wöt_t
 
	$btowc
 (
__c
Ë
__THROW
;

357 
	$w˘ob
 (
wöt_t
 
__c
Ë
__THROW
;

361 
	$mbsöô
 (c⁄° 
mb°©e_t
 *
__ps
Ë
__THROW
 
__©åibuã_puª__
;

365 
size_t
 
	$mbπowc
 (
wch¨_t
 *
__ª°ri˘
 
__pwc
,

366 c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

367 
mb°©e_t
 *
__ª°ri˘
 
__p
Ë
__THROW
;

370 
size_t
 
	$w¸tomb
 (*
__ª°ri˘
 
__s
, 
wch¨_t
 
__wc
,

371 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

374 
size_t
 
	$__mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

375 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

376 
size_t
 
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

377 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

378 
__END_NAMESPACE_STD


380 #ifde‡
__USE_EXTERN_INLINES


386 
wöt_t
 
	$__btowc_Æüs
 (
__c
Ë
	`__asm
 ("btowc");

387 
__exã∫_ölöe
 
wöt_t


388 
	`__NTH
 (
	$btowc
 (
__c
))

389 {  (
	`__buûtö_c⁄°™t_p
 (
__c
) && __c >= '\0' && __c <= '\x7f'

390 ? (
wöt_t
Ë
__c
 : 
	`__btowc_Æüs
 (__c)); 
	}
}

392 
	$__w˘ob_Æüs
 (
wöt_t
 
__c
Ë
	`__asm
 ("wctob");

393 
__exã∫_ölöe
 

394 
	`__NTH
 (
	$w˘ob
 (
wöt_t
 
__wc
))

395 {  (
	`__buûtö_c⁄°™t_p
 (
__wc
Ë&& __w¯>
L
'\0' && __wc <= L'\x7f'

396 ? (Ë
__wc
 : 
	`__w˘ob_Æüs
 (__wc)); 
	}
}

398 
__exã∫_ölöe
 
size_t


399 
__NTH
 (
	$mbæí
 (c⁄° *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

400 
mb°©e_t
 *
__ª°ri˘
 
__ps
))

401 {  (
__ps
 !
NULL


402 ? 
	`mbπowc
 (
NULL
, 
__s
, 
__n
, 
__ps
Ë: 
	`__mbæí
 (__s, __n, NULL)); 
	}
}

405 
__BEGIN_NAMESPACE_STD


408 
size_t
 
	$mb§towcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

409 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

410 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

414 
size_t
 
	$wc§tombs
 (*
__ª°ri˘
 
__d°
,

415 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
, 
size_t
 
__Àn
,

416 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

417 
__END_NAMESPACE_STD


420 #ifdef 
__USE_XOPEN2K8


423 
size_t
 
	$mb¢πowcs
 (
wch¨_t
 *
__ª°ri˘
 
__d°
,

424 c⁄° **
__ª°ri˘
 
__§c
, 
size_t
 
__nmc
,

425 
size_t
 
__Àn
, 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

429 
size_t
 
	$wc¢πombs
 (*
__ª°ri˘
 
__d°
,

430 c⁄° 
wch¨_t
 **
__ª°ri˘
 
__§c
,

431 
size_t
 
__nwc
, size_à
__Àn
,

432 
mb°©e_t
 *
__ª°ri˘
 
__ps
Ë
__THROW
;

437 #ifde‡
__USE_XOPEN


439 
	$wcwidth
 (
wch¨_t
 
__c
Ë
__THROW
;

443 
	$wcswidth
 (c⁄° 
wch¨_t
 *
__s
, 
size_t
 
__n
Ë
__THROW
;

447 
__BEGIN_NAMESPACE_STD


450 
	$wc°od
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

451 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

452 
__END_NAMESPACE_STD


454 #ifde‡
__USE_ISOC99


455 
__BEGIN_NAMESPACE_C99


457 
	$wc°of
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

458 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

459 
	$wc°ﬁd
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

460 
wch¨_t
 **
__ª°ri˘
 
__íd±r
Ë
__THROW
;

461 
__END_NAMESPACE_C99


465 
__BEGIN_NAMESPACE_STD


468 
	$wc°ﬁ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

469 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
Ë
__THROW
;

473 
	$wc°oul
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

474 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

475 
__THROW
;

476 
__END_NAMESPACE_STD


478 #i‡
deföed
 
__USE_ISOC99
 || (deföed 
__GNUC__
 && deföed 
__USE_GNU
)

479 
__BEGIN_NAMESPACE_C99


482 
__exãnsi⁄__


483 
	$wc°ﬁl
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

484 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

485 
__THROW
;

489 
__exãnsi⁄__


490 
	$wc°ouŒ
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

491 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

492 
__ba£
Ë
__THROW
;

493 
__END_NAMESPACE_C99


496 #i‡
deföed
 
__GNUC__
 && deföed 
__USE_GNU


499 
__exãnsi⁄__


500 
	$wc°oq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

501 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
)

502 
__THROW
;

506 
__exãnsi⁄__


507 
	$wc°ouq
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

508 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

509 
__ba£
Ë
__THROW
;

512 #ifde‡
__USE_GNU


526 
	~<xloˇÀ.h
>

530 
	$wc°ﬁ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

531 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__ba£
,

532 
__loˇÀ_t
 
__loc
Ë
__THROW
;

534 
	$wc°oul_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

535 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

536 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

538 
__exãnsi⁄__


539 
	$wc°ﬁl_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

540 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

541 
__ba£
, 
__loˇÀ_t
 
__loc
Ë
__THROW
;

543 
__exãnsi⁄__


544 
	$wc°ouŒ_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

545 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

546 
__ba£
, 
__loˇÀ_t
 
__loc
)

547 
__THROW
;

549 
	$wc°od_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

550 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

551 
__THROW
;

553 
	$wc°of_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

554 
wch¨_t
 **
__ª°ri˘
 
__íd±r
, 
__loˇÀ_t
 
__loc
)

555 
__THROW
;

557 
	$wc°ﬁd_l
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__≈å
,

558 
wch¨_t
 **
__ª°ri˘
 
__íd±r
,

559 
__loˇÀ_t
 
__loc
Ë
__THROW
;

563 #ifde‡
__USE_XOPEN2K8


566 
wch¨_t
 *
	$w˝˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

567 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
Ë
__THROW
;

571 
wch¨_t
 *
	$w˝n˝y
 (
wch¨_t
 *
__ª°ri˘
 
__de°
,

572 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__§c
, 
size_t
 
__n
)

573 
__THROW
;

580 
__FILE
 *
	$›í_wmem°ªam
 (
wch¨_t
 **
__buÊoc
, 
size_t
 *
__sizñoc
Ë
__THROW
;

583 #i‡
deföed
 
__USE_ISOC95
 || deföed 
__USE_UNIX98


584 
__BEGIN_NAMESPACE_STD


587 
	$fwide
 (
__FILE
 *
__Â
, 
__mode
Ë
__THROW
;

594 
	`fw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

595 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

601 
	`w¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

604 
	$sw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

605 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

606 
__THROW
 ;

612 
	`vfw¥ötf
 (
__FILE
 *
__ª°ri˘
 
__s
,

613 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

614 
__gnuc_va_li°
 
__¨g
)

620 
	`vw¥ötf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

621 
__gnuc_va_li°
 
__¨g
)

625 
	$vsw¥ötf
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__n
,

626 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

627 
__gnuc_va_li°
 
__¨g
)

628 
__THROW
 ;

635 
	`fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

636 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

642 
	`wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

645 
	$swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

646 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

647 
__THROW
 ;

649 #i‡
deföed
 
__USE_ISOC99
 && !deföed 
__USE_GNU
 \

650 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

651 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

652 #ifde‡
__REDIRECT


656 
	`__REDIRECT
 (
fwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__°ªam
,

657 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

658 
__isoc99_fwsˇnf
)

660 
	`__REDIRECT
 (
wsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...),

661 
__isoc99_wsˇnf
)

663 
	`__REDIRECT_NTH
 (
swsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

664 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

665 ...), 
__isoc99_swsˇnf
)

668 
	`__isoc99_fwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__°ªam
,

669 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

670 
	`__isoc99_wsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...);

671 
	$__isoc99_swsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

672 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
, ...)

673 
__THROW
;

674 
	#fwsˇnf
 
__isoc99_fwsˇnf


	)

675 
	#wsˇnf
 
__isoc99_wsˇnf


	)

676 
	#swsˇnf
 
__isoc99_swsˇnf


	)

680 
__END_NAMESPACE_STD


683 #ifde‡
__USE_ISOC99


684 
__BEGIN_NAMESPACE_C99


689 
	`vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

690 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

691 
__gnuc_va_li°
 
__¨g
)

697 
	`vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

698 
__gnuc_va_li°
 
__¨g
)

701 
	$vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

702 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

703 
__gnuc_va_li°
 
__¨g
)

704 
__THROW
 ;

706 #i‡!
deföed
 
__USE_GNU
 \

707 && (!
deföed
 
__LDBL_COMPAT
 || !deföed 
__REDIRECT
) \

708 && (
deföed
 
__STRICT_ANSI__
 || deföed 
__USE_XOPEN2K
)

709 #ifde‡
__REDIRECT


710 
	`__REDIRECT
 (
vfwsˇnf
, (
__FILE
 *
__ª°ri˘
 
__s
,

711 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

712 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vfwsˇnf
)

714 
	`__REDIRECT
 (
vwsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

715 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vwsˇnf
)

717 
	`__REDIRECT_NTH
 (
vswsˇnf
, (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

718 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

719 
__gnuc_va_li°
 
__¨g
), 
__isoc99_vswsˇnf
)

722 
	`__isoc99_vfwsˇnf
 (
__FILE
 *
__ª°ri˘
 
__s
,

723 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

724 
__gnuc_va_li°
 
__¨g
);

725 
	`__isoc99_vwsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

726 
__gnuc_va_li°
 
__¨g
);

727 
	$__isoc99_vswsˇnf
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__s
,

728 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

729 
__gnuc_va_li°
 
__¨g
Ë
__THROW
;

730 
	#vfwsˇnf
 
__isoc99_vfwsˇnf


	)

731 
	#vwsˇnf
 
__isoc99_vwsˇnf


	)

732 
	#vswsˇnf
 
__isoc99_vswsˇnf


	)

736 
__END_NAMESPACE_C99


740 
__BEGIN_NAMESPACE_STD


745 
wöt_t
 
	`fgëwc
 (
__FILE
 *
__°ªam
);

746 
wöt_t
 
	`gëwc
 (
__FILE
 *
__°ªam
);

752 
wöt_t
 
	`gëwch¨
 ();

759 
wöt_t
 
	`Âutwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

760 
wöt_t
 
	`putwc
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

766 
wöt_t
 
	`putwch¨
 (
wch¨_t
 
__wc
);

774 
wch¨_t
 *
	`fgëws
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

775 
__FILE
 *
__ª°ri˘
 
__°ªam
);

781 
	`Âutws
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

782 
__FILE
 *
__ª°ri˘
 
__°ªam
);

789 
wöt_t
 
	`ungëwc
 (wöt_à
__wc
, 
__FILE
 *
__°ªam
);

790 
__END_NAMESPACE_STD


793 #ifde‡
__USE_GNU


801 
wöt_t
 
	`gëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

802 
wöt_t
 
	`gëwch¨_u∆ocked
 ();

810 
wöt_t
 
	`fgëwc_u∆ocked
 (
__FILE
 *
__°ªam
);

818 
wöt_t
 
	`Âutwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

827 
wöt_t
 
	`putwc_u∆ocked
 (
wch¨_t
 
__wc
, 
__FILE
 *
__°ªam
);

828 
wöt_t
 
	`putwch¨_u∆ocked
 (
wch¨_t
 
__wc
);

837 
wch¨_t
 *
	`fgëws_u∆ocked
 (wch¨_à*
__ª°ri˘
 
__ws
, 
__n
,

838 
__FILE
 *
__ª°ri˘
 
__°ªam
);

846 
	`Âutws_u∆ocked
 (c⁄° 
wch¨_t
 *
__ª°ri˘
 
__ws
,

847 
__FILE
 *
__ª°ri˘
 
__°ªam
);

851 
__BEGIN_NAMESPACE_C99


855 
size_t
 
	$wcs·ime
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

856 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

857 c⁄° 
tm
 *
__ª°ri˘
 
__ç
Ë
__THROW
;

858 
__END_NAMESPACE_C99


860 #ifde‡
__USE_GNU


861 
	~<xloˇÀ.h
>

865 
size_t
 
	$wcs·ime_l
 (
wch¨_t
 *
__ª°ri˘
 
__s
, 
size_t
 
__maxsize
,

866 c⁄° 
wch¨_t
 *
__ª°ri˘
 
__f‹m©
,

867 c⁄° 
tm
 *
__ª°ri˘
 
__ç
,

868 
__loˇÀ_t
 
__loc
Ë
__THROW
;

877 #i‡
deföed
 
__USE_UNIX98
 && !deföed 
__USE_GNU


878 
	#__√ed_iswxxx


	)

879 
	~<w˘y≥.h
>

883 #i‡
__USE_FORTIFY_LEVEL
 > 0 && 
deföed
 
__f‹tify_fun˘i⁄


884 
	~<bôs/wch¨2.h
>

887 #ifde‡
__LDBL_COMPAT


888 
	~<bôs/wch¨-ldbl.h
>

891 
__END_DECLS


899 #unde‡
__√ed_mb°©e_t


900 #unde‡
__√ed_wöt_t


	@/usr/include/wctype.h

23 #i‚de‡
_WCTYPE_H


25 
	~<„©uªs.h
>

26 
	~<bôs/ty≥s.h
>

28 #i‚de‡
__√ed_iswxxx


29 
	#_WCTYPE_H
 1

	)

32 
	#__√ed_wöt_t


	)

33 
	~<wch¨.h
>

37 #i‚de‡
WEOF


38 
	#WEOF
 (0xffffffffu)

	)

41 #unde‡
__√ed_iswxxx


46 #i‚de‡
__iswxxx_deföed


47 
	#__iswxxx_deföed
 1

	)

49 
__BEGIN_NAMESPACE_C99


52 
	tw˘y≥_t
;

53 
	g__END_NAMESPACE_C99


55 #i‚de‡
_ISwbô


60 
	~<ídün.h
>

61 #i‡
__BYTE_ORDER
 =
__BIG_ENDIAN


62 
	#_ISwbô
(
bô
Ë(1 << (bô))

	)

64 
	#_ISwbô
(
bô
) \

65 ((
bô
) < 8 ? () ((1UL << (bit)) << 24) \

66 : ((
bô
) < 16 ? () ((1UL << (bit)) << 8) \

67 : ((
bô
) < 24 ? () ((1UL << (bit)) >> 8) \

68 : (Ë((1UL << (
bô
)Ë>> 24))))

	)

73 
	m__ISwuµî
 = 0,

74 
	m__ISwlowî
 = 1,

75 
	m__ISwÆpha
 = 2,

76 
	m__ISwdigô
 = 3,

77 
	m__ISwxdigô
 = 4,

78 
	m__ISw•a˚
 = 5,

79 
	m__ISw¥öt
 = 6,

80 
	m__ISwgøph
 = 7,

81 
	m__ISwbœnk
 = 8,

82 
	m__ISw˙ål
 = 9,

83 
	m__ISwpun˘
 = 10,

84 
	m__ISwÆnum
 = 11,

86 
	m_ISwuµî
 = 
_ISwbô
 (
__ISwuµî
),

87 
	m_ISwlowî
 = 
_ISwbô
 (
__ISwlowî
),

88 
	m_ISwÆpha
 = 
_ISwbô
 (
__ISwÆpha
),

89 
	m_ISwdigô
 = 
_ISwbô
 (
__ISwdigô
),

90 
	m_ISwxdigô
 = 
_ISwbô
 (
__ISwxdigô
),

91 
	m_ISw•a˚
 = 
_ISwbô
 (
__ISw•a˚
),

92 
	m_ISw¥öt
 = 
_ISwbô
 (
__ISw¥öt
),

93 
	m_ISwgøph
 = 
_ISwbô
 (
__ISwgøph
),

94 
	m_ISwbœnk
 = 
_ISwbô
 (
__ISwbœnk
),

95 
	m_ISw˙ål
 = 
_ISwbô
 (
__ISw˙ål
),

96 
	m_ISwpun˘
 = 
_ISwbô
 (
__ISwpun˘
),

97 
	m_ISwÆnum
 = 
_ISwbô
 (
__ISwÆnum
)

102 
__BEGIN_DECLS


104 
__BEGIN_NAMESPACE_C99


111 
	$iswÆnum
 (
wöt_t
 
__wc
Ë
__THROW
;

117 
	$iswÆpha
 (
wöt_t
 
__wc
Ë
__THROW
;

120 
	$isw˙ål
 (
wöt_t
 
__wc
Ë
__THROW
;

124 
	$iswdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

128 
	$iswgøph
 (
wöt_t
 
__wc
Ë
__THROW
;

133 
	$iswlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

136 
	$isw¥öt
 (
wöt_t
 
__wc
Ë
__THROW
;

141 
	$iswpun˘
 (
wöt_t
 
__wc
Ë
__THROW
;

146 
	$isw•a˚
 (
wöt_t
 
__wc
Ë
__THROW
;

151 
	$iswuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

156 
	$iswxdigô
 (
wöt_t
 
__wc
Ë
__THROW
;

161 #ifde‡
__USE_ISOC99


162 
	$iswbœnk
 (
wöt_t
 
__wc
Ë
__THROW
;

171 
w˘y≥_t
 
	$w˘y≥
 (c⁄° *
__¥›îty
Ë
__THROW
;

175 
	$isw˘y≥
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
Ë
__THROW
;

176 
__END_NAMESPACE_C99


183 
__BEGIN_NAMESPACE_C99


186 c⁄° 
	t__öt32_t
 *
	tw˘øns_t
;

187 
__END_NAMESPACE_C99


188 #ifde‡
__USE_GNU


189 
	$__USING_NAMESPACE_C99
(
w˘øns_t
)

192 
__BEGIN_NAMESPACE_C99


194 
wöt_t
 
	$towlowî
 (
wöt_t
 
__wc
Ë
__THROW
;

197 
wöt_t
 
	$towuµî
 (
wöt_t
 
__wc
Ë
__THROW
;

198 
__END_NAMESPACE_C99


200 
__END_DECLS


207 #ifde‡
_WCTYPE_H


213 
__BEGIN_DECLS


215 
__BEGIN_NAMESPACE_C99


218 
w˘øns_t
 
	$w˘øns
 (c⁄° *
__¥›îty
Ë
__THROW
;

221 
wöt_t
 
	$tow˘øns
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
Ë
__THROW
;

222 
__END_NAMESPACE_C99


224 #ifde‡
__USE_XOPEN2K8


226 
	~<xloˇÀ.h
>

230 
	$iswÆnum_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

236 
	$iswÆpha_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

239 
	$isw˙ål_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

243 
	$iswdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

247 
	$iswgøph_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

252 
	$iswlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

255 
	$isw¥öt_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

260 
	$iswpun˘_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

265 
	$isw•a˚_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

270 
	$iswuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

275 
	$iswxdigô_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

280 
	$iswbœnk_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

284 
w˘y≥_t
 
	$w˘y≥_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

285 
__THROW
;

289 
	$isw˘y≥_l
 (
wöt_t
 
__wc
, 
w˘y≥_t
 
__desc
, 
__loˇÀ_t
 
__loˇÀ
)

290 
__THROW
;

298 
wöt_t
 
	$towlowî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

301 
wöt_t
 
	$towuµî_l
 (
wöt_t
 
__wc
, 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

305 
w˘øns_t
 
	$w˘øns_l
 (c⁄° *
__¥›îty
, 
__loˇÀ_t
 
__loˇÀ
)

306 
__THROW
;

309 
wöt_t
 
	$tow˘øns_l
 (
wöt_t
 
__wc
, 
w˘øns_t
 
__desc
,

310 
__loˇÀ_t
 
__loˇÀ
Ë
__THROW
;

314 
__END_DECLS


	@
1
.
1
/usr/include
403
16005
arch/x86_64/crc_pcl.S
cli/src/sstack_log_decode.c
common/include/bds_slab/bds_list.h
common/include/bds_slab/bds_slab.h
common/include/bds_slab/bds_sys.h
common/include/bds_slab/bds_types.h
common/include/sstack_bitops.h
common/include/sstack_chunk.h
common/include/sstack_db.h
common/include/sstack_helper.h
common/include/sstack_jobs.h
common/include/sstack_log.h
common/include/sstack_md.h
common/include/sstack_nfs.h
common/include/sstack_policy.h
common/include/sstack_storage.h
common/include/sstack_thread_pool.h
common/include/sstack_transport.h
common/include/sstack_types.h
common/include/sstack_version.h
common/src/bds_slab/bds_slab.c
common/src/bds_slab/bds_sys.c
common/src/sstack_thread_pool.c
common/src/sstack_transport.c
common/src/sstack_transport_tcp.c
db/couchbase/include/couchdb.h
db/couchbase/src/couchdb.c
db/filesdb/include/files_db.h
db/filesdb/src/files_db.c
db/mongo/include/mongo_db.h
db/mongo/src/mongo_db.c
lib/caching/include/sstack_cache_api.h
lib/caching/src/sstack_cache_api.c
lib/caching/test/test.c
lib/chunk-domain/chunk_api.c
lib/idp/include/idp.h
lib/storage/plugins/compression/sstack_compression_plugin.c
oss/crc/crc.c
oss/crc/crc.h
oss/jerasure_lib/cauchy.c
oss/jerasure_lib/cauchy.h
oss/jerasure_lib/cauchy_best_r6.c
oss/jerasure_lib/galois.c
oss/jerasure_lib/galois.h
oss/jerasure_lib/jerasure.c
oss/jerasure_lib/jerasure.h
oss/jerasure_lib/liberation.c
oss/jerasure_lib/liberation.h
oss/jerasure_lib/reed_sol.c
oss/jerasure_lib/reed_sol.h
oss/libmemcached-1.0.17/clients/client_options.h
oss/libmemcached-1.0.17/clients/execute.h
oss/libmemcached-1.0.17/clients/generator.h
oss/libmemcached-1.0.17/clients/memaslap.c
oss/libmemcached-1.0.17/clients/ms_atomic.h
oss/libmemcached-1.0.17/clients/ms_conn.c
oss/libmemcached-1.0.17/clients/ms_conn.h
oss/libmemcached-1.0.17/clients/ms_memslap.h
oss/libmemcached-1.0.17/clients/ms_setting.c
oss/libmemcached-1.0.17/clients/ms_setting.h
oss/libmemcached-1.0.17/clients/ms_sigsegv.c
oss/libmemcached-1.0.17/clients/ms_sigsegv.h
oss/libmemcached-1.0.17/clients/ms_stats.c
oss/libmemcached-1.0.17/clients/ms_stats.h
oss/libmemcached-1.0.17/clients/ms_task.c
oss/libmemcached-1.0.17/clients/ms_task.h
oss/libmemcached-1.0.17/clients/ms_thread.c
oss/libmemcached-1.0.17/clients/ms_thread.h
oss/libmemcached-1.0.17/clients/utilities.h
oss/libmemcached-1.0.17/example/byteorder.h
oss/libmemcached-1.0.17/example/memcached_light.h
oss/libmemcached-1.0.17/example/storage.h
oss/libmemcached-1.0.17/libhashkit-1.0/algorithm.h
oss/libmemcached-1.0.17/libhashkit-1.0/behavior.h
oss/libmemcached-1.0.17/libhashkit-1.0/configure.h
oss/libmemcached-1.0.17/libhashkit-1.0/digest.h
oss/libmemcached-1.0.17/libhashkit-1.0/function.h
oss/libmemcached-1.0.17/libhashkit-1.0/has.h
oss/libmemcached-1.0.17/libhashkit-1.0/hashkit.h
oss/libmemcached-1.0.17/libhashkit-1.0/str_algorithm.h
oss/libmemcached-1.0.17/libhashkit-1.0/strerror.h
oss/libmemcached-1.0.17/libhashkit-1.0/string.h
oss/libmemcached-1.0.17/libhashkit-1.0/types.h
oss/libmemcached-1.0.17/libhashkit-1.0/visibility.h
oss/libmemcached-1.0.17/libhashkit/aes.h
oss/libmemcached-1.0.17/libhashkit/algorithm.h
oss/libmemcached-1.0.17/libhashkit/common.h
oss/libmemcached-1.0.17/libhashkit/hashkit.h
oss/libmemcached-1.0.17/libhashkit/hashkitcon.h
oss/libmemcached-1.0.17/libhashkit/is.h
oss/libmemcached-1.0.17/libhashkit/murmur3.h
oss/libmemcached-1.0.17/libhashkit/string.h
oss/libmemcached-1.0.17/libmemcached-1.0/alloc.h
oss/libmemcached-1.0.17/libmemcached-1.0/allocators.h
oss/libmemcached-1.0.17/libmemcached-1.0/analyze.h
oss/libmemcached-1.0.17/libmemcached-1.0/auto.h
oss/libmemcached-1.0.17/libmemcached-1.0/basic_string.h
oss/libmemcached-1.0.17/libmemcached-1.0/behavior.h
oss/libmemcached-1.0.17/libmemcached-1.0/callback.h
oss/libmemcached-1.0.17/libmemcached-1.0/callbacks.h
oss/libmemcached-1.0.17/libmemcached-1.0/configure.h
oss/libmemcached-1.0.17/libmemcached-1.0/defaults.h
oss/libmemcached-1.0.17/libmemcached-1.0/delete.h
oss/libmemcached-1.0.17/libmemcached-1.0/deprecated_types.h
oss/libmemcached-1.0.17/libmemcached-1.0/dump.h
oss/libmemcached-1.0.17/libmemcached-1.0/encoding_key.h
oss/libmemcached-1.0.17/libmemcached-1.0/error.h
oss/libmemcached-1.0.17/libmemcached-1.0/exist.h
oss/libmemcached-1.0.17/libmemcached-1.0/fetch.h
oss/libmemcached-1.0.17/libmemcached-1.0/flush.h
oss/libmemcached-1.0.17/libmemcached-1.0/flush_buffers.h
oss/libmemcached-1.0.17/libmemcached-1.0/get.h
oss/libmemcached-1.0.17/libmemcached-1.0/hash.h
oss/libmemcached-1.0.17/libmemcached-1.0/limits.h
oss/libmemcached-1.0.17/libmemcached-1.0/memcached.h
oss/libmemcached-1.0.17/libmemcached-1.0/options.h
oss/libmemcached-1.0.17/libmemcached-1.0/parse.h
oss/libmemcached-1.0.17/libmemcached-1.0/platform.h
oss/libmemcached-1.0.17/libmemcached-1.0/quit.h
oss/libmemcached-1.0.17/libmemcached-1.0/result.h
oss/libmemcached-1.0.17/libmemcached-1.0/return.h
oss/libmemcached-1.0.17/libmemcached-1.0/sasl.h
oss/libmemcached-1.0.17/libmemcached-1.0/server.h
oss/libmemcached-1.0.17/libmemcached-1.0/server_list.h
oss/libmemcached-1.0.17/libmemcached-1.0/stats.h
oss/libmemcached-1.0.17/libmemcached-1.0/storage.h
oss/libmemcached-1.0.17/libmemcached-1.0/strerror.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/allocator.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/analysis.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/callback.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/memcached.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/result.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/sasl.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/server.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/stat.h
oss/libmemcached-1.0.17/libmemcached-1.0/struct/string.h
oss/libmemcached-1.0.17/libmemcached-1.0/t/c_sasl_test.c
oss/libmemcached-1.0.17/libmemcached-1.0/t/c_test.c
oss/libmemcached-1.0.17/libmemcached-1.0/touch.h
oss/libmemcached-1.0.17/libmemcached-1.0/triggers.h
oss/libmemcached-1.0.17/libmemcached-1.0/types.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/behavior.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/callback.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/connection.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/hash.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/return.h
oss/libmemcached-1.0.17/libmemcached-1.0/types/server_distribution.h
oss/libmemcached-1.0.17/libmemcached-1.0/verbosity.h
oss/libmemcached-1.0.17/libmemcached-1.0/version.h
oss/libmemcached-1.0.17/libmemcached-1.0/visibility.h
oss/libmemcached-1.0.17/libmemcached/array.c
oss/libmemcached-1.0.17/libmemcached/array.h
oss/libmemcached-1.0.17/libmemcached/byteorder.h
oss/libmemcached-1.0.17/libmemcached/common.h
oss/libmemcached-1.0.17/libmemcached/csl/common.h
oss/libmemcached-1.0.17/libmemcached/csl/context.h
oss/libmemcached-1.0.17/libmemcached/csl/parser.h
oss/libmemcached-1.0.17/libmemcached/csl/scanner.h
oss/libmemcached-1.0.17/libmemcached/csl/server.h
oss/libmemcached-1.0.17/libmemcached/csl/symbol.h
oss/libmemcached-1.0.17/libmemcached/encoding_key.h
oss/libmemcached-1.0.17/libmemcached/initialize_query.h
oss/libmemcached-1.0.17/libmemcached/internal.h
oss/libmemcached-1.0.17/libmemcached/io.h
oss/libmemcached-1.0.17/libmemcached/is.h
oss/libmemcached-1.0.17/libmemcached/libmemcached_probes.h
oss/libmemcached-1.0.17/libmemcached/memcached.h
oss/libmemcached-1.0.17/libmemcached/memcached/protocol_binary.h
oss/libmemcached-1.0.17/libmemcached/memcached/vbucket.h
oss/libmemcached-1.0.17/libmemcached/memory.h
oss/libmemcached-1.0.17/libmemcached/namespace.h
oss/libmemcached-1.0.17/libmemcached/poll.h
oss/libmemcached-1.0.17/libmemcached/response.h
oss/libmemcached-1.0.17/libmemcached/result.h
oss/libmemcached-1.0.17/libmemcached/server_instance.h
oss/libmemcached-1.0.17/libmemcached/util.h
oss/libmemcached-1.0.17/libmemcached/virtual_bucket.c
oss/libmemcached-1.0.17/libmemcached/virtual_bucket.h
oss/libmemcached-1.0.17/libmemcached/watchpoint.h
oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/binary.h
oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/callback.h
oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/handler.h
oss/libmemcached-1.0.17/libmemcachedprotocol-0.0/vbucket.h
oss/libmemcached-1.0.17/libmemcachedprotocol/ascii_handler.c
oss/libmemcached-1.0.17/libmemcachedprotocol/ascii_handler.h
oss/libmemcached-1.0.17/libmemcachedprotocol/binary_handler.c
oss/libmemcached-1.0.17/libmemcachedprotocol/binary_handler.h
oss/libmemcached-1.0.17/libmemcachedprotocol/cache.c
oss/libmemcached-1.0.17/libmemcachedprotocol/cache.h
oss/libmemcached-1.0.17/libmemcachedprotocol/common.h
oss/libmemcached-1.0.17/libmemcachedprotocol/handler.c
oss/libmemcached-1.0.17/libmemcachedprotocol/pedantic.c
oss/libmemcached-1.0.17/libmemcachedutil-1.0/flush.h
oss/libmemcached-1.0.17/libmemcachedutil-1.0/pid.h
oss/libmemcached-1.0.17/libmemcachedutil-1.0/ping.h
oss/libmemcached-1.0.17/libmemcachedutil-1.0/pool.h
oss/libmemcached-1.0.17/libmemcachedutil-1.0/util.h
oss/libmemcached-1.0.17/libmemcachedutil-1.0/version.h
oss/libmemcached-1.0.17/libmemcachedutil/common.h
oss/libmemcached-1.0.17/libtest/alarm.h
oss/libmemcached-1.0.17/libtest/binaries.h
oss/libmemcached-1.0.17/libtest/blobslap_worker.h
oss/libmemcached-1.0.17/libtest/callbacks.h
oss/libmemcached-1.0.17/libtest/cmdline.h
oss/libmemcached-1.0.17/libtest/collection.h
oss/libmemcached-1.0.17/libtest/common.h
oss/libmemcached-1.0.17/libtest/core.h
oss/libmemcached-1.0.17/libtest/dream.h
oss/libmemcached-1.0.17/libtest/drizzled.h
oss/libmemcached-1.0.17/libtest/error.h
oss/libmemcached-1.0.17/libtest/failed.h
oss/libmemcached-1.0.17/libtest/framework.h
oss/libmemcached-1.0.17/libtest/gearmand.h
oss/libmemcached-1.0.17/libtest/get.h
oss/libmemcached-1.0.17/libtest/killpid.h
oss/libmemcached-1.0.17/libtest/lite.h
oss/libmemcached-1.0.17/libtest/memcached.h
oss/libmemcached-1.0.17/libtest/port.h
oss/libmemcached-1.0.17/libtest/runner.h
oss/libmemcached-1.0.17/libtest/server.h
oss/libmemcached-1.0.17/libtest/server_container.h
oss/libmemcached-1.0.17/libtest/signal.h
oss/libmemcached-1.0.17/libtest/stream.h
oss/libmemcached-1.0.17/libtest/strerror.h
oss/libmemcached-1.0.17/libtest/test.h
oss/libmemcached-1.0.17/libtest/version.h
oss/libmemcached-1.0.17/libtest/visibility.h
oss/libmemcached-1.0.17/libtest/wait.h
oss/libmemcached-1.0.17/libtest/yatl.h
oss/libmemcached-1.0.17/libtest/yatlcon.h
oss/libmemcached-1.0.17/mem_config.h
oss/libmemcached-1.0.17/tests/basic.h
oss/libmemcached-1.0.17/tests/callbacks.h
oss/libmemcached-1.0.17/tests/debug.h
oss/libmemcached-1.0.17/tests/deprecated.h
oss/libmemcached-1.0.17/tests/error_conditions.h
oss/libmemcached-1.0.17/tests/exist.h
oss/libmemcached-1.0.17/tests/hash_results.h
oss/libmemcached-1.0.17/tests/ketama.h
oss/libmemcached-1.0.17/tests/ketama_test_cases.h
oss/libmemcached-1.0.17/tests/ketama_test_cases_spy.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/all_tests.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/callback_counter.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/dump.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/encoding_key.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/fetch_all_results.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/generate.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/haldenbrand.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/mem_functions.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/memcached_get.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/parser.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/setup_and_teardowns.h
oss/libmemcached-1.0.17/tests/libmemcached-1.0/stat.h
oss/libmemcached-1.0.17/tests/libmemcached_test_container.h
oss/libmemcached-1.0.17/tests/libmemcached_world.h
oss/libmemcached-1.0.17/tests/libmemcached_world_socket.h
oss/libmemcached-1.0.17/tests/namespace.h
oss/libmemcached-1.0.17/tests/pool.h
oss/libmemcached-1.0.17/tests/print.h
oss/libmemcached-1.0.17/tests/replication.h
oss/libmemcached-1.0.17/tests/runner.h
oss/libmemcached-1.0.17/tests/server_add.h
oss/libmemcached-1.0.17/tests/string.h
oss/libmemcached-1.0.17/tests/touch.h
oss/libmemcached-1.0.17/tests/virtual_buckets.h
oss/libmemcached-1.0.17/win32/wrappers.h
oss/mongo-c-driver/docs/examples/example.c
oss/mongo-c-driver/src/bcon.c
oss/mongo-c-driver/src/bcon.h
oss/mongo-c-driver/src/bson.c
oss/mongo-c-driver/src/bson.h
oss/mongo-c-driver/src/encoding.c
oss/mongo-c-driver/src/encoding.h
oss/mongo-c-driver/src/env.c
oss/mongo-c-driver/src/env.h
oss/mongo-c-driver/src/gridfs.c
oss/mongo-c-driver/src/gridfs.h
oss/mongo-c-driver/src/md5.c
oss/mongo-c-driver/src/md5.h
oss/mongo-c-driver/src/mongo.c
oss/mongo-c-driver/src/mongo.h
oss/mongo-c-driver/src/numbers.c
oss/mongo-c-driver/test/auth_test.c
oss/mongo-c-driver/test/bcon_test.c
oss/mongo-c-driver/test/benchmark_test.c
oss/mongo-c-driver/test/bson_alloc_test.c
oss/mongo-c-driver/test/bson_subobject_test.c
oss/mongo-c-driver/test/bson_test.c
oss/mongo-c-driver/test/commands_test.c
oss/mongo-c-driver/test/connect_test.c
oss/mongo-c-driver/test/count_delete_test.c
oss/mongo-c-driver/test/cursors_test.c
oss/mongo-c-driver/test/endian_swap_test.c
oss/mongo-c-driver/test/env_posix_test.c
oss/mongo-c-driver/test/env_win32_test.c
oss/mongo-c-driver/test/errors_test.c
oss/mongo-c-driver/test/examples_test.c
oss/mongo-c-driver/test/functions_test.c
oss/mongo-c-driver/test/gridfs_test.c
oss/mongo-c-driver/test/helpers_test.c
oss/mongo-c-driver/test/json_test.c
oss/mongo-c-driver/test/oid_test.c
oss/mongo-c-driver/test/platform/linux/timeouts.c
oss/mongo-c-driver/test/replica_set_test.c
oss/mongo-c-driver/test/replset_test.c
oss/mongo-c-driver/test/resize_test.c
oss/mongo-c-driver/test/simple_test.c
oss/mongo-c-driver/test/sizes_test.c
oss/mongo-c-driver/test/test.h
oss/mongo-c-driver/test/unix_socket_test.c
oss/mongo-c-driver/test/update_test.c
oss/mongo-c-driver/test/validate_test.c
oss/mongo-c-driver/test/write_concern_test.c
policy/include/policy.h
policy/src/policy.c
protobuf-template/jobs.pb-c.c
protobuf-template/jobs.pb-c.h
protobuf-template/pack-unpack.c
sfs/include/sfs.h
sfs/src/sfs.c
sfsd/include/sfsd_erasure.h
sfsd/include/sfsd_ops.h
sfsd/include/sstack_sfsd.h
sfsd/src/main.c
sfsd/src/sfsd.c
sfsd/src/sfsd_erasure.c
sfsd/src/sfsd_ops.c
sfsd/src/sfsd_signals.c
sfsd/src/sfsd_threads.c
sfsd/src/sfsd_transport.c
sfsd/src/unionfs.c
/usr/include/Judy.h
/usr/include/alloca.h
/usr/include/arpa/inet.h
/usr/include/assert.h
/usr/include/ctype.h
/usr/include/dirent.h
/usr/include/dlfcn.h
/usr/include/errno.h
/usr/include/fcntl.h
/usr/include/fnmatch.h
/usr/include/fuse.h
/usr/include/fuse/fuse_common.h
/usr/include/fuse/fuse_opt.h
/usr/include/getopt.h
/usr/include/ifaddrs.h
/usr/include/inttypes.h
/usr/include/libgen.h
/usr/include/limits.h
/usr/include/linux/futex.h
/usr/include/linux/limits.h
/usr/include/lzma.h
/usr/include/malloc.h
/usr/include/math.h
/usr/include/memory.h
/usr/include/netdb.h
/usr/include/netinet/in.h
/usr/include/netinet/tcp.h
/usr/include/poll.h
/usr/include/pthread.h
/usr/include/pwd.h
/usr/include/sched.h
/usr/include/semaphore.h
/usr/include/signal.h
/usr/include/spawn.h
/usr/include/stdint.h
/usr/include/stdio.h
/usr/include/stdlib.h
/usr/include/string.h
/usr/include/strings.h
/usr/include/syslog.h
/usr/include/time.h
/usr/include/unistd.h
/usr/include/zlib.h
/usr/include/endian.h
/usr/include/features.h
/usr/include/fuse/fuse.h
/usr/include/libio.h
/usr/include/linux/types.h
/usr/include/lzma/base.h
/usr/include/lzma/bcj.h
/usr/include/lzma/block.h
/usr/include/lzma/check.h
/usr/include/lzma/container.h
/usr/include/lzma/delta.h
/usr/include/lzma/filter.h
/usr/include/lzma/hardware.h
/usr/include/lzma/index.h
/usr/include/lzma/index_hash.h
/usr/include/lzma/lzma.h
/usr/include/lzma/stream_flags.h
/usr/include/lzma/version.h
/usr/include/lzma/vli.h
/usr/include/rpc/netdb.h
/usr/include/xlocale.h
/usr/include/_G_config.h
/usr/include/linux/posix_types.h
/usr/include/stdc-predef.h
/usr/include/utime.h
/usr/include/gconv.h
/usr/include/linux/stddef.h
/usr/include/wchar.h
/usr/include/wctype.h
